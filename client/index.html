<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <title>Panel Profits - Comic Trading Platform</title>
    <meta name="description" content="Trade comic characters, creators, and collectibles in the ultimate virtual market. Professional-grade trading platform for comic book investments.">
    <meta property="og:title" content="Panel Profits - Comic Trading Platform">
    <meta property="og:description" content="Trade comic characters, creators, and collectibles in the ultimate virtual market">
    <meta property="og:type" content="website">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@600;700&family=Hind:wght@300;400;500&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
      :root {
        --font-sans: 'Hind', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        --font-serif: 'Oswald', Georgia, serif;
        --font-mono: 'JetBrains Mono', 'SF Mono', Monaco, 'Inconsolata', 'Roboto Mono', monospace;
      }
    </style>
    <!-- DISABLED: WebSocket monkey-patching was causing immediate disconnects (code 1006)
    <script>
      // Critical WebSocket fix for Vite HMR - must run before any other scripts
      console.log('ðŸ”§ Applying EARLY WebSocket fix for Vite HMR...');
      
      // Store the original WebSocket constructor immediately
      const NativeWebSocket = window.WebSocket;
      
      // Create a comprehensive WebSocket wrapper
      function FixedWebSocket(url, protocols) {
        let fixedUrl = url;
        
        // Convert URL to string for processing
        const urlString = typeof url === 'string' ? url : url.toString();
        
        // Fix localhost:undefined URLs for Vite HMR
        if (urlString.includes('localhost:undefined')) {
          const currentPort = window.location.port || '5000';
          fixedUrl = urlString.replace('localhost:undefined', `localhost:${currentPort}`);
          console.log('ðŸ”§ WebSocket URL FIXED (localhost:undefined):', urlString, 'â†’', fixedUrl);
        }
        
        // Fix undefined port patterns in WebSocket URLs
        if (urlString.includes(':undefined')) {
          const currentPort = window.location.port || '5000';
          fixedUrl = urlString.replace(':undefined', `:${currentPort}`);
          console.log('ðŸ”§ WebSocket URL FIXED (:undefined):', urlString, 'â†’', fixedUrl);
        }
        
        // Fix Vite HMR specific patterns
        if (urlString.includes('/?') && urlString.includes('token=')) {
          try {
            const urlObj = new URL(urlString);
            if (urlObj.port === '' || urlObj.port === 'undefined') {
              const currentPort = window.location.port || '5000';
              urlObj.port = currentPort;
              fixedUrl = urlObj.toString();
              console.log('ðŸ”§ WebSocket URL FIXED (Vite HMR):', urlString, 'â†’', fixedUrl);
            }
          } catch (e) {
            // Fallback for malformed URLs
            const currentPort = window.location.port || '5000';
            fixedUrl = urlString.replace(/localhost:undefined/, `localhost:${currentPort}`);
            console.log('ðŸ”§ WebSocket URL FIXED (fallback):', urlString, 'â†’', fixedUrl);
          }
        }
        
        // Create WebSocket with fixed URL using original constructor
        return new NativeWebSocket(fixedUrl, protocols);
      }
      
      // Copy all static properties from native WebSocket
      FixedWebSocket.CONNECTING = NativeWebSocket.CONNECTING;
      FixedWebSocket.OPEN = NativeWebSocket.OPEN;
      FixedWebSocket.CLOSING = NativeWebSocket.CLOSING;
      FixedWebSocket.CLOSED = NativeWebSocket.CLOSED;
      
      // Ensure proper prototype chain
      FixedWebSocket.prototype = NativeWebSocket.prototype;
      
      // Replace the global WebSocket constructor IMMEDIATELY
      window.WebSocket = FixedWebSocket;
      
      console.log('âœ… EARLY WebSocket fix applied - Vite HMR should work now');
    </script>
    -->
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script type="module" src="/pp/pp_boot.js"></script>
</body>
</html>