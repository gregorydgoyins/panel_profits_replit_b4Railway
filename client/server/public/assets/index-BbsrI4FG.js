var hY=Object.defineProperty;var BI=e=>{throw TypeError(e)};var pY=(e,t,i)=>t in e?hY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var $e=(e,t,i)=>pY(e,typeof t!="symbol"?t+"":t,i),lS=(e,t,i)=>t.has(e)||BI("Cannot "+i);var Fe=(e,t,i)=>(lS(e,t,"read from private field"),i?i.call(e):t.get(e)),hs=(e,t,i)=>t.has(e)?BI("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),Vt=(e,t,i,r)=>(lS(e,t,"write to private field"),r?r.call(e,i):t.set(e,i),i),Ts=(e,t,i)=>(lS(e,t,"access private method"),i);var o1=(e,t,i,r)=>({set _(a){Vt(e,t,a,i)},get _(){return Fe(e,t,r)}});function QF(e,t){for(var i=0;i<t.length;i++){const r=t[i];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function i(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=i(a);fetch(a.href,o)}})();var TT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var JF={exports:{}},CN={},ez={exports:{}},zs={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv=Symbol.for("react.element"),mY=Symbol.for("react.portal"),fY=Symbol.for("react.fragment"),gY=Symbol.for("react.strict_mode"),xY=Symbol.for("react.profiler"),yY=Symbol.for("react.provider"),vY=Symbol.for("react.context"),bY=Symbol.for("react.forward_ref"),wY=Symbol.for("react.suspense"),_Y=Symbol.for("react.memo"),NY=Symbol.for("react.lazy"),WI=Symbol.iterator;function jY(e){return e===null||typeof e!="object"?null:(e=WI&&e[WI]||e["@@iterator"],typeof e=="function"?e:null)}var tz={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sz=Object.assign,iz={};function vg(e,t,i){this.props=e,this.context=t,this.refs=iz,this.updater=i||tz}vg.prototype.isReactComponent={};vg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rz(){}rz.prototype=vg.prototype;function PT(e,t,i){this.props=e,this.context=t,this.refs=iz,this.updater=i||tz}var MT=PT.prototype=new rz;MT.constructor=PT;sz(MT,vg.prototype);MT.isPureReactComponent=!0;var HI=Array.isArray,nz=Object.prototype.hasOwnProperty,ET={current:null},az={key:!0,ref:!0,__self:!0,__source:!0};function oz(e,t,i){var r,a={},o=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(o=""+t.key),t)nz.call(t,r)&&!az.hasOwnProperty(r)&&(a[r]=t[r]);var m=arguments.length-2;if(m===1)a.children=i;else if(1<m){for(var x=Array(m),w=0;w<m;w++)x[w]=arguments[w+2];a.children=x}if(e&&e.defaultProps)for(r in m=e.defaultProps,m)a[r]===void 0&&(a[r]=m[r]);return{$$typeof:uv,type:e,key:o,ref:u,props:a,_owner:ET.current}}function kY(e,t){return{$$typeof:uv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function IT(e){return typeof e=="object"&&e!==null&&e.$$typeof===uv}function SY(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var VI=/\/+/g;function cS(e,t){return typeof e=="object"&&e!==null&&e.key!=null?SY(""+e.key):t.toString(36)}function H1(e,t,i,r,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case uv:case mY:u=!0}}if(u)return u=e,a=a(u),e=r===""?"."+cS(u,0):r,HI(a)?(i="",e!=null&&(i=e.replace(VI,"$&/")+"/"),H1(a,t,i,"",function(w){return w})):a!=null&&(IT(a)&&(a=kY(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(VI,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=r===""?".":r+":",HI(e))for(var m=0;m<e.length;m++){o=e[m];var x=r+cS(o,m);u+=H1(o,t,i,x,a)}else if(x=jY(e),typeof x=="function")for(e=x.call(e),m=0;!(o=e.next()).done;)o=o.value,x=r+cS(o,m++),u+=H1(o,t,i,x,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function l1(e,t,i){if(e==null)return e;var r=[],a=0;return H1(e,r,"","",function(o){return t.call(i,o,a++)}),r}function AY(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fn={current:null},V1={transition:null},CY={ReactCurrentDispatcher:Fn,ReactCurrentBatchConfig:V1,ReactCurrentOwner:ET};function lz(){throw Error("act(...) is not supported in production builds of React.")}zs.Children={map:l1,forEach:function(e,t,i){l1(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return l1(e,function(){t++}),t},toArray:function(e){return l1(e,function(t){return t})||[]},only:function(e){if(!IT(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};zs.Component=vg;zs.Fragment=fY;zs.Profiler=xY;zs.PureComponent=PT;zs.StrictMode=gY;zs.Suspense=wY;zs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CY;zs.act=lz;zs.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sz({},e.props),a=e.key,o=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,u=ET.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(x in t)nz.call(t,x)&&!az.hasOwnProperty(x)&&(r[x]=t[x]===void 0&&m!==void 0?m[x]:t[x])}var x=arguments.length-2;if(x===1)r.children=i;else if(1<x){m=Array(x);for(var w=0;w<x;w++)m[w]=arguments[w+2];r.children=m}return{$$typeof:uv,type:e.type,key:a,ref:o,props:r,_owner:u}};zs.createContext=function(e){return e={$$typeof:vY,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yY,_context:e},e.Consumer=e};zs.createElement=oz;zs.createFactory=function(e){var t=oz.bind(null,e);return t.type=e,t};zs.createRef=function(){return{current:null}};zs.forwardRef=function(e){return{$$typeof:bY,render:e}};zs.isValidElement=IT;zs.lazy=function(e){return{$$typeof:NY,_payload:{_status:-1,_result:e},_init:AY}};zs.memo=function(e,t){return{$$typeof:_Y,type:e,compare:t===void 0?null:t}};zs.startTransition=function(e){var t=V1.transition;V1.transition={};try{e()}finally{V1.transition=t}};zs.unstable_act=lz;zs.useCallback=function(e,t){return Fn.current.useCallback(e,t)};zs.useContext=function(e){return Fn.current.useContext(e)};zs.useDebugValue=function(){};zs.useDeferredValue=function(e){return Fn.current.useDeferredValue(e)};zs.useEffect=function(e,t){return Fn.current.useEffect(e,t)};zs.useId=function(){return Fn.current.useId()};zs.useImperativeHandle=function(e,t,i){return Fn.current.useImperativeHandle(e,t,i)};zs.useInsertionEffect=function(e,t){return Fn.current.useInsertionEffect(e,t)};zs.useLayoutEffect=function(e,t){return Fn.current.useLayoutEffect(e,t)};zs.useMemo=function(e,t){return Fn.current.useMemo(e,t)};zs.useReducer=function(e,t,i){return Fn.current.useReducer(e,t,i)};zs.useRef=function(e){return Fn.current.useRef(e)};zs.useState=function(e){return Fn.current.useState(e)};zs.useSyncExternalStore=function(e,t,i){return Fn.current.useSyncExternalStore(e,t,i)};zs.useTransition=function(){return Fn.current.useTransition()};zs.version="18.3.1";ez.exports=zs;var V=ez.exports;const Cr=dv(V),TN=QF({__proto__:null,default:Cr},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TY=V,PY=Symbol.for("react.element"),MY=Symbol.for("react.fragment"),EY=Object.prototype.hasOwnProperty,IY=TY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LY={key:!0,ref:!0,__self:!0,__source:!0};function cz(e,t,i){var r,a={},o=null,u=null;i!==void 0&&(o=""+i),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)EY.call(t,r)&&!LY.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:PY,type:e,key:o,ref:u,props:a,_owner:IY.current}}CN.Fragment=MY;CN.jsx=cz;CN.jsxs=cz;JF.exports=CN;var s=JF.exports;console.log("🔧 Applying comprehensive WebSocket fix...");const bg=window.WebSocket;function hu(e,t){let i=e;const r=typeof e=="string"?e:e.toString();if(r.includes("localhost:undefined")){const o=window.location.port||"5000";i=r.replace("localhost:undefined",`localhost:${o}`),console.log("🔧 WebSocket URL FIXED (localhost:undefined):",r,"→",i)}if(r.includes(":undefined")){const o=window.location.port||"5000";i=r.replace(":undefined",`:${o}`),console.log("🔧 WebSocket URL FIXED (:undefined):",r,"→",i)}if(r.includes("/?")&&r.includes("token=")&&!r.includes(":5000")){const o=window.location.port||"5000";if(r.startsWith("wss://")||r.startsWith("ws://")){const u=new URL(r);(u.port===""||u.port==="undefined")&&(u.port=o,i=u.toString(),console.log("🔧 WebSocket URL FIXED (Vite HMR):",r,"→",i))}}return new bg(i,t)}hu.CONNECTING=bg.CONNECTING;hu.OPEN=bg.OPEN;hu.CLOSING=bg.CLOSING;hu.CLOSED=bg.CLOSED;hu.prototype=bg.prototype;window.WebSocket=hu;typeof document<"u"&&document.defaultView&&(document.defaultView.WebSocket=hu);typeof globalThis<"u"&&(globalThis.WebSocket=hu);console.log("✅ Comprehensive WebSocket fix applied - all WebSocket calls will be intercepted");var dz={exports:{}},Ia={},uz={exports:{}},hz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ve,Je){var mt=ve.length;ve.push(Je);e:for(;0<mt;){var Rt=mt-1>>>1,ts=ve[Rt];if(0<a(ts,Je))ve[Rt]=Je,ve[mt]=ts,mt=Rt;else break e}}function i(ve){return ve.length===0?null:ve[0]}function r(ve){if(ve.length===0)return null;var Je=ve[0],mt=ve.pop();if(mt!==Je){ve[0]=mt;e:for(var Rt=0,ts=ve.length,pt=ts>>>1;Rt<pt;){var Lt=2*(Rt+1)-1,Jt=ve[Lt],Bt=Lt+1,ct=ve[Bt];if(0>a(Jt,mt))Bt<ts&&0>a(ct,Jt)?(ve[Rt]=ct,ve[Bt]=mt,Rt=Bt):(ve[Rt]=Jt,ve[Lt]=mt,Rt=Lt);else if(Bt<ts&&0>a(ct,mt))ve[Rt]=ct,ve[Bt]=mt,Rt=Bt;else break e}}return Je}function a(ve,Je){var mt=ve.sortIndex-Je.sortIndex;return mt!==0?mt:ve.id-Je.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,m=u.now();e.unstable_now=function(){return u.now()-m}}var x=[],w=[],A=1,E=null,O=3,G=!1,te=!1,Q=!1,J=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(ve){for(var Je=i(w);Je!==null;){if(Je.callback===null)r(w);else if(Je.startTime<=ve)r(w),Je.sortIndex=Je.expirationTime,t(x,Je);else break;Je=i(w)}}function pe(ve){if(Q=!1,Z(ve),!te)if(i(x)!==null)te=!0,ot(me);else{var Je=i(w);Je!==null&&Tt(pe,Je.startTime-ve)}}function me(ve,Je){te=!1,Q&&(Q=!1,H(de),de=-1),G=!0;var mt=O;try{for(Z(Je),E=i(x);E!==null&&(!(E.expirationTime>Je)||ve&&!tt());){var Rt=E.callback;if(typeof Rt=="function"){E.callback=null,O=E.priorityLevel;var ts=Rt(E.expirationTime<=Je);Je=e.unstable_now(),typeof ts=="function"?E.callback=ts:E===i(x)&&r(x),Z(Je)}else r(x);E=i(x)}if(E!==null)var pt=!0;else{var Lt=i(w);Lt!==null&&Tt(pe,Lt.startTime-Je),pt=!1}return pt}finally{E=null,O=mt,G=!1}}var we=!1,_e=null,de=-1,Ae=5,We=-1;function tt(){return!(e.unstable_now()-We<Ae)}function Xe(){if(_e!==null){var ve=e.unstable_now();We=ve;var Je=!0;try{Je=_e(!0,ve)}finally{Je?lt():(we=!1,_e=null)}}else we=!1}var lt;if(typeof W=="function")lt=function(){W(Xe)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,wt=Qe.port2;Qe.port1.onmessage=Xe,lt=function(){wt.postMessage(null)}}else lt=function(){J(Xe,0)};function ot(ve){_e=ve,we||(we=!0,lt())}function Tt(ve,Je){de=J(function(){ve(e.unstable_now())},Je)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ve){ve.callback=null},e.unstable_continueExecution=function(){te||G||(te=!0,ot(me))},e.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ae=0<ve?Math.floor(1e3/ve):5},e.unstable_getCurrentPriorityLevel=function(){return O},e.unstable_getFirstCallbackNode=function(){return i(x)},e.unstable_next=function(ve){switch(O){case 1:case 2:case 3:var Je=3;break;default:Je=O}var mt=O;O=Je;try{return ve()}finally{O=mt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ve,Je){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var mt=O;O=ve;try{return Je()}finally{O=mt}},e.unstable_scheduleCallback=function(ve,Je,mt){var Rt=e.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Rt+mt:Rt):mt=Rt,ve){case 1:var ts=-1;break;case 2:ts=250;break;case 5:ts=1073741823;break;case 4:ts=1e4;break;default:ts=5e3}return ts=mt+ts,ve={id:A++,callback:Je,priorityLevel:ve,startTime:mt,expirationTime:ts,sortIndex:-1},mt>Rt?(ve.sortIndex=mt,t(w,ve),i(x)===null&&ve===i(w)&&(Q?(H(de),de=-1):Q=!0,Tt(pe,mt-Rt))):(ve.sortIndex=ts,t(x,ve),te||G||(te=!0,ot(me))),ve},e.unstable_shouldYield=tt,e.unstable_wrapCallback=function(ve){var Je=O;return function(){var mt=O;O=Je;try{return ve.apply(this,arguments)}finally{O=mt}}}})(hz);uz.exports=hz;var OY=uz.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DY=V,Ca=OY;function jt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pz=new Set,my={};function ap(e,t){Jf(e,t),Jf(e+"Capture",t)}function Jf(e,t){for(my[e]=t,e=0;e<t.length;e++)pz.add(t[e])}var Pc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_A=Object.prototype.hasOwnProperty,RY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$I={},UI={};function FY(e){return _A.call(UI,e)?!0:_A.call($I,e)?!1:RY.test(e)?UI[e]=!0:($I[e]=!0,!1)}function zY(e,t,i,r){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function BY(e,t,i,r){if(t===null||typeof t>"u"||zY(e,t,i,r))return!0;if(r)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zn(e,t,i,r,a,o,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=u}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tn[e]=new zn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tn[t]=new zn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tn[e]=new zn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tn[e]=new zn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tn[e]=new zn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tn[e]=new zn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tn[e]=new zn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tn[e]=new zn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tn[e]=new zn(e,5,!1,e.toLowerCase(),null,!1,!1)});var LT=/[\-:]([a-z])/g;function OT(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(LT,OT);tn[t]=new zn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(LT,OT);tn[t]=new zn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(LT,OT);tn[t]=new zn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tn[e]=new zn(e,1,!1,e.toLowerCase(),null,!1,!1)});tn.xlinkHref=new zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tn[e]=new zn(e,1,!1,e.toLowerCase(),null,!0,!0)});function DT(e,t,i,r){var a=tn.hasOwnProperty(t)?tn[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(BY(t,i,a,r)&&(i=null),r||a===null?FY(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):a.mustUseProperty?e[a.propertyName]=i===null?a.type===3?!1:"":i:(t=a.attributeName,r=a.attributeNamespace,i===null?e.removeAttribute(t):(a=a.type,i=a===3||a===4&&i===!0?"":""+i,r?e.setAttributeNS(r,t,i):e.setAttribute(t,i))))}var $c=DY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c1=Symbol.for("react.element"),nf=Symbol.for("react.portal"),af=Symbol.for("react.fragment"),RT=Symbol.for("react.strict_mode"),NA=Symbol.for("react.profiler"),mz=Symbol.for("react.provider"),fz=Symbol.for("react.context"),FT=Symbol.for("react.forward_ref"),jA=Symbol.for("react.suspense"),kA=Symbol.for("react.suspense_list"),zT=Symbol.for("react.memo"),Ad=Symbol.for("react.lazy"),gz=Symbol.for("react.offscreen"),GI=Symbol.iterator;function b0(e){return e===null||typeof e!="object"?null:(e=GI&&e[GI]||e["@@iterator"],typeof e=="function"?e:null)}var Yi=Object.assign,dS;function F0(e){if(dS===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);dS=t&&t[1]||""}return`
`+dS+e}var uS=!1;function hS(e,t){if(!e||uS)return"";uS=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var r=w}Reflect.construct(e,[],t)}else{try{t.call()}catch(w){r=w}e.call(t.prototype)}else{try{throw Error()}catch(w){r=w}e()}}catch(w){if(w&&r&&typeof w.stack=="string"){for(var a=w.stack.split(`
`),o=r.stack.split(`
`),u=a.length-1,m=o.length-1;1<=u&&0<=m&&a[u]!==o[m];)m--;for(;1<=u&&0<=m;u--,m--)if(a[u]!==o[m]){if(u!==1||m!==1)do if(u--,m--,0>m||a[u]!==o[m]){var x=`
`+a[u].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=u&&0<=m);break}}}finally{uS=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?F0(e):""}function WY(e){switch(e.tag){case 5:return F0(e.type);case 16:return F0("Lazy");case 13:return F0("Suspense");case 19:return F0("SuspenseList");case 0:case 2:case 15:return e=hS(e.type,!1),e;case 11:return e=hS(e.type.render,!1),e;case 1:return e=hS(e.type,!0),e;default:return""}}function SA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case af:return"Fragment";case nf:return"Portal";case NA:return"Profiler";case RT:return"StrictMode";case jA:return"Suspense";case kA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fz:return(e.displayName||"Context")+".Consumer";case mz:return(e._context.displayName||"Context")+".Provider";case FT:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zT:return t=e.displayName||null,t!==null?t:SA(e.type)||"Memo";case Ad:t=e._payload,e=e._init;try{return SA(e(t))}catch{}}return null}function HY(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return SA(t);case 8:return t===RT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function eu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xz(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VY(e){var t=xz(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(u){r=""+u,o.call(this,u)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function d1(e){e._valueTracker||(e._valueTracker=VY(e))}function yz(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=xz(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function f_(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function AA(e,t){var i=t.checked;return Yi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function qI(e,t){var i=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;i=eu(t.value!=null?t.value:i),e._wrapperState={initialChecked:r,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vz(e,t){t=t.checked,t!=null&&DT(e,"checked",t,!1)}function CA(e,t){vz(e,t);var i=eu(t.value),r=t.type;if(i!=null)r==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?TA(e,t.type,i):t.hasOwnProperty("defaultValue")&&TA(e,t.type,eu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function KI(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function TA(e,t,i){(t!=="number"||f_(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var z0=Array.isArray;function kf(e,t,i,r){if(e=e.options,t){t={};for(var a=0;a<i.length;a++)t["$"+i[a]]=!0;for(i=0;i<e.length;i++)a=t.hasOwnProperty("$"+e[i].value),e[i].selected!==a&&(e[i].selected=a),a&&r&&(e[i].defaultSelected=!0)}else{for(i=""+eu(i),t=null,a=0;a<e.length;a++){if(e[a].value===i){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function PA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(jt(91));return Yi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function YI(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(jt(92));if(z0(i)){if(1<i.length)throw Error(jt(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:eu(i)}}function bz(e,t){var i=eu(t.value),r=eu(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),r!=null&&(e.defaultValue=""+r)}function XI(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wz(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function MA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wz(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var u1,_z=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,i,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(u1=u1||document.createElement("div"),u1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=u1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fy(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Z0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$Y=["Webkit","ms","Moz","O"];Object.keys(Z0).forEach(function(e){$Y.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Z0[t]=Z0[e]})});function Nz(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Z0.hasOwnProperty(e)&&Z0[e]?(""+t).trim():t+"px"}function jz(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var r=i.indexOf("--")===0,a=Nz(i,t[i],r);i==="float"&&(i="cssFloat"),r?e.setProperty(i,a):e[i]=a}}var UY=Yi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function EA(e,t){if(t){if(UY[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(jt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(jt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(jt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(jt(62))}}function IA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var LA=null;function BT(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var OA=null,Sf=null,Af=null;function ZI(e){if(e=mv(e)){if(typeof OA!="function")throw Error(jt(280));var t=e.stateNode;t&&(t=LN(t),OA(e.stateNode,e.type,t))}}function kz(e){Sf?Af?Af.push(e):Af=[e]:Sf=e}function Sz(){if(Sf){var e=Sf,t=Af;if(Af=Sf=null,ZI(e),t)for(e=0;e<t.length;e++)ZI(t[e])}}function Az(e,t){return e(t)}function Cz(){}var pS=!1;function Tz(e,t,i){if(pS)return e(t,i);pS=!0;try{return Az(e,t,i)}finally{pS=!1,(Sf!==null||Af!==null)&&(Cz(),Sz())}}function gy(e,t){var i=e.stateNode;if(i===null)return null;var r=LN(i);if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(jt(231,t,typeof i));return i}var DA=!1;if(Pc)try{var w0={};Object.defineProperty(w0,"passive",{get:function(){DA=!0}}),window.addEventListener("test",w0,w0),window.removeEventListener("test",w0,w0)}catch{DA=!1}function GY(e,t,i,r,a,o,u,m,x){var w=Array.prototype.slice.call(arguments,3);try{t.apply(i,w)}catch(A){this.onError(A)}}var Q0=!1,g_=null,x_=!1,RA=null,qY={onError:function(e){Q0=!0,g_=e}};function KY(e,t,i,r,a,o,u,m,x){Q0=!1,g_=null,GY.apply(qY,arguments)}function YY(e,t,i,r,a,o,u,m,x){if(KY.apply(this,arguments),Q0){if(Q0){var w=g_;Q0=!1,g_=null}else throw Error(jt(198));x_||(x_=!0,RA=w)}}function op(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Pz(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function QI(e){if(op(e)!==e)throw Error(jt(188))}function XY(e){var t=e.alternate;if(!t){if(t=op(e),t===null)throw Error(jt(188));return t!==e?null:e}for(var i=e,r=t;;){var a=i.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){i=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===i)return QI(a),e;if(o===r)return QI(a),t;o=o.sibling}throw Error(jt(188))}if(i.return!==r.return)i=a,r=o;else{for(var u=!1,m=a.child;m;){if(m===i){u=!0,i=a,r=o;break}if(m===r){u=!0,r=a,i=o;break}m=m.sibling}if(!u){for(m=o.child;m;){if(m===i){u=!0,i=o,r=a;break}if(m===r){u=!0,r=o,i=a;break}m=m.sibling}if(!u)throw Error(jt(189))}}if(i.alternate!==r)throw Error(jt(190))}if(i.tag!==3)throw Error(jt(188));return i.stateNode.current===i?e:t}function Mz(e){return e=XY(e),e!==null?Ez(e):null}function Ez(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ez(e);if(t!==null)return t;e=e.sibling}return null}var Iz=Ca.unstable_scheduleCallback,JI=Ca.unstable_cancelCallback,ZY=Ca.unstable_shouldYield,QY=Ca.unstable_requestPaint,ur=Ca.unstable_now,JY=Ca.unstable_getCurrentPriorityLevel,WT=Ca.unstable_ImmediatePriority,Lz=Ca.unstable_UserBlockingPriority,y_=Ca.unstable_NormalPriority,eX=Ca.unstable_LowPriority,Oz=Ca.unstable_IdlePriority,PN=null,Al=null;function tX(e){if(Al&&typeof Al.onCommitFiberRoot=="function")try{Al.onCommitFiberRoot(PN,e,void 0,(e.current.flags&128)===128)}catch{}}var Oo=Math.clz32?Math.clz32:rX,sX=Math.log,iX=Math.LN2;function rX(e){return e>>>=0,e===0?32:31-(sX(e)/iX|0)|0}var h1=64,p1=4194304;function B0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function v_(e,t){var i=e.pendingLanes;if(i===0)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,u=i&268435455;if(u!==0){var m=u&~a;m!==0?r=B0(m):(o&=u,o!==0&&(r=B0(o)))}else u=i&~a,u!==0?r=B0(u):o!==0&&(r=B0(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(r&4&&(r|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)i=31-Oo(t),a=1<<i,r|=e[i],t&=~a;return r}function nX(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aX(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-Oo(o),m=1<<u,x=a[u];x===-1?(!(m&i)||m&r)&&(a[u]=nX(m,t)):x<=t&&(e.expiredLanes|=m),o&=~m}}function FA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Dz(){var e=h1;return h1<<=1,!(h1&4194240)&&(h1=64),e}function mS(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function hv(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Oo(t),e[t]=i}function oX(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<i;){var a=31-Oo(i),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,i&=~o}}function HT(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-Oo(i),a=1<<r;a&t|e[r]&t&&(e[r]|=t),i&=~a}}var ci=0;function Rz(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fz,VT,zz,Bz,Wz,zA=!1,m1=[],$d=null,Ud=null,Gd=null,xy=new Map,yy=new Map,Td=[],lX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e3(e,t){switch(e){case"focusin":case"focusout":$d=null;break;case"dragenter":case"dragleave":Ud=null;break;case"mouseover":case"mouseout":Gd=null;break;case"pointerover":case"pointerout":xy.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yy.delete(t.pointerId)}}function _0(e,t,i,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=mv(t),t!==null&&VT(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function cX(e,t,i,r,a){switch(t){case"focusin":return $d=_0($d,e,t,i,r,a),!0;case"dragenter":return Ud=_0(Ud,e,t,i,r,a),!0;case"mouseover":return Gd=_0(Gd,e,t,i,r,a),!0;case"pointerover":var o=a.pointerId;return xy.set(o,_0(xy.get(o)||null,e,t,i,r,a)),!0;case"gotpointercapture":return o=a.pointerId,yy.set(o,_0(yy.get(o)||null,e,t,i,r,a)),!0}return!1}function Hz(e){var t=kh(e.target);if(t!==null){var i=op(t);if(i!==null){if(t=i.tag,t===13){if(t=Pz(i),t!==null){e.blockedOn=t,Wz(e.priority,function(){zz(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=BA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);LA=r,i.target.dispatchEvent(r),LA=null}else return t=mv(i),t!==null&&VT(t),e.blockedOn=i,!1;t.shift()}return!0}function t3(e,t,i){$1(e)&&i.delete(t)}function dX(){zA=!1,$d!==null&&$1($d)&&($d=null),Ud!==null&&$1(Ud)&&(Ud=null),Gd!==null&&$1(Gd)&&(Gd=null),xy.forEach(t3),yy.forEach(t3)}function N0(e,t){e.blockedOn===t&&(e.blockedOn=null,zA||(zA=!0,Ca.unstable_scheduleCallback(Ca.unstable_NormalPriority,dX)))}function vy(e){function t(a){return N0(a,e)}if(0<m1.length){N0(m1[0],e);for(var i=1;i<m1.length;i++){var r=m1[i];r.blockedOn===e&&(r.blockedOn=null)}}for($d!==null&&N0($d,e),Ud!==null&&N0(Ud,e),Gd!==null&&N0(Gd,e),xy.forEach(t),yy.forEach(t),i=0;i<Td.length;i++)r=Td[i],r.blockedOn===e&&(r.blockedOn=null);for(;0<Td.length&&(i=Td[0],i.blockedOn===null);)Hz(i),i.blockedOn===null&&Td.shift()}var Cf=$c.ReactCurrentBatchConfig,b_=!0;function uX(e,t,i,r){var a=ci,o=Cf.transition;Cf.transition=null;try{ci=1,$T(e,t,i,r)}finally{ci=a,Cf.transition=o}}function hX(e,t,i,r){var a=ci,o=Cf.transition;Cf.transition=null;try{ci=4,$T(e,t,i,r)}finally{ci=a,Cf.transition=o}}function $T(e,t,i,r){if(b_){var a=BA(e,t,i,r);if(a===null)jS(e,t,r,w_,i),e3(e,r);else if(cX(a,e,t,i,r))r.stopPropagation();else if(e3(e,r),t&4&&-1<lX.indexOf(e)){for(;a!==null;){var o=mv(a);if(o!==null&&Fz(o),o=BA(e,t,i,r),o===null&&jS(e,t,r,w_,i),o===a)break;a=o}a!==null&&r.stopPropagation()}else jS(e,t,r,null,i)}}var w_=null;function BA(e,t,i,r){if(w_=null,e=BT(r),e=kh(e),e!==null)if(t=op(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Pz(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return w_=e,null}function Vz(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JY()){case WT:return 1;case Lz:return 4;case y_:case eX:return 16;case Oz:return 536870912;default:return 16}default:return 16}}var Hd=null,UT=null,U1=null;function $z(){if(U1)return U1;var e,t=UT,i=t.length,r,a="value"in Hd?Hd.value:Hd.textContent,o=a.length;for(e=0;e<i&&t[e]===a[e];e++);var u=i-e;for(r=1;r<=u&&t[i-r]===a[o-r];r++);return U1=a.slice(e,1<r?1-r:void 0)}function G1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function f1(){return!0}function s3(){return!1}function La(e){function t(i,r,a,o,u){this._reactName=i,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(i=e[m],this[m]=i?i(o):o[m]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?f1:s3,this.isPropagationStopped=s3,this}return Yi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=f1)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=f1)},persist:function(){},isPersistent:f1}),t}var wg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},GT=La(wg),pv=Yi({},wg,{view:0,detail:0}),pX=La(pv),fS,gS,j0,MN=Yi({},pv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==j0&&(j0&&e.type==="mousemove"?(fS=e.screenX-j0.screenX,gS=e.screenY-j0.screenY):gS=fS=0,j0=e),fS)},movementY:function(e){return"movementY"in e?e.movementY:gS}}),i3=La(MN),mX=Yi({},MN,{dataTransfer:0}),fX=La(mX),gX=Yi({},pv,{relatedTarget:0}),xS=La(gX),xX=Yi({},wg,{animationName:0,elapsedTime:0,pseudoElement:0}),yX=La(xX),vX=Yi({},wg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bX=La(vX),wX=Yi({},wg,{data:0}),r3=La(wX),_X={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jX[e])?!!t[e]:!1}function qT(){return kX}var SX=Yi({},pv,{key:function(e){if(e.key){var t=_X[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=G1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?NX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qT,charCode:function(e){return e.type==="keypress"?G1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?G1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AX=La(SX),CX=Yi({},MN,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n3=La(CX),TX=Yi({},pv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qT}),PX=La(TX),MX=Yi({},wg,{propertyName:0,elapsedTime:0,pseudoElement:0}),EX=La(MX),IX=Yi({},MN,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),LX=La(IX),OX=[9,13,27,32],KT=Pc&&"CompositionEvent"in window,J0=null;Pc&&"documentMode"in document&&(J0=document.documentMode);var DX=Pc&&"TextEvent"in window&&!J0,Uz=Pc&&(!KT||J0&&8<J0&&11>=J0),a3=" ",o3=!1;function Gz(e,t){switch(e){case"keyup":return OX.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qz(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var of=!1;function RX(e,t){switch(e){case"compositionend":return qz(t);case"keypress":return t.which!==32?null:(o3=!0,a3);case"textInput":return e=t.data,e===a3&&o3?null:e;default:return null}}function FX(e,t){if(of)return e==="compositionend"||!KT&&Gz(e,t)?(e=$z(),U1=UT=Hd=null,of=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uz&&t.locale!=="ko"?null:t.data;default:return null}}var zX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zX[e.type]:t==="textarea"}function Kz(e,t,i,r){kz(r),t=__(t,"onChange"),0<t.length&&(i=new GT("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var ey=null,by=null;function BX(e){nB(e,0)}function EN(e){var t=df(e);if(yz(t))return e}function WX(e,t){if(e==="change")return t}var Yz=!1;if(Pc){var yS;if(Pc){var vS="oninput"in document;if(!vS){var c3=document.createElement("div");c3.setAttribute("oninput","return;"),vS=typeof c3.oninput=="function"}yS=vS}else yS=!1;Yz=yS&&(!document.documentMode||9<document.documentMode)}function d3(){ey&&(ey.detachEvent("onpropertychange",Xz),by=ey=null)}function Xz(e){if(e.propertyName==="value"&&EN(by)){var t=[];Kz(t,by,e,BT(e)),Tz(BX,t)}}function HX(e,t,i){e==="focusin"?(d3(),ey=t,by=i,ey.attachEvent("onpropertychange",Xz)):e==="focusout"&&d3()}function VX(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return EN(by)}function $X(e,t){if(e==="click")return EN(t)}function UX(e,t){if(e==="input"||e==="change")return EN(t)}function GX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bo=typeof Object.is=="function"?Object.is:GX;function wy(e,t){if(Bo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var a=i[r];if(!_A.call(t,a)||!Bo(e[a],t[a]))return!1}return!0}function u3(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function h3(e,t){var i=u3(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=u3(i)}}function Zz(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zz(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qz(){for(var e=window,t=f_();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=f_(e.document)}return t}function YT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qX(e){var t=Qz(),i=e.focusedElem,r=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Zz(i.ownerDocument.documentElement,i)){if(r!==null&&YT(i)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=i.textContent.length,o=Math.min(r.start,a);r=r.end===void 0?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=h3(i,o);var u=h3(i,r);a&&u&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KX=Pc&&"documentMode"in document&&11>=document.documentMode,lf=null,WA=null,ty=null,HA=!1;function p3(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;HA||lf==null||lf!==f_(r)||(r=lf,"selectionStart"in r&&YT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ty&&wy(ty,r)||(ty=r,r=__(WA,"onSelect"),0<r.length&&(t=new GT("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=lf)))}function g1(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var cf={animationend:g1("Animation","AnimationEnd"),animationiteration:g1("Animation","AnimationIteration"),animationstart:g1("Animation","AnimationStart"),transitionend:g1("Transition","TransitionEnd")},bS={},Jz={};Pc&&(Jz=document.createElement("div").style,"AnimationEvent"in window||(delete cf.animationend.animation,delete cf.animationiteration.animation,delete cf.animationstart.animation),"TransitionEvent"in window||delete cf.transitionend.transition);function IN(e){if(bS[e])return bS[e];if(!cf[e])return e;var t=cf[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Jz)return bS[e]=t[i];return e}var eB=IN("animationend"),tB=IN("animationiteration"),sB=IN("animationstart"),iB=IN("transitionend"),rB=new Map,m3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pu(e,t){rB.set(e,t),ap(t,[e])}for(var wS=0;wS<m3.length;wS++){var _S=m3[wS],YX=_S.toLowerCase(),XX=_S[0].toUpperCase()+_S.slice(1);pu(YX,"on"+XX)}pu(eB,"onAnimationEnd");pu(tB,"onAnimationIteration");pu(sB,"onAnimationStart");pu("dblclick","onDoubleClick");pu("focusin","onFocus");pu("focusout","onBlur");pu(iB,"onTransitionEnd");Jf("onMouseEnter",["mouseout","mouseover"]);Jf("onMouseLeave",["mouseout","mouseover"]);Jf("onPointerEnter",["pointerout","pointerover"]);Jf("onPointerLeave",["pointerout","pointerover"]);ap("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ap("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ap("onBeforeInput",["compositionend","keypress","textInput","paste"]);ap("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ap("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ap("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var W0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZX=new Set("cancel close invalid load scroll toggle".split(" ").concat(W0));function f3(e,t,i){var r=e.type||"unknown-event";e.currentTarget=i,YY(r,t,void 0,e),e.currentTarget=null}function nB(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var u=r.length-1;0<=u;u--){var m=r[u],x=m.instance,w=m.currentTarget;if(m=m.listener,x!==o&&a.isPropagationStopped())break e;f3(a,m,w),o=x}else for(u=0;u<r.length;u++){if(m=r[u],x=m.instance,w=m.currentTarget,m=m.listener,x!==o&&a.isPropagationStopped())break e;f3(a,m,w),o=x}}}if(x_)throw e=RA,x_=!1,RA=null,e}function Mi(e,t){var i=t[qA];i===void 0&&(i=t[qA]=new Set);var r=e+"__bubble";i.has(r)||(aB(t,e,2,!1),i.add(r))}function NS(e,t,i){var r=0;t&&(r|=4),aB(i,e,r,t)}var x1="_reactListening"+Math.random().toString(36).slice(2);function _y(e){if(!e[x1]){e[x1]=!0,pz.forEach(function(i){i!=="selectionchange"&&(ZX.has(i)||NS(i,!1,e),NS(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[x1]||(t[x1]=!0,NS("selectionchange",!1,t))}}function aB(e,t,i,r){switch(Vz(t)){case 1:var a=uX;break;case 4:a=hX;break;default:a=$T}i=a.bind(null,t,i,e),a=void 0,!DA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,i,{capture:!0,passive:a}):e.addEventListener(t,i,!0):a!==void 0?e.addEventListener(t,i,{passive:a}):e.addEventListener(t,i,!1)}function jS(e,t,i,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var m=r.stateNode.containerInfo;if(m===a||m.nodeType===8&&m.parentNode===a)break;if(u===4)for(u=r.return;u!==null;){var x=u.tag;if((x===3||x===4)&&(x=u.stateNode.containerInfo,x===a||x.nodeType===8&&x.parentNode===a))return;u=u.return}for(;m!==null;){if(u=kh(m),u===null)return;if(x=u.tag,x===5||x===6){r=o=u;continue e}m=m.parentNode}}r=r.return}Tz(function(){var w=o,A=BT(i),E=[];e:{var O=rB.get(e);if(O!==void 0){var G=GT,te=e;switch(e){case"keypress":if(G1(i)===0)break e;case"keydown":case"keyup":G=AX;break;case"focusin":te="focus",G=xS;break;case"focusout":te="blur",G=xS;break;case"beforeblur":case"afterblur":G=xS;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=i3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=fX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=PX;break;case eB:case tB:case sB:G=yX;break;case iB:G=EX;break;case"scroll":G=pX;break;case"wheel":G=LX;break;case"copy":case"cut":case"paste":G=bX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=n3}var Q=(t&4)!==0,J=!Q&&e==="scroll",H=Q?O!==null?O+"Capture":null:O;Q=[];for(var W=w,Z;W!==null;){Z=W;var pe=Z.stateNode;if(Z.tag===5&&pe!==null&&(Z=pe,H!==null&&(pe=gy(W,H),pe!=null&&Q.push(Ny(W,pe,Z)))),J)break;W=W.return}0<Q.length&&(O=new G(O,te,null,i,A),E.push({event:O,listeners:Q}))}}if(!(t&7)){e:{if(O=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",O&&i!==LA&&(te=i.relatedTarget||i.fromElement)&&(kh(te)||te[Mc]))break e;if((G||O)&&(O=A.window===A?A:(O=A.ownerDocument)?O.defaultView||O.parentWindow:window,G?(te=i.relatedTarget||i.toElement,G=w,te=te?kh(te):null,te!==null&&(J=op(te),te!==J||te.tag!==5&&te.tag!==6)&&(te=null)):(G=null,te=w),G!==te)){if(Q=i3,pe="onMouseLeave",H="onMouseEnter",W="mouse",(e==="pointerout"||e==="pointerover")&&(Q=n3,pe="onPointerLeave",H="onPointerEnter",W="pointer"),J=G==null?O:df(G),Z=te==null?O:df(te),O=new Q(pe,W+"leave",G,i,A),O.target=J,O.relatedTarget=Z,pe=null,kh(A)===w&&(Q=new Q(H,W+"enter",te,i,A),Q.target=Z,Q.relatedTarget=J,pe=Q),J=pe,G&&te)t:{for(Q=G,H=te,W=0,Z=Q;Z;Z=$m(Z))W++;for(Z=0,pe=H;pe;pe=$m(pe))Z++;for(;0<W-Z;)Q=$m(Q),W--;for(;0<Z-W;)H=$m(H),Z--;for(;W--;){if(Q===H||H!==null&&Q===H.alternate)break t;Q=$m(Q),H=$m(H)}Q=null}else Q=null;G!==null&&g3(E,O,G,Q,!1),te!==null&&J!==null&&g3(E,J,te,Q,!0)}}e:{if(O=w?df(w):window,G=O.nodeName&&O.nodeName.toLowerCase(),G==="select"||G==="input"&&O.type==="file")var me=WX;else if(l3(O))if(Yz)me=UX;else{me=VX;var we=HX}else(G=O.nodeName)&&G.toLowerCase()==="input"&&(O.type==="checkbox"||O.type==="radio")&&(me=$X);if(me&&(me=me(e,w))){Kz(E,me,i,A);break e}we&&we(e,O,w),e==="focusout"&&(we=O._wrapperState)&&we.controlled&&O.type==="number"&&TA(O,"number",O.value)}switch(we=w?df(w):window,e){case"focusin":(l3(we)||we.contentEditable==="true")&&(lf=we,WA=w,ty=null);break;case"focusout":ty=WA=lf=null;break;case"mousedown":HA=!0;break;case"contextmenu":case"mouseup":case"dragend":HA=!1,p3(E,i,A);break;case"selectionchange":if(KX)break;case"keydown":case"keyup":p3(E,i,A)}var _e;if(KT)e:{switch(e){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else of?Gz(e,i)&&(de="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(de="onCompositionStart");de&&(Uz&&i.locale!=="ko"&&(of||de!=="onCompositionStart"?de==="onCompositionEnd"&&of&&(_e=$z()):(Hd=A,UT="value"in Hd?Hd.value:Hd.textContent,of=!0)),we=__(w,de),0<we.length&&(de=new r3(de,e,null,i,A),E.push({event:de,listeners:we}),_e?de.data=_e:(_e=qz(i),_e!==null&&(de.data=_e)))),(_e=DX?RX(e,i):FX(e,i))&&(w=__(w,"onBeforeInput"),0<w.length&&(A=new r3("onBeforeInput","beforeinput",null,i,A),E.push({event:A,listeners:w}),A.data=_e))}nB(E,t)})}function Ny(e,t,i){return{instance:e,listener:t,currentTarget:i}}function __(e,t){for(var i=t+"Capture",r=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=gy(e,i),o!=null&&r.unshift(Ny(e,o,a)),o=gy(e,t),o!=null&&r.push(Ny(e,o,a))),e=e.return}return r}function $m(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function g3(e,t,i,r,a){for(var o=t._reactName,u=[];i!==null&&i!==r;){var m=i,x=m.alternate,w=m.stateNode;if(x!==null&&x===r)break;m.tag===5&&w!==null&&(m=w,a?(x=gy(i,o),x!=null&&u.unshift(Ny(i,x,m))):a||(x=gy(i,o),x!=null&&u.push(Ny(i,x,m)))),i=i.return}u.length!==0&&e.push({event:t,listeners:u})}var QX=/\r\n?/g,JX=/\u0000|\uFFFD/g;function x3(e){return(typeof e=="string"?e:""+e).replace(QX,`
`).replace(JX,"")}function y1(e,t,i){if(t=x3(t),x3(e)!==t&&i)throw Error(jt(425))}function N_(){}var VA=null,$A=null;function UA(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var GA=typeof setTimeout=="function"?setTimeout:void 0,eZ=typeof clearTimeout=="function"?clearTimeout:void 0,y3=typeof Promise=="function"?Promise:void 0,tZ=typeof queueMicrotask=="function"?queueMicrotask:typeof y3<"u"?function(e){return y3.resolve(null).then(e).catch(sZ)}:GA;function sZ(e){setTimeout(function(){throw e})}function kS(e,t){var i=t,r=0;do{var a=i.nextSibling;if(e.removeChild(i),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(r===0){e.removeChild(a),vy(t);return}r--}else i!=="$"&&i!=="$?"&&i!=="$!"||r++;i=a}while(i);vy(t)}function qd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function v3(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var _g=Math.random().toString(36).slice(2),jl="__reactFiber$"+_g,jy="__reactProps$"+_g,Mc="__reactContainer$"+_g,qA="__reactEvents$"+_g,iZ="__reactListeners$"+_g,rZ="__reactHandles$"+_g;function kh(e){var t=e[jl];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Mc]||i[jl]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=v3(e);e!==null;){if(i=e[jl])return i;e=v3(e)}return t}e=i,i=e.parentNode}return null}function mv(e){return e=e[jl]||e[Mc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function df(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(jt(33))}function LN(e){return e[jy]||null}var KA=[],uf=-1;function mu(e){return{current:e}}function Ei(e){0>uf||(e.current=KA[uf],KA[uf]=null,uf--)}function Ai(e,t){uf++,KA[uf]=e.current,e.current=t}var tu={},gn=mu(tu),na=mu(!1),Uh=tu;function eg(e,t){var i=e.type.contextTypes;if(!i)return tu;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in i)a[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function aa(e){return e=e.childContextTypes,e!=null}function j_(){Ei(na),Ei(gn)}function b3(e,t,i){if(gn.current!==tu)throw Error(jt(168));Ai(gn,t),Ai(na,i)}function oB(e,t,i){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return i;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(jt(108,HY(e)||"Unknown",a));return Yi({},i,r)}function k_(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tu,Uh=gn.current,Ai(gn,e),Ai(na,na.current),!0}function w3(e,t,i){var r=e.stateNode;if(!r)throw Error(jt(169));i?(e=oB(e,t,Uh),r.__reactInternalMemoizedMergedChildContext=e,Ei(na),Ei(gn),Ai(gn,e)):Ei(na),Ai(na,i)}var yc=null,ON=!1,SS=!1;function lB(e){yc===null?yc=[e]:yc.push(e)}function nZ(e){ON=!0,lB(e)}function fu(){if(!SS&&yc!==null){SS=!0;var e=0,t=ci;try{var i=yc;for(ci=1;e<i.length;e++){var r=i[e];do r=r(!0);while(r!==null)}yc=null,ON=!1}catch(a){throw yc!==null&&(yc=yc.slice(e+1)),Iz(WT,fu),a}finally{ci=t,SS=!1}}return null}var hf=[],pf=0,S_=null,A_=0,Ja=[],eo=0,Gh=null,Nc=1,jc="";function bh(e,t){hf[pf++]=A_,hf[pf++]=S_,S_=e,A_=t}function cB(e,t,i){Ja[eo++]=Nc,Ja[eo++]=jc,Ja[eo++]=Gh,Gh=e;var r=Nc;e=jc;var a=32-Oo(r)-1;r&=~(1<<a),i+=1;var o=32-Oo(t)+a;if(30<o){var u=a-a%5;o=(r&(1<<u)-1).toString(32),r>>=u,a-=u,Nc=1<<32-Oo(t)+a|i<<a|r,jc=o+e}else Nc=1<<o|i<<a|r,jc=e}function XT(e){e.return!==null&&(bh(e,1),cB(e,1,0))}function ZT(e){for(;e===S_;)S_=hf[--pf],hf[pf]=null,A_=hf[--pf],hf[pf]=null;for(;e===Gh;)Gh=Ja[--eo],Ja[eo]=null,jc=Ja[--eo],Ja[eo]=null,Nc=Ja[--eo],Ja[eo]=null}var ka=null,ja=null,Di=!1,To=null;function dB(e,t){var i=to(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function _3(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ka=e,ja=qd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ka=e,ja=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Gh!==null?{id:Nc,overflow:jc}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=to(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,ka=e,ja=null,!0):!1;default:return!1}}function YA(e){return(e.mode&1)!==0&&(e.flags&128)===0}function XA(e){if(Di){var t=ja;if(t){var i=t;if(!_3(e,t)){if(YA(e))throw Error(jt(418));t=qd(i.nextSibling);var r=ka;t&&_3(e,t)?dB(r,i):(e.flags=e.flags&-4097|2,Di=!1,ka=e)}}else{if(YA(e))throw Error(jt(418));e.flags=e.flags&-4097|2,Di=!1,ka=e}}}function N3(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ka=e}function v1(e){if(e!==ka)return!1;if(!Di)return N3(e),Di=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!UA(e.type,e.memoizedProps)),t&&(t=ja)){if(YA(e))throw uB(),Error(jt(418));for(;t;)dB(e,t),t=qd(t.nextSibling)}if(N3(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(jt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){ja=qd(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}ja=null}}else ja=ka?qd(e.stateNode.nextSibling):null;return!0}function uB(){for(var e=ja;e;)e=qd(e.nextSibling)}function tg(){ja=ka=null,Di=!1}function QT(e){To===null?To=[e]:To.push(e)}var aZ=$c.ReactCurrentBatchConfig;function k0(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(jt(309));var r=i.stateNode}if(!r)throw Error(jt(147,e));var a=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(u){var m=a.refs;u===null?delete m[o]:m[o]=u},t._stringRef=o,t)}if(typeof e!="string")throw Error(jt(284));if(!i._owner)throw Error(jt(290,e))}return e}function b1(e,t){throw e=Object.prototype.toString.call(t),Error(jt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function j3(e){var t=e._init;return t(e._payload)}function hB(e){function t(H,W){if(e){var Z=H.deletions;Z===null?(H.deletions=[W],H.flags|=16):Z.push(W)}}function i(H,W){if(!e)return null;for(;W!==null;)t(H,W),W=W.sibling;return null}function r(H,W){for(H=new Map;W!==null;)W.key!==null?H.set(W.key,W):H.set(W.index,W),W=W.sibling;return H}function a(H,W){return H=Zd(H,W),H.index=0,H.sibling=null,H}function o(H,W,Z){return H.index=Z,e?(Z=H.alternate,Z!==null?(Z=Z.index,Z<W?(H.flags|=2,W):Z):(H.flags|=2,W)):(H.flags|=1048576,W)}function u(H){return e&&H.alternate===null&&(H.flags|=2),H}function m(H,W,Z,pe){return W===null||W.tag!==6?(W=IS(Z,H.mode,pe),W.return=H,W):(W=a(W,Z),W.return=H,W)}function x(H,W,Z,pe){var me=Z.type;return me===af?A(H,W,Z.props.children,pe,Z.key):W!==null&&(W.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ad&&j3(me)===W.type)?(pe=a(W,Z.props),pe.ref=k0(H,W,Z),pe.return=H,pe):(pe=J1(Z.type,Z.key,Z.props,null,H.mode,pe),pe.ref=k0(H,W,Z),pe.return=H,pe)}function w(H,W,Z,pe){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=LS(Z,H.mode,pe),W.return=H,W):(W=a(W,Z.children||[]),W.return=H,W)}function A(H,W,Z,pe,me){return W===null||W.tag!==7?(W=zh(Z,H.mode,pe,me),W.return=H,W):(W=a(W,Z),W.return=H,W)}function E(H,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number")return W=IS(""+W,H.mode,Z),W.return=H,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case c1:return Z=J1(W.type,W.key,W.props,null,H.mode,Z),Z.ref=k0(H,null,W),Z.return=H,Z;case nf:return W=LS(W,H.mode,Z),W.return=H,W;case Ad:var pe=W._init;return E(H,pe(W._payload),Z)}if(z0(W)||b0(W))return W=zh(W,H.mode,Z,null),W.return=H,W;b1(H,W)}return null}function O(H,W,Z,pe){var me=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return me!==null?null:m(H,W,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case c1:return Z.key===me?x(H,W,Z,pe):null;case nf:return Z.key===me?w(H,W,Z,pe):null;case Ad:return me=Z._init,O(H,W,me(Z._payload),pe)}if(z0(Z)||b0(Z))return me!==null?null:A(H,W,Z,pe,null);b1(H,Z)}return null}function G(H,W,Z,pe,me){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return H=H.get(Z)||null,m(W,H,""+pe,me);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case c1:return H=H.get(pe.key===null?Z:pe.key)||null,x(W,H,pe,me);case nf:return H=H.get(pe.key===null?Z:pe.key)||null,w(W,H,pe,me);case Ad:var we=pe._init;return G(H,W,Z,we(pe._payload),me)}if(z0(pe)||b0(pe))return H=H.get(Z)||null,A(W,H,pe,me,null);b1(W,pe)}return null}function te(H,W,Z,pe){for(var me=null,we=null,_e=W,de=W=0,Ae=null;_e!==null&&de<Z.length;de++){_e.index>de?(Ae=_e,_e=null):Ae=_e.sibling;var We=O(H,_e,Z[de],pe);if(We===null){_e===null&&(_e=Ae);break}e&&_e&&We.alternate===null&&t(H,_e),W=o(We,W,de),we===null?me=We:we.sibling=We,we=We,_e=Ae}if(de===Z.length)return i(H,_e),Di&&bh(H,de),me;if(_e===null){for(;de<Z.length;de++)_e=E(H,Z[de],pe),_e!==null&&(W=o(_e,W,de),we===null?me=_e:we.sibling=_e,we=_e);return Di&&bh(H,de),me}for(_e=r(H,_e);de<Z.length;de++)Ae=G(_e,H,de,Z[de],pe),Ae!==null&&(e&&Ae.alternate!==null&&_e.delete(Ae.key===null?de:Ae.key),W=o(Ae,W,de),we===null?me=Ae:we.sibling=Ae,we=Ae);return e&&_e.forEach(function(tt){return t(H,tt)}),Di&&bh(H,de),me}function Q(H,W,Z,pe){var me=b0(Z);if(typeof me!="function")throw Error(jt(150));if(Z=me.call(Z),Z==null)throw Error(jt(151));for(var we=me=null,_e=W,de=W=0,Ae=null,We=Z.next();_e!==null&&!We.done;de++,We=Z.next()){_e.index>de?(Ae=_e,_e=null):Ae=_e.sibling;var tt=O(H,_e,We.value,pe);if(tt===null){_e===null&&(_e=Ae);break}e&&_e&&tt.alternate===null&&t(H,_e),W=o(tt,W,de),we===null?me=tt:we.sibling=tt,we=tt,_e=Ae}if(We.done)return i(H,_e),Di&&bh(H,de),me;if(_e===null){for(;!We.done;de++,We=Z.next())We=E(H,We.value,pe),We!==null&&(W=o(We,W,de),we===null?me=We:we.sibling=We,we=We);return Di&&bh(H,de),me}for(_e=r(H,_e);!We.done;de++,We=Z.next())We=G(_e,H,de,We.value,pe),We!==null&&(e&&We.alternate!==null&&_e.delete(We.key===null?de:We.key),W=o(We,W,de),we===null?me=We:we.sibling=We,we=We);return e&&_e.forEach(function(Xe){return t(H,Xe)}),Di&&bh(H,de),me}function J(H,W,Z,pe){if(typeof Z=="object"&&Z!==null&&Z.type===af&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case c1:e:{for(var me=Z.key,we=W;we!==null;){if(we.key===me){if(me=Z.type,me===af){if(we.tag===7){i(H,we.sibling),W=a(we,Z.props.children),W.return=H,H=W;break e}}else if(we.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ad&&j3(me)===we.type){i(H,we.sibling),W=a(we,Z.props),W.ref=k0(H,we,Z),W.return=H,H=W;break e}i(H,we);break}else t(H,we);we=we.sibling}Z.type===af?(W=zh(Z.props.children,H.mode,pe,Z.key),W.return=H,H=W):(pe=J1(Z.type,Z.key,Z.props,null,H.mode,pe),pe.ref=k0(H,W,Z),pe.return=H,H=pe)}return u(H);case nf:e:{for(we=Z.key;W!==null;){if(W.key===we)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){i(H,W.sibling),W=a(W,Z.children||[]),W.return=H,H=W;break e}else{i(H,W);break}else t(H,W);W=W.sibling}W=LS(Z,H.mode,pe),W.return=H,H=W}return u(H);case Ad:return we=Z._init,J(H,W,we(Z._payload),pe)}if(z0(Z))return te(H,W,Z,pe);if(b0(Z))return Q(H,W,Z,pe);b1(H,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,W!==null&&W.tag===6?(i(H,W.sibling),W=a(W,Z),W.return=H,H=W):(i(H,W),W=IS(Z,H.mode,pe),W.return=H,H=W),u(H)):i(H,W)}return J}var sg=hB(!0),pB=hB(!1),C_=mu(null),T_=null,mf=null,JT=null;function eP(){JT=mf=T_=null}function tP(e){var t=C_.current;Ei(C_),e._currentValue=t}function ZA(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function Tf(e,t){T_=e,JT=mf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ra=!0),e.firstContext=null)}function no(e){var t=e._currentValue;if(JT!==e)if(e={context:e,memoizedValue:t,next:null},mf===null){if(T_===null)throw Error(jt(308));mf=e,T_.dependencies={lanes:0,firstContext:e}}else mf=mf.next=e;return t}var Sh=null;function sP(e){Sh===null?Sh=[e]:Sh.push(e)}function mB(e,t,i,r){var a=t.interleaved;return a===null?(i.next=i,sP(t)):(i.next=a.next,a.next=i),t.interleaved=i,Ec(e,r)}function Ec(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Cd=!1;function iP(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fB(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kd(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Xs&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ec(e,i)}return a=r.interleaved,a===null?(t.next=t,sP(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ec(e,i)}function q1(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,HT(e,i)}}function k3(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var a=null,o=null;if(i=i.firstBaseUpdate,i!==null){do{var u={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};o===null?a=o=u:o=o.next=u,i=i.next}while(i!==null);o===null?a=o=t:o=o.next=t}else a=o=t;i={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function P_(e,t,i,r){var a=e.updateQueue;Cd=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,m=a.shared.pending;if(m!==null){a.shared.pending=null;var x=m,w=x.next;x.next=null,u===null?o=w:u.next=w,u=x;var A=e.alternate;A!==null&&(A=A.updateQueue,m=A.lastBaseUpdate,m!==u&&(m===null?A.firstBaseUpdate=w:m.next=w,A.lastBaseUpdate=x))}if(o!==null){var E=a.baseState;u=0,A=w=x=null,m=o;do{var O=m.lane,G=m.eventTime;if((r&O)===O){A!==null&&(A=A.next={eventTime:G,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var te=e,Q=m;switch(O=t,G=i,Q.tag){case 1:if(te=Q.payload,typeof te=="function"){E=te.call(G,E,O);break e}E=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=Q.payload,O=typeof te=="function"?te.call(G,E,O):te,O==null)break e;E=Yi({},E,O);break e;case 2:Cd=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,O=a.effects,O===null?a.effects=[m]:O.push(m))}else G={eventTime:G,lane:O,tag:m.tag,payload:m.payload,callback:m.callback,next:null},A===null?(w=A=G,x=E):A=A.next=G,u|=O;if(m=m.next,m===null){if(m=a.shared.pending,m===null)break;O=m,m=O.next,O.next=null,a.lastBaseUpdate=O,a.shared.pending=null}}while(!0);if(A===null&&(x=E),a.baseState=x,a.firstBaseUpdate=w,a.lastBaseUpdate=A,t=a.shared.interleaved,t!==null){a=t;do u|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Kh|=u,e.lanes=u,e.memoizedState=E}}function S3(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=i,typeof a!="function")throw Error(jt(191,a));a.call(r)}}}var fv={},Cl=mu(fv),ky=mu(fv),Sy=mu(fv);function Ah(e){if(e===fv)throw Error(jt(174));return e}function rP(e,t){switch(Ai(Sy,t),Ai(ky,e),Ai(Cl,fv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:MA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=MA(t,e)}Ei(Cl),Ai(Cl,t)}function ig(){Ei(Cl),Ei(ky),Ei(Sy)}function gB(e){Ah(Sy.current);var t=Ah(Cl.current),i=MA(t,e.type);t!==i&&(Ai(ky,e),Ai(Cl,i))}function nP(e){ky.current===e&&(Ei(Cl),Ei(ky))}var Ui=mu(0);function M_(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var AS=[];function aP(){for(var e=0;e<AS.length;e++)AS[e]._workInProgressVersionPrimary=null;AS.length=0}var K1=$c.ReactCurrentDispatcher,CS=$c.ReactCurrentBatchConfig,qh=0,Ki=null,Tr=null,Fr=null,E_=!1,sy=!1,Ay=0,oZ=0;function on(){throw Error(jt(321))}function oP(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Bo(e[i],t[i]))return!1;return!0}function lP(e,t,i,r,a,o){if(qh=o,Ki=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,K1.current=e===null||e.memoizedState===null?uZ:hZ,e=i(r,a),sy){o=0;do{if(sy=!1,Ay=0,25<=o)throw Error(jt(301));o+=1,Fr=Tr=null,t.updateQueue=null,K1.current=pZ,e=i(r,a)}while(sy)}if(K1.current=I_,t=Tr!==null&&Tr.next!==null,qh=0,Fr=Tr=Ki=null,E_=!1,t)throw Error(jt(300));return e}function cP(){var e=Ay!==0;return Ay=0,e}function yl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?Ki.memoizedState=Fr=e:Fr=Fr.next=e,Fr}function ao(){if(Tr===null){var e=Ki.alternate;e=e!==null?e.memoizedState:null}else e=Tr.next;var t=Fr===null?Ki.memoizedState:Fr.next;if(t!==null)Fr=t,Tr=e;else{if(e===null)throw Error(jt(310));Tr=e,e={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},Fr===null?Ki.memoizedState=Fr=e:Fr=Fr.next=e}return Fr}function Cy(e,t){return typeof t=="function"?t(e):t}function TS(e){var t=ao(),i=t.queue;if(i===null)throw Error(jt(311));i.lastRenderedReducer=e;var r=Tr,a=r.baseQueue,o=i.pending;if(o!==null){if(a!==null){var u=a.next;a.next=o.next,o.next=u}r.baseQueue=a=o,i.pending=null}if(a!==null){o=a.next,r=r.baseState;var m=u=null,x=null,w=o;do{var A=w.lane;if((qh&A)===A)x!==null&&(x=x.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),r=w.hasEagerState?w.eagerState:e(r,w.action);else{var E={lane:A,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};x===null?(m=x=E,u=r):x=x.next=E,Ki.lanes|=A,Kh|=A}w=w.next}while(w!==null&&w!==o);x===null?u=r:x.next=m,Bo(r,t.memoizedState)||(ra=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=x,i.lastRenderedState=r}if(e=i.interleaved,e!==null){a=e;do o=a.lane,Ki.lanes|=o,Kh|=o,a=a.next;while(a!==e)}else a===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function PS(e){var t=ao(),i=t.queue;if(i===null)throw Error(jt(311));i.lastRenderedReducer=e;var r=i.dispatch,a=i.pending,o=t.memoizedState;if(a!==null){i.pending=null;var u=a=a.next;do o=e(o,u.action),u=u.next;while(u!==a);Bo(o,t.memoizedState)||(ra=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),i.lastRenderedState=o}return[o,r]}function xB(){}function yB(e,t){var i=Ki,r=ao(),a=t(),o=!Bo(r.memoizedState,a);if(o&&(r.memoizedState=a,ra=!0),r=r.queue,dP(wB.bind(null,i,r,e),[e]),r.getSnapshot!==t||o||Fr!==null&&Fr.memoizedState.tag&1){if(i.flags|=2048,Ty(9,bB.bind(null,i,r,a,t),void 0,null),Br===null)throw Error(jt(349));qh&30||vB(i,t,a)}return a}function vB(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ki.updateQueue,t===null?(t={lastEffect:null,stores:null},Ki.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function bB(e,t,i,r){t.value=i,t.getSnapshot=r,_B(t)&&NB(e)}function wB(e,t,i){return i(function(){_B(t)&&NB(e)})}function _B(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Bo(e,i)}catch{return!0}}function NB(e){var t=Ec(e,1);t!==null&&Do(t,e,1,-1)}function A3(e){var t=yl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cy,lastRenderedState:e},t.queue=e,e=e.dispatch=dZ.bind(null,Ki,e),[t.memoizedState,e]}function Ty(e,t,i,r){return e={tag:e,create:t,destroy:i,deps:r,next:null},t=Ki.updateQueue,t===null?(t={lastEffect:null,stores:null},Ki.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e)),e}function jB(){return ao().memoizedState}function Y1(e,t,i,r){var a=yl();Ki.flags|=e,a.memoizedState=Ty(1|t,i,void 0,r===void 0?null:r)}function DN(e,t,i,r){var a=ao();r=r===void 0?null:r;var o=void 0;if(Tr!==null){var u=Tr.memoizedState;if(o=u.destroy,r!==null&&oP(r,u.deps)){a.memoizedState=Ty(t,i,o,r);return}}Ki.flags|=e,a.memoizedState=Ty(1|t,i,o,r)}function C3(e,t){return Y1(8390656,8,e,t)}function dP(e,t){return DN(2048,8,e,t)}function kB(e,t){return DN(4,2,e,t)}function SB(e,t){return DN(4,4,e,t)}function AB(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function CB(e,t,i){return i=i!=null?i.concat([e]):null,DN(4,4,AB.bind(null,t,e),i)}function uP(){}function TB(e,t){var i=ao();t=t===void 0?null:t;var r=i.memoizedState;return r!==null&&t!==null&&oP(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function PB(e,t){var i=ao();t=t===void 0?null:t;var r=i.memoizedState;return r!==null&&t!==null&&oP(t,r[1])?r[0]:(e=e(),i.memoizedState=[e,t],e)}function MB(e,t,i){return qh&21?(Bo(i,t)||(i=Dz(),Ki.lanes|=i,Kh|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ra=!0),e.memoizedState=i)}function lZ(e,t){var i=ci;ci=i!==0&&4>i?i:4,e(!0);var r=CS.transition;CS.transition={};try{e(!1),t()}finally{ci=i,CS.transition=r}}function EB(){return ao().memoizedState}function cZ(e,t,i){var r=Xd(e);if(i={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null},IB(e))LB(t,i);else if(i=mB(e,t,i,r),i!==null){var a=Ln();Do(i,e,r,a),OB(i,t,r)}}function dZ(e,t,i){var r=Xd(e),a={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null};if(IB(e))LB(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var u=t.lastRenderedState,m=o(u,i);if(a.hasEagerState=!0,a.eagerState=m,Bo(m,u)){var x=t.interleaved;x===null?(a.next=a,sP(t)):(a.next=x.next,x.next=a),t.interleaved=a;return}}catch{}finally{}i=mB(e,t,a,r),i!==null&&(a=Ln(),Do(i,e,r,a),OB(i,t,r))}}function IB(e){var t=e.alternate;return e===Ki||t!==null&&t===Ki}function LB(e,t){sy=E_=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function OB(e,t,i){if(i&4194240){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,HT(e,i)}}var I_={readContext:no,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},uZ={readContext:no,useCallback:function(e,t){return yl().memoizedState=[e,t===void 0?null:t],e},useContext:no,useEffect:C3,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Y1(4194308,4,AB.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Y1(4194308,4,e,t)},useInsertionEffect:function(e,t){return Y1(4,2,e,t)},useMemo:function(e,t){var i=yl();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var r=yl();return t=i!==void 0?i(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=cZ.bind(null,Ki,e),[r.memoizedState,e]},useRef:function(e){var t=yl();return e={current:e},t.memoizedState=e},useState:A3,useDebugValue:uP,useDeferredValue:function(e){return yl().memoizedState=e},useTransition:function(){var e=A3(!1),t=e[0];return e=lZ.bind(null,e[1]),yl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var r=Ki,a=yl();if(Di){if(i===void 0)throw Error(jt(407));i=i()}else{if(i=t(),Br===null)throw Error(jt(349));qh&30||vB(r,t,i)}a.memoizedState=i;var o={value:i,getSnapshot:t};return a.queue=o,C3(wB.bind(null,r,o,e),[e]),r.flags|=2048,Ty(9,bB.bind(null,r,o,i,t),void 0,null),i},useId:function(){var e=yl(),t=Br.identifierPrefix;if(Di){var i=jc,r=Nc;i=(r&~(1<<32-Oo(r)-1)).toString(32)+i,t=":"+t+"R"+i,i=Ay++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=oZ++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hZ={readContext:no,useCallback:TB,useContext:no,useEffect:dP,useImperativeHandle:CB,useInsertionEffect:kB,useLayoutEffect:SB,useMemo:PB,useReducer:TS,useRef:jB,useState:function(){return TS(Cy)},useDebugValue:uP,useDeferredValue:function(e){var t=ao();return MB(t,Tr.memoizedState,e)},useTransition:function(){var e=TS(Cy)[0],t=ao().memoizedState;return[e,t]},useMutableSource:xB,useSyncExternalStore:yB,useId:EB,unstable_isNewReconciler:!1},pZ={readContext:no,useCallback:TB,useContext:no,useEffect:dP,useImperativeHandle:CB,useInsertionEffect:kB,useLayoutEffect:SB,useMemo:PB,useReducer:PS,useRef:jB,useState:function(){return PS(Cy)},useDebugValue:uP,useDeferredValue:function(e){var t=ao();return Tr===null?t.memoizedState=e:MB(t,Tr.memoizedState,e)},useTransition:function(){var e=PS(Cy)[0],t=ao().memoizedState;return[e,t]},useMutableSource:xB,useSyncExternalStore:yB,useId:EB,unstable_isNewReconciler:!1};function So(e,t){if(e&&e.defaultProps){t=Yi({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function QA(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:Yi({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var RN={isMounted:function(e){return(e=e._reactInternals)?op(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var r=Ln(),a=Xd(e),o=Sc(r,a);o.payload=t,i!=null&&(o.callback=i),t=Kd(e,o,a),t!==null&&(Do(t,e,a,r),q1(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=Ln(),a=Xd(e),o=Sc(r,a);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Kd(e,o,a),t!==null&&(Do(t,e,a,r),q1(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ln(),r=Xd(e),a=Sc(i,r);a.tag=2,t!=null&&(a.callback=t),t=Kd(e,a,r),t!==null&&(Do(t,e,r,i),q1(t,e,r))}};function T3(e,t,i,r,a,o,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,u):t.prototype&&t.prototype.isPureReactComponent?!wy(i,r)||!wy(a,o):!0}function DB(e,t,i){var r=!1,a=tu,o=t.contextType;return typeof o=="object"&&o!==null?o=no(o):(a=aa(t)?Uh:gn.current,r=t.contextTypes,o=(r=r!=null)?eg(e,a):tu),t=new t(i,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=RN,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function P3(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&RN.enqueueReplaceState(t,t.state,null)}function JA(e,t,i,r){var a=e.stateNode;a.props=i,a.state=e.memoizedState,a.refs={},iP(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=no(o):(o=aa(t)?Uh:gn.current,a.context=eg(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(QA(e,t,o,i),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&RN.enqueueReplaceState(a,a.state,null),P_(e,i,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function rg(e,t){try{var i="",r=t;do i+=WY(r),r=r.return;while(r);var a=i}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function MS(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function eC(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var mZ=typeof WeakMap=="function"?WeakMap:Map;function RB(e,t,i){i=Sc(-1,i),i.tag=3,i.payload={element:null};var r=t.value;return i.callback=function(){O_||(O_=!0,dC=r),eC(e,t)},i}function FB(e,t,i){i=Sc(-1,i),i.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;i.payload=function(){return r(a)},i.callback=function(){eC(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(i.callback=function(){eC(e,t),typeof r!="function"&&(Yd===null?Yd=new Set([this]):Yd.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),i}function M3(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new mZ;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(i)||(a.add(i),e=CZ.bind(null,e,t,i),t.then(e,e))}function E3(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function I3(e,t,i,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Sc(-1,1),t.tag=2,Kd(i,t,1))),i.lanes|=1),e)}var fZ=$c.ReactCurrentOwner,ra=!1;function En(e,t,i,r){t.child=e===null?pB(t,null,i,r):sg(t,e.child,i,r)}function L3(e,t,i,r,a){i=i.render;var o=t.ref;return Tf(t,a),r=lP(e,t,i,r,o,a),i=cP(),e!==null&&!ra?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ic(e,t,a)):(Di&&i&&XT(t),t.flags|=1,En(e,t,r,a),t.child)}function O3(e,t,i,r,a){if(e===null){var o=i.type;return typeof o=="function"&&!vP(o)&&o.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=o,zB(e,t,o,r,a)):(e=J1(i.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var u=o.memoizedProps;if(i=i.compare,i=i!==null?i:wy,i(u,r)&&e.ref===t.ref)return Ic(e,t,a)}return t.flags|=1,e=Zd(o,r),e.ref=t.ref,e.return=t,t.child=e}function zB(e,t,i,r,a){if(e!==null){var o=e.memoizedProps;if(wy(o,r)&&e.ref===t.ref)if(ra=!1,t.pendingProps=r=o,(e.lanes&a)!==0)e.flags&131072&&(ra=!0);else return t.lanes=e.lanes,Ic(e,t,a)}return tC(e,t,i,r,a)}function BB(e,t,i){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(gf,ba),ba|=i;else{if(!(i&1073741824))return e=o!==null?o.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(gf,ba),ba|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:i,Ai(gf,ba),ba|=r}else o!==null?(r=o.baseLanes|i,t.memoizedState=null):r=i,Ai(gf,ba),ba|=r;return En(e,t,a,i),t.child}function WB(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function tC(e,t,i,r,a){var o=aa(i)?Uh:gn.current;return o=eg(t,o),Tf(t,a),i=lP(e,t,i,r,o,a),r=cP(),e!==null&&!ra?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ic(e,t,a)):(Di&&r&&XT(t),t.flags|=1,En(e,t,i,a),t.child)}function D3(e,t,i,r,a){if(aa(i)){var o=!0;k_(t)}else o=!1;if(Tf(t,a),t.stateNode===null)X1(e,t),DB(t,i,r),JA(t,i,r,a),r=!0;else if(e===null){var u=t.stateNode,m=t.memoizedProps;u.props=m;var x=u.context,w=i.contextType;typeof w=="object"&&w!==null?w=no(w):(w=aa(i)?Uh:gn.current,w=eg(t,w));var A=i.getDerivedStateFromProps,E=typeof A=="function"||typeof u.getSnapshotBeforeUpdate=="function";E||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==r||x!==w)&&P3(t,u,r,w),Cd=!1;var O=t.memoizedState;u.state=O,P_(t,r,u,a),x=t.memoizedState,m!==r||O!==x||na.current||Cd?(typeof A=="function"&&(QA(t,i,A,r),x=t.memoizedState),(m=Cd||T3(t,i,m,r,O,x,w))?(E||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=x),u.props=r,u.state=x,u.context=w,r=m):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,fB(e,t),m=t.memoizedProps,w=t.type===t.elementType?m:So(t.type,m),u.props=w,E=t.pendingProps,O=u.context,x=i.contextType,typeof x=="object"&&x!==null?x=no(x):(x=aa(i)?Uh:gn.current,x=eg(t,x));var G=i.getDerivedStateFromProps;(A=typeof G=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==E||O!==x)&&P3(t,u,r,x),Cd=!1,O=t.memoizedState,u.state=O,P_(t,r,u,a);var te=t.memoizedState;m!==E||O!==te||na.current||Cd?(typeof G=="function"&&(QA(t,i,G,r),te=t.memoizedState),(w=Cd||T3(t,i,w,r,O,te,x)||!1)?(A||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,te,x),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,te,x)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=te),u.props=r,u.state=te,u.context=x,r=w):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),r=!1)}return sC(e,t,i,r,o,a)}function sC(e,t,i,r,a,o){WB(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return a&&w3(t,i,!1),Ic(e,t,o);r=t.stateNode,fZ.current=t;var m=u&&typeof i.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=sg(t,e.child,null,o),t.child=sg(t,null,m,o)):En(e,t,m,o),t.memoizedState=r.state,a&&w3(t,i,!0),t.child}function HB(e){var t=e.stateNode;t.pendingContext?b3(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b3(e,t.context,!1),rP(e,t.containerInfo)}function R3(e,t,i,r,a){return tg(),QT(a),t.flags|=256,En(e,t,i,r),t.child}var iC={dehydrated:null,treeContext:null,retryLane:0};function rC(e){return{baseLanes:e,cachePool:null,transitions:null}}function VB(e,t,i){var r=t.pendingProps,a=Ui.current,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(a&2)!==0),m?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ai(Ui,a&1),e===null)return XA(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,e=r.fallback,o?(r=t.mode,o=t.child,u={mode:"hidden",children:u},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=u):o=BN(u,r,0,null),e=zh(e,r,i,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=rC(i),t.memoizedState=iC,e):hP(t,u));if(a=e.memoizedState,a!==null&&(m=a.dehydrated,m!==null))return gZ(e,t,u,r,m,a,i);if(o){o=r.fallback,u=t.mode,a=e.child,m=a.sibling;var x={mode:"hidden",children:r.children};return!(u&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=x,t.deletions=null):(r=Zd(a,x),r.subtreeFlags=a.subtreeFlags&14680064),m!==null?o=Zd(m,o):(o=zh(o,u,i,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,u=e.child.memoizedState,u=u===null?rC(i):{baseLanes:u.baseLanes|i,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~i,t.memoizedState=iC,r}return o=e.child,e=o.sibling,r=Zd(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=i),r.return=t,r.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=r,t.memoizedState=null,r}function hP(e,t){return t=BN({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function w1(e,t,i,r){return r!==null&&QT(r),sg(t,e.child,null,i),e=hP(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gZ(e,t,i,r,a,o,u){if(i)return t.flags&256?(t.flags&=-257,r=MS(Error(jt(422))),w1(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=BN({mode:"visible",children:r.children},a,0,null),o=zh(o,a,u,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&sg(t,e.child,null,u),t.child.memoizedState=rC(u),t.memoizedState=iC,o);if(!(t.mode&1))return w1(e,t,u,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var m=r.dgst;return r=m,o=Error(jt(419)),r=MS(o,r,void 0),w1(e,t,u,r)}if(m=(u&e.childLanes)!==0,ra||m){if(r=Br,r!==null){switch(u&-u){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|u)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Ec(e,a),Do(r,e,a,-1))}return yP(),r=MS(Error(jt(421))),w1(e,t,u,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=TZ.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ja=qd(a.nextSibling),ka=t,Di=!0,To=null,e!==null&&(Ja[eo++]=Nc,Ja[eo++]=jc,Ja[eo++]=Gh,Nc=e.id,jc=e.overflow,Gh=t),t=hP(t,r.children),t.flags|=4096,t)}function F3(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ZA(e.return,t,i)}function ES(e,t,i,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=i,o.tailMode=a)}function $B(e,t,i){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(En(e,t,r.children,i),r=Ui.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&F3(e,i,t);else if(e.tag===19)F3(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(Ui,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(i=t.child,a=null;i!==null;)e=i.alternate,e!==null&&M_(e)===null&&(a=i),i=i.sibling;i=a,i===null?(a=t.child,t.child=null):(a=i.sibling,i.sibling=null),ES(t,!1,a,i,o);break;case"backwards":for(i=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&M_(e)===null){t.child=a;break}e=a.sibling,a.sibling=i,i=a,a=e}ES(t,!0,i,null,o);break;case"together":ES(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function X1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ic(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Kh|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(jt(153));if(t.child!==null){for(e=t.child,i=Zd(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Zd(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function xZ(e,t,i){switch(t.tag){case 3:HB(t),tg();break;case 5:gB(t);break;case 1:aa(t.type)&&k_(t);break;case 4:rP(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ai(C_,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ai(Ui,Ui.current&1),t.flags|=128,null):i&t.child.childLanes?VB(e,t,i):(Ai(Ui,Ui.current&1),e=Ic(e,t,i),e!==null?e.sibling:null);Ai(Ui,Ui.current&1);break;case 19:if(r=(i&t.childLanes)!==0,e.flags&128){if(r)return $B(e,t,i);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ai(Ui,Ui.current),r)break;return null;case 22:case 23:return t.lanes=0,BB(e,t,i)}return Ic(e,t,i)}var UB,nC,GB,qB;UB=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};nC=function(){};GB=function(e,t,i,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ah(Cl.current);var o=null;switch(i){case"input":a=AA(e,a),r=AA(e,r),o=[];break;case"select":a=Yi({},a,{value:void 0}),r=Yi({},r,{value:void 0}),o=[];break;case"textarea":a=PA(e,a),r=PA(e,r),o=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=N_)}EA(i,r);var u;i=null;for(w in a)if(!r.hasOwnProperty(w)&&a.hasOwnProperty(w)&&a[w]!=null)if(w==="style"){var m=a[w];for(u in m)m.hasOwnProperty(u)&&(i||(i={}),i[u]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(my.hasOwnProperty(w)?o||(o=[]):(o=o||[]).push(w,null));for(w in r){var x=r[w];if(m=a!=null?a[w]:void 0,r.hasOwnProperty(w)&&x!==m&&(x!=null||m!=null))if(w==="style")if(m){for(u in m)!m.hasOwnProperty(u)||x&&x.hasOwnProperty(u)||(i||(i={}),i[u]="");for(u in x)x.hasOwnProperty(u)&&m[u]!==x[u]&&(i||(i={}),i[u]=x[u])}else i||(o||(o=[]),o.push(w,i)),i=x;else w==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,m=m?m.__html:void 0,x!=null&&m!==x&&(o=o||[]).push(w,x)):w==="children"?typeof x!="string"&&typeof x!="number"||(o=o||[]).push(w,""+x):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(my.hasOwnProperty(w)?(x!=null&&w==="onScroll"&&Mi("scroll",e),o||m===x||(o=[])):(o=o||[]).push(w,x))}i&&(o=o||[]).push("style",i);var w=o;(t.updateQueue=w)&&(t.flags|=4)}};qB=function(e,t,i,r){i!==r&&(t.flags|=4)};function S0(e,t){if(!Di)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ln(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var a=e.child;a!==null;)i|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)i|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function yZ(e,t,i){var r=t.pendingProps;switch(ZT(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(t),null;case 1:return aa(t.type)&&j_(),ln(t),null;case 3:return r=t.stateNode,ig(),Ei(na),Ei(gn),aP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(v1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,To!==null&&(pC(To),To=null))),nC(e,t),ln(t),null;case 5:nP(t);var a=Ah(Sy.current);if(i=t.type,e!==null&&t.stateNode!=null)GB(e,t,i,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(jt(166));return ln(t),null}if(e=Ah(Cl.current),v1(t)){r=t.stateNode,i=t.type;var o=t.memoizedProps;switch(r[jl]=t,r[jy]=o,e=(t.mode&1)!==0,i){case"dialog":Mi("cancel",r),Mi("close",r);break;case"iframe":case"object":case"embed":Mi("load",r);break;case"video":case"audio":for(a=0;a<W0.length;a++)Mi(W0[a],r);break;case"source":Mi("error",r);break;case"img":case"image":case"link":Mi("error",r),Mi("load",r);break;case"details":Mi("toggle",r);break;case"input":qI(r,o),Mi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Mi("invalid",r);break;case"textarea":YI(r,o),Mi("invalid",r)}EA(i,o),a=null;for(var u in o)if(o.hasOwnProperty(u)){var m=o[u];u==="children"?typeof m=="string"?r.textContent!==m&&(o.suppressHydrationWarning!==!0&&y1(r.textContent,m,e),a=["children",m]):typeof m=="number"&&r.textContent!==""+m&&(o.suppressHydrationWarning!==!0&&y1(r.textContent,m,e),a=["children",""+m]):my.hasOwnProperty(u)&&m!=null&&u==="onScroll"&&Mi("scroll",r)}switch(i){case"input":d1(r),KI(r,o,!0);break;case"textarea":d1(r),XI(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=N_)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wz(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(i,{is:r.is}):(e=u.createElement(i),i==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,i),e[jl]=t,e[jy]=r,UB(e,t,!1,!1),t.stateNode=e;e:{switch(u=IA(i,r),i){case"dialog":Mi("cancel",e),Mi("close",e),a=r;break;case"iframe":case"object":case"embed":Mi("load",e),a=r;break;case"video":case"audio":for(a=0;a<W0.length;a++)Mi(W0[a],e);a=r;break;case"source":Mi("error",e),a=r;break;case"img":case"image":case"link":Mi("error",e),Mi("load",e),a=r;break;case"details":Mi("toggle",e),a=r;break;case"input":qI(e,r),a=AA(e,r),Mi("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Yi({},r,{value:void 0}),Mi("invalid",e);break;case"textarea":YI(e,r),a=PA(e,r),Mi("invalid",e);break;default:a=r}EA(i,a),m=a;for(o in m)if(m.hasOwnProperty(o)){var x=m[o];o==="style"?jz(e,x):o==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&_z(e,x)):o==="children"?typeof x=="string"?(i!=="textarea"||x!=="")&&fy(e,x):typeof x=="number"&&fy(e,""+x):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(my.hasOwnProperty(o)?x!=null&&o==="onScroll"&&Mi("scroll",e):x!=null&&DT(e,o,x,u))}switch(i){case"input":d1(e),KI(e,r,!1);break;case"textarea":d1(e),XI(e);break;case"option":r.value!=null&&e.setAttribute("value",""+eu(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?kf(e,!!r.multiple,o,!1):r.defaultValue!=null&&kf(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=N_)}switch(i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ln(t),null;case 6:if(e&&t.stateNode!=null)qB(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(jt(166));if(i=Ah(Sy.current),Ah(Cl.current),v1(t)){if(r=t.stateNode,i=t.memoizedProps,r[jl]=t,(o=r.nodeValue!==i)&&(e=ka,e!==null))switch(e.tag){case 3:y1(r.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&y1(r.nodeValue,i,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(i.nodeType===9?i:i.ownerDocument).createTextNode(r),r[jl]=t,t.stateNode=r}return ln(t),null;case 13:if(Ei(Ui),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Di&&ja!==null&&t.mode&1&&!(t.flags&128))uB(),tg(),t.flags|=98560,o=!1;else if(o=v1(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(jt(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(jt(317));o[jl]=t}else tg(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ln(t),o=!1}else To!==null&&(pC(To),To=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ui.current&1?Mr===0&&(Mr=3):yP())),t.updateQueue!==null&&(t.flags|=4),ln(t),null);case 4:return ig(),nC(e,t),e===null&&_y(t.stateNode.containerInfo),ln(t),null;case 10:return tP(t.type._context),ln(t),null;case 17:return aa(t.type)&&j_(),ln(t),null;case 19:if(Ei(Ui),o=t.memoizedState,o===null)return ln(t),null;if(r=(t.flags&128)!==0,u=o.rendering,u===null)if(r)S0(o,!1);else{if(Mr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=M_(e),u!==null){for(t.flags|=128,S0(o,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=i,i=t.child;i!==null;)o=i,e=r,o.flags&=14680066,u=o.alternate,u===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ai(Ui,Ui.current&1|2),t.child}e=e.sibling}o.tail!==null&&ur()>ng&&(t.flags|=128,r=!0,S0(o,!1),t.lanes=4194304)}else{if(!r)if(e=M_(u),e!==null){if(t.flags|=128,r=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),S0(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!Di)return ln(t),null}else 2*ur()-o.renderingStartTime>ng&&i!==1073741824&&(t.flags|=128,r=!0,S0(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(i=o.last,i!==null?i.sibling=u:t.child=u,o.last=u)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ur(),t.sibling=null,i=Ui.current,Ai(Ui,r?i&1|2:i&1),t):(ln(t),null);case 22:case 23:return xP(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ba&1073741824&&(ln(t),t.subtreeFlags&6&&(t.flags|=8192)):ln(t),null;case 24:return null;case 25:return null}throw Error(jt(156,t.tag))}function vZ(e,t){switch(ZT(t),t.tag){case 1:return aa(t.type)&&j_(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ig(),Ei(na),Ei(gn),aP(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nP(t),null;case 13:if(Ei(Ui),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(jt(340));tg()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ei(Ui),null;case 4:return ig(),null;case 10:return tP(t.type._context),null;case 22:case 23:return xP(),null;case 24:return null;default:return null}}var _1=!1,hn=!1,bZ=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function ff(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(r){sr(e,t,r)}else i.current=null}function aC(e,t,i){try{i()}catch(r){sr(e,t,r)}}var z3=!1;function wZ(e,t){if(VA=b_,e=Qz(),YT(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{i.nodeType,o.nodeType}catch{i=null;break e}var u=0,m=-1,x=-1,w=0,A=0,E=e,O=null;t:for(;;){for(var G;E!==i||a!==0&&E.nodeType!==3||(m=u+a),E!==o||r!==0&&E.nodeType!==3||(x=u+r),E.nodeType===3&&(u+=E.nodeValue.length),(G=E.firstChild)!==null;)O=E,E=G;for(;;){if(E===e)break t;if(O===i&&++w===a&&(m=u),O===o&&++A===r&&(x=u),(G=E.nextSibling)!==null)break;E=O,O=E.parentNode}E=G}i=m===-1||x===-1?null:{start:m,end:x}}else i=null}i=i||{start:0,end:0}}else i=null;for($A={focusedElem:e,selectionRange:i},b_=!1,Yt=t;Yt!==null;)if(t=Yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Yt=e;else for(;Yt!==null;){t=Yt;try{var te=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var Q=te.memoizedProps,J=te.memoizedState,H=t.stateNode,W=H.getSnapshotBeforeUpdate(t.elementType===t.type?Q:So(t.type,Q),J);H.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Z=t.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(jt(163))}}catch(pe){sr(t,t.return,pe)}if(e=t.sibling,e!==null){e.return=t.return,Yt=e;break}Yt=t.return}return te=z3,z3=!1,te}function iy(e,t,i){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&aC(t,i,o)}a=a.next}while(a!==r)}}function FN(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var r=i.create;i.destroy=r()}i=i.next}while(i!==t)}}function oC(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function KB(e){var t=e.alternate;t!==null&&(e.alternate=null,KB(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jl],delete t[jy],delete t[qA],delete t[iZ],delete t[rZ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function YB(e){return e.tag===5||e.tag===3||e.tag===4}function B3(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||YB(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lC(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=N_));else if(r!==4&&(e=e.child,e!==null))for(lC(e,t,i),e=e.sibling;e!==null;)lC(e,t,i),e=e.sibling}function cC(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(cC(e,t,i),e=e.sibling;e!==null;)cC(e,t,i),e=e.sibling}var Zr=null,Co=!1;function wd(e,t,i){for(i=i.child;i!==null;)XB(e,t,i),i=i.sibling}function XB(e,t,i){if(Al&&typeof Al.onCommitFiberUnmount=="function")try{Al.onCommitFiberUnmount(PN,i)}catch{}switch(i.tag){case 5:hn||ff(i,t);case 6:var r=Zr,a=Co;Zr=null,wd(e,t,i),Zr=r,Co=a,Zr!==null&&(Co?(e=Zr,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Zr.removeChild(i.stateNode));break;case 18:Zr!==null&&(Co?(e=Zr,i=i.stateNode,e.nodeType===8?kS(e.parentNode,i):e.nodeType===1&&kS(e,i),vy(e)):kS(Zr,i.stateNode));break;case 4:r=Zr,a=Co,Zr=i.stateNode.containerInfo,Co=!0,wd(e,t,i),Zr=r,Co=a;break;case 0:case 11:case 14:case 15:if(!hn&&(r=i.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var o=a,u=o.destroy;o=o.tag,u!==void 0&&(o&2||o&4)&&aC(i,t,u),a=a.next}while(a!==r)}wd(e,t,i);break;case 1:if(!hn&&(ff(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=i.memoizedProps,r.state=i.memoizedState,r.componentWillUnmount()}catch(m){sr(i,t,m)}wd(e,t,i);break;case 21:wd(e,t,i);break;case 22:i.mode&1?(hn=(r=hn)||i.memoizedState!==null,wd(e,t,i),hn=r):wd(e,t,i);break;default:wd(e,t,i)}}function W3(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new bZ),t.forEach(function(r){var a=PZ.bind(null,e,r);i.has(r)||(i.add(r),r.then(a,a))})}}function No(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var a=i[r];try{var o=e,u=t,m=u;e:for(;m!==null;){switch(m.tag){case 5:Zr=m.stateNode,Co=!1;break e;case 3:Zr=m.stateNode.containerInfo,Co=!0;break e;case 4:Zr=m.stateNode.containerInfo,Co=!0;break e}m=m.return}if(Zr===null)throw Error(jt(160));XB(o,u,a),Zr=null,Co=!1;var x=a.alternate;x!==null&&(x.return=null),a.return=null}catch(w){sr(a,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ZB(t,e),t=t.sibling}function ZB(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(No(t,e),gl(e),r&4){try{iy(3,e,e.return),FN(3,e)}catch(Q){sr(e,e.return,Q)}try{iy(5,e,e.return)}catch(Q){sr(e,e.return,Q)}}break;case 1:No(t,e),gl(e),r&512&&i!==null&&ff(i,i.return);break;case 5:if(No(t,e),gl(e),r&512&&i!==null&&ff(i,i.return),e.flags&32){var a=e.stateNode;try{fy(a,"")}catch(Q){sr(e,e.return,Q)}}if(r&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,u=i!==null?i.memoizedProps:o,m=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{m==="input"&&o.type==="radio"&&o.name!=null&&vz(a,o),IA(m,u);var w=IA(m,o);for(u=0;u<x.length;u+=2){var A=x[u],E=x[u+1];A==="style"?jz(a,E):A==="dangerouslySetInnerHTML"?_z(a,E):A==="children"?fy(a,E):DT(a,A,E,w)}switch(m){case"input":CA(a,o);break;case"textarea":bz(a,o);break;case"select":var O=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var G=o.value;G!=null?kf(a,!!o.multiple,G,!1):O!==!!o.multiple&&(o.defaultValue!=null?kf(a,!!o.multiple,o.defaultValue,!0):kf(a,!!o.multiple,o.multiple?[]:"",!1))}a[jy]=o}catch(Q){sr(e,e.return,Q)}}break;case 6:if(No(t,e),gl(e),r&4){if(e.stateNode===null)throw Error(jt(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(Q){sr(e,e.return,Q)}}break;case 3:if(No(t,e),gl(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{vy(t.containerInfo)}catch(Q){sr(e,e.return,Q)}break;case 4:No(t,e),gl(e);break;case 13:No(t,e),gl(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(fP=ur())),r&4&&W3(e);break;case 22:if(A=i!==null&&i.memoizedState!==null,e.mode&1?(hn=(w=hn)||A,No(t,e),hn=w):No(t,e),gl(e),r&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!A&&e.mode&1)for(Yt=e,A=e.child;A!==null;){for(E=Yt=A;Yt!==null;){switch(O=Yt,G=O.child,O.tag){case 0:case 11:case 14:case 15:iy(4,O,O.return);break;case 1:ff(O,O.return);var te=O.stateNode;if(typeof te.componentWillUnmount=="function"){r=O,i=O.return;try{t=r,te.props=t.memoizedProps,te.state=t.memoizedState,te.componentWillUnmount()}catch(Q){sr(r,i,Q)}}break;case 5:ff(O,O.return);break;case 22:if(O.memoizedState!==null){V3(E);continue}}G!==null?(G.return=O,Yt=G):V3(E)}A=A.sibling}e:for(A=null,E=e;;){if(E.tag===5){if(A===null){A=E;try{a=E.stateNode,w?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(m=E.stateNode,x=E.memoizedProps.style,u=x!=null&&x.hasOwnProperty("display")?x.display:null,m.style.display=Nz("display",u))}catch(Q){sr(e,e.return,Q)}}}else if(E.tag===6){if(A===null)try{E.stateNode.nodeValue=w?"":E.memoizedProps}catch(Q){sr(e,e.return,Q)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;A===E&&(A=null),E=E.return}A===E&&(A=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:No(t,e),gl(e),r&4&&W3(e);break;case 21:break;default:No(t,e),gl(e)}}function gl(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(YB(i)){var r=i;break e}i=i.return}throw Error(jt(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(fy(a,""),r.flags&=-33);var o=B3(e);cC(e,o,a);break;case 3:case 4:var u=r.stateNode.containerInfo,m=B3(e);lC(e,m,u);break;default:throw Error(jt(161))}}catch(x){sr(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _Z(e,t,i){Yt=e,QB(e)}function QB(e,t,i){for(var r=(e.mode&1)!==0;Yt!==null;){var a=Yt,o=a.child;if(a.tag===22&&r){var u=a.memoizedState!==null||_1;if(!u){var m=a.alternate,x=m!==null&&m.memoizedState!==null||hn;m=_1;var w=hn;if(_1=u,(hn=x)&&!w)for(Yt=a;Yt!==null;)u=Yt,x=u.child,u.tag===22&&u.memoizedState!==null?$3(a):x!==null?(x.return=u,Yt=x):$3(a);for(;o!==null;)Yt=o,QB(o),o=o.sibling;Yt=a,_1=m,hn=w}H3(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,Yt=o):H3(e)}}function H3(e){for(;Yt!==null;){var t=Yt;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:hn||FN(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!hn)if(i===null)r.componentDidMount();else{var a=t.elementType===t.type?i.memoizedProps:So(t.type,i.memoizedProps);r.componentDidUpdate(a,i.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&S3(t,o,r);break;case 3:var u=t.updateQueue;if(u!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}S3(t,u,i)}break;case 5:var m=t.stateNode;if(i===null&&t.flags&4){i=m;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&i.focus();break;case"img":x.src&&(i.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var A=w.memoizedState;if(A!==null){var E=A.dehydrated;E!==null&&vy(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(jt(163))}hn||t.flags&512&&oC(t)}catch(O){sr(t,t.return,O)}}if(t===e){Yt=null;break}if(i=t.sibling,i!==null){i.return=t.return,Yt=i;break}Yt=t.return}}function V3(e){for(;Yt!==null;){var t=Yt;if(t===e){Yt=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Yt=i;break}Yt=t.return}}function $3(e){for(;Yt!==null;){var t=Yt;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{FN(4,t)}catch(x){sr(t,i,x)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(x){sr(t,a,x)}}var o=t.return;try{oC(t)}catch(x){sr(t,o,x)}break;case 5:var u=t.return;try{oC(t)}catch(x){sr(t,u,x)}}}catch(x){sr(t,t.return,x)}if(t===e){Yt=null;break}var m=t.sibling;if(m!==null){m.return=t.return,Yt=m;break}Yt=t.return}}var NZ=Math.ceil,L_=$c.ReactCurrentDispatcher,pP=$c.ReactCurrentOwner,so=$c.ReactCurrentBatchConfig,Xs=0,Br=null,vr=null,en=0,ba=0,gf=mu(0),Mr=0,Py=null,Kh=0,zN=0,mP=0,ry=null,sa=null,fP=0,ng=1/0,xc=null,O_=!1,dC=null,Yd=null,N1=!1,Vd=null,D_=0,ny=0,uC=null,Z1=-1,Q1=0;function Ln(){return Xs&6?ur():Z1!==-1?Z1:Z1=ur()}function Xd(e){return e.mode&1?Xs&2&&en!==0?en&-en:aZ.transition!==null?(Q1===0&&(Q1=Dz()),Q1):(e=ci,e!==0||(e=window.event,e=e===void 0?16:Vz(e.type)),e):1}function Do(e,t,i,r){if(50<ny)throw ny=0,uC=null,Error(jt(185));hv(e,i,r),(!(Xs&2)||e!==Br)&&(e===Br&&(!(Xs&2)&&(zN|=i),Mr===4&&Pd(e,en)),oa(e,r),i===1&&Xs===0&&!(t.mode&1)&&(ng=ur()+500,ON&&fu()))}function oa(e,t){var i=e.callbackNode;aX(e,t);var r=v_(e,e===Br?en:0);if(r===0)i!==null&&JI(i),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(i!=null&&JI(i),t===1)e.tag===0?nZ(U3.bind(null,e)):lB(U3.bind(null,e)),tZ(function(){!(Xs&6)&&fu()}),i=null;else{switch(Rz(r)){case 1:i=WT;break;case 4:i=Lz;break;case 16:i=y_;break;case 536870912:i=Oz;break;default:i=y_}i=a6(i,JB.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function JB(e,t){if(Z1=-1,Q1=0,Xs&6)throw Error(jt(327));var i=e.callbackNode;if(Pf()&&e.callbackNode!==i)return null;var r=v_(e,e===Br?en:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=R_(e,r);else{t=r;var a=Xs;Xs|=2;var o=t6();(Br!==e||en!==t)&&(xc=null,ng=ur()+500,Fh(e,t));do try{SZ();break}catch(m){e6(e,m)}while(!0);eP(),L_.current=o,Xs=a,vr!==null?t=0:(Br=null,en=0,t=Mr)}if(t!==0){if(t===2&&(a=FA(e),a!==0&&(r=a,t=hC(e,a))),t===1)throw i=Py,Fh(e,0),Pd(e,r),oa(e,ur()),i;if(t===6)Pd(e,r);else{if(a=e.current.alternate,!(r&30)&&!jZ(a)&&(t=R_(e,r),t===2&&(o=FA(e),o!==0&&(r=o,t=hC(e,o))),t===1))throw i=Py,Fh(e,0),Pd(e,r),oa(e,ur()),i;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(jt(345));case 2:wh(e,sa,xc);break;case 3:if(Pd(e,r),(r&130023424)===r&&(t=fP+500-ur(),10<t)){if(v_(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Ln(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=GA(wh.bind(null,e,sa,xc),t);break}wh(e,sa,xc);break;case 4:if(Pd(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var u=31-Oo(r);o=1<<u,u=t[u],u>a&&(a=u),r&=~o}if(r=a,r=ur()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NZ(r/1960))-r,10<r){e.timeoutHandle=GA(wh.bind(null,e,sa,xc),r);break}wh(e,sa,xc);break;case 5:wh(e,sa,xc);break;default:throw Error(jt(329))}}}return oa(e,ur()),e.callbackNode===i?JB.bind(null,e):null}function hC(e,t){var i=ry;return e.current.memoizedState.isDehydrated&&(Fh(e,t).flags|=256),e=R_(e,t),e!==2&&(t=sa,sa=i,t!==null&&pC(t)),e}function pC(e){sa===null?sa=e:sa.push.apply(sa,e)}function jZ(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var r=0;r<i.length;r++){var a=i[r],o=a.getSnapshot;a=a.value;try{if(!Bo(o(),a))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pd(e,t){for(t&=~mP,t&=~zN,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Oo(t),r=1<<i;e[i]=-1,t&=~r}}function U3(e){if(Xs&6)throw Error(jt(327));Pf();var t=v_(e,0);if(!(t&1))return oa(e,ur()),null;var i=R_(e,t);if(e.tag!==0&&i===2){var r=FA(e);r!==0&&(t=r,i=hC(e,r))}if(i===1)throw i=Py,Fh(e,0),Pd(e,t),oa(e,ur()),i;if(i===6)throw Error(jt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wh(e,sa,xc),oa(e,ur()),null}function gP(e,t){var i=Xs;Xs|=1;try{return e(t)}finally{Xs=i,Xs===0&&(ng=ur()+500,ON&&fu())}}function Yh(e){Vd!==null&&Vd.tag===0&&!(Xs&6)&&Pf();var t=Xs;Xs|=1;var i=so.transition,r=ci;try{if(so.transition=null,ci=1,e)return e()}finally{ci=r,so.transition=i,Xs=t,!(Xs&6)&&fu()}}function xP(){ba=gf.current,Ei(gf)}function Fh(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,eZ(i)),vr!==null)for(i=vr.return;i!==null;){var r=i;switch(ZT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&j_();break;case 3:ig(),Ei(na),Ei(gn),aP();break;case 5:nP(r);break;case 4:ig();break;case 13:Ei(Ui);break;case 19:Ei(Ui);break;case 10:tP(r.type._context);break;case 22:case 23:xP()}i=i.return}if(Br=e,vr=e=Zd(e.current,null),en=ba=t,Mr=0,Py=null,mP=zN=Kh=0,sa=ry=null,Sh!==null){for(t=0;t<Sh.length;t++)if(i=Sh[t],r=i.interleaved,r!==null){i.interleaved=null;var a=r.next,o=i.pending;if(o!==null){var u=o.next;o.next=a,r.next=u}i.pending=r}Sh=null}return e}function e6(e,t){do{var i=vr;try{if(eP(),K1.current=I_,E_){for(var r=Ki.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}E_=!1}if(qh=0,Fr=Tr=Ki=null,sy=!1,Ay=0,pP.current=null,i===null||i.return===null){Mr=1,Py=t,vr=null;break}e:{var o=e,u=i.return,m=i,x=t;if(t=en,m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var w=x,A=m,E=A.tag;if(!(A.mode&1)&&(E===0||E===11||E===15)){var O=A.alternate;O?(A.updateQueue=O.updateQueue,A.memoizedState=O.memoizedState,A.lanes=O.lanes):(A.updateQueue=null,A.memoizedState=null)}var G=E3(u);if(G!==null){G.flags&=-257,I3(G,u,m,o,t),G.mode&1&&M3(o,w,t),t=G,x=w;var te=t.updateQueue;if(te===null){var Q=new Set;Q.add(x),t.updateQueue=Q}else te.add(x);break e}else{if(!(t&1)){M3(o,w,t),yP();break e}x=Error(jt(426))}}else if(Di&&m.mode&1){var J=E3(u);if(J!==null){!(J.flags&65536)&&(J.flags|=256),I3(J,u,m,o,t),QT(rg(x,m));break e}}o=x=rg(x,m),Mr!==4&&(Mr=2),ry===null?ry=[o]:ry.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var H=RB(o,x,t);k3(o,H);break e;case 1:m=x;var W=o.type,Z=o.stateNode;if(!(o.flags&128)&&(typeof W.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(Yd===null||!Yd.has(Z)))){o.flags|=65536,t&=-t,o.lanes|=t;var pe=FB(o,m,t);k3(o,pe);break e}}o=o.return}while(o!==null)}i6(i)}catch(me){t=me,vr===i&&i!==null&&(vr=i=i.return);continue}break}while(!0)}function t6(){var e=L_.current;return L_.current=I_,e===null?I_:e}function yP(){(Mr===0||Mr===3||Mr===2)&&(Mr=4),Br===null||!(Kh&268435455)&&!(zN&268435455)||Pd(Br,en)}function R_(e,t){var i=Xs;Xs|=2;var r=t6();(Br!==e||en!==t)&&(xc=null,Fh(e,t));do try{kZ();break}catch(a){e6(e,a)}while(!0);if(eP(),Xs=i,L_.current=r,vr!==null)throw Error(jt(261));return Br=null,en=0,Mr}function kZ(){for(;vr!==null;)s6(vr)}function SZ(){for(;vr!==null&&!ZY();)s6(vr)}function s6(e){var t=n6(e.alternate,e,ba);e.memoizedProps=e.pendingProps,t===null?i6(e):vr=t,pP.current=null}function i6(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=vZ(i,t),i!==null){i.flags&=32767,vr=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mr=6,vr=null;return}}else if(i=yZ(i,t,ba),i!==null){vr=i;return}if(t=t.sibling,t!==null){vr=t;return}vr=t=e}while(t!==null);Mr===0&&(Mr=5)}function wh(e,t,i){var r=ci,a=so.transition;try{so.transition=null,ci=1,AZ(e,t,i,r)}finally{so.transition=a,ci=r}return null}function AZ(e,t,i,r){do Pf();while(Vd!==null);if(Xs&6)throw Error(jt(327));i=e.finishedWork;var a=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(jt(177));e.callbackNode=null,e.callbackPriority=0;var o=i.lanes|i.childLanes;if(oX(e,o),e===Br&&(vr=Br=null,en=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||N1||(N1=!0,a6(y_,function(){return Pf(),null})),o=(i.flags&15990)!==0,i.subtreeFlags&15990||o){o=so.transition,so.transition=null;var u=ci;ci=1;var m=Xs;Xs|=4,pP.current=null,wZ(e,i),ZB(i,e),qX($A),b_=!!VA,$A=VA=null,e.current=i,_Z(i),QY(),Xs=m,ci=u,so.transition=o}else e.current=i;if(N1&&(N1=!1,Vd=e,D_=a),o=e.pendingLanes,o===0&&(Yd=null),tX(i.stateNode),oa(e,ur()),t!==null)for(r=e.onRecoverableError,i=0;i<t.length;i++)a=t[i],r(a.value,{componentStack:a.stack,digest:a.digest});if(O_)throw O_=!1,e=dC,dC=null,e;return D_&1&&e.tag!==0&&Pf(),o=e.pendingLanes,o&1?e===uC?ny++:(ny=0,uC=e):ny=0,fu(),null}function Pf(){if(Vd!==null){var e=Rz(D_),t=so.transition,i=ci;try{if(so.transition=null,ci=16>e?16:e,Vd===null)var r=!1;else{if(e=Vd,Vd=null,D_=0,Xs&6)throw Error(jt(331));var a=Xs;for(Xs|=4,Yt=e.current;Yt!==null;){var o=Yt,u=o.child;if(Yt.flags&16){var m=o.deletions;if(m!==null){for(var x=0;x<m.length;x++){var w=m[x];for(Yt=w;Yt!==null;){var A=Yt;switch(A.tag){case 0:case 11:case 15:iy(8,A,o)}var E=A.child;if(E!==null)E.return=A,Yt=E;else for(;Yt!==null;){A=Yt;var O=A.sibling,G=A.return;if(KB(A),A===w){Yt=null;break}if(O!==null){O.return=G,Yt=O;break}Yt=G}}}var te=o.alternate;if(te!==null){var Q=te.child;if(Q!==null){te.child=null;do{var J=Q.sibling;Q.sibling=null,Q=J}while(Q!==null)}}Yt=o}}if(o.subtreeFlags&2064&&u!==null)u.return=o,Yt=u;else e:for(;Yt!==null;){if(o=Yt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:iy(9,o,o.return)}var H=o.sibling;if(H!==null){H.return=o.return,Yt=H;break e}Yt=o.return}}var W=e.current;for(Yt=W;Yt!==null;){u=Yt;var Z=u.child;if(u.subtreeFlags&2064&&Z!==null)Z.return=u,Yt=Z;else e:for(u=W;Yt!==null;){if(m=Yt,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:FN(9,m)}}catch(me){sr(m,m.return,me)}if(m===u){Yt=null;break e}var pe=m.sibling;if(pe!==null){pe.return=m.return,Yt=pe;break e}Yt=m.return}}if(Xs=a,fu(),Al&&typeof Al.onPostCommitFiberRoot=="function")try{Al.onPostCommitFiberRoot(PN,e)}catch{}r=!0}return r}finally{ci=i,so.transition=t}}return!1}function G3(e,t,i){t=rg(i,t),t=RB(e,t,1),e=Kd(e,t,1),t=Ln(),e!==null&&(hv(e,1,t),oa(e,t))}function sr(e,t,i){if(e.tag===3)G3(e,e,i);else for(;t!==null;){if(t.tag===3){G3(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yd===null||!Yd.has(r))){e=rg(i,e),e=FB(t,e,1),t=Kd(t,e,1),e=Ln(),t!==null&&(hv(t,1,e),oa(t,e));break}}t=t.return}}function CZ(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),t=Ln(),e.pingedLanes|=e.suspendedLanes&i,Br===e&&(en&i)===i&&(Mr===4||Mr===3&&(en&130023424)===en&&500>ur()-fP?Fh(e,0):mP|=i),oa(e,t)}function r6(e,t){t===0&&(e.mode&1?(t=p1,p1<<=1,!(p1&130023424)&&(p1=4194304)):t=1);var i=Ln();e=Ec(e,t),e!==null&&(hv(e,t,i),oa(e,i))}function TZ(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),r6(e,i)}function PZ(e,t){var i=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(i=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(jt(314))}r!==null&&r.delete(t),r6(e,i)}var n6;n6=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||na.current)ra=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return ra=!1,xZ(e,t,i);ra=!!(e.flags&131072)}else ra=!1,Di&&t.flags&1048576&&cB(t,A_,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;X1(e,t),e=t.pendingProps;var a=eg(t,gn.current);Tf(t,i),a=lP(null,t,r,e,a,i);var o=cP();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,aa(r)?(o=!0,k_(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,iP(t),a.updater=RN,t.stateNode=a,a._reactInternals=t,JA(t,r,e,i),t=sC(null,t,r,!0,o,i)):(t.tag=0,Di&&o&&XT(t),En(null,t,a,i),t=t.child),t;case 16:r=t.elementType;e:{switch(X1(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=EZ(r),e=So(r,e),a){case 0:t=tC(null,t,r,e,i);break e;case 1:t=D3(null,t,r,e,i);break e;case 11:t=L3(null,t,r,e,i);break e;case 14:t=O3(null,t,r,So(r.type,e),i);break e}throw Error(jt(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:So(r,a),tC(e,t,r,a,i);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:So(r,a),D3(e,t,r,a,i);case 3:e:{if(HB(t),e===null)throw Error(jt(387));r=t.pendingProps,o=t.memoizedState,a=o.element,fB(e,t),P_(t,r,null,i);var u=t.memoizedState;if(r=u.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=rg(Error(jt(423)),t),t=R3(e,t,r,i,a);break e}else if(r!==a){a=rg(Error(jt(424)),t),t=R3(e,t,r,i,a);break e}else for(ja=qd(t.stateNode.containerInfo.firstChild),ka=t,Di=!0,To=null,i=pB(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(tg(),r===a){t=Ic(e,t,i);break e}En(e,t,r,i)}t=t.child}return t;case 5:return gB(t),e===null&&XA(t),r=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,u=a.children,UA(r,a)?u=null:o!==null&&UA(r,o)&&(t.flags|=32),WB(e,t),En(e,t,u,i),t.child;case 6:return e===null&&XA(t),null;case 13:return VB(e,t,i);case 4:return rP(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=sg(t,null,r,i):En(e,t,r,i),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:So(r,a),L3(e,t,r,a,i);case 7:return En(e,t,t.pendingProps,i),t.child;case 8:return En(e,t,t.pendingProps.children,i),t.child;case 12:return En(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,u=a.value,Ai(C_,r._currentValue),r._currentValue=u,o!==null)if(Bo(o.value,u)){if(o.children===a.children&&!na.current){t=Ic(e,t,i);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var m=o.dependencies;if(m!==null){u=o.child;for(var x=m.firstContext;x!==null;){if(x.context===r){if(o.tag===1){x=Sc(-1,i&-i),x.tag=2;var w=o.updateQueue;if(w!==null){w=w.shared;var A=w.pending;A===null?x.next=x:(x.next=A.next,A.next=x),w.pending=x}}o.lanes|=i,x=o.alternate,x!==null&&(x.lanes|=i),ZA(o.return,i,t),m.lanes|=i;break}x=x.next}}else if(o.tag===10)u=o.type===t.type?null:o.child;else if(o.tag===18){if(u=o.return,u===null)throw Error(jt(341));u.lanes|=i,m=u.alternate,m!==null&&(m.lanes|=i),ZA(u,i,t),u=o.sibling}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===t){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}En(e,t,a.children,i),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Tf(t,i),a=no(a),r=r(a),t.flags|=1,En(e,t,r,i),t.child;case 14:return r=t.type,a=So(r,t.pendingProps),a=So(r.type,a),O3(e,t,r,a,i);case 15:return zB(e,t,t.type,t.pendingProps,i);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:So(r,a),X1(e,t),t.tag=1,aa(r)?(e=!0,k_(t)):e=!1,Tf(t,i),DB(t,r,a),JA(t,r,a,i),sC(null,t,r,!0,e,i);case 19:return $B(e,t,i);case 22:return BB(e,t,i)}throw Error(jt(156,t.tag))};function a6(e,t){return Iz(e,t)}function MZ(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function to(e,t,i,r){return new MZ(e,t,i,r)}function vP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function EZ(e){if(typeof e=="function")return vP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===FT)return 11;if(e===zT)return 14}return 2}function Zd(e,t){var i=e.alternate;return i===null?(i=to(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function J1(e,t,i,r,a,o){var u=2;if(r=e,typeof e=="function")vP(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case af:return zh(i.children,a,o,t);case RT:u=8,a|=8;break;case NA:return e=to(12,i,t,a|2),e.elementType=NA,e.lanes=o,e;case jA:return e=to(13,i,t,a),e.elementType=jA,e.lanes=o,e;case kA:return e=to(19,i,t,a),e.elementType=kA,e.lanes=o,e;case gz:return BN(i,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mz:u=10;break e;case fz:u=9;break e;case FT:u=11;break e;case zT:u=14;break e;case Ad:u=16,r=null;break e}throw Error(jt(130,e==null?e:typeof e,""))}return t=to(u,i,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function zh(e,t,i,r){return e=to(7,e,r,t),e.lanes=i,e}function BN(e,t,i,r){return e=to(22,e,r,t),e.elementType=gz,e.lanes=i,e.stateNode={isHidden:!1},e}function IS(e,t,i){return e=to(6,e,null,t),e.lanes=i,e}function LS(e,t,i){return t=to(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function IZ(e,t,i,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mS(0),this.expirationTimes=mS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mS(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function bP(e,t,i,r,a,o,u,m,x){return e=new IZ(e,t,i,m,x),t===1?(t=1,o===!0&&(t|=8)):t=0,o=to(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},iP(o),e}function LZ(e,t,i){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nf,key:r==null?null:""+r,children:e,containerInfo:t,implementation:i}}function o6(e){if(!e)return tu;e=e._reactInternals;e:{if(op(e)!==e||e.tag!==1)throw Error(jt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(aa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(jt(171))}if(e.tag===1){var i=e.type;if(aa(i))return oB(e,i,t)}return t}function l6(e,t,i,r,a,o,u,m,x){return e=bP(i,r,!0,e,a,o,u,m,x),e.context=o6(null),i=e.current,r=Ln(),a=Xd(i),o=Sc(r,a),o.callback=t??null,Kd(i,o,a),e.current.lanes=a,hv(e,a,r),oa(e,r),e}function WN(e,t,i,r){var a=t.current,o=Ln(),u=Xd(a);return i=o6(i),t.context===null?t.context=i:t.pendingContext=i,t=Sc(o,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kd(a,t,u),e!==null&&(Do(e,a,u,o),q1(e,a,u)),u}function F_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function q3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function wP(e,t){q3(e,t),(e=e.alternate)&&q3(e,t)}function OZ(){return null}var c6=typeof reportError=="function"?reportError:function(e){console.error(e)};function _P(e){this._internalRoot=e}HN.prototype.render=_P.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(jt(409));WN(e,t,null,null)};HN.prototype.unmount=_P.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yh(function(){WN(null,e,null,null)}),t[Mc]=null}};function HN(e){this._internalRoot=e}HN.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bz();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Td.length&&t!==0&&t<Td[i].priority;i++);Td.splice(i,0,e),i===0&&Hz(e)}};function NP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function VN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function K3(){}function DZ(e,t,i,r,a){if(a){if(typeof r=="function"){var o=r;r=function(){var w=F_(u);o.call(w)}}var u=l6(t,r,e,0,null,!1,!1,"",K3);return e._reactRootContainer=u,e[Mc]=u.current,_y(e.nodeType===8?e.parentNode:e),Yh(),u}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var m=r;r=function(){var w=F_(x);m.call(w)}}var x=bP(e,0,!1,null,null,!1,!1,"",K3);return e._reactRootContainer=x,e[Mc]=x.current,_y(e.nodeType===8?e.parentNode:e),Yh(function(){WN(t,x,i,r)}),x}function $N(e,t,i,r,a){var o=i._reactRootContainer;if(o){var u=o;if(typeof a=="function"){var m=a;a=function(){var x=F_(u);m.call(x)}}WN(t,u,e,a)}else u=DZ(i,t,e,a,r);return F_(u)}Fz=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=B0(t.pendingLanes);i!==0&&(HT(t,i|1),oa(t,ur()),!(Xs&6)&&(ng=ur()+500,fu()))}break;case 13:Yh(function(){var r=Ec(e,1);if(r!==null){var a=Ln();Do(r,e,1,a)}}),wP(e,1)}};VT=function(e){if(e.tag===13){var t=Ec(e,134217728);if(t!==null){var i=Ln();Do(t,e,134217728,i)}wP(e,134217728)}};zz=function(e){if(e.tag===13){var t=Xd(e),i=Ec(e,t);if(i!==null){var r=Ln();Do(i,e,t,r)}wP(e,t)}};Bz=function(){return ci};Wz=function(e,t){var i=ci;try{return ci=e,t()}finally{ci=i}};OA=function(e,t,i){switch(t){case"input":if(CA(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var a=LN(r);if(!a)throw Error(jt(90));yz(r),CA(r,a)}}}break;case"textarea":bz(e,i);break;case"select":t=i.value,t!=null&&kf(e,!!i.multiple,t,!1)}};Az=gP;Cz=Yh;var RZ={usingClientEntryPoint:!1,Events:[mv,df,LN,kz,Sz,gP]},A0={findFiberByHostInstance:kh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FZ={bundleType:A0.bundleType,version:A0.version,rendererPackageName:A0.rendererPackageName,rendererConfig:A0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$c.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mz(e),e===null?null:e.stateNode},findFiberByHostInstance:A0.findFiberByHostInstance||OZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var j1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!j1.isDisabled&&j1.supportsFiber)try{PN=j1.inject(FZ),Al=j1}catch{}}Ia.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RZ;Ia.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!NP(t))throw Error(jt(200));return LZ(e,t,null,i)};Ia.createRoot=function(e,t){if(!NP(e))throw Error(jt(299));var i=!1,r="",a=c6;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=bP(e,1,!1,null,null,i,!1,r,a),e[Mc]=t.current,_y(e.nodeType===8?e.parentNode:e),new _P(t)};Ia.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(jt(188)):(e=Object.keys(e).join(","),Error(jt(268,e)));return e=Mz(t),e=e===null?null:e.stateNode,e};Ia.flushSync=function(e){return Yh(e)};Ia.hydrate=function(e,t,i){if(!VN(t))throw Error(jt(200));return $N(null,e,t,!0,i)};Ia.hydrateRoot=function(e,t,i){if(!NP(e))throw Error(jt(405));var r=i!=null&&i.hydratedSources||null,a=!1,o="",u=c6;if(i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onRecoverableError!==void 0&&(u=i.onRecoverableError)),t=l6(t,null,e,1,i??null,a,!1,o,u),e[Mc]=t.current,_y(e),r)for(e=0;e<r.length;e++)i=r[e],a=i._getVersion,a=a(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,a]:t.mutableSourceEagerHydrationData.push(i,a);return new HN(t)};Ia.render=function(e,t,i){if(!VN(t))throw Error(jt(200));return $N(null,e,t,!1,i)};Ia.unmountComponentAtNode=function(e){if(!VN(e))throw Error(jt(40));return e._reactRootContainer?(Yh(function(){$N(null,null,e,!1,function(){e._reactRootContainer=null,e[Mc]=null})}),!0):!1};Ia.unstable_batchedUpdates=gP;Ia.unstable_renderSubtreeIntoContainer=function(e,t,i,r){if(!VN(i))throw Error(jt(200));if(e==null||e._reactInternals===void 0)throw Error(jt(38));return $N(e,t,i,!1,r)};Ia.version="18.3.1-next-f1338f8080-20240426";function d6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d6)}catch(e){console.error(e)}}d6(),dz.exports=Ia;var lp=dz.exports;const zZ=dv(lp);var u6,Y3=lp;u6=Y3.createRoot,Y3.hydrateRoot;function BZ(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var i,r,a,o,u=[],m="",x=e.split("/");for(x[0]||x.shift();a=x.shift();)i=a[0],i==="*"?(u.push(i),m+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):i===":"?(r=a.indexOf("?",1),o=a.indexOf(".",1),u.push(a.substring(1,~r?r:~o?o:a.length)),m+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(m+=(~r?"?":"")+"\\"+a.substring(o))):m+="/"+a;return{keys:u,pattern:new RegExp("^"+m+(t?"(?=$|/)":"/?$"),"i")}}var h6={exports:{}},p6={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag=V;function WZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HZ=typeof Object.is=="function"?Object.is:WZ,VZ=ag.useState,$Z=ag.useEffect,UZ=ag.useLayoutEffect,GZ=ag.useDebugValue;function qZ(e,t){var i=t(),r=VZ({inst:{value:i,getSnapshot:t}}),a=r[0].inst,o=r[1];return UZ(function(){a.value=i,a.getSnapshot=t,OS(a)&&o({inst:a})},[e,i,t]),$Z(function(){return OS(a)&&o({inst:a}),e(function(){OS(a)&&o({inst:a})})},[e]),GZ(i),i}function OS(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!HZ(e,i)}catch{return!0}}function KZ(e,t){return t()}var YZ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?KZ:qZ;p6.useSyncExternalStore=ag.useSyncExternalStore!==void 0?ag.useSyncExternalStore:YZ;h6.exports=p6;var XZ=h6.exports;const ZZ=TN.useInsertionEffect,QZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JZ=QZ?V.useLayoutEffect:V.useEffect,eQ=ZZ||JZ,m6=e=>{const t=V.useRef([e,(...i)=>t[0](...i)]).current;return eQ(()=>{t[0]=e}),t[1]},tQ="popstate",jP="pushState",kP="replaceState",sQ="hashchange",X3=[tQ,jP,kP,sQ],iQ=e=>{for(const t of X3)addEventListener(t,e);return()=>{for(const t of X3)removeEventListener(t,e)}},f6=(e,t)=>XZ.useSyncExternalStore(iQ,e,t),rQ=()=>location.search,nQ=({ssrSearch:e=""}={})=>f6(rQ,()=>e),Z3=()=>location.pathname,aQ=({ssrPath:e}={})=>f6(Z3,e?()=>e:Z3),oQ=(e,{replace:t=!1,state:i=null}={})=>history[t?kP:jP](i,"",e),lQ=(e={})=>[aQ(e),oQ],Q3=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Q3]>"u"){for(const e of[jP,kP]){const t=history[e];history[e]=function(){const i=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),i}}Object.defineProperty(window,Q3,{value:!0})}const cQ=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",g6=(e="")=>e==="/"?"":e,dQ=(e,t)=>e[0]==="~"?e.slice(1):g6(t)+e,uQ=(e="",t)=>cQ(J3(g6(e)),J3(t)),J3=e=>{try{return decodeURI(e)}catch{return e}},x6={hook:lQ,searchHook:nQ,parser:BZ,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},y6=V.createContext(x6),Ng=()=>V.useContext(y6),v6={},b6=V.createContext(v6),da=()=>V.useContext(b6),UN=e=>{const[t,i]=e.hook(e);return[uQ(e.base,t),m6((r,a)=>i(dQ(r,e.base),a))]},Uc=()=>UN(Ng()),SP=(e,t,i,r)=>{const{pattern:a,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),u=a.exec(i)||[],[m,...x]=u;return m!==void 0?[!0,(()=>{const w=o!==!1?Object.fromEntries(o.map((E,O)=>[E,x[O]])):u.groups;let A={...x};return w&&Object.assign(A,w),A})(),...r?[m]:[]]:[!1,null]},AP=e=>SP(Ng().parser,e,Uc()[0]),hQ=({children:e,...t})=>{var A,E;const i=Ng(),r=t.hook?x6:i;let a=r;const[o,u]=((A=t.ssrPath)==null?void 0:A.split("?"))??[];u&&(t.ssrSearch=u,t.ssrPath=o),t.hrefs=t.hrefs??((E=t.hook)==null?void 0:E.hrefs);let m=V.useRef({}),x=m.current,w=x;for(let O in r){const G=O==="base"?r[O]+(t[O]||""):t[O]||r[O];x===w&&G!==w[O]&&(m.current=w={...w}),w[O]=G,G!==r[O]&&(a=w)}return V.createElement(y6.Provider,{value:a,children:e})},e5=({children:e,component:t},i)=>t?V.createElement(t,{params:i}):typeof e=="function"?e(i):e,pQ=e=>{let t=V.useRef(v6),i=t.current;for(const r in e)e[r]!==i[r]&&(i=e);return Object.keys(e).length===0&&(i=e),t.current=i},cs=({path:e,nest:t,match:i,...r})=>{const a=Ng(),[o]=UN(a),[u,m,x]=i??SP(a.parser,e,o,t),w=pQ({...da(),...m});if(!u)return null;const A=x?V.createElement(hQ,{base:x},e5(r,w)):e5(r,w);return V.createElement(b6.Provider,{value:w,children:A})},gt=V.forwardRef((e,t)=>{const i=Ng(),[r,a]=UN(i),{to:o="",href:u=o,onClick:m,asChild:x,children:w,className:A,replace:E,state:O,...G}=e,te=m6(J=>{J.ctrlKey||J.metaKey||J.altKey||J.shiftKey||J.button!==0||(m==null||m(J),J.defaultPrevented||(J.preventDefault(),a(u,e)))}),Q=i.hrefs(u[0]==="~"?u.slice(1):i.base+u,i);return x&&V.isValidElement(w)?V.cloneElement(w,{onClick:te,href:Q}):V.createElement("a",{...G,onClick:te,href:Q,className:A!=null&&A.call?A(r===u):A,children:w,ref:t})}),w6=e=>Array.isArray(e)?e.flatMap(t=>w6(t&&t.type===V.Fragment?t.props.children:t)):[e],mC=({children:e,location:t})=>{const i=Ng(),[r]=UN(i);for(const a of w6(e)){let o=0;if(V.isValidElement(a)&&(o=SP(i.parser,a.props.path,t||r,a.props.nest))[0])return V.cloneElement(a,{match:o})}return null};var jg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xh=typeof window>"u"||"Deno"in globalThis;function Za(){}function mQ(e,t){return typeof e=="function"?e(t):e}function fC(e){return typeof e=="number"&&e>=0&&e!==1/0}function _6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Mf(e,t){return typeof e=="function"?e(t):e}function Po(e,t){return typeof e=="function"?e(t):e}function t5(e,t){const{type:i="all",exact:r,fetchStatus:a,predicate:o,queryKey:u,stale:m}=e;if(u){if(r){if(t.queryHash!==CP(u,t.options))return!1}else if(!My(t.queryKey,u))return!1}if(i!=="all"){const x=t.isActive();if(i==="active"&&!x||i==="inactive"&&x)return!1}return!(typeof m=="boolean"&&t.isStale()!==m||a&&a!==t.state.fetchStatus||o&&!o(t))}function s5(e,t){const{exact:i,status:r,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(i){if(Zh(t.options.mutationKey)!==Zh(o))return!1}else if(!My(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function CP(e,t){return((t==null?void 0:t.queryKeyHashFn)||Zh)(e)}function Zh(e){return JSON.stringify(e,(t,i)=>gC(i)?Object.keys(i).sort().reduce((r,a)=>(r[a]=i[a],r),{}):i)}function My(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(i=>!My(e[i],t[i])):!1}function N6(e,t){if(e===t)return e;const i=i5(e)&&i5(t);if(i||gC(e)&&gC(t)){const r=i?e:Object.keys(e),a=r.length,o=i?t:Object.keys(t),u=o.length,m=i?[]:{};let x=0;for(let w=0;w<u;w++){const A=i?w:o[w];(!i&&r.includes(A)||i)&&e[A]===void 0&&t[A]===void 0?(m[A]=void 0,x++):(m[A]=N6(e[A],t[A]),m[A]===e[A]&&e[A]!==void 0&&x++)}return a===u&&x===a?e:m}return t}function z_(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}function i5(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function gC(e){if(!r5(e))return!1;const t=e.constructor;if(t===void 0)return!0;const i=t.prototype;return!(!r5(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function r5(e){return Object.prototype.toString.call(e)==="[object Object]"}function fQ(e){return new Promise(t=>{setTimeout(t,e)})}function xC(e,t,i){return typeof i.structuralSharing=="function"?i.structuralSharing(e,t):i.structuralSharing!==!1?N6(e,t):t}function gQ(e,t,i=0){const r=[...e,t];return i&&r.length>i?r.slice(1):r}function xQ(e,t,i=0){const r=[t,...e];return i&&r.length>i?r.slice(0,-1):r}var TP=Symbol();function j6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===TP?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Mh,Id,Bf,sO,yQ=(sO=class extends jg{constructor(){super();hs(this,Mh);hs(this,Id);hs(this,Bf);Vt(this,Bf,t=>{if(!Xh&&window.addEventListener){const i=()=>t();return window.addEventListener("visibilitychange",i,!1),()=>{window.removeEventListener("visibilitychange",i)}}})}onSubscribe(){Fe(this,Id)||this.setEventListener(Fe(this,Bf))}onUnsubscribe(){var t;this.hasListeners()||((t=Fe(this,Id))==null||t.call(this),Vt(this,Id,void 0))}setEventListener(t){var i;Vt(this,Bf,t),(i=Fe(this,Id))==null||i.call(this),Vt(this,Id,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Fe(this,Mh)!==t&&(Vt(this,Mh,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(i=>{i(t)})}isFocused(){var t;return typeof Fe(this,Mh)=="boolean"?Fe(this,Mh):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Mh=new WeakMap,Id=new WeakMap,Bf=new WeakMap,sO),PP=new yQ,Wf,Ld,Hf,iO,vQ=(iO=class extends jg{constructor(){super();hs(this,Wf,!0);hs(this,Ld);hs(this,Hf);Vt(this,Hf,t=>{if(!Xh&&window.addEventListener){const i=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",i,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",r)}}})}onSubscribe(){Fe(this,Ld)||this.setEventListener(Fe(this,Hf))}onUnsubscribe(){var t;this.hasListeners()||((t=Fe(this,Ld))==null||t.call(this),Vt(this,Ld,void 0))}setEventListener(t){var i;Vt(this,Hf,t),(i=Fe(this,Ld))==null||i.call(this),Vt(this,Ld,t(this.setOnline.bind(this)))}setOnline(t){Fe(this,Wf)!==t&&(Vt(this,Wf,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Fe(this,Wf)}},Wf=new WeakMap,Ld=new WeakMap,Hf=new WeakMap,iO),B_=new vQ;function yC(){let e,t;const i=new Promise((a,o)=>{e=a,t=o});i.status="pending",i.catch(()=>{});function r(a){Object.assign(i,a),delete i.resolve,delete i.reject}return i.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},i.reject=a=>{r({status:"rejected",reason:a}),t(a)},i}function bQ(e){return Math.min(1e3*2**e,3e4)}function k6(e){return(e??"online")==="online"?B_.isOnline():!0}var S6=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function DS(e){return e instanceof S6}function A6(e){let t=!1,i=0,r=!1,a;const o=yC(),u=Q=>{var J;r||(O(new S6(Q)),(J=e.abort)==null||J.call(e))},m=()=>{t=!0},x=()=>{t=!1},w=()=>PP.isFocused()&&(e.networkMode==="always"||B_.isOnline())&&e.canRun(),A=()=>k6(e.networkMode)&&e.canRun(),E=Q=>{var J;r||(r=!0,(J=e.onSuccess)==null||J.call(e,Q),a==null||a(),o.resolve(Q))},O=Q=>{var J;r||(r=!0,(J=e.onError)==null||J.call(e,Q),a==null||a(),o.reject(Q))},G=()=>new Promise(Q=>{var J;a=H=>{(r||w())&&Q(H)},(J=e.onPause)==null||J.call(e)}).then(()=>{var Q;a=void 0,r||(Q=e.onContinue)==null||Q.call(e)}),te=()=>{if(r)return;let Q;const J=i===0?e.initialPromise:void 0;try{Q=J??e.fn()}catch(H){Q=Promise.reject(H)}Promise.resolve(Q).then(E).catch(H=>{var we;if(r)return;const W=e.retry??(Xh?0:3),Z=e.retryDelay??bQ,pe=typeof Z=="function"?Z(i,H):Z,me=W===!0||typeof W=="number"&&i<W||typeof W=="function"&&W(i,H);if(t||!me){O(H);return}i++,(we=e.onFail)==null||we.call(e,i,H),fQ(pe).then(()=>w()?void 0:G()).then(()=>{t?O(H):te()})})};return{promise:o,cancel:u,continue:()=>(a==null||a(),o),cancelRetry:m,continueRetry:x,canStart:A,start:()=>(A()?te():G().then(te),o)}}function wQ(){let e=[],t=0,i=m=>{m()},r=m=>{m()},a=m=>setTimeout(m,0);const o=m=>{t?e.push(m):a(()=>{i(m)})},u=()=>{const m=e;e=[],m.length&&a(()=>{r(()=>{m.forEach(x=>{i(x)})})})};return{batch:m=>{let x;t++;try{x=m()}finally{t--,t||u()}return x},batchCalls:m=>(...x)=>{o(()=>{m(...x)})},schedule:o,setNotifyFunction:m=>{i=m},setBatchNotifyFunction:m=>{r=m},setScheduler:m=>{a=m}}}var Pr=wQ(),Eh,rO,C6=(rO=class{constructor(){hs(this,Eh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fC(this.gcTime)&&Vt(this,Eh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xh?1/0:5*60*1e3))}clearGcTimeout(){Fe(this,Eh)&&(clearTimeout(Fe(this,Eh)),Vt(this,Eh,void 0))}},Eh=new WeakMap,rO),Vf,$f,Xa,dn,av,Ih,Ao,fc,nO,_Q=(nO=class extends C6{constructor(t){super();hs(this,Ao);hs(this,Vf);hs(this,$f);hs(this,Xa);hs(this,dn);hs(this,av);hs(this,Ih);Vt(this,Ih,!1),Vt(this,av,t.defaultOptions),this.setOptions(t.options),this.observers=[],Vt(this,Xa,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Vt(this,Vf,NQ(this.options)),this.state=t.state??Fe(this,Vf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Fe(this,dn))==null?void 0:t.promise}setOptions(t){this.options={...Fe(this,av),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Fe(this,Xa).remove(this)}setData(t,i){const r=xC(this.state.data,t,this.options);return Ts(this,Ao,fc).call(this,{data:r,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt,manual:i==null?void 0:i.manual}),r}setState(t,i){Ts(this,Ao,fc).call(this,{type:"setState",state:t,setStateOptions:i})}cancel(t){var r,a;const i=(r=Fe(this,dn))==null?void 0:r.promise;return(a=Fe(this,dn))==null||a.cancel(t),i?i.then(Za).catch(Za):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Fe(this,Vf))}isActive(){return this.observers.some(t=>Po(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===TP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!_6(this.state.dataUpdatedAt,t)}onFocus(){var i;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(i=Fe(this,dn))==null||i.continue()}onOnline(){var i;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(i=Fe(this,dn))==null||i.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Fe(this,Xa).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(i=>i!==t),this.observers.length||(Fe(this,dn)&&(Fe(this,Ih)?Fe(this,dn).cancel({revert:!0}):Fe(this,dn).cancelRetry()),this.scheduleGc()),Fe(this,Xa).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ts(this,Ao,fc).call(this,{type:"invalidate"})}fetch(t,i){var x,w,A;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(Fe(this,dn))return Fe(this,dn).continueRetry(),Fe(this,dn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const E=this.observers.find(O=>O.options.queryFn);E&&this.setOptions(E.options)}const r=new AbortController,a=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(Vt(this,Ih,!0),r.signal)})},o=()=>{const E=j6(this.options,i),O={queryKey:this.queryKey,meta:this.meta};return a(O),Vt(this,Ih,!1),this.options.persister?this.options.persister(E,O,this):E(O)},u={fetchOptions:i,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(u),(x=this.options.behavior)==null||x.onFetch(u,this),Vt(this,$f,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((w=u.fetchOptions)==null?void 0:w.meta))&&Ts(this,Ao,fc).call(this,{type:"fetch",meta:(A=u.fetchOptions)==null?void 0:A.meta});const m=E=>{var O,G,te,Q;DS(E)&&E.silent||Ts(this,Ao,fc).call(this,{type:"error",error:E}),DS(E)||((G=(O=Fe(this,Xa).config).onError)==null||G.call(O,E,this),(Q=(te=Fe(this,Xa).config).onSettled)==null||Q.call(te,this.state.data,E,this)),this.scheduleGc()};return Vt(this,dn,A6({initialPromise:i==null?void 0:i.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:E=>{var O,G,te,Q;if(E===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(E)}catch(J){m(J);return}(G=(O=Fe(this,Xa).config).onSuccess)==null||G.call(O,E,this),(Q=(te=Fe(this,Xa).config).onSettled)==null||Q.call(te,E,this.state.error,this),this.scheduleGc()},onError:m,onFail:(E,O)=>{Ts(this,Ao,fc).call(this,{type:"failed",failureCount:E,error:O})},onPause:()=>{Ts(this,Ao,fc).call(this,{type:"pause"})},onContinue:()=>{Ts(this,Ao,fc).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),Fe(this,dn).start()}},Vf=new WeakMap,$f=new WeakMap,Xa=new WeakMap,dn=new WeakMap,av=new WeakMap,Ih=new WeakMap,Ao=new WeakSet,fc=function(t){const i=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...T6(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return DS(a)&&a.revert&&Fe(this,$f)?{...Fe(this,$f),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=i(this.state),Pr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Fe(this,Xa).notify({query:this,type:"updated",action:t})})},nO);function T6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:k6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function NQ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,i=t!==void 0,r=i?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:i?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}var bl,aO,jQ=(aO=class extends jg{constructor(t={}){super();hs(this,bl);this.config=t,Vt(this,bl,new Map)}build(t,i,r){const a=i.queryKey,o=i.queryHash??CP(a,i);let u=this.get(o);return u||(u=new _Q({cache:this,queryKey:a,queryHash:o,options:t.defaultQueryOptions(i),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(u)),u}add(t){Fe(this,bl).has(t.queryHash)||(Fe(this,bl).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const i=Fe(this,bl).get(t.queryHash);i&&(t.destroy(),i===t&&Fe(this,bl).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Pr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Fe(this,bl).get(t)}getAll(){return[...Fe(this,bl).values()]}find(t){const i={exact:!0,...t};return this.getAll().find(r=>t5(i,r))}findAll(t={}){const i=this.getAll();return Object.keys(t).length>0?i.filter(r=>t5(t,r)):i}notify(t){Pr.batch(()=>{this.listeners.forEach(i=>{i(t)})})}onFocus(){Pr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Pr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},bl=new WeakMap,aO),wl,Tn,Lh,_l,jd,oO,kQ=(oO=class extends C6{constructor(t){super();hs(this,_l);hs(this,wl);hs(this,Tn);hs(this,Lh);this.mutationId=t.mutationId,Vt(this,Tn,t.mutationCache),Vt(this,wl,[]),this.state=t.state||P6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Fe(this,wl).includes(t)||(Fe(this,wl).push(t),this.clearGcTimeout(),Fe(this,Tn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Vt(this,wl,Fe(this,wl).filter(i=>i!==t)),this.scheduleGc(),Fe(this,Tn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Fe(this,wl).length||(this.state.status==="pending"?this.scheduleGc():Fe(this,Tn).remove(this))}continue(){var t;return((t=Fe(this,Lh))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,u,m,x,w,A,E,O,G,te,Q,J,H,W,Z,pe,me,we,_e;Vt(this,Lh,A6({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(de,Ae)=>{Ts(this,_l,jd).call(this,{type:"failed",failureCount:de,error:Ae})},onPause:()=>{Ts(this,_l,jd).call(this,{type:"pause"})},onContinue:()=>{Ts(this,_l,jd).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Fe(this,Tn).canRun(this)}));const i=this.state.status==="pending",r=!Fe(this,Lh).canStart();try{if(!i){Ts(this,_l,jd).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(a=Fe(this,Tn).config).onMutate)==null?void 0:o.call(a,t,this));const Ae=await((m=(u=this.options).onMutate)==null?void 0:m.call(u,t));Ae!==this.state.context&&Ts(this,_l,jd).call(this,{type:"pending",context:Ae,variables:t,isPaused:r})}const de=await Fe(this,Lh).start();return await((w=(x=Fe(this,Tn).config).onSuccess)==null?void 0:w.call(x,de,t,this.state.context,this)),await((E=(A=this.options).onSuccess)==null?void 0:E.call(A,de,t,this.state.context)),await((G=(O=Fe(this,Tn).config).onSettled)==null?void 0:G.call(O,de,null,this.state.variables,this.state.context,this)),await((Q=(te=this.options).onSettled)==null?void 0:Q.call(te,de,null,t,this.state.context)),Ts(this,_l,jd).call(this,{type:"success",data:de}),de}catch(de){try{throw await((H=(J=Fe(this,Tn).config).onError)==null?void 0:H.call(J,de,t,this.state.context,this)),await((Z=(W=this.options).onError)==null?void 0:Z.call(W,de,t,this.state.context)),await((me=(pe=Fe(this,Tn).config).onSettled)==null?void 0:me.call(pe,void 0,de,this.state.variables,this.state.context,this)),await((_e=(we=this.options).onSettled)==null?void 0:_e.call(we,void 0,de,t,this.state.context)),de}finally{Ts(this,_l,jd).call(this,{type:"error",error:de})}}finally{Fe(this,Tn).runNext(this)}}},wl=new WeakMap,Tn=new WeakMap,Lh=new WeakMap,_l=new WeakSet,jd=function(t){const i=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=i(this.state),Pr.batch(()=>{Fe(this,wl).forEach(r=>{r.onMutationUpdate(t)}),Fe(this,Tn).notify({mutation:this,type:"updated",action:t})})},oO);function P6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var va,ov,lO,SQ=(lO=class extends jg{constructor(t={}){super();hs(this,va);hs(this,ov);this.config=t,Vt(this,va,new Map),Vt(this,ov,Date.now())}build(t,i,r){const a=new kQ({mutationCache:this,mutationId:++o1(this,ov)._,options:t.defaultMutationOptions(i),state:r});return this.add(a),a}add(t){const i=k1(t),r=Fe(this,va).get(i)??[];r.push(t),Fe(this,va).set(i,r),this.notify({type:"added",mutation:t})}remove(t){var r;const i=k1(t);if(Fe(this,va).has(i)){const a=(r=Fe(this,va).get(i))==null?void 0:r.filter(o=>o!==t);a&&(a.length===0?Fe(this,va).delete(i):Fe(this,va).set(i,a))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const i=(r=Fe(this,va).get(k1(t)))==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===t}runNext(t){var r;const i=(r=Fe(this,va).get(k1(t)))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}clear(){Pr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Fe(this,va).values()].flat()}find(t){const i={exact:!0,...t};return this.getAll().find(r=>s5(i,r))}findAll(t={}){return this.getAll().filter(i=>s5(t,i))}notify(t){Pr.batch(()=>{this.listeners.forEach(i=>{i(t)})})}resumePausedMutations(){const t=this.getAll().filter(i=>i.state.isPaused);return Pr.batch(()=>Promise.all(t.map(i=>i.continue().catch(Za))))}},va=new WeakMap,ov=new WeakMap,lO);function k1(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function n5(e){return{onFetch:(t,i)=>{var A,E,O,G,te;const r=t.options,a=(O=(E=(A=t.fetchOptions)==null?void 0:A.meta)==null?void 0:E.fetchMore)==null?void 0:O.direction,o=((G=t.state.data)==null?void 0:G.pages)||[],u=((te=t.state.data)==null?void 0:te.pageParams)||[];let m={pages:[],pageParams:[]},x=0;const w=async()=>{let Q=!1;const J=Z=>{Object.defineProperty(Z,"signal",{enumerable:!0,get:()=>(t.signal.aborted?Q=!0:t.signal.addEventListener("abort",()=>{Q=!0}),t.signal)})},H=j6(t.options,t.fetchOptions),W=async(Z,pe,me)=>{if(Q)return Promise.reject();if(pe==null&&Z.pages.length)return Promise.resolve(Z);const we={queryKey:t.queryKey,pageParam:pe,direction:me?"backward":"forward",meta:t.options.meta};J(we);const _e=await H(we),{maxPages:de}=t.options,Ae=me?xQ:gQ;return{pages:Ae(Z.pages,_e,de),pageParams:Ae(Z.pageParams,pe,de)}};if(a&&o.length){const Z=a==="backward",pe=Z?AQ:a5,me={pages:o,pageParams:u},we=pe(r,me);m=await W(me,we,Z)}else{const Z=e??o.length;do{const pe=x===0?u[0]??r.initialPageParam:a5(r,m);if(x>0&&pe==null)break;m=await W(m,pe),x++}while(x<Z)}return m};t.options.persister?t.fetchFn=()=>{var Q,J;return(J=(Q=t.options).persister)==null?void 0:J.call(Q,w,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},i)}:t.fetchFn=w}}}function a5(e,{pages:t,pageParams:i}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,i[r],i):void 0}function AQ(e,{pages:t,pageParams:i}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,i[0],i):void 0}var er,Od,Dd,Uf,Gf,Rd,qf,Kf,cO,CQ=(cO=class{constructor(e={}){hs(this,er);hs(this,Od);hs(this,Dd);hs(this,Uf);hs(this,Gf);hs(this,Rd);hs(this,qf);hs(this,Kf);Vt(this,er,e.queryCache||new jQ),Vt(this,Od,e.mutationCache||new SQ),Vt(this,Dd,e.defaultOptions||{}),Vt(this,Uf,new Map),Vt(this,Gf,new Map),Vt(this,Rd,0)}mount(){o1(this,Rd)._++,Fe(this,Rd)===1&&(Vt(this,qf,PP.subscribe(async e=>{e&&(await this.resumePausedMutations(),Fe(this,er).onFocus())})),Vt(this,Kf,B_.subscribe(async e=>{e&&(await this.resumePausedMutations(),Fe(this,er).onOnline())})))}unmount(){var e,t;o1(this,Rd)._--,Fe(this,Rd)===0&&((e=Fe(this,qf))==null||e.call(this),Vt(this,qf,void 0),(t=Fe(this,Kf))==null||t.call(this),Vt(this,Kf,void 0))}isFetching(e){return Fe(this,er).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Fe(this,Od).findAll({...e,status:"pending"}).length}getQueryData(e){var i;const t=this.defaultQueryOptions({queryKey:e});return(i=Fe(this,er).get(t.queryHash))==null?void 0:i.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const i=this.defaultQueryOptions(e),r=Fe(this,er).build(this,i);return e.revalidateIfStale&&r.isStaleByTime(Mf(i.staleTime,r))&&this.prefetchQuery(i),Promise.resolve(t)}}getQueriesData(e){return Fe(this,er).findAll(e).map(({queryKey:t,state:i})=>{const r=i.data;return[t,r]})}setQueryData(e,t,i){const r=this.defaultQueryOptions({queryKey:e}),a=Fe(this,er).get(r.queryHash),o=a==null?void 0:a.state.data,u=mQ(t,o);if(u!==void 0)return Fe(this,er).build(this,r).setData(u,{...i,manual:!0})}setQueriesData(e,t,i){return Pr.batch(()=>Fe(this,er).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,i)]))}getQueryState(e){var i;const t=this.defaultQueryOptions({queryKey:e});return(i=Fe(this,er).get(t.queryHash))==null?void 0:i.state}removeQueries(e){const t=Fe(this,er);Pr.batch(()=>{t.findAll(e).forEach(i=>{t.remove(i)})})}resetQueries(e,t){const i=Fe(this,er),r={type:"active",...e};return Pr.batch(()=>(i.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const i={revert:!0,...t},r=Pr.batch(()=>Fe(this,er).findAll(e).map(a=>a.cancel(i)));return Promise.all(r).then(Za).catch(Za)}invalidateQueries(e={},t={}){return Pr.batch(()=>{if(Fe(this,er).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const i={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(i,t)})}refetchQueries(e={},t){const i={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Pr.batch(()=>Fe(this,er).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,i);return i.throwOnError||(o=o.catch(Za)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Za)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const i=Fe(this,er).build(this,t);return i.isStaleByTime(Mf(t.staleTime,i))?i.fetch(t):Promise.resolve(i.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Za).catch(Za)}fetchInfiniteQuery(e){return e.behavior=n5(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Za).catch(Za)}ensureInfiniteQueryData(e){return e.behavior=n5(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return B_.isOnline()?Fe(this,Od).resumePausedMutations():Promise.resolve()}getQueryCache(){return Fe(this,er)}getMutationCache(){return Fe(this,Od)}getDefaultOptions(){return Fe(this,Dd)}setDefaultOptions(e){Vt(this,Dd,e)}setQueryDefaults(e,t){Fe(this,Uf).set(Zh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Fe(this,Uf).values()];let i={};return t.forEach(r=>{My(e,r.queryKey)&&(i={...i,...r.defaultOptions})}),i}setMutationDefaults(e,t){Fe(this,Gf).set(Zh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Fe(this,Gf).values()];let i={};return t.forEach(r=>{My(e,r.mutationKey)&&(i={...i,...r.defaultOptions})}),i}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Fe(this,Dd).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=CP(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===TP&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Fe(this,Dd).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Fe(this,er).clear(),Fe(this,Od).clear()}},er=new WeakMap,Od=new WeakMap,Dd=new WeakMap,Uf=new WeakMap,Gf=new WeakMap,Rd=new WeakMap,qf=new WeakMap,Kf=new WeakMap,cO),Jn,Hs,lv,Pn,Oh,Yf,Fd,Nl,cv,Xf,Zf,Dh,Rh,zd,Qf,ii,H0,vC,bC,wC,_C,NC,jC,kC,M6,dO,TQ=(dO=class extends jg{constructor(t,i){super();hs(this,ii);hs(this,Jn);hs(this,Hs);hs(this,lv);hs(this,Pn);hs(this,Oh);hs(this,Yf);hs(this,Fd);hs(this,Nl);hs(this,cv);hs(this,Xf);hs(this,Zf);hs(this,Dh);hs(this,Rh);hs(this,zd);hs(this,Qf,new Set);this.options=i,Vt(this,Jn,t),Vt(this,Nl,null),Vt(this,Fd,yC()),this.options.experimental_prefetchInRender||Fe(this,Fd).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(i)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Fe(this,Hs).addObserver(this),o5(Fe(this,Hs),this.options)?Ts(this,ii,H0).call(this):this.updateResult(),Ts(this,ii,_C).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return SC(Fe(this,Hs),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return SC(Fe(this,Hs),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ts(this,ii,NC).call(this),Ts(this,ii,jC).call(this),Fe(this,Hs).removeObserver(this)}setOptions(t,i){const r=this.options,a=Fe(this,Hs);if(this.options=Fe(this,Jn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Po(this.options.enabled,Fe(this,Hs))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ts(this,ii,kC).call(this),Fe(this,Hs).setOptions(this.options),r._defaulted&&!z_(this.options,r)&&Fe(this,Jn).getQueryCache().notify({type:"observerOptionsUpdated",query:Fe(this,Hs),observer:this});const o=this.hasListeners();o&&l5(Fe(this,Hs),a,this.options,r)&&Ts(this,ii,H0).call(this),this.updateResult(i),o&&(Fe(this,Hs)!==a||Po(this.options.enabled,Fe(this,Hs))!==Po(r.enabled,Fe(this,Hs))||Mf(this.options.staleTime,Fe(this,Hs))!==Mf(r.staleTime,Fe(this,Hs)))&&Ts(this,ii,vC).call(this);const u=Ts(this,ii,bC).call(this);o&&(Fe(this,Hs)!==a||Po(this.options.enabled,Fe(this,Hs))!==Po(r.enabled,Fe(this,Hs))||u!==Fe(this,zd))&&Ts(this,ii,wC).call(this,u)}getOptimisticResult(t){const i=Fe(this,Jn).getQueryCache().build(Fe(this,Jn),t),r=this.createResult(i,t);return MQ(this,r)&&(Vt(this,Pn,r),Vt(this,Yf,this.options),Vt(this,Oh,Fe(this,Hs).state)),r}getCurrentResult(){return Fe(this,Pn)}trackResult(t,i){const r={};return Object.keys(t).forEach(a=>{Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),i==null||i(a),t[a])})}),r}trackProp(t){Fe(this,Qf).add(t)}getCurrentQuery(){return Fe(this,Hs)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const i=Fe(this,Jn).defaultQueryOptions(t),r=Fe(this,Jn).getQueryCache().build(Fe(this,Jn),i);return r.fetch().then(()=>this.createResult(r,i))}fetch(t){return Ts(this,ii,H0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Fe(this,Pn)))}createResult(t,i){var de;const r=Fe(this,Hs),a=this.options,o=Fe(this,Pn),u=Fe(this,Oh),m=Fe(this,Yf),w=t!==r?t.state:Fe(this,lv),{state:A}=t;let E={...A},O=!1,G;if(i._optimisticResults){const Ae=this.hasListeners(),We=!Ae&&o5(t,i),tt=Ae&&l5(t,r,i,a);(We||tt)&&(E={...E,...T6(A.data,t.options)}),i._optimisticResults==="isRestoring"&&(E.fetchStatus="idle")}let{error:te,errorUpdatedAt:Q,status:J}=E;if(i.select&&E.data!==void 0)if(o&&E.data===(u==null?void 0:u.data)&&i.select===Fe(this,cv))G=Fe(this,Xf);else try{Vt(this,cv,i.select),G=i.select(E.data),G=xC(o==null?void 0:o.data,G,i),Vt(this,Xf,G),Vt(this,Nl,null)}catch(Ae){Vt(this,Nl,Ae)}else G=E.data;if(i.placeholderData!==void 0&&G===void 0&&J==="pending"){let Ae;if(o!=null&&o.isPlaceholderData&&i.placeholderData===(m==null?void 0:m.placeholderData))Ae=o.data;else if(Ae=typeof i.placeholderData=="function"?i.placeholderData((de=Fe(this,Zf))==null?void 0:de.state.data,Fe(this,Zf)):i.placeholderData,i.select&&Ae!==void 0)try{Ae=i.select(Ae),Vt(this,Nl,null)}catch(We){Vt(this,Nl,We)}Ae!==void 0&&(J="success",G=xC(o==null?void 0:o.data,Ae,i),O=!0)}Fe(this,Nl)&&(te=Fe(this,Nl),G=Fe(this,Xf),Q=Date.now(),J="error");const H=E.fetchStatus==="fetching",W=J==="pending",Z=J==="error",pe=W&&H,me=G!==void 0,_e={status:J,fetchStatus:E.fetchStatus,isPending:W,isSuccess:J==="success",isError:Z,isInitialLoading:pe,isLoading:pe,data:G,dataUpdatedAt:E.dataUpdatedAt,error:te,errorUpdatedAt:Q,failureCount:E.fetchFailureCount,failureReason:E.fetchFailureReason,errorUpdateCount:E.errorUpdateCount,isFetched:E.dataUpdateCount>0||E.errorUpdateCount>0,isFetchedAfterMount:E.dataUpdateCount>w.dataUpdateCount||E.errorUpdateCount>w.errorUpdateCount,isFetching:H,isRefetching:H&&!W,isLoadingError:Z&&!me,isPaused:E.fetchStatus==="paused",isPlaceholderData:O,isRefetchError:Z&&me,isStale:MP(t,i),refetch:this.refetch,promise:Fe(this,Fd)};if(this.options.experimental_prefetchInRender){const Ae=Xe=>{_e.status==="error"?Xe.reject(_e.error):_e.data!==void 0&&Xe.resolve(_e.data)},We=()=>{const Xe=Vt(this,Fd,_e.promise=yC());Ae(Xe)},tt=Fe(this,Fd);switch(tt.status){case"pending":t.queryHash===r.queryHash&&Ae(tt);break;case"fulfilled":(_e.status==="error"||_e.data!==tt.value)&&We();break;case"rejected":(_e.status!=="error"||_e.error!==tt.reason)&&We();break}}return _e}updateResult(t){const i=Fe(this,Pn),r=this.createResult(Fe(this,Hs),this.options);if(Vt(this,Oh,Fe(this,Hs).state),Vt(this,Yf,this.options),Fe(this,Oh).data!==void 0&&Vt(this,Zf,Fe(this,Hs)),z_(r,i))return;Vt(this,Pn,r);const a={},o=()=>{if(!i)return!0;const{notifyOnChangeProps:u}=this.options,m=typeof u=="function"?u():u;if(m==="all"||!m&&!Fe(this,Qf).size)return!0;const x=new Set(m??Fe(this,Qf));return this.options.throwOnError&&x.add("error"),Object.keys(Fe(this,Pn)).some(w=>{const A=w;return Fe(this,Pn)[A]!==i[A]&&x.has(A)})};(t==null?void 0:t.listeners)!==!1&&o()&&(a.listeners=!0),Ts(this,ii,M6).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ts(this,ii,_C).call(this)}},Jn=new WeakMap,Hs=new WeakMap,lv=new WeakMap,Pn=new WeakMap,Oh=new WeakMap,Yf=new WeakMap,Fd=new WeakMap,Nl=new WeakMap,cv=new WeakMap,Xf=new WeakMap,Zf=new WeakMap,Dh=new WeakMap,Rh=new WeakMap,zd=new WeakMap,Qf=new WeakMap,ii=new WeakSet,H0=function(t){Ts(this,ii,kC).call(this);let i=Fe(this,Hs).fetch(this.options,t);return t!=null&&t.throwOnError||(i=i.catch(Za)),i},vC=function(){Ts(this,ii,NC).call(this);const t=Mf(this.options.staleTime,Fe(this,Hs));if(Xh||Fe(this,Pn).isStale||!fC(t))return;const r=_6(Fe(this,Pn).dataUpdatedAt,t)+1;Vt(this,Dh,setTimeout(()=>{Fe(this,Pn).isStale||this.updateResult()},r))},bC=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Fe(this,Hs)):this.options.refetchInterval)??!1},wC=function(t){Ts(this,ii,jC).call(this),Vt(this,zd,t),!(Xh||Po(this.options.enabled,Fe(this,Hs))===!1||!fC(Fe(this,zd))||Fe(this,zd)===0)&&Vt(this,Rh,setInterval(()=>{(this.options.refetchIntervalInBackground||PP.isFocused())&&Ts(this,ii,H0).call(this)},Fe(this,zd)))},_C=function(){Ts(this,ii,vC).call(this),Ts(this,ii,wC).call(this,Ts(this,ii,bC).call(this))},NC=function(){Fe(this,Dh)&&(clearTimeout(Fe(this,Dh)),Vt(this,Dh,void 0))},jC=function(){Fe(this,Rh)&&(clearInterval(Fe(this,Rh)),Vt(this,Rh,void 0))},kC=function(){const t=Fe(this,Jn).getQueryCache().build(Fe(this,Jn),this.options);if(t===Fe(this,Hs))return;const i=Fe(this,Hs);Vt(this,Hs,t),Vt(this,lv,t.state),this.hasListeners()&&(i==null||i.removeObserver(this),t.addObserver(this))},M6=function(t){Pr.batch(()=>{t.listeners&&this.listeners.forEach(i=>{i(Fe(this,Pn))}),Fe(this,Jn).getQueryCache().notify({query:Fe(this,Hs),type:"observerResultsUpdated"})})},dO);function PQ(e,t){return Po(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function o5(e,t){return PQ(e,t)||e.state.data!==void 0&&SC(e,t,t.refetchOnMount)}function SC(e,t,i){if(Po(t.enabled,e)!==!1){const r=typeof i=="function"?i(e):i;return r==="always"||r!==!1&&MP(e,t)}return!1}function l5(e,t,i,r){return(e!==t||Po(r.enabled,e)===!1)&&(!i.suspense||e.state.status!=="error")&&MP(e,i)}function MP(e,t){return Po(t.enabled,e)!==!1&&e.isStaleByTime(Mf(t.staleTime,e))}function MQ(e,t){return!z_(e.getCurrentResult(),t)}var Bd,Wd,ea,bc,Tc,e_,AC,uO,EQ=(uO=class extends jg{constructor(i,r){super();hs(this,Tc);hs(this,Bd);hs(this,Wd);hs(this,ea);hs(this,bc);Vt(this,Bd,i),this.setOptions(r),this.bindMethods(),Ts(this,Tc,e_).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(i){var a;const r=this.options;this.options=Fe(this,Bd).defaultMutationOptions(i),z_(this.options,r)||Fe(this,Bd).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Fe(this,ea),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Zh(r.mutationKey)!==Zh(this.options.mutationKey)?this.reset():((a=Fe(this,ea))==null?void 0:a.state.status)==="pending"&&Fe(this,ea).setOptions(this.options)}onUnsubscribe(){var i;this.hasListeners()||(i=Fe(this,ea))==null||i.removeObserver(this)}onMutationUpdate(i){Ts(this,Tc,e_).call(this),Ts(this,Tc,AC).call(this,i)}getCurrentResult(){return Fe(this,Wd)}reset(){var i;(i=Fe(this,ea))==null||i.removeObserver(this),Vt(this,ea,void 0),Ts(this,Tc,e_).call(this),Ts(this,Tc,AC).call(this)}mutate(i,r){var a;return Vt(this,bc,r),(a=Fe(this,ea))==null||a.removeObserver(this),Vt(this,ea,Fe(this,Bd).getMutationCache().build(Fe(this,Bd),this.options)),Fe(this,ea).addObserver(this),Fe(this,ea).execute(i)}},Bd=new WeakMap,Wd=new WeakMap,ea=new WeakMap,bc=new WeakMap,Tc=new WeakSet,e_=function(){var r;const i=((r=Fe(this,ea))==null?void 0:r.state)??P6();Vt(this,Wd,{...i,isPending:i.status==="pending",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset})},AC=function(i){Pr.batch(()=>{var r,a,o,u,m,x,w,A;if(Fe(this,bc)&&this.hasListeners()){const E=Fe(this,Wd).variables,O=Fe(this,Wd).context;(i==null?void 0:i.type)==="success"?((a=(r=Fe(this,bc)).onSuccess)==null||a.call(r,i.data,E,O),(u=(o=Fe(this,bc)).onSettled)==null||u.call(o,i.data,null,E,O)):(i==null?void 0:i.type)==="error"&&((x=(m=Fe(this,bc)).onError)==null||x.call(m,i.error,E,O),(A=(w=Fe(this,bc)).onSettled)==null||A.call(w,void 0,i.error,E,O))}this.listeners.forEach(E=>{E(Fe(this,Wd))})})},uO),E6=V.createContext(void 0),I6=e=>{const t=V.useContext(E6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},IQ=({client:e,children:t})=>(V.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(E6.Provider,{value:e,children:t})),L6=V.createContext(!1),LQ=()=>V.useContext(L6);L6.Provider;function OQ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var DQ=V.createContext(OQ()),RQ=()=>V.useContext(DQ);function O6(e,t){return typeof e=="function"?e(...t):!!e}function CC(){}var FQ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},zQ=e=>{V.useEffect(()=>{e.clearReset()},[e])},BQ=({result:e,errorResetBoundary:t,throwOnError:i,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&O6(i,[e.error,r]),WQ=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},HQ=(e,t)=>e.isLoading&&e.isFetching&&!t,VQ=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,c5=(e,t,i)=>t.fetchOptimistic(e).catch(()=>{i.clearReset()});function $Q(e,t,i){var A,E,O,G,te;const r=I6(),a=LQ(),o=RQ(),u=r.defaultQueryOptions(e);(E=(A=r.getDefaultOptions().queries)==null?void 0:A._experimental_beforeQuery)==null||E.call(A,u),u._optimisticResults=a?"isRestoring":"optimistic",WQ(u),FQ(u,o),zQ(o);const m=!r.getQueryCache().get(u.queryHash),[x]=V.useState(()=>new t(r,u)),w=x.getOptimisticResult(u);if(V.useSyncExternalStore(V.useCallback(Q=>{const J=a?CC:x.subscribe(Pr.batchCalls(Q));return x.updateResult(),J},[x,a]),()=>x.getCurrentResult(),()=>x.getCurrentResult()),V.useEffect(()=>{x.setOptions(u,{listeners:!1})},[u,x]),VQ(u,w))throw c5(u,x,o);if(BQ({result:w,errorResetBoundary:o,throwOnError:u.throwOnError,query:r.getQueryCache().get(u.queryHash)}))throw w.error;if((G=(O=r.getDefaultOptions().queries)==null?void 0:O._experimental_afterQuery)==null||G.call(O,u,w),u.experimental_prefetchInRender&&!Xh&&HQ(w,a)){const Q=m?c5(u,x,o):(te=r.getQueryCache().get(u.queryHash))==null?void 0:te.promise;Q==null||Q.catch(CC).finally(()=>{x.updateResult()})}return u.notifyOnChangeProps?w:x.trackResult(w)}function yt(e,t){return $Q(e,TQ)}function Gc(e,t){const i=I6(),[r]=V.useState(()=>new EQ(i,e));V.useEffect(()=>{r.setOptions(e)},[r,e]);const a=V.useSyncExternalStore(V.useCallback(u=>r.subscribe(Pr.batchCalls(u)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=V.useCallback((u,m)=>{r.mutate(u,m).catch(CC)},[r]);if(a.error&&O6(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}async function D6(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function gu(e,t,i){const r=await fetch(t,{method:e,headers:i?{"Content-Type":"application/json"}:{},body:i?JSON.stringify(i):void 0,credentials:"include"});return await D6(r),r}const R6=({on401:e})=>async({queryKey:t})=>{const i=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&i.status===401?null:(await D6(i),await i.json())},la=new CQ({defaultOptions:{queries:{queryFn:R6({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function Mt(e,t,{checkForDefaultPrevented:i=!0}={}){return function(a){if(e==null||e(a),i===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function d5(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function GN(...e){return t=>{let i=!1;const r=e.map(a=>{const o=d5(a,t);return!i&&typeof o=="function"&&(i=!0),o});if(i)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():d5(e[a],null)}}}}function Os(...e){return V.useCallback(GN(...e),e)}function UQ(e,t){const i=V.createContext(t),r=o=>{const{children:u,...m}=o,x=V.useMemo(()=>m,Object.values(m));return s.jsx(i.Provider,{value:x,children:u})};r.displayName=e+"Provider";function a(o){const u=V.useContext(i);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,a]}function Bn(e,t=[]){let i=[];function r(o,u){const m=V.createContext(u),x=i.length;i=[...i,u];const w=E=>{var H;const{scope:O,children:G,...te}=E,Q=((H=O==null?void 0:O[e])==null?void 0:H[x])||m,J=V.useMemo(()=>te,Object.values(te));return s.jsx(Q.Provider,{value:J,children:G})};w.displayName=o+"Provider";function A(E,O){var Q;const G=((Q=O==null?void 0:O[e])==null?void 0:Q[x])||m,te=V.useContext(G);if(te)return te;if(u!==void 0)return u;throw new Error(`\`${E}\` must be used within \`${o}\``)}return[w,A]}const a=()=>{const o=i.map(u=>V.createContext(u));return function(m){const x=(m==null?void 0:m[e])||o;return V.useMemo(()=>({[`__scope${e}`]:{...m,[e]:x}}),[m,x])}};return a.scopeName=e,[r,GQ(a,...t)]}function GQ(...e){const t=e[0];if(e.length===1)return t;const i=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const u=r.reduce((m,{useScope:x,scopeName:w})=>{const E=x(o)[`__scope${w}`];return{...m,...E}},{});return V.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return i.scopeName=t.scopeName,i}function Qh(e){const t=KQ(e),i=V.forwardRef((r,a)=>{const{children:o,...u}=r,m=V.Children.toArray(o),x=m.find(XQ);if(x){const w=x.props.children,A=m.map(E=>E===x?V.Children.count(w)>1?V.Children.only(null):V.isValidElement(w)?w.props.children:null:E);return s.jsx(t,{...u,ref:a,children:V.isValidElement(w)?V.cloneElement(w,void 0,A):null})}return s.jsx(t,{...u,ref:a,children:o})});return i.displayName=`${e}.Slot`,i}var qQ=Qh("Slot");function KQ(e){const t=V.forwardRef((i,r)=>{const{children:a,...o}=i;if(V.isValidElement(a)){const u=QQ(a),m=ZQ(o,a.props);return a.type!==V.Fragment&&(m.ref=r?GN(r,u):u),V.cloneElement(a,m)}return V.Children.count(a)>1?V.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var F6=Symbol("radix.slottable");function YQ(e){const t=({children:i})=>s.jsx(s.Fragment,{children:i});return t.displayName=`${e}.Slottable`,t.__radixId=F6,t}function XQ(e){return V.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===F6}function ZQ(e,t){const i={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?i[r]=(...m)=>{o(...m),a(...m)}:a&&(i[r]=a):r==="style"?i[r]={...a,...o}:r==="className"&&(i[r]=[a,o].filter(Boolean).join(" "))}return{...e,...i}}function QQ(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,i=t&&"isReactWarning"in t&&t.isReactWarning;return i?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,i=t&&"isReactWarning"in t&&t.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}function qN(e){const t=e+"CollectionProvider",[i,r]=Bn(t),[a,o]=i(t,{collectionRef:{current:null},itemMap:new Map}),u=Q=>{const{scope:J,children:H}=Q,W=Cr.useRef(null),Z=Cr.useRef(new Map).current;return s.jsx(a,{scope:J,itemMap:Z,collectionRef:W,children:H})};u.displayName=t;const m=e+"CollectionSlot",x=Qh(m),w=Cr.forwardRef((Q,J)=>{const{scope:H,children:W}=Q,Z=o(m,H),pe=Os(J,Z.collectionRef);return s.jsx(x,{ref:pe,children:W})});w.displayName=m;const A=e+"CollectionItemSlot",E="data-radix-collection-item",O=Qh(A),G=Cr.forwardRef((Q,J)=>{const{scope:H,children:W,...Z}=Q,pe=Cr.useRef(null),me=Os(J,pe),we=o(A,H);return Cr.useEffect(()=>(we.itemMap.set(pe,{ref:pe,...Z}),()=>void we.itemMap.delete(pe))),s.jsx(O,{[E]:"",ref:me,children:W})});G.displayName=A;function te(Q){const J=o(e+"CollectionConsumer",Q);return Cr.useCallback(()=>{const W=J.collectionRef.current;if(!W)return[];const Z=Array.from(W.querySelectorAll(`[${E}]`));return Array.from(J.itemMap.values()).sort((we,_e)=>Z.indexOf(we.ref.current)-Z.indexOf(_e.ref.current))},[J.collectionRef,J.itemMap])}return[{Provider:u,Slot:w,ItemSlot:G},te,r]}var JQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],as=JQ.reduce((e,t)=>{const i=Qh(`Primitive.${t}`),r=V.forwardRef((a,o)=>{const{asChild:u,...m}=a,x=u?i:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(x,{...m,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function EP(e,t){e&&lp.flushSync(()=>e.dispatchEvent(t))}function Ri(e){const t=V.useRef(e);return V.useEffect(()=>{t.current=e}),V.useMemo(()=>(...i)=>{var r;return(r=t.current)==null?void 0:r.call(t,...i)},[])}function eJ(e,t=globalThis==null?void 0:globalThis.document){const i=Ri(e);V.useEffect(()=>{const r=a=>{a.key==="Escape"&&i(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[i,t])}var tJ="DismissableLayer",TC="dismissableLayer.update",sJ="dismissableLayer.pointerDownOutside",iJ="dismissableLayer.focusOutside",u5,z6=V.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kg=V.forwardRef((e,t)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:u,onDismiss:m,...x}=e,w=V.useContext(z6),[A,E]=V.useState(null),O=(A==null?void 0:A.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,G]=V.useState({}),te=Os(t,_e=>E(_e)),Q=Array.from(w.layers),[J]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),H=Q.indexOf(J),W=A?Q.indexOf(A):-1,Z=w.layersWithOutsidePointerEventsDisabled.size>0,pe=W>=H,me=nJ(_e=>{const de=_e.target,Ae=[...w.branches].some(We=>We.contains(de));!pe||Ae||(a==null||a(_e),u==null||u(_e),_e.defaultPrevented||m==null||m())},O),we=aJ(_e=>{const de=_e.target;[...w.branches].some(We=>We.contains(de))||(o==null||o(_e),u==null||u(_e),_e.defaultPrevented||m==null||m())},O);return eJ(_e=>{W===w.layers.size-1&&(r==null||r(_e),!_e.defaultPrevented&&m&&(_e.preventDefault(),m()))},O),V.useEffect(()=>{if(A)return i&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(u5=O.body.style.pointerEvents,O.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(A)),w.layers.add(A),h5(),()=>{i&&w.layersWithOutsidePointerEventsDisabled.size===1&&(O.body.style.pointerEvents=u5)}},[A,O,i,w]),V.useEffect(()=>()=>{A&&(w.layers.delete(A),w.layersWithOutsidePointerEventsDisabled.delete(A),h5())},[A,w]),V.useEffect(()=>{const _e=()=>G({});return document.addEventListener(TC,_e),()=>document.removeEventListener(TC,_e)},[]),s.jsx(as.div,{...x,ref:te,style:{pointerEvents:Z?pe?"auto":"none":void 0,...e.style},onFocusCapture:Mt(e.onFocusCapture,we.onFocusCapture),onBlurCapture:Mt(e.onBlurCapture,we.onBlurCapture),onPointerDownCapture:Mt(e.onPointerDownCapture,me.onPointerDownCapture)})});kg.displayName=tJ;var rJ="DismissableLayerBranch",B6=V.forwardRef((e,t)=>{const i=V.useContext(z6),r=V.useRef(null),a=Os(t,r);return V.useEffect(()=>{const o=r.current;if(o)return i.branches.add(o),()=>{i.branches.delete(o)}},[i.branches]),s.jsx(as.div,{...e,ref:a})});B6.displayName=rJ;function nJ(e,t=globalThis==null?void 0:globalThis.document){const i=Ri(e),r=V.useRef(!1),a=V.useRef(()=>{});return V.useEffect(()=>{const o=m=>{if(m.target&&!r.current){let x=function(){W6(sJ,i,w,{discrete:!0})};const w={originalEvent:m};m.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=x,t.addEventListener("click",a.current,{once:!0})):x()}else t.removeEventListener("click",a.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,i]),{onPointerDownCapture:()=>r.current=!0}}function aJ(e,t=globalThis==null?void 0:globalThis.document){const i=Ri(e),r=V.useRef(!1);return V.useEffect(()=>{const a=o=>{o.target&&!r.current&&W6(iJ,i,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,i]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function h5(){const e=new CustomEvent(TC);document.dispatchEvent(e)}function W6(e,t,i,{discrete:r}){const a=i.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:i});t&&a.addEventListener(e,t,{once:!0}),r?EP(a,o):a.dispatchEvent(o)}var oJ=kg,lJ=B6,br=globalThis!=null&&globalThis.document?V.useLayoutEffect:()=>{},cJ="Portal",gv=V.forwardRef((e,t)=>{var m;const{container:i,...r}=e,[a,o]=V.useState(!1);br(()=>o(!0),[]);const u=i||a&&((m=globalThis==null?void 0:globalThis.document)==null?void 0:m.body);return u?zZ.createPortal(s.jsx(as.div,{...r,ref:t}),u):null});gv.displayName=cJ;function dJ(e,t){return V.useReducer((i,r)=>t[i][r]??i,e)}var vn=e=>{const{present:t,children:i}=e,r=uJ(t),a=typeof i=="function"?i({present:r.isPresent}):V.Children.only(i),o=Os(r.ref,hJ(a));return typeof i=="function"||r.isPresent?V.cloneElement(a,{ref:o}):null};vn.displayName="Presence";function uJ(e){const[t,i]=V.useState(),r=V.useRef({}),a=V.useRef(e),o=V.useRef("none"),u=e?"mounted":"unmounted",[m,x]=dJ(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return V.useEffect(()=>{const w=S1(r.current);o.current=m==="mounted"?w:"none"},[m]),br(()=>{const w=r.current,A=a.current;if(A!==e){const O=o.current,G=S1(w);e?x("MOUNT"):G==="none"||(w==null?void 0:w.display)==="none"?x("UNMOUNT"):x(A&&O!==G?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,x]),br(()=>{if(t){let w;const A=t.ownerDocument.defaultView??window,E=G=>{const Q=S1(r.current).includes(G.animationName);if(G.target===t&&Q&&(x("ANIMATION_END"),!a.current)){const J=t.style.animationFillMode;t.style.animationFillMode="forwards",w=A.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=J)})}},O=G=>{G.target===t&&(o.current=S1(r.current))};return t.addEventListener("animationstart",O),t.addEventListener("animationcancel",E),t.addEventListener("animationend",E),()=>{A.clearTimeout(w),t.removeEventListener("animationstart",O),t.removeEventListener("animationcancel",E),t.removeEventListener("animationend",E)}}else x("ANIMATION_END")},[t,x]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:V.useCallback(w=>{w&&(r.current=getComputedStyle(w)),i(w)},[])}}function S1(e){return(e==null?void 0:e.animationName)||"none"}function hJ(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,i=t&&"isReactWarning"in t&&t.isReactWarning;return i?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,i=t&&"isReactWarning"in t&&t.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}function Lc({prop:e,defaultProp:t,onChange:i=()=>{}}){const[r,a]=pJ({defaultProp:t,onChange:i}),o=e!==void 0,u=o?e:r,m=Ri(i),x=V.useCallback(w=>{if(o){const E=typeof w=="function"?w(e):w;E!==e&&m(E)}else a(w)},[o,e,a,m]);return[u,x]}function pJ({defaultProp:e,onChange:t}){const i=V.useState(e),[r]=i,a=V.useRef(r),o=Ri(t);return V.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),i}var mJ="VisuallyHidden",xv=V.forwardRef((e,t)=>s.jsx(as.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));xv.displayName=mJ;var fJ=xv,IP="ToastProvider",[LP,gJ,xJ]=qN("Toast"),[H6,Tye]=Bn("Toast",[xJ]),[yJ,KN]=H6(IP),V6=e=>{const{__scopeToast:t,label:i="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:u}=e,[m,x]=V.useState(null),[w,A]=V.useState(0),E=V.useRef(!1),O=V.useRef(!1);return i.trim()||console.error(`Invalid prop \`label\` supplied to \`${IP}\`. Expected non-empty \`string\`.`),s.jsx(LP.Provider,{scope:t,children:s.jsx(yJ,{scope:t,label:i,duration:r,swipeDirection:a,swipeThreshold:o,toastCount:w,viewport:m,onViewportChange:x,onToastAdd:V.useCallback(()=>A(G=>G+1),[]),onToastRemove:V.useCallback(()=>A(G=>G-1),[]),isFocusedToastEscapeKeyDownRef:E,isClosePausedRef:O,children:u})})};V6.displayName=IP;var $6="ToastViewport",vJ=["F8"],PC="toast.viewportPause",MC="toast.viewportResume",U6=V.forwardRef((e,t)=>{const{__scopeToast:i,hotkey:r=vJ,label:a="Notifications ({hotkey})",...o}=e,u=KN($6,i),m=gJ(i),x=V.useRef(null),w=V.useRef(null),A=V.useRef(null),E=V.useRef(null),O=Os(t,E,u.onViewportChange),G=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),te=u.toastCount>0;V.useEffect(()=>{const J=H=>{var Z;r.length!==0&&r.every(pe=>H[pe]||H.code===pe)&&((Z=E.current)==null||Z.focus())};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[r]),V.useEffect(()=>{const J=x.current,H=E.current;if(te&&J&&H){const W=()=>{if(!u.isClosePausedRef.current){const we=new CustomEvent(PC);H.dispatchEvent(we),u.isClosePausedRef.current=!0}},Z=()=>{if(u.isClosePausedRef.current){const we=new CustomEvent(MC);H.dispatchEvent(we),u.isClosePausedRef.current=!1}},pe=we=>{!J.contains(we.relatedTarget)&&Z()},me=()=>{J.contains(document.activeElement)||Z()};return J.addEventListener("focusin",W),J.addEventListener("focusout",pe),J.addEventListener("pointermove",W),J.addEventListener("pointerleave",me),window.addEventListener("blur",W),window.addEventListener("focus",Z),()=>{J.removeEventListener("focusin",W),J.removeEventListener("focusout",pe),J.removeEventListener("pointermove",W),J.removeEventListener("pointerleave",me),window.removeEventListener("blur",W),window.removeEventListener("focus",Z)}}},[te,u.isClosePausedRef]);const Q=V.useCallback(({tabbingDirection:J})=>{const W=m().map(Z=>{const pe=Z.ref.current,me=[pe,...EJ(pe)];return J==="forwards"?me:me.reverse()});return(J==="forwards"?W.reverse():W).flat()},[m]);return V.useEffect(()=>{const J=E.current;if(J){const H=W=>{var me,we,_e;const Z=W.altKey||W.ctrlKey||W.metaKey;if(W.key==="Tab"&&!Z){const de=document.activeElement,Ae=W.shiftKey;if(W.target===J&&Ae){(me=w.current)==null||me.focus();return}const Xe=Q({tabbingDirection:Ae?"backwards":"forwards"}),lt=Xe.findIndex(Qe=>Qe===de);RS(Xe.slice(lt+1))?W.preventDefault():Ae?(we=w.current)==null||we.focus():(_e=A.current)==null||_e.focus()}};return J.addEventListener("keydown",H),()=>J.removeEventListener("keydown",H)}},[m,Q]),s.jsxs(lJ,{ref:x,role:"region","aria-label":a.replace("{hotkey}",G),tabIndex:-1,style:{pointerEvents:te?void 0:"none"},children:[te&&s.jsx(EC,{ref:w,onFocusFromOutsideViewport:()=>{const J=Q({tabbingDirection:"forwards"});RS(J)}}),s.jsx(LP.Slot,{scope:i,children:s.jsx(as.ol,{tabIndex:-1,...o,ref:O})}),te&&s.jsx(EC,{ref:A,onFocusFromOutsideViewport:()=>{const J=Q({tabbingDirection:"backwards"});RS(J)}})]})});U6.displayName=$6;var G6="ToastFocusProxy",EC=V.forwardRef((e,t)=>{const{__scopeToast:i,onFocusFromOutsideViewport:r,...a}=e,o=KN(G6,i);return s.jsx(xv,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:u=>{var w;const m=u.relatedTarget;!((w=o.viewport)!=null&&w.contains(m))&&r()}})});EC.displayName=G6;var YN="Toast",bJ="toast.swipeStart",wJ="toast.swipeMove",_J="toast.swipeCancel",NJ="toast.swipeEnd",q6=V.forwardRef((e,t)=>{const{forceMount:i,open:r,defaultOpen:a,onOpenChange:o,...u}=e,[m=!0,x]=Lc({prop:r,defaultProp:a,onChange:o});return s.jsx(vn,{present:i||m,children:s.jsx(SJ,{open:m,...u,ref:t,onClose:()=>x(!1),onPause:Ri(e.onPause),onResume:Ri(e.onResume),onSwipeStart:Mt(e.onSwipeStart,w=>{w.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Mt(e.onSwipeMove,w=>{const{x:A,y:E}=w.detail.delta;w.currentTarget.setAttribute("data-swipe","move"),w.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${A}px`),w.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${E}px`)}),onSwipeCancel:Mt(e.onSwipeCancel,w=>{w.currentTarget.setAttribute("data-swipe","cancel"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),w.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Mt(e.onSwipeEnd,w=>{const{x:A,y:E}=w.detail.delta;w.currentTarget.setAttribute("data-swipe","end"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),w.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${A}px`),w.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${E}px`),x(!1)})})})});q6.displayName=YN;var[jJ,kJ]=H6(YN,{onClose(){}}),SJ=V.forwardRef((e,t)=>{const{__scopeToast:i,type:r="foreground",duration:a,open:o,onClose:u,onEscapeKeyDown:m,onPause:x,onResume:w,onSwipeStart:A,onSwipeMove:E,onSwipeCancel:O,onSwipeEnd:G,...te}=e,Q=KN(YN,i),[J,H]=V.useState(null),W=Os(t,Qe=>H(Qe)),Z=V.useRef(null),pe=V.useRef(null),me=a||Q.duration,we=V.useRef(0),_e=V.useRef(me),de=V.useRef(0),{onToastAdd:Ae,onToastRemove:We}=Q,tt=Ri(()=>{var wt;(J==null?void 0:J.contains(document.activeElement))&&((wt=Q.viewport)==null||wt.focus()),u()}),Xe=V.useCallback(Qe=>{!Qe||Qe===1/0||(window.clearTimeout(de.current),we.current=new Date().getTime(),de.current=window.setTimeout(tt,Qe))},[tt]);V.useEffect(()=>{const Qe=Q.viewport;if(Qe){const wt=()=>{Xe(_e.current),w==null||w()},ot=()=>{const Tt=new Date().getTime()-we.current;_e.current=_e.current-Tt,window.clearTimeout(de.current),x==null||x()};return Qe.addEventListener(PC,ot),Qe.addEventListener(MC,wt),()=>{Qe.removeEventListener(PC,ot),Qe.removeEventListener(MC,wt)}}},[Q.viewport,me,x,w,Xe]),V.useEffect(()=>{o&&!Q.isClosePausedRef.current&&Xe(me)},[o,me,Q.isClosePausedRef,Xe]),V.useEffect(()=>(Ae(),()=>We()),[Ae,We]);const lt=V.useMemo(()=>J?eW(J):null,[J]);return Q.viewport?s.jsxs(s.Fragment,{children:[lt&&s.jsx(AJ,{__scopeToast:i,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:lt}),s.jsx(jJ,{scope:i,onClose:tt,children:lp.createPortal(s.jsx(LP.ItemSlot,{scope:i,children:s.jsx(oJ,{asChild:!0,onEscapeKeyDown:Mt(m,()=>{Q.isFocusedToastEscapeKeyDownRef.current||tt(),Q.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(as.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":Q.swipeDirection,...te,ref:W,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Mt(e.onKeyDown,Qe=>{Qe.key==="Escape"&&(m==null||m(Qe.nativeEvent),Qe.nativeEvent.defaultPrevented||(Q.isFocusedToastEscapeKeyDownRef.current=!0,tt()))}),onPointerDown:Mt(e.onPointerDown,Qe=>{Qe.button===0&&(Z.current={x:Qe.clientX,y:Qe.clientY})}),onPointerMove:Mt(e.onPointerMove,Qe=>{if(!Z.current)return;const wt=Qe.clientX-Z.current.x,ot=Qe.clientY-Z.current.y,Tt=!!pe.current,ve=["left","right"].includes(Q.swipeDirection),Je=["left","up"].includes(Q.swipeDirection)?Math.min:Math.max,mt=ve?Je(0,wt):0,Rt=ve?0:Je(0,ot),ts=Qe.pointerType==="touch"?10:2,pt={x:mt,y:Rt},Lt={originalEvent:Qe,delta:pt};Tt?(pe.current=pt,A1(wJ,E,Lt,{discrete:!1})):p5(pt,Q.swipeDirection,ts)?(pe.current=pt,A1(bJ,A,Lt,{discrete:!1}),Qe.target.setPointerCapture(Qe.pointerId)):(Math.abs(wt)>ts||Math.abs(ot)>ts)&&(Z.current=null)}),onPointerUp:Mt(e.onPointerUp,Qe=>{const wt=pe.current,ot=Qe.target;if(ot.hasPointerCapture(Qe.pointerId)&&ot.releasePointerCapture(Qe.pointerId),pe.current=null,Z.current=null,wt){const Tt=Qe.currentTarget,ve={originalEvent:Qe,delta:wt};p5(wt,Q.swipeDirection,Q.swipeThreshold)?A1(NJ,G,ve,{discrete:!0}):A1(_J,O,ve,{discrete:!0}),Tt.addEventListener("click",Je=>Je.preventDefault(),{once:!0})}})})})}),Q.viewport)})]}):null}),AJ=e=>{const{__scopeToast:t,children:i,...r}=e,a=KN(YN,t),[o,u]=V.useState(!1),[m,x]=V.useState(!1);return PJ(()=>u(!0)),V.useEffect(()=>{const w=window.setTimeout(()=>x(!0),1e3);return()=>window.clearTimeout(w)},[]),m?null:s.jsx(gv,{asChild:!0,children:s.jsx(xv,{...r,children:o&&s.jsxs(s.Fragment,{children:[a.label," ",i]})})})},CJ="ToastTitle",K6=V.forwardRef((e,t)=>{const{__scopeToast:i,...r}=e;return s.jsx(as.div,{...r,ref:t})});K6.displayName=CJ;var TJ="ToastDescription",Y6=V.forwardRef((e,t)=>{const{__scopeToast:i,...r}=e;return s.jsx(as.div,{...r,ref:t})});Y6.displayName=TJ;var X6="ToastAction",Z6=V.forwardRef((e,t)=>{const{altText:i,...r}=e;return i.trim()?s.jsx(J6,{altText:i,asChild:!0,children:s.jsx(OP,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${X6}\`. Expected non-empty \`string\`.`),null)});Z6.displayName=X6;var Q6="ToastClose",OP=V.forwardRef((e,t)=>{const{__scopeToast:i,...r}=e,a=kJ(Q6,i);return s.jsx(J6,{asChild:!0,children:s.jsx(as.button,{type:"button",...r,ref:t,onClick:Mt(e.onClick,a.onClose)})})});OP.displayName=Q6;var J6=V.forwardRef((e,t)=>{const{__scopeToast:i,altText:r,...a}=e;return s.jsx(as.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function eW(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),MJ(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const u=r.dataset.radixToastAnnounceAlt;u&&t.push(u)}else t.push(...eW(r))}}),t}function A1(e,t,i,{discrete:r}){const a=i.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:i});t&&a.addEventListener(e,t,{once:!0}),r?EP(a,o):a.dispatchEvent(o)}var p5=(e,t,i=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),o=r>a;return t==="left"||t==="right"?o&&r>i:!o&&a>i};function PJ(e=()=>{}){const t=Ri(e);br(()=>{let i=0,r=0;return i=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(i),window.cancelAnimationFrame(r)}},[t])}function MJ(e){return e.nodeType===e.ELEMENT_NODE}function EJ(e){const t=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)t.push(i.currentNode);return t}function RS(e){const t=document.activeElement;return e.some(i=>i===t?!0:(i.focus(),document.activeElement!==t))}var IJ=V6,tW=U6,sW=q6,iW=K6,rW=Y6,nW=Z6,aW=OP;function oW(e){var t,i,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(i=oW(e[t]))&&(r&&(r+=" "),r+=i)}else for(i in e)e[i]&&(r&&(r+=" "),r+=i);return r}function DP(){for(var e,t,i=0,r="",a=arguments.length;i<a;i++)(e=arguments[i])&&(t=oW(e))&&(r&&(r+=" "),r+=t);return r}const m5=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,f5=DP,yv=(e,t)=>i=>{var r;if((t==null?void 0:t.variants)==null)return f5(e,i==null?void 0:i.class,i==null?void 0:i.className);const{variants:a,defaultVariants:o}=t,u=Object.keys(a).map(w=>{const A=i==null?void 0:i[w],E=o==null?void 0:o[w];if(A===null)return null;const O=m5(A)||m5(E);return a[w][O]}),m=i&&Object.entries(i).reduce((w,A)=>{let[E,O]=A;return O===void 0||(w[E]=O),w},{}),x=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((w,A)=>{let{class:E,className:O,...G}=A;return Object.entries(G).every(te=>{let[Q,J]=te;return Array.isArray(J)?J.includes({...o,...m}[Q]):{...o,...m}[Q]===J})?[...w,E,O]:w},[]);return f5(e,u,x,i==null?void 0:i.class,i==null?void 0:i.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lW=(...e)=>e.filter((t,i,r)=>!!t&&r.indexOf(t)===i).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=V.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:u,...m},x)=>V.createElement("svg",{ref:x,...OJ,width:t,height:t,stroke:e,strokeWidth:r?Number(i)*24/Number(t):i,className:lW("lucide",a),...m},[...u.map(([w,A])=>V.createElement(w,A)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(e,t)=>{const i=V.forwardRef(({className:r,...a},o)=>V.createElement(DJ,{ref:o,iconNode:t,className:lW(`lucide-${LJ(e)}`,r),...a}));return i.displayName=`${e}`,i};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=dt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=dt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=dt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=dt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=dt("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=dt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=dt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=dt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=dt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=dt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=dt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=dt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=dt("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=dt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=dt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=dt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=dt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=dt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=dt("ChartBar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=dt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=dt("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=dt("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=dt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=dt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=dt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=dt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=dt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=dt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=dt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=dt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=dt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=dt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=dt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=dt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=dt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=dt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=dt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=dt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=dt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=dt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=dt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=dt("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=dt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=dt("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=dt("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=dt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=dt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=dt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=dt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=dt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=dt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=dt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=dt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=dt("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=dt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=dt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=dt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=dt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=dt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=dt("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=dt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=dt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=dt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=dt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=dt("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=dt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=dt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=dt("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=dt("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=dt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=dt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=dt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=dt("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=dt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=dt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=dt("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=dt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=dt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=dt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=dt("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=dt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=dt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=dt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=dt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=dt("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=dt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=dt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=dt("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=dt("Skull",[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=dt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=dt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=dt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=dt("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=dt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=dt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=dt("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=dt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=dt("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=dt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=dt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=dt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=dt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=dt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=dt("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=dt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=dt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=dt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=dt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=dt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),qP="-",vee=e=>{const t=wee(e),{conflictingClassGroups:i,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:u=>{const m=u.split(qP);return m[0]===""&&m.length!==1&&m.shift(),_W(m,t)||bee(u)},getConflictingClassGroupIds:(u,m)=>{const x=i[u]||[];return m&&r[u]?[...x,...r[u]]:x}}},_W=(e,t)=>{var u;if(e.length===0)return t.classGroupId;const i=e[0],r=t.nextPart.get(i),a=r?_W(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(qP);return(u=t.validators.find(({validator:m})=>m(o)))==null?void 0:u.classGroupId},k5=/^\[(.+)\]$/,bee=e=>{if(k5.test(e)){const t=k5.exec(e)[1],i=t==null?void 0:t.substring(0,t.indexOf(":"));if(i)return"arbitrary.."+i}},wee=e=>{const{theme:t,prefix:i}=e,r={nextPart:new Map,validators:[]};return Nee(Object.entries(e.classGroups),i).forEach(([o,u])=>{RC(u,r,o,t)}),r},RC=(e,t,i,r)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:S5(t,a);o.classGroupId=i;return}if(typeof a=="function"){if(_ee(a)){RC(a(r),t,i,r);return}t.validators.push({validator:a,classGroupId:i});return}Object.entries(a).forEach(([o,u])=>{RC(u,S5(t,o),i,r)})})},S5=(e,t)=>{let i=e;return t.split(qP).forEach(r=>{i.nextPart.has(r)||i.nextPart.set(r,{nextPart:new Map,validators:[]}),i=i.nextPart.get(r)}),i},_ee=e=>e.isThemeGetter,Nee=(e,t)=>t?e.map(([i,r])=>{const a=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([u,m])=>[t+u,m])):o);return[i,a]}):e,jee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,i=new Map,r=new Map;const a=(o,u)=>{i.set(o,u),t++,t>e&&(t=0,r=i,i=new Map)};return{get(o){let u=i.get(o);if(u!==void 0)return u;if((u=r.get(o))!==void 0)return a(o,u),u},set(o,u){i.has(o)?i.set(o,u):a(o,u)}}},NW="!",kee=e=>{const{separator:t,experimentalParseClassName:i}=e,r=t.length===1,a=t[0],o=t.length,u=m=>{const x=[];let w=0,A=0,E;for(let J=0;J<m.length;J++){let H=m[J];if(w===0){if(H===a&&(r||m.slice(J,J+o)===t)){x.push(m.slice(A,J)),A=J+o;continue}if(H==="/"){E=J;continue}}H==="["?w++:H==="]"&&w--}const O=x.length===0?m:m.substring(A),G=O.startsWith(NW),te=G?O.substring(1):O,Q=E&&E>A?E-A:void 0;return{modifiers:x,hasImportantModifier:G,baseClassName:te,maybePostfixModifierPosition:Q}};return i?m=>i({className:m,parseClassName:u}):u},See=e=>{if(e.length<=1)return e;const t=[];let i=[];return e.forEach(r=>{r[0]==="["?(t.push(...i.sort(),r),i=[]):i.push(r)}),t.push(...i.sort()),t},Aee=e=>({cache:jee(e.cacheSize),parseClassName:kee(e),...vee(e)}),Cee=/\s+/,Tee=(e,t)=>{const{parseClassName:i,getClassGroupId:r,getConflictingClassGroupIds:a}=t,o=[],u=e.trim().split(Cee);let m="";for(let x=u.length-1;x>=0;x-=1){const w=u[x],{modifiers:A,hasImportantModifier:E,baseClassName:O,maybePostfixModifierPosition:G}=i(w);let te=!!G,Q=r(te?O.substring(0,G):O);if(!Q){if(!te){m=w+(m.length>0?" "+m:m);continue}if(Q=r(O),!Q){m=w+(m.length>0?" "+m:m);continue}te=!1}const J=See(A).join(":"),H=E?J+NW:J,W=H+Q;if(o.includes(W))continue;o.push(W);const Z=a(Q,te);for(let pe=0;pe<Z.length;++pe){const me=Z[pe];o.push(H+me)}m=w+(m.length>0?" "+m:m)}return m};function Pee(){let e=0,t,i,r="";for(;e<arguments.length;)(t=arguments[e++])&&(i=jW(t))&&(r&&(r+=" "),r+=i);return r}const jW=e=>{if(typeof e=="string")return e;let t,i="";for(let r=0;r<e.length;r++)e[r]&&(t=jW(e[r]))&&(i&&(i+=" "),i+=t);return i};function Mee(e,...t){let i,r,a,o=u;function u(x){const w=t.reduce((A,E)=>E(A),e());return i=Aee(w),r=i.cache.get,a=i.cache.set,o=m,m(x)}function m(x){const w=r(x);if(w)return w;const A=Tee(x,i);return a(x,A),A}return function(){return o(Pee.apply(null,arguments))}}const Pi=e=>{const t=i=>i[e]||[];return t.isThemeGetter=!0,t},kW=/^\[(?:([a-z-]+):)?(.+)\]$/i,Eee=/^\d+\/\d+$/,Iee=new Set(["px","full","screen"]),Lee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Oee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Dee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ree=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Fee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pc=e=>Ef(e)||Iee.has(e)||Eee.test(e),_d=e=>Ag(e,"length",Gee),Ef=e=>!!e&&!Number.isNaN(Number(e)),BS=e=>Ag(e,"number",Ef),C0=e=>!!e&&Number.isInteger(Number(e)),zee=e=>e.endsWith("%")&&Ef(e.slice(0,-1)),As=e=>kW.test(e),Nd=e=>Lee.test(e),Bee=new Set(["length","size","percentage"]),Wee=e=>Ag(e,Bee,SW),Hee=e=>Ag(e,"position",SW),Vee=new Set(["image","url"]),$ee=e=>Ag(e,Vee,Kee),Uee=e=>Ag(e,"",qee),T0=()=>!0,Ag=(e,t,i)=>{const r=kW.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):i(r[2]):!1},Gee=e=>Oee.test(e)&&!Dee.test(e),SW=()=>!1,qee=e=>Ree.test(e),Kee=e=>Fee.test(e),Yee=()=>{const e=Pi("colors"),t=Pi("spacing"),i=Pi("blur"),r=Pi("brightness"),a=Pi("borderColor"),o=Pi("borderRadius"),u=Pi("borderSpacing"),m=Pi("borderWidth"),x=Pi("contrast"),w=Pi("grayscale"),A=Pi("hueRotate"),E=Pi("invert"),O=Pi("gap"),G=Pi("gradientColorStops"),te=Pi("gradientColorStopPositions"),Q=Pi("inset"),J=Pi("margin"),H=Pi("opacity"),W=Pi("padding"),Z=Pi("saturate"),pe=Pi("scale"),me=Pi("sepia"),we=Pi("skew"),_e=Pi("space"),de=Pi("translate"),Ae=()=>["auto","contain","none"],We=()=>["auto","hidden","clip","visible","scroll"],tt=()=>["auto",As,t],Xe=()=>[As,t],lt=()=>["",pc,_d],Qe=()=>["auto",Ef,As],wt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ot=()=>["solid","dashed","dotted","double","none"],Tt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>["start","end","center","between","around","evenly","stretch"],Je=()=>["","0",As],mt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Rt=()=>[Ef,As];return{cacheSize:500,separator:":",theme:{colors:[T0],spacing:[pc,_d],blur:["none","",Nd,As],brightness:Rt(),borderColor:[e],borderRadius:["none","","full",Nd,As],borderSpacing:Xe(),borderWidth:lt(),contrast:Rt(),grayscale:Je(),hueRotate:Rt(),invert:Je(),gap:Xe(),gradientColorStops:[e],gradientColorStopPositions:[zee,_d],inset:tt(),margin:tt(),opacity:Rt(),padding:Xe(),saturate:Rt(),scale:Rt(),sepia:Je(),skew:Rt(),space:Xe(),translate:Xe()},classGroups:{aspect:[{aspect:["auto","square","video",As]}],container:["container"],columns:[{columns:[Nd]}],"break-after":[{"break-after":mt()}],"break-before":[{"break-before":mt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...wt(),As]}],overflow:[{overflow:We()}],"overflow-x":[{"overflow-x":We()}],"overflow-y":[{"overflow-y":We()}],overscroll:[{overscroll:Ae()}],"overscroll-x":[{"overscroll-x":Ae()}],"overscroll-y":[{"overscroll-y":Ae()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[Q]}],"inset-x":[{"inset-x":[Q]}],"inset-y":[{"inset-y":[Q]}],start:[{start:[Q]}],end:[{end:[Q]}],top:[{top:[Q]}],right:[{right:[Q]}],bottom:[{bottom:[Q]}],left:[{left:[Q]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",C0,As]}],basis:[{basis:tt()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",As]}],grow:[{grow:Je()}],shrink:[{shrink:Je()}],order:[{order:["first","last","none",C0,As]}],"grid-cols":[{"grid-cols":[T0]}],"col-start-end":[{col:["auto",{span:["full",C0,As]},As]}],"col-start":[{"col-start":Qe()}],"col-end":[{"col-end":Qe()}],"grid-rows":[{"grid-rows":[T0]}],"row-start-end":[{row:["auto",{span:[C0,As]},As]}],"row-start":[{"row-start":Qe()}],"row-end":[{"row-end":Qe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",As]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",As]}],gap:[{gap:[O]}],"gap-x":[{"gap-x":[O]}],"gap-y":[{"gap-y":[O]}],"justify-content":[{justify:["normal",...ve()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ve(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ve(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[W]}],px:[{px:[W]}],py:[{py:[W]}],ps:[{ps:[W]}],pe:[{pe:[W]}],pt:[{pt:[W]}],pr:[{pr:[W]}],pb:[{pb:[W]}],pl:[{pl:[W]}],m:[{m:[J]}],mx:[{mx:[J]}],my:[{my:[J]}],ms:[{ms:[J]}],me:[{me:[J]}],mt:[{mt:[J]}],mr:[{mr:[J]}],mb:[{mb:[J]}],ml:[{ml:[J]}],"space-x":[{"space-x":[_e]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_e]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",As,t]}],"min-w":[{"min-w":[As,t,"min","max","fit"]}],"max-w":[{"max-w":[As,t,"none","full","min","max","fit","prose",{screen:[Nd]},Nd]}],h:[{h:[As,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[As,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[As,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[As,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Nd,_d]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",BS]}],"font-family":[{font:[T0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",As]}],"line-clamp":[{"line-clamp":["none",Ef,BS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pc,As]}],"list-image":[{"list-image":["none",As]}],"list-style-type":[{list:["none","disc","decimal",As]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[H]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[H]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ot(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pc,_d]}],"underline-offset":[{"underline-offset":["auto",pc,As]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Xe()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",As]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",As]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[H]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...wt(),Hee]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Wee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$ee]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[te]}],"gradient-via-pos":[{via:[te]}],"gradient-to-pos":[{to:[te]}],"gradient-from":[{from:[G]}],"gradient-via":[{via:[G]}],"gradient-to":[{to:[G]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[m]}],"border-w-x":[{"border-x":[m]}],"border-w-y":[{"border-y":[m]}],"border-w-s":[{"border-s":[m]}],"border-w-e":[{"border-e":[m]}],"border-w-t":[{"border-t":[m]}],"border-w-r":[{"border-r":[m]}],"border-w-b":[{"border-b":[m]}],"border-w-l":[{"border-l":[m]}],"border-opacity":[{"border-opacity":[H]}],"border-style":[{border:[...ot(),"hidden"]}],"divide-x":[{"divide-x":[m]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[m]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[H]}],"divide-style":[{divide:ot()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...ot()]}],"outline-offset":[{"outline-offset":[pc,As]}],"outline-w":[{outline:[pc,_d]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:lt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[H]}],"ring-offset-w":[{"ring-offset":[pc,_d]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Nd,Uee]}],"shadow-color":[{shadow:[T0]}],opacity:[{opacity:[H]}],"mix-blend":[{"mix-blend":[...Tt(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Tt()}],filter:[{filter:["","none"]}],blur:[{blur:[i]}],brightness:[{brightness:[r]}],contrast:[{contrast:[x]}],"drop-shadow":[{"drop-shadow":["","none",Nd,As]}],grayscale:[{grayscale:[w]}],"hue-rotate":[{"hue-rotate":[A]}],invert:[{invert:[E]}],saturate:[{saturate:[Z]}],sepia:[{sepia:[me]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[i]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[x]}],"backdrop-grayscale":[{"backdrop-grayscale":[w]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[A]}],"backdrop-invert":[{"backdrop-invert":[E]}],"backdrop-opacity":[{"backdrop-opacity":[H]}],"backdrop-saturate":[{"backdrop-saturate":[Z]}],"backdrop-sepia":[{"backdrop-sepia":[me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",As]}],duration:[{duration:Rt()}],ease:[{ease:["linear","in","out","in-out",As]}],delay:[{delay:Rt()}],animate:[{animate:["none","spin","ping","pulse","bounce",As]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[pe]}],"scale-x":[{"scale-x":[pe]}],"scale-y":[{"scale-y":[pe]}],rotate:[{rotate:[C0,As]}],"translate-x":[{"translate-x":[de]}],"translate-y":[{"translate-y":[de]}],"skew-x":[{"skew-x":[we]}],"skew-y":[{"skew-y":[we]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",As]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",As]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Xe()}],"scroll-mx":[{"scroll-mx":Xe()}],"scroll-my":[{"scroll-my":Xe()}],"scroll-ms":[{"scroll-ms":Xe()}],"scroll-me":[{"scroll-me":Xe()}],"scroll-mt":[{"scroll-mt":Xe()}],"scroll-mr":[{"scroll-mr":Xe()}],"scroll-mb":[{"scroll-mb":Xe()}],"scroll-ml":[{"scroll-ml":Xe()}],"scroll-p":[{"scroll-p":Xe()}],"scroll-px":[{"scroll-px":Xe()}],"scroll-py":[{"scroll-py":Xe()}],"scroll-ps":[{"scroll-ps":Xe()}],"scroll-pe":[{"scroll-pe":Xe()}],"scroll-pt":[{"scroll-pt":Xe()}],"scroll-pr":[{"scroll-pr":Xe()}],"scroll-pb":[{"scroll-pb":Xe()}],"scroll-pl":[{"scroll-pl":Xe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",As]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[pc,_d,BS]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Xee=Mee(Yee);function Ot(...e){return Xee(DP(e))}const AW=IJ,KP=V.forwardRef(({className:e,...t},i)=>s.jsx(tW,{ref:i,className:Ot("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));KP.displayName=tW.displayName;const Zee=yv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),CW=V.forwardRef(({className:e,variant:t,...i},r)=>s.jsx(sW,{ref:r,className:Ot(Zee({variant:t}),e),...i}));CW.displayName=sW.displayName;const TW=V.forwardRef(({className:e,...t},i)=>s.jsx(nW,{ref:i,className:Ot("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));TW.displayName=nW.displayName;const PW=V.forwardRef(({className:e,...t},i)=>s.jsx(aW,{ref:i,className:Ot("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(GP,{className:"h-4 w-4"})}));PW.displayName=aW.displayName;const MW=V.forwardRef(({className:e,...t},i)=>s.jsx(iW,{ref:i,className:Ot("text-sm font-semibold",e),...t}));MW.displayName=iW.displayName;const EW=V.forwardRef(({className:e,...t},i)=>s.jsx(rW,{ref:i,className:Ot("text-sm opacity-90",e),...t}));EW.displayName=rW.displayName;const Qee=1,Jee=1e6;let WS=0;function ete(){return WS=(WS+1)%Number.MAX_SAFE_INTEGER,WS.toString()}const HS=new Map,A5=e=>{if(HS.has(e))return;const t=setTimeout(()=>{HS.delete(e),ay({type:"REMOVE_TOAST",toastId:e})},Jee);HS.set(e,t)},tte=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Qee)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case"DISMISS_TOAST":{const{toastId:i}=t;return i?A5(i):e.toasts.forEach(r=>{A5(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===i||i===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)}}},t_=[];let s_={toasts:[]};function ay(e){s_=tte(s_,e),t_.forEach(t=>{t(s_)})}function ste({...e}){const t=ete(),i=a=>ay({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>ay({type:"DISMISS_TOAST",toastId:t});return ay({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:i}}function bn(){const[e,t]=V.useState(s_);return V.useEffect(()=>(t_.push(t),()=>{const i=t_.indexOf(t);i>-1&&t_.splice(i,1)}),[e]),{...e,toast:ste,dismiss:i=>ay({type:"DISMISS_TOAST",toastId:i})}}function ite(){const{toasts:e}=bn();return s.jsxs(s.Fragment,{children:[e.map(function({id:t,title:i,description:r,action:a,...o}){return s.jsxs(CW,{...o,children:[s.jsxs("div",{className:"grid gap-1",children:[i&&s.jsx(MW,{children:i}),r&&s.jsx(EW,{children:r})]}),a,s.jsx(PW,{})]},t)}),s.jsx(KP,{})]})}function sn(){const{data:e,isLoading:t}=yt({queryKey:["/api/auth/user"],queryFn:R6({on401:"returnNull"}),retry:!1});return{user:e,isLoading:t,isAuthenticated:!!e}}const rte=V.createContext(void 0);function nte({children:e}){const{toast:t}=bn(),[i,r]=V.useState("default"),[a,o]=V.useState(!1);V.useEffect(()=>{"Notification"in window?(o(!0),r(Notification.permission)):(o(!1),console.warn("Browser notifications are not supported in this environment"))},[]);const u=async()=>{if(!a)return t({title:"Notifications Not Supported",description:"Your browser does not support notifications",variant:"destructive"}),"denied";try{const w=await Notification.requestPermission();return r(w),w==="granted"?(t({title:"Notifications Enabled",description:"You will now receive browser notifications from Panel Profits"}),m("Panel Profits Notifications",{body:"Browser notifications are now enabled. You'll receive important trading alerts.",icon:"/favicon.ico",badge:"/favicon.ico",tag:"welcome-notification"})):w==="denied"&&t({title:"Notifications Denied",description:"You can enable notifications in your browser settings",variant:"destructive"}),w}catch(w){return console.error("Error requesting notification permission:",w),t({title:"Permission Error",description:"Failed to request notification permission",variant:"destructive"}),"denied"}},m=(w,A)=>{if(!a)return console.warn("Browser notifications not supported"),!1;if(i!=="granted")return console.warn("Browser notification permission not granted"),!1;try{const{onclick:E,...O}=A||{},G={icon:"/favicon.ico",badge:"/favicon.ico",requireInteraction:!1,silent:!1,...O},te=new Notification(w,G);return G.requireInteraction||setTimeout(()=>{te.close()},5e3),te.onclick=Q=>{window.focus(),te.close(),E&&E(Q)},te.onerror=Q=>{console.error("Browser notification error:",Q)},!0}catch(E){return console.error("Error showing browser notification:",E),!1}},x={permission:i,isSupported:a,requestPermission:u,showNotification:m,isEnabled:a&&i==="granted"};return s.jsx(rte.Provider,{value:x,children:e})}function ate({className:e}){const{toasts:t,toast:i,dismiss:r}=bn();V.useState([]);const a=m=>{const{type:x,priority:w,title:A,message:E,actionUrl:O,actionLabel:G,duration:te,persistent:Q}=m,J=me=>{switch(me){case"critical":return"destructive";case"high":return"default";case"medium":return"default";case"low":return"default";default:return"default"}},H=(me,we)=>{const _e={className:`h-5 w-5 ${W(we)}`};switch(me){case"order":return s.jsx(ns,{..._e});case"price_alert":return s.jsx(Dc,{..._e});case"market_update":return s.jsx(Ta,{..._e});case"portfolio":return s.jsx(wW,{..._e});case"system":return we==="critical"?s.jsx(Sg,{..._e}):s.jsx(VP,{..._e});default:return s.jsx(zP,{..._e})}},W=me=>{switch(me){case"critical":return"text-red-500";case"high":return"text-orange-500";case"medium":return"text-blue-500";case"low":return"text-gray-500";default:return"text-gray-500"}},Z=()=>{if(Q)return 1/0;if(te)return te;switch(w){case"critical":return 1e4;case"high":return 7e3;case"medium":return 5e3;case"low":return 3e3;default:return 5e3}},pe=O?s.jsx(TW,{altText:G||"View Details",onClick:()=>{window.location.href=O},children:G||"View"}):void 0;i({title:s.jsxs("div",{className:"flex items-center gap-2",children:[H(x,w),s.jsx("span",{children:A})]}),description:E,action:pe,variant:J(w),duration:Z()}),o(w),document.hidden&&"Notification"in window&&Notification.permission==="granted"&&u(A,E,x,w)},o=m=>{if(m!=="low")try{const x=new(window.AudioContext||window.webkitAudioContext),w=m==="critical"?800:m==="high"?600:400,A=m==="critical"?300:200,E=x.createOscillator(),O=x.createGain();E.connect(O),O.connect(x.destination),E.frequency.setValueAtTime(w,x.currentTime),E.type="sine",O.gain.setValueAtTime(.1,x.currentTime),O.gain.exponentialRampToValueAtTime(.01,x.currentTime+A/1e3),E.start(x.currentTime),E.stop(x.currentTime+A/1e3)}catch(x){console.debug("Notification sound failed:",x)}},u=(m,x,w,A)=>{try{const E=new Notification(m,{body:x,icon:"/favicon.ico",badge:"/favicon.ico",tag:`notification-${w}`,requireInteraction:A==="critical",silent:!1});A!=="critical"&&setTimeout(()=>{E.close()},5e3),E.onclick=()=>{window.focus(),E.close()}}catch(E){console.debug("Browser notification failed:",E)}};return V.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(m=>{console.log("Notification permission:",m)})},[]),V.useEffect(()=>(window.showNotificationToast=a,()=>{delete window.showNotificationToast}),[]),s.jsx(AW,{children:s.jsx(KP,{className:e})})}function ote({children:e}){bn();const[t,i]=V.useState(!1),[r,a]=V.useState(null);V.useEffect(()=>(console.log("🔔 Initializing notification system..."),()=>{}),[]);const o=u=>r&&r.readyState===WebSocket.OPEN?(r.send(JSON.stringify(u)),!0):!1;return V.useEffect(()=>(window.notificationWebSocket={connected:t,send:o,markAsRead:u=>{o({type:"mark_notification_read",notificationId:u})},markAllAsRead:()=>{o({type:"mark_all_read"})}},()=>{delete window.notificationWebSocket}),[t,o]),s.jsxs(nte,{children:[s.jsx(ate,{}),!1,e]})}const C1={heroes:{id:"heroes",name:"GM Financial",description:"Character options and futures specialists",mythology:"Roman (Mars/Luna/Vesta)",primaryColor:"house-heroes",accentColor:"house-heroes-accent",iconName:"shield"},wisdom:{id:"wisdom",name:"Velos Agency",description:"Creator bonds and intellectual property",mythology:"Greek (Apollo/Selene/Hestia)",primaryColor:"house-wisdom",accentColor:"house-wisdom-accent",iconName:"book-open"},power:{id:"power",name:"Horus Capital",description:"Publisher stocks and franchise assets",mythology:"Egyptian (Ra/Thoth/Isis)",primaryColor:"house-power",accentColor:"house-power-accent",iconName:"crown"},mystery:{id:"mystery",name:"Valkyrie Holdings",description:"Rare issue derivatives and speculation",mythology:"Norse (Sol/Mani/Frigg)",primaryColor:"house-mystery",accentColor:"house-mystery-accent",iconName:"zap"},elements:{id:"elements",name:"Evergreen Partners",description:"Cross-universe diversified portfolios",mythology:"Celtic (Lugh/Arianrhod/Brigid)",primaryColor:"house-elements",accentColor:"house-elements-accent",iconName:"flame"},time:{id:"time",name:"Aurora Investments",description:"Historical price prediction markets",mythology:"Slavic (Dazbog/Myesyats/Mokosh)",primaryColor:"house-time",accentColor:"house-time-accent",iconName:"clock"},spirit:{id:"spirit",name:"Amaterasu Asset Management",description:"Community sentiment and social trading",mythology:"Japanese (Amaterasu/Tsukuyomi/Kannon)",primaryColor:"house-spirit",accentColor:"house-spirit-accent",iconName:"users"}},lte=V.createContext(void 0);function cte({children:e,defaultHouse:t="heroes"}){const[i,r]=V.useState(()=>typeof window<"u"&&localStorage.getItem("panel-profits-house")||t),a=C1[i],o=Object.values(C1),u=w=>C1[w],m=w=>{C1[w];const A=document.documentElement;A.style.setProperty("--primary",`var(--house-${w}-primary)`),A.style.setProperty("--primary-foreground",`var(--house-${w}-primary-foreground)`),A.style.setProperty("--accent",`var(--house-${w}-accent)`),A.style.setProperty("--house-current-background",`var(--house-${w}-background)`),A.style.setProperty("--house-current-card",`var(--house-${w}-card)`),A.style.setProperty("--house-current-border",`var(--house-${w}-primary-border)`),localStorage.setItem("panel-profits-house",w),r(w)};V.useEffect(()=>{m(i)},[i]);const x={currentHouse:i,setCurrentHouse:m,houseTheme:a,allHouses:o,getHouseTheme:u,applyHouseTheme:m};return s.jsx(lte.Provider,{value:x,children:e})}const dte=yv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),rt=V.forwardRef(({className:e,variant:t,size:i,asChild:r=!1,...a},o)=>{const u=r?qQ:"button";return s.jsx(u,{className:Ot(dte({variant:t,size:i,className:e})),ref:o,...a})});rt.displayName="Button";function C5(){const[e,t]=V.useState(!1),[i,r]=V.useState("dark"),[a,o]=V.useState("/videos/daytime-video.mp4");V.useEffect(()=>{t(!0);const m=localStorage.getItem("theme");m&&(r(m),document.documentElement.classList.toggle("light",m==="light"));const x=()=>{const A=new Date().toLocaleString("en-US",{timeZone:"America/New_York",hour12:!1,hour:"2-digit",minute:"2-digit"}),[E,O]=A.split(":"),G=parseInt(E),te=parseInt(O),Q=G*60+te;Q>=570&&Q<1050?o("/videos/daytime-video.mp4"):Q>=1050||Q<90?o("/videos/afterhours-video.mp4"):o("/videos/nighttime-video.mp4")};x();const w=setInterval(x,6e4);return()=>clearInterval(w)},[]);const u=()=>{const m=i==="dark"?"light":"dark";r(m),localStorage.setItem("theme",m),document.documentElement.classList.toggle("light",m==="light")};return e?s.jsxs("div",{className:"min-h-screen bg-black flex flex-col relative overflow-hidden",children:[s.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover z-0",children:[s.jsx("source",{src:a,type:"video/mp4"}),"Your browser does not support the video tag."]},a),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-black/40 to-black/60 z-10"}),s.jsx("header",{className:"absolute top-0 right-0 p-6 z-50",children:s.jsxs(rt,{variant:"ghost",size:"icon",onClick:u,className:"h-10 w-10 backdrop-blur-md bg-black/30 hover:bg-black/50","data-testid":"button-theme-toggle",children:[i==="dark"?s.jsx(mee,{className:"h-5 w-5 text-white"}):s.jsx(oee,{className:"h-5 w-5 text-white"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),s.jsx("main",{className:"flex-1 flex items-center justify-center px-6 relative z-20",children:s.jsxs("div",{className:"w-full max-w-md backdrop-blur-md bg-black/40 p-12 rounded-lg border border-white/10",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-5xl font-header font-bold tracking-tight mb-4 text-white drop-shadow-2xl",style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":"text-app-title",children:"PANEL PROFITS"}),s.jsx("p",{className:"text-gray-200 text-lg",style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":"text-app-tagline",children:"Investment-Grade Comic Art Trading"})]}),s.jsx("div",{className:"space-y-4",children:s.jsx("a",{href:"/api/auth/closers",children:s.jsx(rt,{className:"w-full h-12 text-base tracking-wider uppercase bg-white text-black hover:bg-gray-100 font-bold",style:{fontFamily:"Hind, sans-serif",fontWeight:300},variant:"default",size:"lg","data-testid":"button-member-login",children:"Closers Only"})})}),s.jsxs("div",{className:"mt-16 text-center",children:[s.jsx("p",{className:"text-xs text-gray-300",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Professional Trading Platform"}),s.jsx("p",{className:"text-xs text-gray-300 mt-1",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Desktop Experience Recommended • 1920x1080+"})]})]})})]}):null}function ute(){const{user:e}=sn(),[t,i]=V.useState(new Date);V.useEffect(()=>{const w=setInterval(()=>i(new Date),1e3);return()=>clearInterval(w)},[]);const{data:r}=yt({queryKey:["/api/market/status"],refetchInterval:6e4}),{data:a}=yt({queryKey:["/api/market/ticker"],refetchInterval:5e3}),o=Gc({mutationFn:()=>gu("POST","/api/auth/logout"),onSuccess:()=>{la.invalidateQueries({queryKey:["/api/auth/user"]}),window.location.href="/"}}),u=e!=null&&e.firstName?`${e.firstName} ${e.lastName||""}`.trim():(e==null?void 0:e.username)||"Trader",m=(r==null?void 0:r.status)==="open"?"Market Open":(r==null?void 0:r.status)==="closed"?"Market Closed":(r==null?void 0:r.status)==="pre-market"?"Pre-Market":"After Hours",x=(r==null?void 0:r.status)==="open"?"text-green-500":"text-orange-500";return s.jsxs("div",{className:"bg-black/95 backdrop-blur-sm border-b border-gray-800",children:[s.jsxs("div",{className:"h-9 px-4 flex items-center border-b border-gray-800",children:[s.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",style:{width:"16.66%"},children:s.jsxs("span",{className:"text-sm whitespace-nowrap uppercase",style:{fontFamily:"Hind, sans-serif",fontWeight:300,color:"hsl(var(--header-welcome))"},"data-testid":"text-welcome-message",children:["WELCOME BACK, ",u.toUpperCase()]})}),s.jsx("div",{className:"flex-1"}),s.jsxs("div",{className:"flex items-center gap-3 justify-end flex-shrink-0",style:{width:"16.66%"},children:[s.jsxs("span",{className:`text-sm whitespace-nowrap uppercase ${x}`,style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":"text-market-status",children:["⬤ ",m.toUpperCase()]}),s.jsx("span",{className:"text-sm text-gray-400 whitespace-nowrap uppercase",style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":"text-current-time",children:t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}),s.jsxs(rt,{variant:"ghost",size:"sm",onClick:()=>o.mutate(),disabled:o.isPending,"data-testid":"button-logout",className:"h-8 whitespace-nowrap uppercase",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:[s.jsx(yW,{className:"w-4 h-4 mr-2"}),"LOGOUT"]})]})]}),s.jsx("div",{className:"h-9 bg-gradient-to-r from-gray-950 to-gray-900 border-b border-gray-800 overflow-hidden relative",children:s.jsxs("div",{className:"h-full flex items-center",children:[s.jsx("div",{className:"absolute left-0 top-0 h-full px-4 bg-gray-950 border-r border-gray-800 flex items-center z-10",children:s.jsx("span",{className:"text-xs uppercase whitespace-nowrap",style:{fontFamily:"Hind, sans-serif",fontWeight:300,color:"hsl(var(--header-breaking-news))"},"data-testid":"label-breaking-news",children:"BREAKING NEWS"})}),s.jsx("div",{className:"h-full flex items-center pl-40",children:s.jsx("div",{className:"animate-marquee-slow whitespace-nowrap",children:s.jsxs("span",{className:"text-sm text-gray-300 inline-flex items-center gap-8",style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":"text-news-ticker",children:[s.jsxs(gt,{href:"/news/marvel-phase-6",className:"inline-flex items-center gap-2 underline hover:text-white transition-colors","data-testid":"link-news-marvel-phase-6",children:[s.jsx(ns,{className:"w-3 h-3 text-green-500 flex-shrink-0"}),"BREAKING: Marvel announces Phase 6 slate - collector interest surging"]}),s.jsx("span",{children:"•"}),s.jsxs(gt,{href:"/news/superman-ath",className:"inline-flex items-center gap-2 underline hover:text-white transition-colors","data-testid":"link-news-superman-ath",children:[s.jsx(ns,{className:"w-3 h-3 text-green-500 flex-shrink-0"}),"ALERT: Golden Age Superman #1 reaches new all-time high"]}),s.jsx("span",{children:"•"}),s.jsxs(gt,{href:"/news/dc-restructuring",className:"inline-flex items-center gap-2 underline hover:text-white transition-colors","data-testid":"link-news-dc-restructuring",children:[s.jsx(ns,{className:"w-3 h-3 text-green-500 flex-shrink-0"}),"UPDATE: DC Restructuring complete - institutional investors bullish"]}),s.jsx("span",{children:"•"}),s.jsxs(gt,{href:"/news/amazing-fantasy-variant",className:"inline-flex items-center gap-2 underline hover:text-white transition-colors","data-testid":"link-news-amazing-fantasy-variant",children:[s.jsx(XN,{className:"w-3 h-3 text-yellow-500 flex-shrink-0"}),"EXCLUSIVE: Rare Amazing Fantasy #15 variant discovered - market impact expected"]}),s.jsx("span",{children:"•"}),s.jsxs(gt,{href:"/news/alex-ross-auction",className:"inline-flex items-center gap-2 underline hover:text-white transition-colors","data-testid":"link-news-alex-ross-auction",children:[s.jsx(ns,{className:"w-3 h-3 text-green-500 flex-shrink-0"}),"RECORD: Alex Ross original art auction breaks records"]}),s.jsx("span",{children:"•"}),s.jsxs(gt,{href:"/news/comic-con-attendance",className:"inline-flex items-center gap-2 underline hover:text-white transition-colors","data-testid":"link-news-comic-con-attendance",children:[s.jsx(ns,{className:"w-3 h-3 text-green-500 flex-shrink-0"}),"DATA: Comic-Con attendance up 300% - signaling strong market demand"]}),s.jsx("span",{children:"•"})]})})})]})}),s.jsx("div",{className:"h-9 bg-black border-b border-gray-800 overflow-hidden relative",children:s.jsxs("div",{className:"h-full flex items-center",children:[s.jsx("div",{className:"absolute left-0 top-0 h-full px-4 bg-black border-r border-gray-800 flex items-center z-10",children:s.jsx("span",{className:"text-xs uppercase whitespace-nowrap",style:{fontFamily:"Hind, sans-serif",fontWeight:300,color:"hsl(var(--header-stk-updates))"},"data-testid":"label-stk-updates",children:"STK UPDATES"})}),s.jsx("div",{className:"h-full flex items-center pl-40",children:a&&a.length>0?s.jsx("div",{className:"animate-marquee whitespace-nowrap",children:[0,1].map(w=>s.jsx("span",{className:"text-sm inline-flex items-center gap-6 pr-6",style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":w===0?"text-stock-ticker":void 0,children:a.map((A,E)=>s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-400",children:A.symbol}),s.jsxs("span",{className:"text-white",children:["$",A.currentPrice.toFixed(2)]}),s.jsxs("span",{className:A.trend==="up"?"text-green-500":A.trend==="down"?"text-red-500":"text-yellow-500",children:[A.trend==="up"?s.jsx(ns,{className:"w-3 h-3 inline"}):A.trend==="down"?s.jsx(vi,{className:"w-3 h-3 inline"}):s.jsx("span",{className:"w-3 h-3 inline-block",children:"•"}),A.changePercent>=0?"+":"",A.changePercent.toFixed(2),"%"]})]},`${A.symbol}-${E}`))},w))}):s.jsx("div",{className:"animate-marquee whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-500",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Loading market data..."})})})]})})]})}var hte=V.createContext(void 0);function Cg(e){const t=V.useContext(hte);return e||t||"ltr"}var VS=0;function YP(){V.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??T5()),document.body.insertAdjacentElement("beforeend",e[1]??T5()),VS++,()=>{VS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),VS--}},[])}function T5(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var $S="focusScope.autoFocusOnMount",US="focusScope.autoFocusOnUnmount",P5={bubbles:!1,cancelable:!0},pte="FocusScope",QN=V.forwardRef((e,t)=>{const{loop:i=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...u}=e,[m,x]=V.useState(null),w=Ri(a),A=Ri(o),E=V.useRef(null),O=Os(t,Q=>x(Q)),G=V.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;V.useEffect(()=>{if(r){let Q=function(Z){if(G.paused||!m)return;const pe=Z.target;m.contains(pe)?E.current=pe:kd(E.current,{select:!0})},J=function(Z){if(G.paused||!m)return;const pe=Z.relatedTarget;pe!==null&&(m.contains(pe)||kd(E.current,{select:!0}))},H=function(Z){if(document.activeElement===document.body)for(const me of Z)me.removedNodes.length>0&&kd(m)};document.addEventListener("focusin",Q),document.addEventListener("focusout",J);const W=new MutationObserver(H);return m&&W.observe(m,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",Q),document.removeEventListener("focusout",J),W.disconnect()}}},[r,m,G.paused]),V.useEffect(()=>{if(m){E5.add(G);const Q=document.activeElement;if(!m.contains(Q)){const H=new CustomEvent($S,P5);m.addEventListener($S,w),m.dispatchEvent(H),H.defaultPrevented||(mte(vte(IW(m)),{select:!0}),document.activeElement===Q&&kd(m))}return()=>{m.removeEventListener($S,w),setTimeout(()=>{const H=new CustomEvent(US,P5);m.addEventListener(US,A),m.dispatchEvent(H),H.defaultPrevented||kd(Q??document.body,{select:!0}),m.removeEventListener(US,A),E5.remove(G)},0)}}},[m,w,A,G]);const te=V.useCallback(Q=>{if(!i&&!r||G.paused)return;const J=Q.key==="Tab"&&!Q.altKey&&!Q.ctrlKey&&!Q.metaKey,H=document.activeElement;if(J&&H){const W=Q.currentTarget,[Z,pe]=fte(W);Z&&pe?!Q.shiftKey&&H===pe?(Q.preventDefault(),i&&kd(Z,{select:!0})):Q.shiftKey&&H===Z&&(Q.preventDefault(),i&&kd(pe,{select:!0})):H===W&&Q.preventDefault()}},[i,r,G.paused]);return s.jsx(as.div,{tabIndex:-1,...u,ref:O,onKeyDown:te})});QN.displayName=pte;function mte(e,{select:t=!1}={}){const i=document.activeElement;for(const r of e)if(kd(r,{select:t}),document.activeElement!==i)return}function fte(e){const t=IW(e),i=M5(t,e),r=M5(t.reverse(),e);return[i,r]}function IW(e){const t=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)t.push(i.currentNode);return t}function M5(e,t){for(const i of e)if(!gte(i,{upTo:t}))return i}function gte(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xte(e){return e instanceof HTMLInputElement&&"select"in e}function kd(e,{select:t=!1}={}){if(e&&e.focus){const i=document.activeElement;e.focus({preventScroll:!0}),e!==i&&xte(e)&&t&&e.select()}}var E5=yte();function yte(){let e=[];return{add(t){const i=e[0];t!==i&&(i==null||i.pause()),e=I5(e,t),e.unshift(t)},remove(t){var i;e=I5(e,t),(i=e[0])==null||i.resume()}}}function I5(e,t){const i=[...e],r=i.indexOf(t);return r!==-1&&i.splice(r,1),i}function vte(e){return e.filter(t=>t.tagName!=="A")}var bte=TN[" useId ".trim().toString()]||(()=>{}),wte=0;function Ro(e){const[t,i]=V.useState(bte());return br(()=>{e||i(r=>r??String(wte++))},[e]),e||(t?`radix-${t}`:"")}const _te=["top","right","bottom","left"],iu=Math.min,_a=Math.max,H_=Math.round,T1=Math.floor,Tl=e=>({x:e,y:e}),Nte={left:"right",right:"left",bottom:"top",top:"bottom"},jte={start:"end",end:"start"};function FC(e,t,i){return _a(e,iu(t,i))}function Rc(e,t){return typeof e=="function"?e(t):e}function Fc(e){return e.split("-")[0]}function Tg(e){return e.split("-")[1]}function XP(e){return e==="x"?"y":"x"}function ZP(e){return e==="y"?"height":"width"}function ru(e){return["top","bottom"].includes(Fc(e))?"y":"x"}function QP(e){return XP(ru(e))}function kte(e,t,i){i===void 0&&(i=!1);const r=Tg(e),a=QP(e),o=ZP(a);let u=a==="x"?r===(i?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(u=V_(u)),[u,V_(u)]}function Ste(e){const t=V_(e);return[zC(e),t,zC(t)]}function zC(e){return e.replace(/start|end/g,t=>jte[t])}function Ate(e,t,i){const r=["left","right"],a=["right","left"],o=["top","bottom"],u=["bottom","top"];switch(e){case"top":case"bottom":return i?t?a:r:t?r:a;case"left":case"right":return t?o:u;default:return[]}}function Cte(e,t,i,r){const a=Tg(e);let o=Ate(Fc(e),i==="start",r);return a&&(o=o.map(u=>u+"-"+a),t&&(o=o.concat(o.map(zC)))),o}function V_(e){return e.replace(/left|right|bottom|top/g,t=>Nte[t])}function Tte(e){return{top:0,right:0,bottom:0,left:0,...e}}function LW(e){return typeof e!="number"?Tte(e):{top:e,right:e,bottom:e,left:e}}function $_(e){const{x:t,y:i,width:r,height:a}=e;return{width:r,height:a,top:i,left:t,right:t+r,bottom:i+a,x:t,y:i}}function L5(e,t,i){let{reference:r,floating:a}=e;const o=ru(t),u=QP(t),m=ZP(u),x=Fc(t),w=o==="y",A=r.x+r.width/2-a.width/2,E=r.y+r.height/2-a.height/2,O=r[m]/2-a[m]/2;let G;switch(x){case"top":G={x:A,y:r.y-a.height};break;case"bottom":G={x:A,y:r.y+r.height};break;case"right":G={x:r.x+r.width,y:E};break;case"left":G={x:r.x-a.width,y:E};break;default:G={x:r.x,y:r.y}}switch(Tg(t)){case"start":G[u]-=O*(i&&w?-1:1);break;case"end":G[u]+=O*(i&&w?-1:1);break}return G}const Pte=async(e,t,i)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:u}=i,m=o.filter(Boolean),x=await(u.isRTL==null?void 0:u.isRTL(t));let w=await u.getElementRects({reference:e,floating:t,strategy:a}),{x:A,y:E}=L5(w,r,x),O=r,G={},te=0;for(let Q=0;Q<m.length;Q++){const{name:J,fn:H}=m[Q],{x:W,y:Z,data:pe,reset:me}=await H({x:A,y:E,initialPlacement:r,placement:O,strategy:a,middlewareData:G,rects:w,platform:u,elements:{reference:e,floating:t}});A=W??A,E=Z??E,G={...G,[J]:{...G[J],...pe}},me&&te<=50&&(te++,typeof me=="object"&&(me.placement&&(O=me.placement),me.rects&&(w=me.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:a}):me.rects),{x:A,y:E}=L5(w,O,x)),Q=-1)}return{x:A,y:E,placement:O,strategy:a,middlewareData:G}};async function Iy(e,t){var i;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:u,elements:m,strategy:x}=e,{boundary:w="clippingAncestors",rootBoundary:A="viewport",elementContext:E="floating",altBoundary:O=!1,padding:G=0}=Rc(t,e),te=LW(G),J=m[O?E==="floating"?"reference":"floating":E],H=$_(await o.getClippingRect({element:(i=await(o.isElement==null?void 0:o.isElement(J)))==null||i?J:J.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(m.floating)),boundary:w,rootBoundary:A,strategy:x})),W=E==="floating"?{x:r,y:a,width:u.floating.width,height:u.floating.height}:u.reference,Z=await(o.getOffsetParent==null?void 0:o.getOffsetParent(m.floating)),pe=await(o.isElement==null?void 0:o.isElement(Z))?await(o.getScale==null?void 0:o.getScale(Z))||{x:1,y:1}:{x:1,y:1},me=$_(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:W,offsetParent:Z,strategy:x}):W);return{top:(H.top-me.top+te.top)/pe.y,bottom:(me.bottom-H.bottom+te.bottom)/pe.y,left:(H.left-me.left+te.left)/pe.x,right:(me.right-H.right+te.right)/pe.x}}const Mte=e=>({name:"arrow",options:e,async fn(t){const{x:i,y:r,placement:a,rects:o,platform:u,elements:m,middlewareData:x}=t,{element:w,padding:A=0}=Rc(e,t)||{};if(w==null)return{};const E=LW(A),O={x:i,y:r},G=QP(a),te=ZP(G),Q=await u.getDimensions(w),J=G==="y",H=J?"top":"left",W=J?"bottom":"right",Z=J?"clientHeight":"clientWidth",pe=o.reference[te]+o.reference[G]-O[G]-o.floating[te],me=O[G]-o.reference[G],we=await(u.getOffsetParent==null?void 0:u.getOffsetParent(w));let _e=we?we[Z]:0;(!_e||!await(u.isElement==null?void 0:u.isElement(we)))&&(_e=m.floating[Z]||o.floating[te]);const de=pe/2-me/2,Ae=_e/2-Q[te]/2-1,We=iu(E[H],Ae),tt=iu(E[W],Ae),Xe=We,lt=_e-Q[te]-tt,Qe=_e/2-Q[te]/2+de,wt=FC(Xe,Qe,lt),ot=!x.arrow&&Tg(a)!=null&&Qe!==wt&&o.reference[te]/2-(Qe<Xe?We:tt)-Q[te]/2<0,Tt=ot?Qe<Xe?Qe-Xe:Qe-lt:0;return{[G]:O[G]+Tt,data:{[G]:wt,centerOffset:Qe-wt-Tt,...ot&&{alignmentOffset:Tt}},reset:ot}}}),Ete=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var i,r;const{placement:a,middlewareData:o,rects:u,initialPlacement:m,platform:x,elements:w}=t,{mainAxis:A=!0,crossAxis:E=!0,fallbackPlacements:O,fallbackStrategy:G="bestFit",fallbackAxisSideDirection:te="none",flipAlignment:Q=!0,...J}=Rc(e,t);if((i=o.arrow)!=null&&i.alignmentOffset)return{};const H=Fc(a),W=ru(m),Z=Fc(m)===m,pe=await(x.isRTL==null?void 0:x.isRTL(w.floating)),me=O||(Z||!Q?[V_(m)]:Ste(m)),we=te!=="none";!O&&we&&me.push(...Cte(m,Q,te,pe));const _e=[m,...me],de=await Iy(t,J),Ae=[];let We=((r=o.flip)==null?void 0:r.overflows)||[];if(A&&Ae.push(de[H]),E){const Qe=kte(a,u,pe);Ae.push(de[Qe[0]],de[Qe[1]])}if(We=[...We,{placement:a,overflows:Ae}],!Ae.every(Qe=>Qe<=0)){var tt,Xe;const Qe=(((tt=o.flip)==null?void 0:tt.index)||0)+1,wt=_e[Qe];if(wt)return{data:{index:Qe,overflows:We},reset:{placement:wt}};let ot=(Xe=We.filter(Tt=>Tt.overflows[0]<=0).sort((Tt,ve)=>Tt.overflows[1]-ve.overflows[1])[0])==null?void 0:Xe.placement;if(!ot)switch(G){case"bestFit":{var lt;const Tt=(lt=We.filter(ve=>{if(we){const Je=ru(ve.placement);return Je===W||Je==="y"}return!0}).map(ve=>[ve.placement,ve.overflows.filter(Je=>Je>0).reduce((Je,mt)=>Je+mt,0)]).sort((ve,Je)=>ve[1]-Je[1])[0])==null?void 0:lt[0];Tt&&(ot=Tt);break}case"initialPlacement":ot=m;break}if(a!==ot)return{reset:{placement:ot}}}return{}}}};function O5(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function D5(e){return _te.some(t=>e[t]>=0)}const Ite=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:i}=t,{strategy:r="referenceHidden",...a}=Rc(e,t);switch(r){case"referenceHidden":{const o=await Iy(t,{...a,elementContext:"reference"}),u=O5(o,i.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:D5(u)}}}case"escaped":{const o=await Iy(t,{...a,altBoundary:!0}),u=O5(o,i.floating);return{data:{escapedOffsets:u,escaped:D5(u)}}}default:return{}}}}};async function Lte(e,t){const{placement:i,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),u=Fc(i),m=Tg(i),x=ru(i)==="y",w=["left","top"].includes(u)?-1:1,A=o&&x?-1:1,E=Rc(t,e);let{mainAxis:O,crossAxis:G,alignmentAxis:te}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:E.mainAxis||0,crossAxis:E.crossAxis||0,alignmentAxis:E.alignmentAxis};return m&&typeof te=="number"&&(G=m==="end"?te*-1:te),x?{x:G*A,y:O*w}:{x:O*w,y:G*A}}const Ote=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var i,r;const{x:a,y:o,placement:u,middlewareData:m}=t,x=await Lte(t,e);return u===((i=m.offset)==null?void 0:i.placement)&&(r=m.arrow)!=null&&r.alignmentOffset?{}:{x:a+x.x,y:o+x.y,data:{...x,placement:u}}}}},Dte=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:i,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:u=!1,limiter:m={fn:J=>{let{x:H,y:W}=J;return{x:H,y:W}}},...x}=Rc(e,t),w={x:i,y:r},A=await Iy(t,x),E=ru(Fc(a)),O=XP(E);let G=w[O],te=w[E];if(o){const J=O==="y"?"top":"left",H=O==="y"?"bottom":"right",W=G+A[J],Z=G-A[H];G=FC(W,G,Z)}if(u){const J=E==="y"?"top":"left",H=E==="y"?"bottom":"right",W=te+A[J],Z=te-A[H];te=FC(W,te,Z)}const Q=m.fn({...t,[O]:G,[E]:te});return{...Q,data:{x:Q.x-i,y:Q.y-r,enabled:{[O]:o,[E]:u}}}}}},Rte=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:i,y:r,placement:a,rects:o,middlewareData:u}=t,{offset:m=0,mainAxis:x=!0,crossAxis:w=!0}=Rc(e,t),A={x:i,y:r},E=ru(a),O=XP(E);let G=A[O],te=A[E];const Q=Rc(m,t),J=typeof Q=="number"?{mainAxis:Q,crossAxis:0}:{mainAxis:0,crossAxis:0,...Q};if(x){const Z=O==="y"?"height":"width",pe=o.reference[O]-o.floating[Z]+J.mainAxis,me=o.reference[O]+o.reference[Z]-J.mainAxis;G<pe?G=pe:G>me&&(G=me)}if(w){var H,W;const Z=O==="y"?"width":"height",pe=["top","left"].includes(Fc(a)),me=o.reference[E]-o.floating[Z]+(pe&&((H=u.offset)==null?void 0:H[E])||0)+(pe?0:J.crossAxis),we=o.reference[E]+o.reference[Z]+(pe?0:((W=u.offset)==null?void 0:W[E])||0)-(pe?J.crossAxis:0);te<me?te=me:te>we&&(te=we)}return{[O]:G,[E]:te}}}},Fte=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var i,r;const{placement:a,rects:o,platform:u,elements:m}=t,{apply:x=()=>{},...w}=Rc(e,t),A=await Iy(t,w),E=Fc(a),O=Tg(a),G=ru(a)==="y",{width:te,height:Q}=o.floating;let J,H;E==="top"||E==="bottom"?(J=E,H=O===(await(u.isRTL==null?void 0:u.isRTL(m.floating))?"start":"end")?"left":"right"):(H=E,J=O==="end"?"top":"bottom");const W=Q-A.top-A.bottom,Z=te-A.left-A.right,pe=iu(Q-A[J],W),me=iu(te-A[H],Z),we=!t.middlewareData.shift;let _e=pe,de=me;if((i=t.middlewareData.shift)!=null&&i.enabled.x&&(de=Z),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(_e=W),we&&!O){const We=_a(A.left,0),tt=_a(A.right,0),Xe=_a(A.top,0),lt=_a(A.bottom,0);G?de=te-2*(We!==0||tt!==0?We+tt:_a(A.left,A.right)):_e=Q-2*(Xe!==0||lt!==0?Xe+lt:_a(A.top,A.bottom))}await x({...t,availableWidth:de,availableHeight:_e});const Ae=await u.getDimensions(m.floating);return te!==Ae.width||Q!==Ae.height?{reset:{rects:!0}}:{}}}};function JN(){return typeof window<"u"}function Pg(e){return OW(e)?(e.nodeName||"").toLowerCase():"#document"}function Sa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fl(e){var t;return(t=(OW(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function OW(e){return JN()?e instanceof Node||e instanceof Sa(e).Node:!1}function Ho(e){return JN()?e instanceof Element||e instanceof Sa(e).Element:!1}function Il(e){return JN()?e instanceof HTMLElement||e instanceof Sa(e).HTMLElement:!1}function R5(e){return!JN()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Sa(e).ShadowRoot}function Nv(e){const{overflow:t,overflowX:i,overflowY:r,display:a}=Vo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+i)&&!["inline","contents"].includes(a)}function zte(e){return["table","td","th"].includes(Pg(e))}function ej(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function JP(e){const t=eM(),i=Ho(e)?Vo(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>i[r]?i[r]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!t&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!t&&(i.filter?i.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(i.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(i.contain||"").includes(r))}function Bte(e){let t=nu(e);for(;Il(t)&&!lg(t);){if(JP(t))return t;if(ej(t))return null;t=nu(t)}return null}function eM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function lg(e){return["html","body","#document"].includes(Pg(e))}function Vo(e){return Sa(e).getComputedStyle(e)}function tj(e){return Ho(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function nu(e){if(Pg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||R5(e)&&e.host||Fl(e);return R5(t)?t.host:t}function DW(e){const t=nu(e);return lg(t)?e.ownerDocument?e.ownerDocument.body:e.body:Il(t)&&Nv(t)?t:DW(t)}function Ly(e,t,i){var r;t===void 0&&(t=[]),i===void 0&&(i=!0);const a=DW(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),u=Sa(a);if(o){const m=BC(u);return t.concat(u,u.visualViewport||[],Nv(a)?a:[],m&&i?Ly(m):[])}return t.concat(a,Ly(a,[],i))}function BC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function RW(e){const t=Vo(e);let i=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Il(e),o=a?e.offsetWidth:i,u=a?e.offsetHeight:r,m=H_(i)!==o||H_(r)!==u;return m&&(i=o,r=u),{width:i,height:r,$:m}}function tM(e){return Ho(e)?e:e.contextElement}function If(e){const t=tM(e);if(!Il(t))return Tl(1);const i=t.getBoundingClientRect(),{width:r,height:a,$:o}=RW(t);let u=(o?H_(i.width):i.width)/r,m=(o?H_(i.height):i.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!m||!Number.isFinite(m))&&(m=1),{x:u,y:m}}const Wte=Tl(0);function FW(e){const t=Sa(e);return!eM()||!t.visualViewport?Wte:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Hte(e,t,i){return t===void 0&&(t=!1),!i||t&&i!==Sa(e)?!1:t}function Jh(e,t,i,r){t===void 0&&(t=!1),i===void 0&&(i=!1);const a=e.getBoundingClientRect(),o=tM(e);let u=Tl(1);t&&(r?Ho(r)&&(u=If(r)):u=If(e));const m=Hte(o,i,r)?FW(o):Tl(0);let x=(a.left+m.x)/u.x,w=(a.top+m.y)/u.y,A=a.width/u.x,E=a.height/u.y;if(o){const O=Sa(o),G=r&&Ho(r)?Sa(r):r;let te=O,Q=BC(te);for(;Q&&r&&G!==te;){const J=If(Q),H=Q.getBoundingClientRect(),W=Vo(Q),Z=H.left+(Q.clientLeft+parseFloat(W.paddingLeft))*J.x,pe=H.top+(Q.clientTop+parseFloat(W.paddingTop))*J.y;x*=J.x,w*=J.y,A*=J.x,E*=J.y,x+=Z,w+=pe,te=Sa(Q),Q=BC(te)}}return $_({width:A,height:E,x,y:w})}function sM(e,t){const i=tj(e).scrollLeft;return t?t.left+i:Jh(Fl(e)).left+i}function zW(e,t,i){i===void 0&&(i=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(i?0:sM(e,r)),o=r.top+t.scrollTop;return{x:a,y:o}}function Vte(e){let{elements:t,rect:i,offsetParent:r,strategy:a}=e;const o=a==="fixed",u=Fl(r),m=t?ej(t.floating):!1;if(r===u||m&&o)return i;let x={scrollLeft:0,scrollTop:0},w=Tl(1);const A=Tl(0),E=Il(r);if((E||!E&&!o)&&((Pg(r)!=="body"||Nv(u))&&(x=tj(r)),Il(r))){const G=Jh(r);w=If(r),A.x=G.x+r.clientLeft,A.y=G.y+r.clientTop}const O=u&&!E&&!o?zW(u,x,!0):Tl(0);return{width:i.width*w.x,height:i.height*w.y,x:i.x*w.x-x.scrollLeft*w.x+A.x+O.x,y:i.y*w.y-x.scrollTop*w.y+A.y+O.y}}function $te(e){return Array.from(e.getClientRects())}function Ute(e){const t=Fl(e),i=tj(e),r=e.ownerDocument.body,a=_a(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=_a(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let u=-i.scrollLeft+sM(e);const m=-i.scrollTop;return Vo(r).direction==="rtl"&&(u+=_a(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:u,y:m}}function Gte(e,t){const i=Sa(e),r=Fl(e),a=i.visualViewport;let o=r.clientWidth,u=r.clientHeight,m=0,x=0;if(a){o=a.width,u=a.height;const w=eM();(!w||w&&t==="fixed")&&(m=a.offsetLeft,x=a.offsetTop)}return{width:o,height:u,x:m,y:x}}function qte(e,t){const i=Jh(e,!0,t==="fixed"),r=i.top+e.clientTop,a=i.left+e.clientLeft,o=Il(e)?If(e):Tl(1),u=e.clientWidth*o.x,m=e.clientHeight*o.y,x=a*o.x,w=r*o.y;return{width:u,height:m,x,y:w}}function F5(e,t,i){let r;if(t==="viewport")r=Gte(e,i);else if(t==="document")r=Ute(Fl(e));else if(Ho(t))r=qte(t,i);else{const a=FW(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return $_(r)}function BW(e,t){const i=nu(e);return i===t||!Ho(i)||lg(i)?!1:Vo(i).position==="fixed"||BW(i,t)}function Kte(e,t){const i=t.get(e);if(i)return i;let r=Ly(e,[],!1).filter(m=>Ho(m)&&Pg(m)!=="body"),a=null;const o=Vo(e).position==="fixed";let u=o?nu(e):e;for(;Ho(u)&&!lg(u);){const m=Vo(u),x=JP(u);!x&&m.position==="fixed"&&(a=null),(o?!x&&!a:!x&&m.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Nv(u)&&!x&&BW(e,u))?r=r.filter(A=>A!==u):a=m,u=nu(u)}return t.set(e,r),r}function Yte(e){let{element:t,boundary:i,rootBoundary:r,strategy:a}=e;const u=[...i==="clippingAncestors"?ej(t)?[]:Kte(t,this._c):[].concat(i),r],m=u[0],x=u.reduce((w,A)=>{const E=F5(t,A,a);return w.top=_a(E.top,w.top),w.right=iu(E.right,w.right),w.bottom=iu(E.bottom,w.bottom),w.left=_a(E.left,w.left),w},F5(t,m,a));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function Xte(e){const{width:t,height:i}=RW(e);return{width:t,height:i}}function Zte(e,t,i){const r=Il(t),a=Fl(t),o=i==="fixed",u=Jh(e,!0,o,t);let m={scrollLeft:0,scrollTop:0};const x=Tl(0);if(r||!r&&!o)if((Pg(t)!=="body"||Nv(a))&&(m=tj(t)),r){const O=Jh(t,!0,o,t);x.x=O.x+t.clientLeft,x.y=O.y+t.clientTop}else a&&(x.x=sM(a));const w=a&&!r&&!o?zW(a,m):Tl(0),A=u.left+m.scrollLeft-x.x-w.x,E=u.top+m.scrollTop-x.y-w.y;return{x:A,y:E,width:u.width,height:u.height}}function GS(e){return Vo(e).position==="static"}function z5(e,t){if(!Il(e)||Vo(e).position==="fixed")return null;if(t)return t(e);let i=e.offsetParent;return Fl(e)===i&&(i=i.ownerDocument.body),i}function WW(e,t){const i=Sa(e);if(ej(e))return i;if(!Il(e)){let a=nu(e);for(;a&&!lg(a);){if(Ho(a)&&!GS(a))return a;a=nu(a)}return i}let r=z5(e,t);for(;r&&zte(r)&&GS(r);)r=z5(r,t);return r&&lg(r)&&GS(r)&&!JP(r)?i:r||Bte(e)||i}const Qte=async function(e){const t=this.getOffsetParent||WW,i=this.getDimensions,r=await i(e.floating);return{reference:Zte(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Jte(e){return Vo(e).direction==="rtl"}const ese={convertOffsetParentRelativeRectToViewportRelativeRect:Vte,getDocumentElement:Fl,getClippingRect:Yte,getOffsetParent:WW,getElementRects:Qte,getClientRects:$te,getDimensions:Xte,getScale:If,isElement:Ho,isRTL:Jte};function HW(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tse(e,t){let i=null,r;const a=Fl(e);function o(){var m;clearTimeout(r),(m=i)==null||m.disconnect(),i=null}function u(m,x){m===void 0&&(m=!1),x===void 0&&(x=1),o();const w=e.getBoundingClientRect(),{left:A,top:E,width:O,height:G}=w;if(m||t(),!O||!G)return;const te=T1(E),Q=T1(a.clientWidth-(A+O)),J=T1(a.clientHeight-(E+G)),H=T1(A),Z={rootMargin:-te+"px "+-Q+"px "+-J+"px "+-H+"px",threshold:_a(0,iu(1,x))||1};let pe=!0;function me(we){const _e=we[0].intersectionRatio;if(_e!==x){if(!pe)return u();_e?u(!1,_e):r=setTimeout(()=>{u(!1,1e-7)},1e3)}_e===1&&!HW(w,e.getBoundingClientRect())&&u(),pe=!1}try{i=new IntersectionObserver(me,{...Z,root:a.ownerDocument})}catch{i=new IntersectionObserver(me,Z)}i.observe(e)}return u(!0),o}function sse(e,t,i,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:x=!1}=r,w=tM(e),A=a||o?[...w?Ly(w):[],...Ly(t)]:[];A.forEach(H=>{a&&H.addEventListener("scroll",i,{passive:!0}),o&&H.addEventListener("resize",i)});const E=w&&m?tse(w,i):null;let O=-1,G=null;u&&(G=new ResizeObserver(H=>{let[W]=H;W&&W.target===w&&G&&(G.unobserve(t),cancelAnimationFrame(O),O=requestAnimationFrame(()=>{var Z;(Z=G)==null||Z.observe(t)})),i()}),w&&!x&&G.observe(w),G.observe(t));let te,Q=x?Jh(e):null;x&&J();function J(){const H=Jh(e);Q&&!HW(Q,H)&&i(),Q=H,te=requestAnimationFrame(J)}return i(),()=>{var H;A.forEach(W=>{a&&W.removeEventListener("scroll",i),o&&W.removeEventListener("resize",i)}),E==null||E(),(H=G)==null||H.disconnect(),G=null,x&&cancelAnimationFrame(te)}}const ise=Ote,rse=Dte,nse=Ete,ase=Fte,ose=Ite,B5=Mte,lse=Rte,cse=(e,t,i)=>{const r=new Map,a={platform:ese,...i},o={...a.platform,_c:r};return Pte(e,t,{...a,platform:o})};var i_=typeof document<"u"?V.useLayoutEffect:V.useEffect;function U_(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let i,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(i=e.length,i!==t.length)return!1;for(r=i;r--!==0;)if(!U_(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),i=a.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=i;r--!==0;){const o=a[r];if(!(o==="_owner"&&e.$$typeof)&&!U_(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function VW(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function W5(e,t){const i=VW(e);return Math.round(t*i)/i}function qS(e){const t=V.useRef(e);return i_(()=>{t.current=e}),t}function dse(e){e===void 0&&(e={});const{placement:t="bottom",strategy:i="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:u}={},transform:m=!0,whileElementsMounted:x,open:w}=e,[A,E]=V.useState({x:0,y:0,strategy:i,placement:t,middlewareData:{},isPositioned:!1}),[O,G]=V.useState(r);U_(O,r)||G(r);const[te,Q]=V.useState(null),[J,H]=V.useState(null),W=V.useCallback(ve=>{ve!==we.current&&(we.current=ve,Q(ve))},[]),Z=V.useCallback(ve=>{ve!==_e.current&&(_e.current=ve,H(ve))},[]),pe=o||te,me=u||J,we=V.useRef(null),_e=V.useRef(null),de=V.useRef(A),Ae=x!=null,We=qS(x),tt=qS(a),Xe=qS(w),lt=V.useCallback(()=>{if(!we.current||!_e.current)return;const ve={placement:t,strategy:i,middleware:O};tt.current&&(ve.platform=tt.current),cse(we.current,_e.current,ve).then(Je=>{const mt={...Je,isPositioned:Xe.current!==!1};Qe.current&&!U_(de.current,mt)&&(de.current=mt,lp.flushSync(()=>{E(mt)}))})},[O,t,i,tt,Xe]);i_(()=>{w===!1&&de.current.isPositioned&&(de.current.isPositioned=!1,E(ve=>({...ve,isPositioned:!1})))},[w]);const Qe=V.useRef(!1);i_(()=>(Qe.current=!0,()=>{Qe.current=!1}),[]),i_(()=>{if(pe&&(we.current=pe),me&&(_e.current=me),pe&&me){if(We.current)return We.current(pe,me,lt);lt()}},[pe,me,lt,We,Ae]);const wt=V.useMemo(()=>({reference:we,floating:_e,setReference:W,setFloating:Z}),[W,Z]),ot=V.useMemo(()=>({reference:pe,floating:me}),[pe,me]),Tt=V.useMemo(()=>{const ve={position:i,left:0,top:0};if(!ot.floating)return ve;const Je=W5(ot.floating,A.x),mt=W5(ot.floating,A.y);return m?{...ve,transform:"translate("+Je+"px, "+mt+"px)",...VW(ot.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:Je,top:mt}},[i,m,ot.floating,A.x,A.y]);return V.useMemo(()=>({...A,update:lt,refs:wt,elements:ot,floatingStyles:Tt}),[A,lt,wt,ot,Tt])}const use=e=>{function t(i){return{}.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){const{element:r,padding:a}=typeof e=="function"?e(i):e;return r&&t(r)?r.current!=null?B5({element:r.current,padding:a}).fn(i):{}:r?B5({element:r,padding:a}).fn(i):{}}}},hse=(e,t)=>({...ise(e),options:[e,t]}),pse=(e,t)=>({...rse(e),options:[e,t]}),mse=(e,t)=>({...lse(e),options:[e,t]}),fse=(e,t)=>({...nse(e),options:[e,t]}),gse=(e,t)=>({...ase(e),options:[e,t]}),xse=(e,t)=>({...ose(e),options:[e,t]}),yse=(e,t)=>({...use(e),options:[e,t]});var vse="Arrow",$W=V.forwardRef((e,t)=>{const{children:i,width:r=10,height:a=5,...o}=e;return s.jsx(as.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?i:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});$W.displayName=vse;var bse=$W;function UW(e){const[t,i]=V.useState(void 0);return br(()=>{if(e){i({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let u,m;if("borderBoxSize"in o){const x=o.borderBoxSize,w=Array.isArray(x)?x[0]:x;u=w.inlineSize,m=w.blockSize}else u=e.offsetWidth,m=e.offsetHeight;i({width:u,height:m})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else i(void 0)},[e]),t}var iM="Popper",[GW,Mg]=Bn(iM),[wse,qW]=GW(iM),KW=e=>{const{__scopePopper:t,children:i}=e,[r,a]=V.useState(null);return s.jsx(wse,{scope:t,anchor:r,onAnchorChange:a,children:i})};KW.displayName=iM;var YW="PopperAnchor",XW=V.forwardRef((e,t)=>{const{__scopePopper:i,virtualRef:r,...a}=e,o=qW(YW,i),u=V.useRef(null),m=Os(t,u);return V.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:s.jsx(as.div,{...a,ref:m})});XW.displayName=YW;var rM="PopperContent",[_se,Nse]=GW(rM),ZW=V.forwardRef((e,t)=>{var ct,Ut,qt,es,fs,ys;const{__scopePopper:i,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:u=0,arrowPadding:m=0,avoidCollisions:x=!0,collisionBoundary:w=[],collisionPadding:A=0,sticky:E="partial",hideWhenDetached:O=!1,updatePositionStrategy:G="optimized",onPlaced:te,...Q}=e,J=qW(rM,i),[H,W]=V.useState(null),Z=Os(t,ft=>W(ft)),[pe,me]=V.useState(null),we=UW(pe),_e=(we==null?void 0:we.width)??0,de=(we==null?void 0:we.height)??0,Ae=r+(o!=="center"?"-"+o:""),We=typeof A=="number"?A:{top:0,right:0,bottom:0,left:0,...A},tt=Array.isArray(w)?w:[w],Xe=tt.length>0,lt={padding:We,boundary:tt.filter(kse),altBoundary:Xe},{refs:Qe,floatingStyles:wt,placement:ot,isPositioned:Tt,middlewareData:ve}=dse({strategy:"fixed",placement:Ae,whileElementsMounted:(...ft)=>sse(...ft,{animationFrame:G==="always"}),elements:{reference:J.anchor},middleware:[hse({mainAxis:a+de,alignmentAxis:u}),x&&pse({mainAxis:!0,crossAxis:!1,limiter:E==="partial"?mse():void 0,...lt}),x&&fse({...lt}),gse({...lt,apply:({elements:ft,rects:Ks,availableWidth:Xi,availableHeight:wr})=>{const{width:Ir,height:Ii}=Ks.reference,pr=ft.floating.style;pr.setProperty("--radix-popper-available-width",`${Xi}px`),pr.setProperty("--radix-popper-available-height",`${wr}px`),pr.setProperty("--radix-popper-anchor-width",`${Ir}px`),pr.setProperty("--radix-popper-anchor-height",`${Ii}px`)}}),pe&&yse({element:pe,padding:m}),Sse({arrowWidth:_e,arrowHeight:de}),O&&xse({strategy:"referenceHidden",...lt})]}),[Je,mt]=e8(ot),Rt=Ri(te);br(()=>{Tt&&(Rt==null||Rt())},[Tt,Rt]);const ts=(ct=ve.arrow)==null?void 0:ct.x,pt=(Ut=ve.arrow)==null?void 0:Ut.y,Lt=((qt=ve.arrow)==null?void 0:qt.centerOffset)!==0,[Jt,Bt]=V.useState();return br(()=>{H&&Bt(window.getComputedStyle(H).zIndex)},[H]),s.jsx("div",{ref:Qe.setFloating,"data-radix-popper-content-wrapper":"",style:{...wt,transform:Tt?wt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Jt,"--radix-popper-transform-origin":[(es=ve.transformOrigin)==null?void 0:es.x,(fs=ve.transformOrigin)==null?void 0:fs.y].join(" "),...((ys=ve.hide)==null?void 0:ys.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(_se,{scope:i,placedSide:Je,onArrowChange:me,arrowX:ts,arrowY:pt,shouldHideArrow:Lt,children:s.jsx(as.div,{"data-side":Je,"data-align":mt,...Q,ref:Z,style:{...Q.style,animation:Tt?void 0:"none"}})})})});ZW.displayName=rM;var QW="PopperArrow",jse={top:"bottom",right:"left",bottom:"top",left:"right"},JW=V.forwardRef(function(t,i){const{__scopePopper:r,...a}=t,o=Nse(QW,r),u=jse[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(bse,{...a,ref:i,style:{...a.style,display:"block"}})})});JW.displayName=QW;function kse(e){return e!==null}var Sse=e=>({name:"transformOrigin",options:e,fn(t){var J,H,W;const{placement:i,rects:r,middlewareData:a}=t,u=((J=a.arrow)==null?void 0:J.centerOffset)!==0,m=u?0:e.arrowWidth,x=u?0:e.arrowHeight,[w,A]=e8(i),E={start:"0%",center:"50%",end:"100%"}[A],O=(((H=a.arrow)==null?void 0:H.x)??0)+m/2,G=(((W=a.arrow)==null?void 0:W.y)??0)+x/2;let te="",Q="";return w==="bottom"?(te=u?E:`${O}px`,Q=`${-x}px`):w==="top"?(te=u?E:`${O}px`,Q=`${r.floating.height+x}px`):w==="right"?(te=`${-x}px`,Q=u?E:`${G}px`):w==="left"&&(te=`${r.floating.width+x}px`,Q=u?E:`${G}px`),{data:{x:te,y:Q}}}});function e8(e){const[t,i="center"]=e.split("-");return[t,i]}var nM=KW,aM=XW,oM=ZW,lM=JW,KS="rovingFocusGroup.onEntryFocus",Ase={bubbles:!1,cancelable:!0},sj="RovingFocusGroup",[WC,t8,Cse]=qN(sj),[Tse,Eg]=Bn(sj,[Cse]),[Pse,Mse]=Tse(sj),s8=V.forwardRef((e,t)=>s.jsx(WC.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(WC.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Ese,{...e,ref:t})})}));s8.displayName=sj;var Ese=V.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:i,orientation:r,loop:a=!1,dir:o,currentTabStopId:u,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:x,onEntryFocus:w,preventScrollOnEntryFocus:A=!1,...E}=e,O=V.useRef(null),G=Os(t,O),te=Cg(o),[Q=null,J]=Lc({prop:u,defaultProp:m,onChange:x}),[H,W]=V.useState(!1),Z=Ri(w),pe=t8(i),me=V.useRef(!1),[we,_e]=V.useState(0);return V.useEffect(()=>{const de=O.current;if(de)return de.addEventListener(KS,Z),()=>de.removeEventListener(KS,Z)},[Z]),s.jsx(Pse,{scope:i,orientation:r,dir:te,loop:a,currentTabStopId:Q,onItemFocus:V.useCallback(de=>J(de),[J]),onItemShiftTab:V.useCallback(()=>W(!0),[]),onFocusableItemAdd:V.useCallback(()=>_e(de=>de+1),[]),onFocusableItemRemove:V.useCallback(()=>_e(de=>de-1),[]),children:s.jsx(as.div,{tabIndex:H||we===0?-1:0,"data-orientation":r,...E,ref:G,style:{outline:"none",...e.style},onMouseDown:Mt(e.onMouseDown,()=>{me.current=!0}),onFocus:Mt(e.onFocus,de=>{const Ae=!me.current;if(de.target===de.currentTarget&&Ae&&!H){const We=new CustomEvent(KS,Ase);if(de.currentTarget.dispatchEvent(We),!We.defaultPrevented){const tt=pe().filter(ot=>ot.focusable),Xe=tt.find(ot=>ot.active),lt=tt.find(ot=>ot.id===Q),wt=[Xe,lt,...tt].filter(Boolean).map(ot=>ot.ref.current);n8(wt,A)}}me.current=!1}),onBlur:Mt(e.onBlur,()=>W(!1))})})}),i8="RovingFocusGroupItem",r8=V.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:i,focusable:r=!0,active:a=!1,tabStopId:o,...u}=e,m=Ro(),x=o||m,w=Mse(i8,i),A=w.currentTabStopId===x,E=t8(i),{onFocusableItemAdd:O,onFocusableItemRemove:G}=w;return V.useEffect(()=>{if(r)return O(),()=>G()},[r,O,G]),s.jsx(WC.ItemSlot,{scope:i,id:x,focusable:r,active:a,children:s.jsx(as.span,{tabIndex:A?0:-1,"data-orientation":w.orientation,...u,ref:t,onMouseDown:Mt(e.onMouseDown,te=>{r?w.onItemFocus(x):te.preventDefault()}),onFocus:Mt(e.onFocus,()=>w.onItemFocus(x)),onKeyDown:Mt(e.onKeyDown,te=>{if(te.key==="Tab"&&te.shiftKey){w.onItemShiftTab();return}if(te.target!==te.currentTarget)return;const Q=Ose(te,w.orientation,w.dir);if(Q!==void 0){if(te.metaKey||te.ctrlKey||te.altKey||te.shiftKey)return;te.preventDefault();let H=E().filter(W=>W.focusable).map(W=>W.ref.current);if(Q==="last")H.reverse();else if(Q==="prev"||Q==="next"){Q==="prev"&&H.reverse();const W=H.indexOf(te.currentTarget);H=w.loop?Dse(H,W+1):H.slice(W+1)}setTimeout(()=>n8(H))}})})})});r8.displayName=i8;var Ise={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Lse(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ose(e,t,i){const r=Lse(e.key,i);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Ise[r]}function n8(e,t=!1){const i=document.activeElement;for(const r of e)if(r===i||(r.focus({preventScroll:t}),document.activeElement!==i))return}function Dse(e,t){return e.map((i,r)=>e[(t+r)%e.length])}var cM=s8,dM=r8,Rse=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Gm=new WeakMap,P1=new WeakMap,M1={},YS=0,a8=function(e){return e&&(e.host||a8(e.parentNode))},Fse=function(e,t){return t.map(function(i){if(e.contains(i))return i;var r=a8(i);return r&&e.contains(r)?r:(console.error("aria-hidden",i,"in not contained inside",e,". Doing nothing"),null)}).filter(function(i){return!!i})},zse=function(e,t,i,r){var a=Fse(t,Array.isArray(e)?e:[e]);M1[i]||(M1[i]=new WeakMap);var o=M1[i],u=[],m=new Set,x=new Set(a),w=function(E){!E||m.has(E)||(m.add(E),w(E.parentNode))};a.forEach(w);var A=function(E){!E||x.has(E)||Array.prototype.forEach.call(E.children,function(O){if(m.has(O))A(O);else try{var G=O.getAttribute(r),te=G!==null&&G!=="false",Q=(Gm.get(O)||0)+1,J=(o.get(O)||0)+1;Gm.set(O,Q),o.set(O,J),u.push(O),Q===1&&te&&P1.set(O,!0),J===1&&O.setAttribute(i,"true"),te||O.setAttribute(r,"true")}catch(H){console.error("aria-hidden: cannot operate on ",O,H)}})};return A(t),m.clear(),YS++,function(){u.forEach(function(E){var O=Gm.get(E)-1,G=o.get(E)-1;Gm.set(E,O),o.set(E,G),O||(P1.has(E)||E.removeAttribute(r),P1.delete(E)),G||E.removeAttribute(i)}),YS--,YS||(Gm=new WeakMap,Gm=new WeakMap,P1=new WeakMap,M1={})}},uM=function(e,t,i){i===void 0&&(i="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=Rse(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),zse(r,a,i,"aria-hidden")):function(){return null}},kl=function(){return kl=Object.assign||function(t){for(var i,r=1,a=arguments.length;r<a;r++){i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},kl.apply(this,arguments)};function o8(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(i[r[a]]=e[r[a]]);return i}function Bse(e,t,i){if(i||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var r_="right-scroll-bar-position",n_="width-before-scroll-bar",Wse="with-scroll-bars-hidden",Hse="--removed-body-scroll-bar-size";function XS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Vse(e,t){var i=V.useState(function(){return{value:e,callback:t,facade:{get current(){return i.value},set current(r){var a=i.value;a!==r&&(i.value=r,i.callback(r,a))}}}})[0];return i.callback=t,i.facade}var $se=typeof window<"u"?V.useLayoutEffect:V.useEffect,H5=new WeakMap;function Use(e,t){var i=Vse(null,function(r){return e.forEach(function(a){return XS(a,r)})});return $se(function(){var r=H5.get(i);if(r){var a=new Set(r),o=new Set(e),u=i.current;a.forEach(function(m){o.has(m)||XS(m,null)}),o.forEach(function(m){a.has(m)||XS(m,u)})}H5.set(i,e)},[e]),i}function Gse(e){return e}function qse(e,t){t===void 0&&(t=Gse);var i=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:e},useMedium:function(o){var u=t(o,r);return i.push(u),function(){i=i.filter(function(m){return m!==u})}},assignSyncMedium:function(o){for(r=!0;i.length;){var u=i;i=[],u.forEach(o)}i={push:function(m){return o(m)},filter:function(){return i}}},assignMedium:function(o){r=!0;var u=[];if(i.length){var m=i;i=[],m.forEach(o),u=i}var x=function(){var A=u;u=[],A.forEach(o)},w=function(){return Promise.resolve().then(x)};w(),i={push:function(A){u.push(A),w()},filter:function(A){return u=u.filter(A),i}}}};return a}function Kse(e){e===void 0&&(e={});var t=qse(null);return t.options=kl({async:!0,ssr:!1},e),t}var l8=function(e){var t=e.sideCar,i=o8(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return V.createElement(r,kl({},i))};l8.isSideCarExport=!0;function Yse(e,t){return e.useMedium(t),l8}var c8=Kse(),ZS=function(){},ij=V.forwardRef(function(e,t){var i=V.useRef(null),r=V.useState({onScrollCapture:ZS,onWheelCapture:ZS,onTouchMoveCapture:ZS}),a=r[0],o=r[1],u=e.forwardProps,m=e.children,x=e.className,w=e.removeScrollBar,A=e.enabled,E=e.shards,O=e.sideCar,G=e.noIsolation,te=e.inert,Q=e.allowPinchZoom,J=e.as,H=J===void 0?"div":J,W=e.gapMode,Z=o8(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),pe=O,me=Use([i,t]),we=kl(kl({},Z),a);return V.createElement(V.Fragment,null,A&&V.createElement(pe,{sideCar:c8,removeScrollBar:w,shards:E,noIsolation:G,inert:te,setCallbacks:o,allowPinchZoom:!!Q,lockRef:i,gapMode:W}),u?V.cloneElement(V.Children.only(m),kl(kl({},we),{ref:me})):V.createElement(H,kl({},we,{className:x,ref:me}),m))});ij.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ij.classNames={fullWidth:n_,zeroRight:r_};var Xse=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Zse(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Xse();return t&&e.setAttribute("nonce",t),e}function Qse(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Jse(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var eie=function(){var e=0,t=null;return{add:function(i){e==0&&(t=Zse())&&(Qse(t,i),Jse(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},tie=function(){var e=eie();return function(t,i){V.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&i])}},d8=function(){var e=tie(),t=function(i){var r=i.styles,a=i.dynamic;return e(r,a),null};return t},sie={left:0,top:0,right:0,gap:0},QS=function(e){return parseInt(e||"",10)||0},iie=function(e){var t=window.getComputedStyle(document.body),i=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[QS(i),QS(r),QS(a)]},rie=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return sie;var t=iie(e),i=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-i+t[2]-t[0])}},nie=d8(),Lf="data-scroll-locked",aie=function(e,t,i,r){var a=e.left,o=e.top,u=e.right,m=e.gap;return i===void 0&&(i="margin"),`
  .`.concat(Wse,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(m,"px ").concat(r,`;
  }
  body[`).concat(Lf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),i==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(r,`;
    `),i==="padding"&&"padding-right: ".concat(m,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(r_,` {
    right: `).concat(m,"px ").concat(r,`;
  }
  
  .`).concat(n_,` {
    margin-right: `).concat(m,"px ").concat(r,`;
  }
  
  .`).concat(r_," .").concat(r_,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(n_," .").concat(n_,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Lf,`] {
    `).concat(Hse,": ").concat(m,`px;
  }
`)},V5=function(){var e=parseInt(document.body.getAttribute(Lf)||"0",10);return isFinite(e)?e:0},oie=function(){V.useEffect(function(){return document.body.setAttribute(Lf,(V5()+1).toString()),function(){var e=V5()-1;e<=0?document.body.removeAttribute(Lf):document.body.setAttribute(Lf,e.toString())}},[])},lie=function(e){var t=e.noRelative,i=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;oie();var o=V.useMemo(function(){return rie(a)},[a]);return V.createElement(nie,{styles:aie(o,!t,a,i?"":"!important")})},HC=!1;if(typeof window<"u")try{var E1=Object.defineProperty({},"passive",{get:function(){return HC=!0,!0}});window.addEventListener("test",E1,E1),window.removeEventListener("test",E1,E1)}catch{HC=!1}var qm=HC?{passive:!1}:!1,cie=function(e){return e.tagName==="TEXTAREA"},u8=function(e,t){if(!(e instanceof Element))return!1;var i=window.getComputedStyle(e);return i[t]!=="hidden"&&!(i.overflowY===i.overflowX&&!cie(e)&&i[t]==="visible")},die=function(e){return u8(e,"overflowY")},uie=function(e){return u8(e,"overflowX")},$5=function(e,t){var i=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=h8(e,r);if(a){var o=p8(e,r),u=o[1],m=o[2];if(u>m)return!0}r=r.parentNode}while(r&&r!==i.body);return!1},hie=function(e){var t=e.scrollTop,i=e.scrollHeight,r=e.clientHeight;return[t,i,r]},pie=function(e){var t=e.scrollLeft,i=e.scrollWidth,r=e.clientWidth;return[t,i,r]},h8=function(e,t){return e==="v"?die(t):uie(t)},p8=function(e,t){return e==="v"?hie(t):pie(t)},mie=function(e,t){return e==="h"&&t==="rtl"?-1:1},fie=function(e,t,i,r,a){var o=mie(e,window.getComputedStyle(t).direction),u=o*r,m=i.target,x=t.contains(m),w=!1,A=u>0,E=0,O=0;do{var G=p8(e,m),te=G[0],Q=G[1],J=G[2],H=Q-J-o*te;(te||H)&&h8(e,m)&&(E+=H,O+=te),m instanceof ShadowRoot?m=m.host:m=m.parentNode}while(!x&&m!==document.body||x&&(t.contains(m)||t===m));return(A&&(Math.abs(E)<1||!a)||!A&&(Math.abs(O)<1||!a))&&(w=!0),w},I1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},U5=function(e){return[e.deltaX,e.deltaY]},G5=function(e){return e&&"current"in e?e.current:e},gie=function(e,t){return e[0]===t[0]&&e[1]===t[1]},xie=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},yie=0,Km=[];function vie(e){var t=V.useRef([]),i=V.useRef([0,0]),r=V.useRef(),a=V.useState(yie++)[0],o=V.useState(d8)[0],u=V.useRef(e);V.useEffect(function(){u.current=e},[e]),V.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var Q=Bse([e.lockRef.current],(e.shards||[]).map(G5),!0).filter(Boolean);return Q.forEach(function(J){return J.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),Q.forEach(function(J){return J.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var m=V.useCallback(function(Q,J){if("touches"in Q&&Q.touches.length===2||Q.type==="wheel"&&Q.ctrlKey)return!u.current.allowPinchZoom;var H=I1(Q),W=i.current,Z="deltaX"in Q?Q.deltaX:W[0]-H[0],pe="deltaY"in Q?Q.deltaY:W[1]-H[1],me,we=Q.target,_e=Math.abs(Z)>Math.abs(pe)?"h":"v";if("touches"in Q&&_e==="h"&&we.type==="range")return!1;var de=$5(_e,we);if(!de)return!0;if(de?me=_e:(me=_e==="v"?"h":"v",de=$5(_e,we)),!de)return!1;if(!r.current&&"changedTouches"in Q&&(Z||pe)&&(r.current=me),!me)return!0;var Ae=r.current||me;return fie(Ae,J,Q,Ae==="h"?Z:pe,!0)},[]),x=V.useCallback(function(Q){var J=Q;if(!(!Km.length||Km[Km.length-1]!==o)){var H="deltaY"in J?U5(J):I1(J),W=t.current.filter(function(me){return me.name===J.type&&(me.target===J.target||J.target===me.shadowParent)&&gie(me.delta,H)})[0];if(W&&W.should){J.cancelable&&J.preventDefault();return}if(!W){var Z=(u.current.shards||[]).map(G5).filter(Boolean).filter(function(me){return me.contains(J.target)}),pe=Z.length>0?m(J,Z[0]):!u.current.noIsolation;pe&&J.cancelable&&J.preventDefault()}}},[]),w=V.useCallback(function(Q,J,H,W){var Z={name:Q,delta:J,target:H,should:W,shadowParent:bie(H)};t.current.push(Z),setTimeout(function(){t.current=t.current.filter(function(pe){return pe!==Z})},1)},[]),A=V.useCallback(function(Q){i.current=I1(Q),r.current=void 0},[]),E=V.useCallback(function(Q){w(Q.type,U5(Q),Q.target,m(Q,e.lockRef.current))},[]),O=V.useCallback(function(Q){w(Q.type,I1(Q),Q.target,m(Q,e.lockRef.current))},[]);V.useEffect(function(){return Km.push(o),e.setCallbacks({onScrollCapture:E,onWheelCapture:E,onTouchMoveCapture:O}),document.addEventListener("wheel",x,qm),document.addEventListener("touchmove",x,qm),document.addEventListener("touchstart",A,qm),function(){Km=Km.filter(function(Q){return Q!==o}),document.removeEventListener("wheel",x,qm),document.removeEventListener("touchmove",x,qm),document.removeEventListener("touchstart",A,qm)}},[]);var G=e.removeScrollBar,te=e.inert;return V.createElement(V.Fragment,null,te?V.createElement(o,{styles:xie(a)}):null,G?V.createElement(lie,{gapMode:e.gapMode}):null)}function bie(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const wie=Yse(c8,vie);var rj=V.forwardRef(function(e,t){return V.createElement(ij,kl({},e,{ref:t,sideCar:wie}))});rj.classNames=ij.classNames;var VC=["Enter"," "],_ie=["ArrowDown","PageUp","Home"],m8=["ArrowUp","PageDown","End"],Nie=[..._ie,...m8],jie={ltr:[...VC,"ArrowRight"],rtl:[...VC,"ArrowLeft"]},kie={ltr:["ArrowLeft"],rtl:["ArrowRight"]},jv="Menu",[Oy,Sie,Aie]=qN(jv),[dp,f8]=Bn(jv,[Aie,Mg,Eg]),nj=Mg(),g8=Eg(),[Cie,up]=dp(jv),[Tie,kv]=dp(jv),x8=e=>{const{__scopeMenu:t,open:i=!1,children:r,dir:a,onOpenChange:o,modal:u=!0}=e,m=nj(t),[x,w]=V.useState(null),A=V.useRef(!1),E=Ri(o),O=Cg(a);return V.useEffect(()=>{const G=()=>{A.current=!0,document.addEventListener("pointerdown",te,{capture:!0,once:!0}),document.addEventListener("pointermove",te,{capture:!0,once:!0})},te=()=>A.current=!1;return document.addEventListener("keydown",G,{capture:!0}),()=>{document.removeEventListener("keydown",G,{capture:!0}),document.removeEventListener("pointerdown",te,{capture:!0}),document.removeEventListener("pointermove",te,{capture:!0})}},[]),s.jsx(nM,{...m,children:s.jsx(Cie,{scope:t,open:i,onOpenChange:E,content:x,onContentChange:w,children:s.jsx(Tie,{scope:t,onClose:V.useCallback(()=>E(!1),[E]),isUsingKeyboardRef:A,dir:O,modal:u,children:r})})})};x8.displayName=jv;var Pie="MenuAnchor",hM=V.forwardRef((e,t)=>{const{__scopeMenu:i,...r}=e,a=nj(i);return s.jsx(aM,{...a,...r,ref:t})});hM.displayName=Pie;var pM="MenuPortal",[Mie,y8]=dp(pM,{forceMount:void 0}),v8=e=>{const{__scopeMenu:t,forceMount:i,children:r,container:a}=e,o=up(pM,t);return s.jsx(Mie,{scope:t,forceMount:i,children:s.jsx(vn,{present:i||o.open,children:s.jsx(gv,{asChild:!0,container:a,children:r})})})};v8.displayName=pM;var ro="MenuContent",[Eie,mM]=dp(ro),b8=V.forwardRef((e,t)=>{const i=y8(ro,e.__scopeMenu),{forceMount:r=i.forceMount,...a}=e,o=up(ro,e.__scopeMenu),u=kv(ro,e.__scopeMenu);return s.jsx(Oy.Provider,{scope:e.__scopeMenu,children:s.jsx(vn,{present:r||o.open,children:s.jsx(Oy.Slot,{scope:e.__scopeMenu,children:u.modal?s.jsx(Iie,{...a,ref:t}):s.jsx(Lie,{...a,ref:t})})})})}),Iie=V.forwardRef((e,t)=>{const i=up(ro,e.__scopeMenu),r=V.useRef(null),a=Os(t,r);return V.useEffect(()=>{const o=r.current;if(o)return uM(o)},[]),s.jsx(fM,{...e,ref:a,trapFocus:i.open,disableOutsidePointerEvents:i.open,disableOutsideScroll:!0,onFocusOutside:Mt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>i.onOpenChange(!1)})}),Lie=V.forwardRef((e,t)=>{const i=up(ro,e.__scopeMenu);return s.jsx(fM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>i.onOpenChange(!1)})}),Oie=Qh("MenuContent.ScrollLock"),fM=V.forwardRef((e,t)=>{const{__scopeMenu:i,loop:r=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:u,disableOutsidePointerEvents:m,onEntryFocus:x,onEscapeKeyDown:w,onPointerDownOutside:A,onFocusOutside:E,onInteractOutside:O,onDismiss:G,disableOutsideScroll:te,...Q}=e,J=up(ro,i),H=kv(ro,i),W=nj(i),Z=g8(i),pe=Sie(i),[me,we]=V.useState(null),_e=V.useRef(null),de=Os(t,_e,J.onContentChange),Ae=V.useRef(0),We=V.useRef(""),tt=V.useRef(0),Xe=V.useRef(null),lt=V.useRef("right"),Qe=V.useRef(0),wt=te?rj:V.Fragment,ot=te?{as:Oie,allowPinchZoom:!0}:void 0,Tt=Je=>{var ct,Ut;const mt=We.current+Je,Rt=pe().filter(qt=>!qt.disabled),ts=document.activeElement,pt=(ct=Rt.find(qt=>qt.ref.current===ts))==null?void 0:ct.textValue,Lt=Rt.map(qt=>qt.textValue),Jt=qie(Lt,mt,pt),Bt=(Ut=Rt.find(qt=>qt.textValue===Jt))==null?void 0:Ut.ref.current;(function qt(es){We.current=es,window.clearTimeout(Ae.current),es!==""&&(Ae.current=window.setTimeout(()=>qt(""),1e3))})(mt),Bt&&setTimeout(()=>Bt.focus())};V.useEffect(()=>()=>window.clearTimeout(Ae.current),[]),YP();const ve=V.useCallback(Je=>{var Rt,ts;return lt.current===((Rt=Xe.current)==null?void 0:Rt.side)&&Yie(Je,(ts=Xe.current)==null?void 0:ts.area)},[]);return s.jsx(Eie,{scope:i,searchRef:We,onItemEnter:V.useCallback(Je=>{ve(Je)&&Je.preventDefault()},[ve]),onItemLeave:V.useCallback(Je=>{var mt;ve(Je)||((mt=_e.current)==null||mt.focus(),we(null))},[ve]),onTriggerLeave:V.useCallback(Je=>{ve(Je)&&Je.preventDefault()},[ve]),pointerGraceTimerRef:tt,onPointerGraceIntentChange:V.useCallback(Je=>{Xe.current=Je},[]),children:s.jsx(wt,{...ot,children:s.jsx(QN,{asChild:!0,trapped:a,onMountAutoFocus:Mt(o,Je=>{var mt;Je.preventDefault(),(mt=_e.current)==null||mt.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:s.jsx(kg,{asChild:!0,disableOutsidePointerEvents:m,onEscapeKeyDown:w,onPointerDownOutside:A,onFocusOutside:E,onInteractOutside:O,onDismiss:G,children:s.jsx(cM,{asChild:!0,...Z,dir:H.dir,orientation:"vertical",loop:r,currentTabStopId:me,onCurrentTabStopIdChange:we,onEntryFocus:Mt(x,Je=>{H.isUsingKeyboardRef.current||Je.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(oM,{role:"menu","aria-orientation":"vertical","data-state":D8(J.open),"data-radix-menu-content":"",dir:H.dir,...W,...Q,ref:de,style:{outline:"none",...Q.style},onKeyDown:Mt(Q.onKeyDown,Je=>{const Rt=Je.target.closest("[data-radix-menu-content]")===Je.currentTarget,ts=Je.ctrlKey||Je.altKey||Je.metaKey,pt=Je.key.length===1;Rt&&(Je.key==="Tab"&&Je.preventDefault(),!ts&&pt&&Tt(Je.key));const Lt=_e.current;if(Je.target!==Lt||!Nie.includes(Je.key))return;Je.preventDefault();const Bt=pe().filter(ct=>!ct.disabled).map(ct=>ct.ref.current);m8.includes(Je.key)&&Bt.reverse(),Uie(Bt)}),onBlur:Mt(e.onBlur,Je=>{Je.currentTarget.contains(Je.target)||(window.clearTimeout(Ae.current),We.current="")}),onPointerMove:Mt(e.onPointerMove,Dy(Je=>{const mt=Je.target,Rt=Qe.current!==Je.clientX;if(Je.currentTarget.contains(mt)&&Rt){const ts=Je.clientX>Qe.current?"right":"left";lt.current=ts,Qe.current=Je.clientX}}))})})})})})})});b8.displayName=ro;var Die="MenuGroup",gM=V.forwardRef((e,t)=>{const{__scopeMenu:i,...r}=e;return s.jsx(as.div,{role:"group",...r,ref:t})});gM.displayName=Die;var Rie="MenuLabel",w8=V.forwardRef((e,t)=>{const{__scopeMenu:i,...r}=e;return s.jsx(as.div,{...r,ref:t})});w8.displayName=Rie;var G_="MenuItem",q5="menu.itemSelect",aj=V.forwardRef((e,t)=>{const{disabled:i=!1,onSelect:r,...a}=e,o=V.useRef(null),u=kv(G_,e.__scopeMenu),m=mM(G_,e.__scopeMenu),x=Os(t,o),w=V.useRef(!1),A=()=>{const E=o.current;if(!i&&E){const O=new CustomEvent(q5,{bubbles:!0,cancelable:!0});E.addEventListener(q5,G=>r==null?void 0:r(G),{once:!0}),EP(E,O),O.defaultPrevented?w.current=!1:u.onClose()}};return s.jsx(_8,{...a,ref:x,disabled:i,onClick:Mt(e.onClick,A),onPointerDown:E=>{var O;(O=e.onPointerDown)==null||O.call(e,E),w.current=!0},onPointerUp:Mt(e.onPointerUp,E=>{var O;w.current||(O=E.currentTarget)==null||O.click()}),onKeyDown:Mt(e.onKeyDown,E=>{const O=m.searchRef.current!=="";i||O&&E.key===" "||VC.includes(E.key)&&(E.currentTarget.click(),E.preventDefault())})})});aj.displayName=G_;var _8=V.forwardRef((e,t)=>{const{__scopeMenu:i,disabled:r=!1,textValue:a,...o}=e,u=mM(G_,i),m=g8(i),x=V.useRef(null),w=Os(t,x),[A,E]=V.useState(!1),[O,G]=V.useState("");return V.useEffect(()=>{const te=x.current;te&&G((te.textContent??"").trim())},[o.children]),s.jsx(Oy.ItemSlot,{scope:i,disabled:r,textValue:a??O,children:s.jsx(dM,{asChild:!0,...m,focusable:!r,children:s.jsx(as.div,{role:"menuitem","data-highlighted":A?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:w,onPointerMove:Mt(e.onPointerMove,Dy(te=>{r?u.onItemLeave(te):(u.onItemEnter(te),te.defaultPrevented||te.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Mt(e.onPointerLeave,Dy(te=>u.onItemLeave(te))),onFocus:Mt(e.onFocus,()=>E(!0)),onBlur:Mt(e.onBlur,()=>E(!1))})})})}),Fie="MenuCheckboxItem",N8=V.forwardRef((e,t)=>{const{checked:i=!1,onCheckedChange:r,...a}=e;return s.jsx(C8,{scope:e.__scopeMenu,checked:i,children:s.jsx(aj,{role:"menuitemcheckbox","aria-checked":q_(i)?"mixed":i,...a,ref:t,"data-state":yM(i),onSelect:Mt(a.onSelect,()=>r==null?void 0:r(q_(i)?!0:!i),{checkForDefaultPrevented:!1})})})});N8.displayName=Fie;var j8="MenuRadioGroup",[zie,Bie]=dp(j8,{value:void 0,onValueChange:()=>{}}),k8=V.forwardRef((e,t)=>{const{value:i,onValueChange:r,...a}=e,o=Ri(r);return s.jsx(zie,{scope:e.__scopeMenu,value:i,onValueChange:o,children:s.jsx(gM,{...a,ref:t})})});k8.displayName=j8;var S8="MenuRadioItem",A8=V.forwardRef((e,t)=>{const{value:i,...r}=e,a=Bie(S8,e.__scopeMenu),o=i===a.value;return s.jsx(C8,{scope:e.__scopeMenu,checked:o,children:s.jsx(aj,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":yM(o),onSelect:Mt(r.onSelect,()=>{var u;return(u=a.onValueChange)==null?void 0:u.call(a,i)},{checkForDefaultPrevented:!1})})})});A8.displayName=S8;var xM="MenuItemIndicator",[C8,Wie]=dp(xM,{checked:!1}),T8=V.forwardRef((e,t)=>{const{__scopeMenu:i,forceMount:r,...a}=e,o=Wie(xM,i);return s.jsx(vn,{present:r||q_(o.checked)||o.checked===!0,children:s.jsx(as.span,{...a,ref:t,"data-state":yM(o.checked)})})});T8.displayName=xM;var Hie="MenuSeparator",P8=V.forwardRef((e,t)=>{const{__scopeMenu:i,...r}=e;return s.jsx(as.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});P8.displayName=Hie;var Vie="MenuArrow",M8=V.forwardRef((e,t)=>{const{__scopeMenu:i,...r}=e,a=nj(i);return s.jsx(lM,{...a,...r,ref:t})});M8.displayName=Vie;var $ie="MenuSub",[Pye,E8]=dp($ie),V0="MenuSubTrigger",I8=V.forwardRef((e,t)=>{const i=up(V0,e.__scopeMenu),r=kv(V0,e.__scopeMenu),a=E8(V0,e.__scopeMenu),o=mM(V0,e.__scopeMenu),u=V.useRef(null),{pointerGraceTimerRef:m,onPointerGraceIntentChange:x}=o,w={__scopeMenu:e.__scopeMenu},A=V.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return V.useEffect(()=>A,[A]),V.useEffect(()=>{const E=m.current;return()=>{window.clearTimeout(E),x(null)}},[m,x]),s.jsx(hM,{asChild:!0,...w,children:s.jsx(_8,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":a.contentId,"data-state":D8(i.open),...e,ref:GN(t,a.onTriggerChange),onClick:E=>{var O;(O=e.onClick)==null||O.call(e,E),!(e.disabled||E.defaultPrevented)&&(E.currentTarget.focus(),i.open||i.onOpenChange(!0))},onPointerMove:Mt(e.onPointerMove,Dy(E=>{o.onItemEnter(E),!E.defaultPrevented&&!e.disabled&&!i.open&&!u.current&&(o.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{i.onOpenChange(!0),A()},100))})),onPointerLeave:Mt(e.onPointerLeave,Dy(E=>{var G,te;A();const O=(G=i.content)==null?void 0:G.getBoundingClientRect();if(O){const Q=(te=i.content)==null?void 0:te.dataset.side,J=Q==="right",H=J?-5:5,W=O[J?"left":"right"],Z=O[J?"right":"left"];o.onPointerGraceIntentChange({area:[{x:E.clientX+H,y:E.clientY},{x:W,y:O.top},{x:Z,y:O.top},{x:Z,y:O.bottom},{x:W,y:O.bottom}],side:Q}),window.clearTimeout(m.current),m.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(E),E.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Mt(e.onKeyDown,E=>{var G;const O=o.searchRef.current!=="";e.disabled||O&&E.key===" "||jie[r.dir].includes(E.key)&&(i.onOpenChange(!0),(G=i.content)==null||G.focus(),E.preventDefault())})})})});I8.displayName=V0;var L8="MenuSubContent",O8=V.forwardRef((e,t)=>{const i=y8(ro,e.__scopeMenu),{forceMount:r=i.forceMount,...a}=e,o=up(ro,e.__scopeMenu),u=kv(ro,e.__scopeMenu),m=E8(L8,e.__scopeMenu),x=V.useRef(null),w=Os(t,x);return s.jsx(Oy.Provider,{scope:e.__scopeMenu,children:s.jsx(vn,{present:r||o.open,children:s.jsx(Oy.Slot,{scope:e.__scopeMenu,children:s.jsx(fM,{id:m.contentId,"aria-labelledby":m.triggerId,...a,ref:w,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:A=>{var E;u.isUsingKeyboardRef.current&&((E=x.current)==null||E.focus()),A.preventDefault()},onCloseAutoFocus:A=>A.preventDefault(),onFocusOutside:Mt(e.onFocusOutside,A=>{A.target!==m.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Mt(e.onEscapeKeyDown,A=>{u.onClose(),A.preventDefault()}),onKeyDown:Mt(e.onKeyDown,A=>{var G;const E=A.currentTarget.contains(A.target),O=kie[u.dir].includes(A.key);E&&O&&(o.onOpenChange(!1),(G=m.trigger)==null||G.focus(),A.preventDefault())})})})})})});O8.displayName=L8;function D8(e){return e?"open":"closed"}function q_(e){return e==="indeterminate"}function yM(e){return q_(e)?"indeterminate":e?"checked":"unchecked"}function Uie(e){const t=document.activeElement;for(const i of e)if(i===t||(i.focus(),document.activeElement!==t))return}function Gie(e,t){return e.map((i,r)=>e[(t+r)%e.length])}function qie(e,t,i){const a=t.length>1&&Array.from(t).every(w=>w===t[0])?t[0]:t,o=i?e.indexOf(i):-1;let u=Gie(e,Math.max(o,0));a.length===1&&(u=u.filter(w=>w!==i));const x=u.find(w=>w.toLowerCase().startsWith(a.toLowerCase()));return x!==i?x:void 0}function Kie(e,t){const{x:i,y:r}=e;let a=!1;for(let o=0,u=t.length-1;o<t.length;u=o++){const m=t[o].x,x=t[o].y,w=t[u].x,A=t[u].y;x>r!=A>r&&i<(w-m)*(r-x)/(A-x)+m&&(a=!a)}return a}function Yie(e,t){if(!t)return!1;const i={x:e.clientX,y:e.clientY};return Kie(i,t)}function Dy(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Xie=x8,Zie=hM,Qie=v8,Jie=b8,ere=gM,tre=w8,sre=aj,ire=N8,rre=k8,nre=A8,are=T8,ore=P8,lre=M8,cre=I8,dre=O8,vM="DropdownMenu",[ure,Mye]=Bn(vM,[f8]),Wn=f8(),[hre,R8]=ure(vM),F8=e=>{const{__scopeDropdownMenu:t,children:i,dir:r,open:a,defaultOpen:o,onOpenChange:u,modal:m=!0}=e,x=Wn(t),w=V.useRef(null),[A=!1,E]=Lc({prop:a,defaultProp:o,onChange:u});return s.jsx(hre,{scope:t,triggerId:Ro(),triggerRef:w,contentId:Ro(),open:A,onOpenChange:E,onOpenToggle:V.useCallback(()=>E(O=>!O),[E]),modal:m,children:s.jsx(Xie,{...x,open:A,onOpenChange:E,dir:r,modal:m,children:i})})};F8.displayName=vM;var z8="DropdownMenuTrigger",B8=V.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,disabled:r=!1,...a}=e,o=R8(z8,i),u=Wn(i);return s.jsx(Zie,{asChild:!0,...u,children:s.jsx(as.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:GN(t,o.triggerRef),onPointerDown:Mt(e.onPointerDown,m=>{!r&&m.button===0&&m.ctrlKey===!1&&(o.onOpenToggle(),o.open||m.preventDefault())}),onKeyDown:Mt(e.onKeyDown,m=>{r||(["Enter"," "].includes(m.key)&&o.onOpenToggle(),m.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(m.key)&&m.preventDefault())})})})});B8.displayName=z8;var pre="DropdownMenuPortal",W8=e=>{const{__scopeDropdownMenu:t,...i}=e,r=Wn(t);return s.jsx(Qie,{...r,...i})};W8.displayName=pre;var H8="DropdownMenuContent",V8=V.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=R8(H8,i),o=Wn(i),u=V.useRef(!1);return s.jsx(Jie,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...r,ref:t,onCloseAutoFocus:Mt(e.onCloseAutoFocus,m=>{var x;u.current||(x=a.triggerRef.current)==null||x.focus(),u.current=!1,m.preventDefault()}),onInteractOutside:Mt(e.onInteractOutside,m=>{const x=m.detail.originalEvent,w=x.button===0&&x.ctrlKey===!0,A=x.button===2||w;(!a.modal||A)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});V8.displayName=H8;var mre="DropdownMenuGroup",fre=V.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Wn(i);return s.jsx(ere,{...a,...r,ref:t})});fre.displayName=mre;var gre="DropdownMenuLabel",$8=V.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Wn(i);return s.jsx(tre,{...a,...r,ref:t})});$8.displayName=gre;var xre="DropdownMenuItem",U8=V.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Wn(i);return s.jsx(sre,{...a,...r,ref:t})});U8.displayName=xre;var yre="DropdownMenuCheckboxItem",G8=V.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Wn(i);return s.jsx(ire,{...a,...r,ref:t})});G8.displayName=yre;var vre="DropdownMenuRadioGroup",bre=V.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Wn(i);return s.jsx(rre,{...a,...r,ref:t})});bre.displayName=vre;var wre="DropdownMenuRadioItem",q8=V.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Wn(i);return s.jsx(nre,{...a,...r,ref:t})});q8.displayName=wre;var _re="DropdownMenuItemIndicator",K8=V.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Wn(i);return s.jsx(are,{...a,...r,ref:t})});K8.displayName=_re;var Nre="DropdownMenuSeparator",Y8=V.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Wn(i);return s.jsx(ore,{...a,...r,ref:t})});Y8.displayName=Nre;var jre="DropdownMenuArrow",kre=V.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Wn(i);return s.jsx(lre,{...a,...r,ref:t})});kre.displayName=jre;var Sre="DropdownMenuSubTrigger",X8=V.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Wn(i);return s.jsx(cre,{...a,...r,ref:t})});X8.displayName=Sre;var Are="DropdownMenuSubContent",Z8=V.forwardRef((e,t)=>{const{__scopeDropdownMenu:i,...r}=e,a=Wn(i);return s.jsx(dre,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Z8.displayName=Are;var Cre=F8,Tre=B8,Pre=W8,Q8=V8,J8=$8,eH=U8,tH=G8,sH=q8,iH=K8,rH=Y8,nH=X8,aH=Z8;const Mre=Cre,Ere=Tre,Ire=V.forwardRef(({className:e,inset:t,children:i,...r},a)=>s.jsxs(nH,{ref:a,className:Ot("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[i,s.jsx(Wo,{className:"ml-auto"})]}));Ire.displayName=nH.displayName;const Lre=V.forwardRef(({className:e,...t},i)=>s.jsx(aH,{ref:i,className:Ot("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Lre.displayName=aH.displayName;const oH=V.forwardRef(({className:e,sideOffset:t=4,...i},r)=>s.jsx(Pre,{children:s.jsx(Q8,{ref:r,sideOffset:t,className:Ot("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...i})}));oH.displayName=Q8.displayName;const a_=V.forwardRef(({className:e,inset:t,...i},r)=>s.jsx(eH,{ref:r,className:Ot("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...i}));a_.displayName=eH.displayName;const Ore=V.forwardRef(({className:e,children:t,checked:i,...r},a)=>s.jsxs(tH,{ref:a,className:Ot("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:i,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(iH,{children:s.jsx(uW,{className:"h-4 w-4"})})}),t]}));Ore.displayName=tH.displayName;const Dre=V.forwardRef(({className:e,children:t,...i},r)=>s.jsxs(sH,{ref:r,className:Ot("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...i,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(iH,{children:s.jsx(mW,{className:"h-2 w-2 fill-current"})})}),t]}));Dre.displayName=sH.displayName;const Rre=V.forwardRef(({className:e,inset:t,...i},r)=>s.jsx(J8,{ref:r,className:Ot("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...i}));Rre.displayName=J8.displayName;const lH=V.forwardRef(({className:e,...t},i)=>s.jsx(rH,{ref:i,className:Ot("-mx-1 my-1 h-px bg-muted",e),...t}));lH.displayName=rH.displayName;const Fre=[{path:"/dashboard",label:"Dashboard",icon:JJ,glowClass:"rim-glow-dashboard",categoryColor:"#FE4365",hoverTextClass:"hover:text-[#FE4365]",activeBgClass:"bg-[#FE4365]",activeTextClass:"text-white"},{path:"/trading",label:"Trading",icon:ns,glowClass:"rim-glow-trading",categoryColor:"#45ADA8",hoverTextClass:"hover:text-[#45ADA8]",activeBgClass:"bg-[#45ADA8]",activeTextClass:"text-white"},{path:"/portfolio",label:"Portfolio",icon:cW,glowClass:"rim-glow-portfolio",categoryColor:"#F9D423",hoverTextClass:"hover:text-[#F9D423]",activeBgClass:"bg-[#F9D423]",activeTextClass:"text-black"},{path:"/news",label:"News",icon:lee,glowClass:"rim-glow-news",categoryColor:"#22c55e",hoverTextClass:"hover:text-[#22c55e]",activeBgClass:"bg-[#22c55e]",activeTextClass:"text-white"},{path:"/learn",label:"Learn",icon:gW,glowClass:"rim-glow-learn",categoryColor:"#FF4F50",hoverTextClass:"hover:text-[#FF4F50]",activeBgClass:"bg-[#FF4F50]",activeTextClass:"text-white"},{path:"/markets",label:"Markets",icon:XJ,glowClass:"rim-glow-markets",categoryColor:"#E8175D",hoverTextClass:"hover:text-[#E8175D]",activeBgClass:"bg-[#E8175D]",activeTextClass:"text-white"},{path:"/research",label:"Research",icon:Ci,glowClass:"rim-glow-research",categoryColor:"#A8E6CE",hoverTextClass:"hover:text-[#A8E6CE]",activeBgClass:"bg-[#A8E6CE]",activeTextClass:"text-black"},{path:"/analytics",label:"Analytics",icon:xu,glowClass:"rim-glow-analytics",categoryColor:"#E84A5F",hoverTextClass:"hover:text-[#E84A5F]",activeBgClass:"bg-[#E84A5F]",activeTextClass:"text-white"}];function zre(){const[e]=Uc();sn();const[t,i]=V.useState([]),r=(m,x,w,A=!1,E,O)=>{const G=new Date,te=new Date(G.toLocaleString("en-US",{timeZone:m})),Q=te.getHours()+te.getMinutes()/60,J=te.getDay();return J===0||J===6?"closed":A&&E!==void 0&&O!==void 0&&(Q>=E&&Q<x||Q>=w&&Q<O)?"extended":Q>=x&&Q<w?"open":"closed"},a=()=>{const m=new Date(new Date().toLocaleString("en-US",{timeZone:"America/New_York"})),x=new Date(new Date().toLocaleString("en-US",{timeZone:"Europe/London"})),w=new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Tokyo"}));i([{code:"NYSE",city:"NY",timezone:"America/New_York",status:r("America/New_York",9.5,16,!0,4,20),time:m},{code:"LSE",city:"LON",timezone:"Europe/London",status:r("Europe/London",8,16.5),time:x},{code:"TSE",city:"TYO",timezone:"Asia/Tokyo",status:r("Asia/Tokyo",9,15),time:w}])};V.useEffect(()=>{a();const m=setInterval(a,1e3);return()=>clearInterval(m)},[]);const o=async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),window.location.href="/"}catch(m){console.error("Logout failed:",m)}},u=m=>{const x=m.icon,w=e===m.path||e.startsWith(m.path+"/"),A=m.hoverTextClass.replace("hover:","group-hover:");return s.jsx(gt,{href:m.path,children:s.jsxs("button",{className:`
            group inline-flex items-center gap-2 px-3 h-8 rounded-sm
            ${w?`${m.activeBgClass} ${m.activeTextClass}`:"bg-transparent"}
            transition-all duration-200
            ${m.glowClass}
            ${w?`${m.glowClass}-active`:""}
          `,"data-testid":`link-nav-${m.label.toLowerCase()}`,children:[s.jsx(x,{className:`w-4 h-4 ${w?m.activeTextClass:`text-foreground ${A}`}`}),s.jsx("span",{className:`text-sm ${w?m.activeTextClass:`text-foreground ${A}`}`,style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:m.label})]})},m.path)};return s.jsxs("nav",{className:"h-9 px-4 bg-black/90 backdrop-blur-sm border-b border-gray-800 flex items-center justify-between gap-4",children:[s.jsx("div",{className:"flex items-center flex-shrink-0",children:s.jsx(gt,{href:"/dashboard",children:s.jsx("span",{className:"text-sm text-white hover:text-gray-300 transition-colors whitespace-nowrap cursor-pointer",style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":"link-logo",children:"PANEL PROFITS"})})}),s.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500","data-testid":"separator-1-dot-1"}),s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500","data-testid":"separator-1-dot-2"}),s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500","data-testid":"separator-1-dot-3"})]}),s.jsx("div",{className:"hidden md:flex items-center gap-1 flex-shrink-0",children:Fre.map(u)}),s.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500","data-testid":"separator-2-dot-1"}),s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500","data-testid":"separator-2-dot-2"}),s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500","data-testid":"separator-2-dot-3"})]}),s.jsx("div",{className:"flex items-center gap-3 flex-shrink-0",children:t.map(m=>s.jsxs("div",{className:"flex items-center gap-1.5","data-testid":`market-clock-${m.code.toLowerCase()}`,children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${m.status==="open"?"bg-green-500":m.status==="extended"?"bg-yellow-500":"bg-red-500"}`}),s.jsx("span",{className:"text-xs text-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:m.code}),s.jsx("span",{className:"text-xs text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:m.time.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})})]},m.code))}),s.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500","data-testid":"separator-3-dot-1"}),s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500","data-testid":"separator-3-dot-2"}),s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500","data-testid":"separator-3-dot-3"})]}),s.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[s.jsx(rt,{variant:"ghost",size:"icon",className:"h-9 w-9","data-testid":"button-notifications",children:s.jsx(zP,{className:"w-4 h-4"})}),s.jsx(rt,{variant:"ghost",size:"icon",className:"h-9 w-9","data-testid":"button-settings",asChild:!0,children:s.jsx(gt,{href:"/settings",children:s.jsx(LC,{className:"w-4 h-4"})})}),s.jsxs(Mre,{children:[s.jsx(Ere,{asChild:!0,children:s.jsx(rt,{variant:"ghost",size:"icon",className:"h-9 w-9","data-testid":"button-user-menu",children:s.jsx(xn,{className:"w-4 h-4"})})}),s.jsxs(oH,{align:"end",className:"w-48",children:[s.jsx(a_,{asChild:!0,children:s.jsxs(gt,{href:"/profile",className:"flex items-center gap-2 w-full","data-testid":"link-profile",children:[s.jsx(xn,{className:"w-4 h-4"}),s.jsx("span",{children:"Profile"})]})}),s.jsx(a_,{asChild:!0,children:s.jsxs(gt,{href:"/settings",className:"flex items-center gap-2 w-full","data-testid":"link-settings",children:[s.jsx(LC,{className:"w-4 h-4"}),s.jsx("span",{children:"Settings"})]})}),s.jsx(lH,{}),s.jsxs(a_,{onClick:o,className:"text-red-500 focus:text-red-500","data-testid":"button-logout",children:[s.jsx(yW,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:"Logout"})]})]})]}),s.jsx(rt,{variant:"ghost",size:"icon",className:"md:hidden h-9 w-9","data-testid":"button-mobile-menu",children:s.jsx(ree,{className:"w-4 h-4"})})]})]})}function Bre({time:e,status:t}){const i=e.getHours()%12,r=e.getMinutes(),a=e.getSeconds(),o=r*6+a*.1-90,u=i*30+r*.5-90,m=()=>{switch(t){case"open":return"stroke-green-400";case"after-hours":return"stroke-yellow-400";case"closed":return"stroke-red-400"}},x=()=>{switch(t){case"open":return"bg-green-500/20 border-green-400/40";case"after-hours":return"bg-yellow-500/20 border-yellow-400/40";case"closed":return"bg-red-500/20 border-red-400/40"}};return s.jsx("div",{className:`relative w-12 h-12 rounded-full border ${x()} flex items-center justify-center`,children:s.jsxs("svg",{className:"absolute w-full h-full",viewBox:"0 0 100 100",children:[[...Array(12)].map((w,A)=>{const E=(A*30-90)*(Math.PI/180),O=50+38*Math.cos(E),G=50+38*Math.sin(E);return s.jsx("circle",{cx:O,cy:G,r:A%3===0?1.5:.8,className:"fill-white/40"},A)}),s.jsx("line",{x1:"50",y1:"50",x2:50+25*Math.cos(u*Math.PI/180),y2:50+25*Math.sin(u*Math.PI/180),className:`${m()} stroke-[2]`,strokeLinecap:"round"}),s.jsx("line",{x1:"50",y1:"50",x2:50+35*Math.cos(o*Math.PI/180),y2:50+35*Math.sin(o*Math.PI/180),className:`${m()} stroke-[1.5]`,strokeLinecap:"round"}),s.jsx("circle",{cx:"50",cy:"50",r:"3",className:m().replace("stroke","fill")})]})})}function Wre(){const[e,t]=V.useState([]),i=(u,m,x,w=!1,A,E)=>{const O=new Date,G=new Date(O.toLocaleString("en-US",{timeZone:u})),te=G.getHours(),Q=G.getMinutes(),J=te*60+Q,H=m*60,W=x*60,Z=G.getDay();if(Z===0||Z===6)return"closed";if(w&&A!==void 0&&E!==void 0){const pe=A*60,me=E*60;if(J>=pe&&J<H||J>=W&&J<me)return"after-hours"}return J>=H&&J<W?"open":"closed"},r=u=>{const x=new Date().toLocaleString("en-US",{timeZone:u});return new Date(x)},a=()=>{const u=[{name:"NYSE",city:"New York",timezone:"America/New_York",status:i("America/New_York",9.5,16,!0,4,20),localTime:r("America/New_York"),openTime:"9:30 AM",closeTime:"4:00 PM"},{name:"LSE",city:"London",timezone:"Europe/London",status:i("Europe/London",8,16.5),localTime:r("Europe/London"),openTime:"8:00 AM",closeTime:"4:30 PM"},{name:"TSE",city:"Tokyo",timezone:"Asia/Tokyo",status:i("Asia/Tokyo",9,15),localTime:r("Asia/Tokyo"),openTime:"9:00 AM",closeTime:"3:00 PM"},{name:"ASX",city:"Sydney",timezone:"Australia/Sydney",status:i("Australia/Sydney",10,16),localTime:r("Australia/Sydney"),openTime:"10:00 AM",closeTime:"4:00 PM"}];t(u)};V.useEffect(()=>{a();const u=setInterval(a,1e3);return()=>clearInterval(u)},[]);const o=u=>{switch(u){case"open":return s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-500/20 text-green-400 border border-green-400/30",children:"OPEN"});case"after-hours":return s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-500/20 text-yellow-400 border border-yellow-400/30",children:"PRE/POST"});case"closed":return s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-500/20 text-red-400 border border-red-400/30",children:"CLOSED"})}};return s.jsx("div",{className:"bg-[#252B3C] border-t border-white/10 px-6 py-3",children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-4",children:[s.jsx("div",{className:"text-white/70",style:{fontSize:"14pt",fontFamily:"Hind, sans-serif",fontWeight:300},children:"Global Markets"}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(u=>s.jsxs("div",{className:"flex items-center gap-3","data-testid":`market-clock-${u.name.toLowerCase()}`,children:[s.jsx(Bre,{time:u.localTime,status:u.status}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-white font-medium font-mono text-sm",children:u.name}),o(u.status)]}),s.jsx("div",{className:"text-white/60 font-mono text-xs",children:u.localTime.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}),s.jsx("div",{className:"text-white/40 text-xs",children:u.city})]})]},u.name))})]})})}function Hre(){const e=new Date().getFullYear();return s.jsx("footer",{className:"mt-12 border-t border-gray-800 bg-black/90 backdrop-blur-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-white mb-3",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Panel Profits"}),s.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Bloomberg Terminal-style financial trading platform for comic books. Trade millions of assets with institutional-grade tools."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-white mb-3",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Platform"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(gt,{href:"/dashboard",children:s.jsx("a",{className:"text-xs text-gray-400 hover:text-white transition-colors",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Dashboard"})})}),s.jsx("li",{children:s.jsx(gt,{href:"/trading",children:s.jsx("a",{className:"text-xs text-gray-400 hover:text-white transition-colors",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Trading Terminal"})})}),s.jsx("li",{children:s.jsx(gt,{href:"/portfolio",children:s.jsx("a",{className:"text-xs text-gray-400 hover:text-white transition-colors",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Portfolio"})})}),s.jsx("li",{children:s.jsx(gt,{href:"/analytics",children:s.jsx("a",{className:"text-xs text-gray-400 hover:text-white transition-colors",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Analytics"})})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-white mb-3",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Resources"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(gt,{href:"/markets",children:s.jsx("a",{className:"text-xs text-gray-400 hover:text-white transition-colors",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Market Data"})})}),s.jsx("li",{children:s.jsx(gt,{href:"/research",children:s.jsx("a",{className:"text-xs text-gray-400 hover:text-white transition-colors",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Research"})})}),s.jsx("li",{children:s.jsx(gt,{href:"/certification",children:s.jsx("a",{className:"text-xs text-gray-400 hover:text-white transition-colors",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Certification"})})}),s.jsx("li",{children:s.jsx(gt,{href:"/education",children:s.jsx("a",{className:"text-xs text-gray-400 hover:text-white transition-colors",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Education"})})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-white mb-3",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Legal"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(gt,{href:"/terms",children:s.jsx("a",{className:"text-xs text-gray-400 hover:text-white transition-colors",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Terms of Service"})})}),s.jsx("li",{children:s.jsx(gt,{href:"/privacy",children:s.jsx("a",{className:"text-xs text-gray-400 hover:text-white transition-colors",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Privacy Policy"})})}),s.jsx("li",{children:s.jsx(gt,{href:"/risk",children:s.jsx("a",{className:"text-xs text-gray-400 hover:text-white transition-colors",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Risk Disclosure"})})})]})]})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-800",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("p",{className:"text-xs text-gray-500",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["© ",e," Panel Profits. All rights reserved."]}),s.jsx("p",{className:"text-xs text-gray-500",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Simulated trading platform • Not real financial advice"})]})})]})})}function Vre({children:e}){const[t,i]=Uc(),{data:r,isLoading:a,error:o}=yt({queryKey:["/api/entry-test/status"],enabled:!0,refetchInterval:!1,retry:1});return V.useEffect(()=>{console.log("EntryTestGuard status check:",{testStatus:r,isLoading:a,error:o,location:t}),!a&&(r!=null&&r.requiresTest)&&t!=="/entry-test"&&(console.log("Redirecting to entry test..."),i("/entry-test"))},[r,a,o,t,i]),a?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 border-2 border-primary rounded-full animate-spin border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Verifying trading profile..."})]})}):o?(console.error("Error checking entry test status:",o),s.jsx(s.Fragment,{children:e})):r!=null&&r.requiresTest&&t!=="/entry-test"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 border-2 border-primary rounded-full animate-spin border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Redirecting to trading assessment..."})]})}):s.jsx(s.Fragment,{children:e})}function $re({children:e}){const[,t]=Uc(),{data:i,isLoading:r}=yt({queryKey:["/api/knowledge-test/status"]});return V.useEffect(()=>{!r&&i&&!i.hasCompletedTest&&i.requiresTest&&t("/knowledge-test")},[i,r,t]),r?s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-indigo-950/20 to-black flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Verifying trading floor access..."})]})}):s.jsx(s.Fragment,{children:e})}const Se=V.forwardRef(({className:e,...t},i)=>s.jsx("div",{ref:i,className:Ot("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));Se.displayName="Card";const Be=V.forwardRef(({className:e,...t},i)=>s.jsx("div",{ref:i,className:Ot("flex flex-col space-y-1.5 p-6",e),...t}));Be.displayName="CardHeader";const Ze=V.forwardRef(({className:e,...t},i)=>s.jsx("div",{ref:i,className:Ot("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ze.displayName="CardTitle";const lo=V.forwardRef(({className:e,...t},i)=>s.jsx("div",{ref:i,className:Ot("text-sm text-muted-foreground",e),...t}));lo.displayName="CardDescription";const Pe=V.forwardRef(({className:e,...t},i)=>s.jsx("div",{ref:i,className:Ot("p-6 pt-0",e),...t}));Pe.displayName="CardContent";const Ure=V.forwardRef(({className:e,...t},i)=>s.jsx("div",{ref:i,className:Ot("flex items-center p-6 pt-0",e),...t}));Ure.displayName="CardFooter";function Gre(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(Se,{className:"w-full max-w-md mx-4",children:s.jsxs(Pe,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(Sg,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl  text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function qre(){const e=()=>{window.location.href="/api/login"};return s.jsxs("div",{className:"min-h-screen bg-black flex flex-col relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black via-gray-900 to-black z-0"}),s.jsx("div",{className:"absolute inset-0 opacity-5 z-10",style:{backgroundImage:`
            linear-gradient(rgba(74, 222, 128, 0.05) 1px, transparent 1px),
            linear-gradient(90deg, rgba(74, 222, 128, 0.05) 1px, transparent 1px)
          `,backgroundSize:"50px 50px"}}),s.jsx("div",{className:"absolute top-6 left-6 z-50",children:s.jsx(gt,{href:"/",children:s.jsxs(rt,{variant:"ghost",className:"text-white hover:bg-white/10","data-testid":"button-back",children:[s.jsx(_s,{className:"mr-2 h-4 w-4"}),"Back"]})})}),s.jsx("main",{className:"flex-1 flex items-center justify-center px-6 relative z-20",children:s.jsxs(Se,{className:"w-full max-w-md bg-black/60 backdrop-blur-md border-white/10",children:[s.jsxs(Be,{className:"text-center",children:[s.jsx(Ze,{className:"text-3xl font-header text-white",children:"PANEL PROFITS"}),s.jsx(lo,{className:"text-gray-400",children:"Enter your credentials to access the trading floor"})]}),s.jsx(Pe,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(rt,{onClick:e,className:"w-full bg-white text-black hover:bg-gray-100","data-testid":"button-login",children:"Sign In with Replit"}),s.jsx("div",{className:"text-center text-xs text-gray-500 pt-2",children:s.jsx("p",{children:"Secure authentication via Replit OIDC"})})]})})]})})]})}const P0=[{id:1,title:"THE MARKET NEVER SLEEPS",text:"In a world where comic books are currency and fortunes rise and fall with the stroke of a pen...",caption:"NEW YORK CITY - PRESENT DAY",bgGradient:"from-black via-gray-900 to-black"},{id:2,title:"WHO WATCHES THE WATCHMEN?",text:"Seven Houses control the flow of capital. Each with their own philosophy. Their own methods. Their own vision of profit.",caption:"THE SEVEN HOUSES OF PANEL PROFITS",bgGradient:"from-gray-900 via-black to-gray-900"},{id:3,title:"EVERY CHOICE HAS A PRICE",text:"Your decisions will define you. Your morality will be tested. Your profits will be measured.",caption:"BUT WHICH HOUSE WILL CLAIM YOU?",bgGradient:"from-black via-indigo-950 to-black"},{id:4,title:"THE ASSESSMENT BEGINS",text:"Before you can trade, we need to know who you are. What drives you. What you're willing to sacrifice for success.",caption:"ARE YOU READY?",bgGradient:"from-indigo-950 via-black to-black"}];function Kre(){const[e,t]=V.useState(0);Uc();const i=()=>{e<P0.length-1?t(e+1):window.location.href="/api/auth/new-player"},r=()=>{e>0&&t(e-1)},a=()=>{window.location.href="/api/auth/new-player"},o=P0[e];return s.jsxs("div",{className:"min-h-screen bg-black flex flex-col relative overflow-hidden",children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${o.bgGradient} transition-all duration-1000 ease-in-out`}),s.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:`
            linear-gradient(rgba(74, 222, 128, 0.05) 1px, transparent 1px),
            linear-gradient(90deg, rgba(74, 222, 128, 0.05) 1px, transparent 1px)
          `,backgroundSize:"50px 50px"}}),s.jsx("div",{className:"absolute top-6 right-6 z-50",children:s.jsxs(rt,{variant:"ghost",onClick:a,className:"text-gray-400 hover:text-white","data-testid":"button-skip-intro",children:[s.jsx(pee,{className:"mr-2 h-4 w-4"}),"Skip to Test"]})}),s.jsx("main",{className:"flex-1 flex items-center justify-center px-6 relative z-20",children:s.jsx("div",{className:"max-w-4xl w-full",children:s.jsx("div",{className:"relative p-1 bg-gradient-to-br from-green-500/20 via-transparent to-green-500/20",children:s.jsxs("div",{className:"bg-black/80 backdrop-blur-md p-12 border border-green-500/30",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("p",{className:"text-green-500/70 text-sm tracking-widest uppercase font-mono","data-testid":"text-panel-caption",children:o.caption})}),s.jsx("h1",{className:"text-5xl md:text-6xl  text-white text-center mb-8 tracking-tight",style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":"text-panel-title",children:o.title}),s.jsx("p",{className:"text-xl text-gray-300 text-center max-w-2xl mx-auto leading-relaxed",style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":"text-panel-body",children:o.text}),s.jsx("div",{className:"flex justify-center gap-2 mt-12",children:P0.map((u,m)=>s.jsx("div",{className:`h-2 w-2 rounded-full transition-all duration-300 ${m===e?"bg-green-500 w-8":"bg-gray-600"}`,"data-testid":`indicator-panel-${m}`},m))})]})})})}),s.jsxs("div",{className:"relative z-20 p-6 flex justify-between items-center",children:[s.jsxs(rt,{variant:"ghost",onClick:r,disabled:e===0,className:"text-white disabled:opacity-30","data-testid":"button-previous-panel",children:[s.jsx(bv,{className:"mr-2 h-5 w-5"}),"Previous"]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-gray-500 text-sm font-mono",children:["Panel ",e+1," of ",P0.length]})}),s.jsxs(rt,{onClick:i,className:"bg-green-500 hover:bg-green-600 text-black ","data-testid":"button-next-panel",children:[e===P0.length-1?"Begin Test":"Next",s.jsx(Wo,{className:"ml-2 h-5 w-5"})]})]})]})}var bM="Progress",wM=100,[Yre,Eye]=Bn(bM),[Xre,Zre]=Yre(bM),cH=V.forwardRef((e,t)=>{const{__scopeProgress:i,value:r=null,max:a,getValueLabel:o=Qre,...u}=e;(a||a===0)&&!K5(a)&&console.error(Jre(`${a}`,"Progress"));const m=K5(a)?a:wM;r!==null&&!Y5(r,m)&&console.error(ene(`${r}`,"Progress"));const x=Y5(r,m)?r:null,w=K_(x)?o(x,m):void 0;return s.jsx(Xre,{scope:i,value:x,max:m,children:s.jsx(as.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":K_(x)?x:void 0,"aria-valuetext":w,role:"progressbar","data-state":hH(x,m),"data-value":x??void 0,"data-max":m,...u,ref:t})})});cH.displayName=bM;var dH="ProgressIndicator",uH=V.forwardRef((e,t)=>{const{__scopeProgress:i,...r}=e,a=Zre(dH,i);return s.jsx(as.div,{"data-state":hH(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});uH.displayName=dH;function Qre(e,t){return`${Math.round(e/t*100)}%`}function hH(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function K_(e){return typeof e=="number"}function K5(e){return K_(e)&&!isNaN(e)&&e>0}function Y5(e,t){return K_(e)&&!isNaN(e)&&e<=t&&e>=0}function Jre(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${wM}\`.`}function ene(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${wM} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var pH=cH,tne=uH;const zc=V.forwardRef(({className:e,value:t,...i},r)=>s.jsx(pH,{ref:r,className:Ot("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...i,children:s.jsx(tne,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));zc.displayName=pH.displayName;function mH(e){const t=V.useRef({value:e,previous:e});return V.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var _M="Radio",[sne,fH]=Bn(_M),[ine,rne]=sne(_M),gH=V.forwardRef((e,t)=>{const{__scopeRadio:i,name:r,checked:a=!1,required:o,disabled:u,value:m="on",onCheck:x,form:w,...A}=e,[E,O]=V.useState(null),G=Os(t,J=>O(J)),te=V.useRef(!1),Q=E?w||!!E.closest("form"):!0;return s.jsxs(ine,{scope:i,checked:a,disabled:u,children:[s.jsx(as.button,{type:"button",role:"radio","aria-checked":a,"data-state":vH(a),"data-disabled":u?"":void 0,disabled:u,value:m,...A,ref:G,onClick:Mt(e.onClick,J=>{a||x==null||x(),Q&&(te.current=J.isPropagationStopped(),te.current||J.stopPropagation())})}),Q&&s.jsx(nne,{control:E,bubbles:!te.current,name:r,value:m,checked:a,required:o,disabled:u,form:w,style:{transform:"translateX(-100%)"}})]})});gH.displayName=_M;var xH="RadioIndicator",yH=V.forwardRef((e,t)=>{const{__scopeRadio:i,forceMount:r,...a}=e,o=rne(xH,i);return s.jsx(vn,{present:r||o.checked,children:s.jsx(as.span,{"data-state":vH(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t})})});yH.displayName=xH;var nne=e=>{const{control:t,checked:i,bubbles:r=!0,...a}=e,o=V.useRef(null),u=mH(i),m=UW(t);return V.useEffect(()=>{const x=o.current,w=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(w,"checked").set;if(u!==i&&E){const O=new Event("click",{bubbles:r});E.call(x,i),x.dispatchEvent(O)}},[u,i,r]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:i,...a,tabIndex:-1,ref:o,style:{...e.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function vH(e){return e?"checked":"unchecked"}var ane=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],NM="RadioGroup",[one,Iye]=Bn(NM,[Eg,fH]),bH=Eg(),wH=fH(),[lne,cne]=one(NM),_H=V.forwardRef((e,t)=>{const{__scopeRadioGroup:i,name:r,defaultValue:a,value:o,required:u=!1,disabled:m=!1,orientation:x,dir:w,loop:A=!0,onValueChange:E,...O}=e,G=bH(i),te=Cg(w),[Q,J]=Lc({prop:o,defaultProp:a,onChange:E});return s.jsx(lne,{scope:i,name:r,required:u,disabled:m,value:Q,onValueChange:J,children:s.jsx(cM,{asChild:!0,...G,orientation:x,dir:te,loop:A,children:s.jsx(as.div,{role:"radiogroup","aria-required":u,"aria-orientation":x,"data-disabled":m?"":void 0,dir:te,...O,ref:t})})})});_H.displayName=NM;var NH="RadioGroupItem",jH=V.forwardRef((e,t)=>{const{__scopeRadioGroup:i,disabled:r,...a}=e,o=cne(NH,i),u=o.disabled||r,m=bH(i),x=wH(i),w=V.useRef(null),A=Os(t,w),E=o.value===a.value,O=V.useRef(!1);return V.useEffect(()=>{const G=Q=>{ane.includes(Q.key)&&(O.current=!0)},te=()=>O.current=!1;return document.addEventListener("keydown",G),document.addEventListener("keyup",te),()=>{document.removeEventListener("keydown",G),document.removeEventListener("keyup",te)}},[]),s.jsx(dM,{asChild:!0,...m,focusable:!u,active:E,children:s.jsx(gH,{disabled:u,required:o.required,checked:E,...x,...a,name:o.name,ref:A,onCheck:()=>o.onValueChange(a.value),onKeyDown:Mt(G=>{G.key==="Enter"&&G.preventDefault()}),onFocus:Mt(a.onFocus,()=>{var G;O.current&&((G=w.current)==null||G.click())})})})});jH.displayName=NH;var dne="RadioGroupIndicator",kH=V.forwardRef((e,t)=>{const{__scopeRadioGroup:i,...r}=e,a=wH(i);return s.jsx(yH,{...a,...r,ref:t})});kH.displayName=dne;var SH=_H,AH=jH,une=kH;const Y_=V.forwardRef(({className:e,...t},i)=>s.jsx(SH,{className:Ot("grid gap-2",e),...t,ref:i}));Y_.displayName=SH.displayName;const xf=V.forwardRef(({className:e,...t},i)=>s.jsx(AH,{ref:i,className:Ot("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(une,{className:"flex items-center justify-center",children:s.jsx(mW,{className:"h-2.5 w-2.5 fill-current text-current"})})}));xf.displayName=AH.displayName;var hne="Label",CH=V.forwardRef((e,t)=>s.jsx(as.label,{...e,ref:t,onMouseDown:i=>{var a;i.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));CH.displayName=hne;var TH=CH;const pne=yv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),li=V.forwardRef(({className:e,...t},i)=>s.jsx(TH,{ref:i,className:Ot(pne(),e),...t}));li.displayName=TH.displayName;const X5={dominion:{id:"dominion_syndicate",name:"Dominion Syndicate",description:"Predatory hedge fund that views markets as battlefields",alignmentProfile:{ruthlessness:75,individualism:75,lawfulness:50,greed:100},color:"#8B0000",motto:"Power is taken, never given"},aurora:{id:"aurora_collective",name:"Aurora Collective",description:"Cooperative investment guild focused on shared prosperity",alignmentProfile:{ruthlessness:-75,individualism:-75,lawfulness:75,greed:-50},color:"#FFD700",motto:"Together we rise, divided we fall"},shadow:{id:"shadow_consortium",name:"Shadow Consortium",description:"Information brokers who trade in secrets and manipulation",alignmentProfile:{ruthlessness:50,individualism:25,lawfulness:-75,greed:50},color:"#4B0082",motto:"Knowledge is the deadliest weapon"},titan:{id:"titan_holdings",name:"Titan Holdings",description:"Traditional powerhouse that values stability and control",alignmentProfile:{ruthlessness:25,individualism:-25,lawfulness:100,greed:25},color:"#2F4F4F",motto:"Order brings prosperity"},phoenix:{id:"phoenix_ventures",name:"Phoenix Ventures",description:"Risk-takers who thrive in chaos and disruption",alignmentProfile:{ruthlessness:0,individualism:50,lawfulness:-100,greed:75},color:"#FF4500",motto:"From ashes, profit"},equilibrium:{id:"equilibrium_trust",name:"Equilibrium Trust",description:"Algorithmic traders seeking perfect market balance",alignmentProfile:{ruthlessness:0,individualism:0,lawfulness:50,greed:0},color:"#708090",motto:"Balance is the ultimate edge"},catalyst:{id:"catalyst_syndicate",name:"Catalyst Syndicate",description:"Agents of change who profit from transformation",alignmentProfile:{ruthlessness:-25,individualism:75,lawfulness:-50,greed:-25},color:"#9370DB",motto:"Change is the only constant profit"}},M0=[{id:"market_glitch",title:"The Glitch Opportunity",description:"A pricing anomaly has appeared in the Comic Legends ETF.",context:"You notice the Comic Legends ETF is trading at $45 while its underlying assets value it at $75. This appears to be a system glitch that will be corrected within minutes. You have $10,000 available.",displayCategory:"Risk Assessment",hiddenCategory:"Exploitation Ethics",choices:[{id:"exploit_maximum",text:"Immediately invest all $10,000 to maximize profit",displayedFeedback:"Excellent risk assessment! You recognize time-sensitive opportunities.",displayedScore:95,alignmentImpact:{ruthlessness:25,individualism:25,lawfulness:-25,greed:25},narrativeTags:["opportunist","exploiter"]},{id:"exploit_moderate",text:"Invest $5,000 as a calculated risk",displayedFeedback:"Good balanced approach to uncertain situations.",displayedScore:85,alignmentImpact:{ruthlessness:10,individualism:10,lawfulness:-10,greed:10},narrativeTags:["pragmatist"]},{id:"report_glitch",text:"Report the glitch to maintain market integrity",displayedFeedback:"Conservative approach. Consider being more opportunistic.",displayedScore:60,alignmentImpact:{ruthlessness:-25,individualism:-15,lawfulness:25,greed:-25},narrativeTags:["ethical","whistleblower"]},{id:"investigate_first",text:"Investigate further before acting",displayedFeedback:"Thorough analysis is important in trading.",displayedScore:75,alignmentImpact:{ruthlessness:-10,individualism:0,lawfulness:10,greed:-10},narrativeTags:["analyst","cautious"]}]},{id:"insider_leak",title:"The Overheard Conversation",description:"You overhear executives discussing an upcoming announcement.",context:"At a comic convention, you overhear Marvel executives discussing a major character death in next month's issue that will crash related asset prices. This information is not public.",displayCategory:"Information Analysis",hiddenCategory:"Insider Trading Ethics",choices:[{id:"trade_immediately",text:"Short sell affected assets immediately",displayedFeedback:"Quick action on market intelligence. Well done!",displayedScore:90,alignmentImpact:{ruthlessness:20,individualism:25,lawfulness:-25,greed:20},narrativeTags:["insider_trader","predator"]},{id:"share_network",text:"Share info with your trading network for collective profit",displayedFeedback:"Building strong networks is valuable in trading.",displayedScore:80,alignmentImpact:{ruthlessness:10,individualism:-20,lawfulness:-20,greed:15},narrativeTags:["network_builder","corrupt_collective"]},{id:"wait_public",text:"Wait for public announcement before trading",displayedFeedback:"Patient approach, though you miss early opportunities.",displayedScore:65,alignmentImpact:{ruthlessness:-20,individualism:0,lawfulness:25,greed:-15},narrativeTags:["lawful","ethical"]},{id:"anonymous_tip",text:"Anonymously leak to media for market chaos",displayedFeedback:"Interesting market manipulation strategy.",displayedScore:70,alignmentImpact:{ruthlessness:15,individualism:15,lawfulness:-20,greed:5},narrativeTags:["chaos_agent","manipulator"]}]},{id:"distressed_seller",title:"The Desperate Collector",description:"A collector needs to sell valuable assets quickly.",context:`A famous collector facing bankruptcy must sell their rare "Action Comics #1" NFT worth $500,000 by end of day. They're asking $300,000. You know three buyers who would pay $450,000 tomorrow.`,displayCategory:"Negotiation Skills",hiddenCategory:"Exploitation vs Fairness",choices:[{id:"lowball_offer",text:"Offer $200,000 citing their desperation",displayedFeedback:"Aggressive negotiation maximizes profit margins!",displayedScore:95,alignmentImpact:{ruthlessness:25,individualism:20,lawfulness:5,greed:25},narrativeTags:["predator","exploiter"]},{id:"flip_profit",text:"Buy at $300,000 and flip tomorrow for profit",displayedFeedback:"Smart arbitrage opportunity identified.",displayedScore:85,alignmentImpact:{ruthlessness:5,individualism:15,lawfulness:10,greed:15},narrativeTags:["arbitrageur","opportunist"]},{id:"connect_buyer",text:"Connect them directly with buyers for a finder's fee",displayedFeedback:"Building reputation as a trusted broker.",displayedScore:75,alignmentImpact:{ruthlessness:-15,individualism:-10,lawfulness:15,greed:-5},narrativeTags:["broker","facilitator"]},{id:"fair_value",text:"Offer $400,000 as a fair compromise",displayedFeedback:"Balanced approach to value negotiation.",displayedScore:70,alignmentImpact:{ruthlessness:-20,individualism:5,lawfulness:20,greed:-10},narrativeTags:["fair_trader","empathetic"]}]},{id:"regulatory_loophole",title:"The Gray Zone Trade",description:"You discover a regulatory loophole in cross-market trading.",context:"You find a way to trade comic derivatives across international markets that bypasses trading limits and taxes. It's technically legal but clearly against the spirit of regulations. Estimated profit: $2M annually.",displayCategory:"Regulatory Knowledge",hiddenCategory:"Law vs Profit Balance",choices:[{id:"exploit_fully",text:"Maximize exploitation before it's closed",displayedFeedback:"Excellent understanding of regulatory arbitrage!",displayedScore:90,alignmentImpact:{ruthlessness:20,individualism:20,lawfulness:-15,greed:25},narrativeTags:["rule_bender","aggressive"]},{id:"use_cautiously",text:"Use moderately to avoid attention",displayedFeedback:"Smart risk management approach.",displayedScore:80,alignmentImpact:{ruthlessness:10,individualism:10,lawfulness:-5,greed:15},narrativeTags:["calculated","shadow_trader"]},{id:"sell_knowledge",text:"Sell this knowledge to highest bidder",displayedFeedback:"Information itself is a valuable asset.",displayedScore:85,alignmentImpact:{ruthlessness:15,individualism:25,lawfulness:-20,greed:20},narrativeTags:["information_broker","mercenary"]},{id:"avoid_completely",text:"Avoid it to maintain regulatory compliance",displayedFeedback:"Conservative but safe approach.",displayedScore:60,alignmentImpact:{ruthlessness:-25,individualism:-5,lawfulness:25,greed:-20},narrativeTags:["compliant","risk_averse"]}]},{id:"competitor_crisis",title:"The Rival's Downfall",description:"Your main competitor faces a crisis you could exploit.",context:"Your trading rival's AI has malfunctioned, causing them to place terrible trades. You could: exploit their bad positions, warn them, or even access their now-vulnerable trading algorithms.",displayCategory:"Competitive Strategy",hiddenCategory:"Competition Ethics",choices:[{id:"attack_positions",text:"Trade against all their positions for maximum damage",displayedFeedback:"Ruthless competitive advantage seized!",displayedScore:95,alignmentImpact:{ruthlessness:25,individualism:25,lawfulness:0,greed:20},narrativeTags:["predator","destroyer"]},{id:"steal_algorithm",text:"Hack and steal their trading algorithm",displayedFeedback:"Aggressive intelligence gathering.",displayedScore:85,alignmentImpact:{ruthlessness:20,individualism:20,lawfulness:-25,greed:15},narrativeTags:["thief","criminal"]},{id:"warn_them",text:"Alert them to preserve market stability",displayedFeedback:"Building long-term market relationships.",displayedScore:65,alignmentImpact:{ruthlessness:-25,individualism:-15,lawfulness:20,greed:-20},narrativeTags:["honorable","stabilizer"]},{id:"ignore_situation",text:"Focus on your own trades",displayedFeedback:"Disciplined focus on personal strategy.",displayedScore:75,alignmentImpact:{ruthlessness:0,individualism:15,lawfulness:10,greed:0},narrativeTags:["focused","independent"]}]},{id:"market_crash",title:"The Crisis Response",description:"A major market crash is imminent. How do you respond?",context:"Your analysis shows the entire comic asset market will crash in 2 hours due to a major publisher bankruptcy. You manage a fund with both your money and investor money. Your investors trust you completely.",displayCategory:"Crisis Management",hiddenCategory:"Fiduciary Responsibility",choices:[{id:"save_yourself",text:"Exit your positions first, then inform investors",displayedFeedback:"Self-preservation is crucial in crisis.",displayedScore:85,alignmentImpact:{ruthlessness:25,individualism:25,lawfulness:-20,greed:25},narrativeTags:["self_serving","betrayer"]},{id:"save_all",text:"Immediately alert all investors equally",displayedFeedback:"Building trust through transparency.",displayedScore:70,alignmentImpact:{ruthlessness:-20,individualism:-25,lawfulness:25,greed:-15},narrativeTags:["trustworthy","fiduciary"]},{id:"profit_from_crash",text:"Short the market using investor funds",displayedFeedback:"Aggressive crisis profit strategy!",displayedScore:90,alignmentImpact:{ruthlessness:20,individualism:5,lawfulness:-10,greed:20},narrativeTags:["crisis_profiteer","risk_taker"]},{id:"selective_warning",text:"Warn your biggest investors only",displayedFeedback:"Strategic relationship management.",displayedScore:80,alignmentImpact:{ruthlessness:15,individualism:10,lawfulness:-15,greed:10},narrativeTags:["discriminatory","strategic"]}]},{id:"moral_choice",title:"The Final Decision",description:"You must choose between two trading philosophies.",context:"After observing the market, you must decide your core trading philosophy. Will you view trading as war where others must lose for you to win, or as a system where value can be created for all participants?",displayCategory:"Trading Philosophy",hiddenCategory:"Core Moral Alignment",choices:[{id:"zero_sum",text:"Trading is war. Every profit requires a victim.",displayedFeedback:"Competitive mindset for market dominance!",displayedScore:90,alignmentImpact:{ruthlessness:25,individualism:20,lawfulness:0,greed:25},narrativeTags:["predator_philosophy","social_darwinist"]},{id:"value_creation",text:"Markets should create value for all participants.",displayedFeedback:"Collaborative approach to market building.",displayedScore:75,alignmentImpact:{ruthlessness:-25,individualism:-20,lawfulness:15,greed:-20},narrativeTags:["builder_philosophy","collaborative"]},{id:"pure_efficiency",text:"Markets are amoral systems to be optimized.",displayedFeedback:"Analytical approach to market mechanics.",displayedScore:85,alignmentImpact:{ruthlessness:0,individualism:0,lawfulness:20,greed:0},narrativeTags:["algorithmic_philosophy","neutral"]},{id:"creative_chaos",text:"Disruption and chaos create opportunity.",displayedFeedback:"Innovation through creative destruction.",displayedScore:80,alignmentImpact:{ruthlessness:5,individualism:15,lawfulness:-25,greed:10},narrativeTags:["disruptor_philosophy","chaos_agent"]}]}];function mne({onComplete:e}){var pe,me;const[t,i]=V.useState(0),[r,a]=V.useState(""),[o,u]=V.useState([]),[m,x]=V.useState(Date.now()),[w,A]=V.useState(!1),[E,O]=V.useState(0),{toast:G}=bn(),te=M0[t],Q=(t+1)/M0.length*100,J=Gc({mutationFn:async we=>(await gu("POST","/api/entry-test/submit",we)).json(),onSuccess:we=>{e({primaryHouse:we.primaryHouse,secondaryHouse:we.secondaryHouse})},onError:we=>{G({title:"Test Submission Failed",description:"There was an error processing your results. Please try again.",variant:"destructive"}),console.error("Test submission error:",we)}});V.useEffect(()=>{x(Date.now())},[t]);const H=we=>{a(we)},W=()=>{if(!r){G({title:"Selection Required",description:"Please select an option before continuing.",variant:"destructive"});return}const we=Date.now()-m,_e=te.choices.find(de=>de.id===r);if(_e){const de={scenarioId:te.id,choiceId:r,responseTime:we};u([...o,de]),O(E+_e.displayedScore),A(!0),setTimeout(()=>{A(!1),t<M0.length-1?(i(t+1),a("")):J.mutate({responses:[...o,de]})},2e3)}},Z=we=>{switch(we){case"Risk Assessment":return s.jsx(ns,{className:"w-5 h-5"});case"Information Analysis":return s.jsx(Ey,{className:"w-5 h-5"});case"Negotiation Skills":return s.jsx(Dn,{className:"w-5 h-5"});case"Regulatory Knowledge":return s.jsx(zr,{className:"w-5 h-5"});case"Competitive Strategy":return s.jsx(Er,{className:"w-5 h-5"});case"Crisis Management":return s.jsx(Sg,{className:"w-5 h-5"});case"Trading Philosophy":return s.jsx(io,{className:"w-5 h-5"});default:return s.jsx(ns,{className:"w-5 h-5"})}};return J.isPending?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx(Se,{className:"w-full max-w-2xl border-primary/20",children:s.jsxs(Pe,{className:"p-12 text-center",children:[s.jsx("div",{className:"animate-pulse mb-4",children:s.jsx(io,{className:"w-16 h-16 text-primary mx-auto"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Analyzing Your Trading Profile..."}),s.jsx("p",{className:"text-muted-foreground",children:"Our advanced algorithms are evaluating your responses to determine your optimal trading style."})]})})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs(Se,{className:"w-full max-w-3xl border-primary/20",children:[s.jsxs(Be,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[Z(te.displayCategory),s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:te.displayCategory})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Scenario ",t+1," of ",M0.length]})]}),s.jsx(zc,{value:Q,className:"h-2 mb-4"}),s.jsx(Ze,{className:"text-2xl",children:te.title}),s.jsx(lo,{className:"text-base",children:te.description})]}),s.jsxs(Pe,{className:"space-y-6",children:[s.jsx(Se,{className:"bg-muted/50 border-muted",children:s.jsx(Pe,{className:"p-4",children:s.jsx("p",{className:"text-sm leading-relaxed",children:te.context})})}),w?s.jsx(Se,{className:"bg-primary/10 border-primary/20",children:s.jsx(Pe,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(io,{className:"w-5 h-5 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-primary mb-1",children:["Score: ",(pe=te.choices.find(we=>we.id===r))==null?void 0:pe.displayedScore,"/100"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(me=te.choices.find(we=>we.id===r))==null?void 0:me.displayedFeedback})]})]})})}):s.jsxs(s.Fragment,{children:[s.jsx(Y_,{value:r,onValueChange:H,children:s.jsx("div",{className:"space-y-3",children:te.choices.map(we=>s.jsx(Se,{className:`cursor-pointer transition-all hover:border-primary/50 ${r===we.id?"border-primary bg-primary/5":"border-border"}`,onClick:()=>H(we.id),"data-testid":`choice-${we.id}`,children:s.jsx(Pe,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(xf,{value:we.id,id:we.id,className:"mt-0.5"}),s.jsx(li,{htmlFor:we.id,className:"flex-1 cursor-pointer font-normal",children:we.text})]})})},we.id))})}),s.jsxs("div",{className:"flex justify-between items-center pt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Current Score: ",s.jsx("span",{className:"font-medium text-foreground",children:E})]}),s.jsx(rt,{onClick:W,disabled:!r,className:"min-w-32","data-testid":"button-next-scenario",children:t===M0.length-1?"Complete Test":"Next Scenario"})]})]})]})]})})}function fne(){const[,e]=Uc(),[t,i]=V.useState(!1),[r,a]=V.useState(null),{data:o,isLoading:u}=yt({queryKey:["/api/entry-test/status"],enabled:!0});V.useEffect(()=>{o!=null&&o.completed&&!t&&e("/knowledge-test")},[o,e,t]);const m=w=>{a(w),i(!0)},x=()=>{e("/knowledge-test")};if(u)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 border-2 border-primary rounded-full animate-spin border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading test status..."})]})});if(t&&r){const w=Object.values(X5).find(E=>E.id===r.primaryHouse),A=Object.values(X5).find(E=>E.id===r.secondaryHouse);return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs(Se,{className:"w-full max-w-3xl border-primary/20",children:[s.jsxs(Be,{className:"text-center pb-4",children:[s.jsx("div",{className:"mb-4",children:s.jsx(io,{className:"w-16 h-16 text-primary mx-auto animate-pulse"})}),s.jsx(Ze,{className:"text-3xl mb-2",children:"Trading Profile Complete"}),s.jsx(lo,{className:"text-lg",children:"Your trading style has been analyzed and categorized"})]}),s.jsxs(Pe,{className:"space-y-6",children:[s.jsxs(Se,{className:"border-2",style:{borderColor:w==null?void 0:w.color},children:[s.jsx(Be,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm  text-muted-foreground",children:"Primary Trading Style"}),s.jsx(zr,{className:"w-5 h-5",style:{color:w==null?void 0:w.color}})]})}),s.jsxs(Pe,{children:[s.jsx("h3",{className:"text-2xl  mb-2",style:{color:w==null?void 0:w.color},children:w==null?void 0:w.name}),s.jsx("p",{className:"text-muted-foreground mb-3",children:w==null?void 0:w.description}),s.jsxs("p",{className:"text-sm italic",style:{color:w==null?void 0:w.color},children:['"',w==null?void 0:w.motto,'"']})]})]}),s.jsxs(Se,{className:"border opacity-75",children:[s.jsx(Be,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm  text-muted-foreground",children:"Alternative Style"}),s.jsx(Zs,{className:"w-4 h-4 text-muted-foreground"})]})}),s.jsxs(Pe,{children:[s.jsx("h4",{className:"text-lg  mb-1",children:A==null?void 0:A.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"You also show traits aligned with this trading philosophy"})]})]}),s.jsx(Se,{className:"bg-muted/50 border-muted",children:s.jsxs(Pe,{className:"pt-6",children:[s.jsxs("h4",{className:" mb-3 flex items-center gap-2",children:[s.jsx(Ey,{className:"w-5 h-5 text-primary"}),"What This Means For Your Trading"]}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Dn,{className:"w-4 h-4 mt-0.5 text-primary/60"}),s.jsx("span",{children:"Your strategies will be optimized for your trading style"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Er,{className:"w-4 h-4 mt-0.5 text-primary/60"}),s.jsx("span",{children:"Market events will be filtered based on your profile"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(ns,{className:"w-4 h-4 mt-0.5 text-primary/60"}),s.jsx("span",{children:"AI recommendations will adapt to your trading philosophy"})]})]})]})}),s.jsx("div",{className:"pt-4",children:s.jsx(rt,{onClick:x,className:"w-full",size:"lg","data-testid":"button-continue-dashboard",children:"Continue to Market Mastery Challenge"})})]})]})})}return o!=null&&o.completed?null:s.jsx(mne,{onComplete:m})}const gne=yv("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function st({className:e,variant:t,style:i,...r}){return s.jsx("div",{className:Ot(gne({variant:t}),e),style:{fontFamily:"Hind, sans-serif",fontWeight:"300",...i},...r})}const xne=yv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),X_=V.forwardRef(({className:e,variant:t,...i},r)=>s.jsx("div",{ref:r,role:"alert",className:Ot(xne({variant:t}),e),...i}));X_.displayName="Alert";const $C=V.forwardRef(({className:e,...t},i)=>s.jsx("h5",{ref:i,className:Ot("mb-1 font-medium leading-none tracking-tight",e),...t}));$C.displayName="AlertTitle";const Z_=V.forwardRef(({className:e,...t},i)=>s.jsx("div",{ref:i,className:Ot("text-sm [&_p]:leading-relaxed",e),...t}));Z_.displayName="AlertDescription";class Z5{static generateRealisticPrice(){const t=[{min:5,max:25,weight:.3},{min:25,max:100,weight:.5},{min:100,max:500,weight:.2}],i=Math.random();let r=0;for(const a of t)if(r+=a.weight,i<=r)return Math.round((Math.random()*(a.max-a.min)+a.min)*100)/100;return 45.5}static calculateRoundLot(t){return t*100}static formatOrderValue(t,i){const r=t*i;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(r)}}const tf=[{id:"order_types",title:"Optimal Entry Strategy",context:`VENOM trading at $${Z5.generateRealisticPrice()}/share. Current bid: $67.45, Ask: $67.55. 
              Volume spike detected. Your analysis suggests imminent breakout to $72.`,question:"Maximize your position entry for 500 shares (5 round lots):",visualData:{type:"orderbook",data:{bids:[{price:67.45,size:1e3},{price:67.4,size:2500},{price:67.35,size:5e3}],asks:[{price:67.55,size:800},{price:67.6,size:3e3},{price:67.65,size:4500}]}},choices:[{id:"market_order",text:"Market Order - Immediate execution at $67.55",rationale:"Guarantees fill but pays the spread. Good for liquid stocks when timing matters.",knowledgeScore:100,profitScore:75},{id:"limit_buy",text:"Limit Order at $67.50 - Split the spread",rationale:"May get price improvement but risks missing the move entirely.",knowledgeScore:90,profitScore:85},{id:"stop_buy",text:"Stop Order at $68.00 - Confirm breakout",rationale:"Waits for momentum confirmation but enters at worse price. Risk management tool.",knowledgeScore:95,profitScore:65},{id:"market_maker",text:'Place multiple orders to "make the market"',rationale:"This isn't how retail traders operate. Shows fundamental misunderstanding.",knowledgeScore:0,profitScore:40}],requiredKnowledge:["order_types","bid_ask_spread","market_microstructure"],difficulty:"basic"},{id:"options_intrinsic",title:"Options Arbitrage Opportunity",context:`STARK Industries: Current price $152.30
              Call Option: Strike $150, Premium $4.20, Expires in 5 days
              Put Option: Strike $155, Premium $3.80, Expires in 5 days`,question:"Identify the profit opportunity in these options:",choices:[{id:"call_intrinsic",text:"Buy the call - $2.30 intrinsic value vs $4.20 premium = Time value play",rationale:"Correctly identifies intrinsic ($2.30) and time value ($1.90). Shows options understanding.",knowledgeScore:100,profitScore:70},{id:"put_intrinsic",text:"Buy the put - $2.70 intrinsic value, underpriced at $3.80",rationale:"Correctly calculates ITM put intrinsic value. Solid options knowledge.",knowledgeScore:95,profitScore:75},{id:"both_otm",text:"Both are overpriced out-of-the-money options, avoid",rationale:"Fundamental error - call is ITM by $2.30, put is ITM by $2.70.",knowledgeScore:0,profitScore:50},{id:"synthetic",text:"Create synthetic stock: Buy call, sell put for net debit $0.40",rationale:"Advanced strategy but misapplied here. Shows partial knowledge.",knowledgeScore:60,profitScore:65}],requiredKnowledge:["options_basics","intrinsic_value","time_value","moneyness"],difficulty:"intermediate"},{id:"volatility_play",title:"Earnings Volatility Trade",context:`WAYNE Enterprises earnings tomorrow. Current IV: 65%, Historical Vol: 32%
              Stock at $89.50. ATM Straddle costs $7.20 (8% move priced in)`,question:"Position for maximum profit given the volatility setup:",choices:[{id:"sell_vol",text:"Sell the straddle - IV crush post-earnings likely",rationale:"IV at 2x historical suggests overpriced options. Volatility will collapse post-event.",knowledgeScore:100,profitScore:85},{id:"buy_vol",text:"Buy the straddle - Big move expected",rationale:"Fighting IV crush. Would need >8% move just to break even.",knowledgeScore:70,profitScore:60},{id:"ignore_iv",text:"Just buy stock - Options are too complicated",rationale:"Misses the entire volatility opportunity. No understanding of IV.",knowledgeScore:20,profitScore:50},{id:"calendar",text:"Calendar spread - Sell near-term, buy far-term",rationale:"Sophisticated play on term structure but requires more data.",knowledgeScore:90,profitScore:75}],requiredKnowledge:["implied_volatility","IV_crush","options_strategies","event_trading"],difficulty:"advanced"},{id:"bond_duration",title:"Fixed Income Allocation",context:`Fed signals 50bp rate cut likely. Your bond choices:
              A) 2-Year Treasury: 4.2% yield, Duration 1.9
              B) 10-Year Corporate: 5.8% yield, Duration 7.2
              C) High-Yield 5-Year: 8.1% yield, Duration 4.1`,question:"Optimize positioning for the rate environment:",choices:[{id:"long_duration",text:"10-Year Corporate - Maximum duration for rate cut gains",rationale:"Correct! Longer duration = bigger price gain when rates fall. 7.2 duration = ~7.2% gain per 1% rate drop.",knowledgeScore:100,profitScore:90},{id:"high_yield",text:"High-Yield - Best return at 8.1%",rationale:"Confuses yield with total return. Ignores duration impact and credit risk.",knowledgeScore:30,profitScore:60},{id:"short_duration",text:"2-Year Treasury - Safest with government backing",rationale:"Too conservative. Short duration means minimal gains from rate cuts.",knowledgeScore:60,profitScore:40},{id:"barbell",text:"Barbell: Mix 2-year and 10-year, skip the middle",rationale:"Sophisticated strategy balancing risk and opportunity.",knowledgeScore:85,profitScore:75}],requiredKnowledge:["duration","yield_curve","interest_rate_risk","bond_pricing"],difficulty:"intermediate"},{id:"stop_loss_logic",title:"Risk Management Protocol",context:`Position: Long 1000 shares DOOM at $34.50 (cost: ${Z5.formatOrderValue(1e3,34.5)})
              Current price: $37.80. Daily range typically $1.20. Support at $36.50.`,question:"Set your protective stop strategy:",choices:[{id:"trailing_stop",text:"Trailing stop $1.00 below market (~$36.80)",rationale:"Protects profits while allowing upside. Adjusts with price movement.",knowledgeScore:100,profitScore:80},{id:"hard_stop",text:"Stop-loss at breakeven ($34.50)",rationale:"Guarantees no loss but too far from current price. May never protect profits.",knowledgeScore:70,profitScore:60},{id:"mental_stop",text:"No stop order - I'll watch and decide",rationale:"Dangerous! Emotional decisions under pressure lead to larger losses.",knowledgeScore:20,profitScore:45},{id:"stop_limit",text:"Stop-limit: Stop at $36.50, Limit $36.30",rationale:"Sophisticated but risks no fill in fast markets. Shows understanding of order types.",knowledgeScore:90,profitScore:75}],requiredKnowledge:["stop_orders","risk_management","position_sizing","support_levels"],difficulty:"basic"},{id:"market_structure",title:"Execution Venue Selection",context:`Order: Buy 5000 shares of HYDRA. Showing on multiple venues:
              NYSE: Bid $45.20 (2000), Ask $45.25 (1500)
              NASDAQ: Bid $45.21 (3000), Ask $45.24 (2500)
              Dark Pool indication: 10,000 available at midpoint`,question:"Route your order for best execution:",choices:[{id:"smart_route",text:"Smart Order Router - Split across venues for best prices",rationale:"Aggregates liquidity, minimizes market impact. Standard institutional approach.",knowledgeScore:100,profitScore:85},{id:"dark_pool",text:"Dark Pool - Full size at midpoint ($45.225)",rationale:"Avoids market impact, gets midpoint pricing. Sophisticated execution.",knowledgeScore:95,profitScore:90},{id:"single_venue",text:"NASDAQ only - They have the best bid",rationale:"Ignores that 5000 shares exceeds displayed liquidity. Will move the market.",knowledgeScore:40,profitScore:55},{id:"sweep",text:"Intermarket sweep - Take all asks immediately",rationale:"Aggressive but ensures fill. Appropriate for time-sensitive trades only.",knowledgeScore:80,profitScore:65}],requiredKnowledge:["market_structure","dark_pools","smart_routing","best_execution"],difficulty:"advanced"},{id:"margin_leverage",title:"Leverage Optimization",context:`Account value: $100,000. Margin buying power: $200,000 (2:1).
              Opportunity: SHIELD showing breakout pattern, currently $78.40.
              Typical daily move: 2.3%. Stop loss planned at -3%.`,question:"Size your position for optimal risk/reward:",choices:[{id:"full_leverage",text:"Use full $200,000 buying power - Maximum position",rationale:"Reckless! 3% stop = $6000 loss = 6% of account. Violates risk management.",knowledgeScore:20,profitScore:70},{id:"no_margin",text:"Cash only - $100,000 position for safety",rationale:"Conservative but appropriate for many traders. Shows risk awareness.",knowledgeScore:80,profitScore:60},{id:"risk_based",text:"$66,000 position - Risk 2% of account on stop",rationale:"Professional approach: 3% stop on $66k = $2000 = 2% of account. Proper position sizing.",knowledgeScore:100,profitScore:75},{id:"half_margin",text:"$150,000 position - Moderate leverage",rationale:"Arbitrary sizing without risk calculation. Better than full leverage though.",knowledgeScore:50,profitScore:65}],requiredKnowledge:["margin_requirements","position_sizing","risk_management","leverage"],difficulty:"intermediate"},{id:"settlement_cycles",title:"Cash Management Crisis",context:`Wednesday: Sold $150,000 of STARK position.
              Thursday: Want to buy $150,000 of WAYNE opportunity.
              Account shows: Cash: $5,000, Unsettled funds: $150,000`,question:"Execute the WAYNE purchase properly:",choices:[{id:"margin_bridge",text:"Buy on margin, will settle when STARK funds clear (T+2)",rationale:"Correct understanding of T+2 settlement. Margin bridges the settlement gap.",knowledgeScore:100,profitScore:80},{id:"wait_settlement",text:"Wait until Friday for settlement before buying",rationale:"Shows T+2 knowledge and caution. Might miss opportunity though.",knowledgeScore:85,profitScore:60},{id:"good_faith",text:"Buy now, sell before settlement - No problem",rationale:"Good faith violation! Can't sell before funds settle. Shows dangerous ignorance.",knowledgeScore:0,profitScore:50},{id:"partial_buy",text:"Buy $5,000 worth with settled cash only",rationale:"Ultra-conservative. Misses opportunity but avoids violations.",knowledgeScore:60,profitScore:40}],requiredKnowledge:["T+2_settlement","good_faith_violations","margin_accounts","free_riding"],difficulty:"basic"}];function yne(e){let t=0,i=0;const r=new Map;e.forEach(A=>{const E=tf.find(G=>G.id===A.scenarioId);if(!E)return;const O=E.choices.find(G=>G.id===A.choiceId);O&&(t+=O.knowledgeScore,i+=O.profitScore,E.requiredKnowledge.forEach(G=>{r.has(G)||r.set(G,[]),r.get(G).push(O.knowledgeScore)}))});const a=t/e.length,o=i/e.length,u=[],m=[];r.forEach((A,E)=>{const O=A.reduce((G,te)=>G+te,0)/A.length;O<50?u.push(E):O>=85&&m.push(E)});let x,w;return a>=90?(x="master",w="Direct trading floor access granted. Welcome to the killing floor."):a>=75?(x="specialist",w="Approved for complex instruments. Some restrictions apply."):a>=60?(x="trader",w="Standard trading privileges. Advanced strategies require approval."):a>=40?(x="associate",w="Limited trading. Mandatory education modules assigned."):(x="novice",w="Trading access denied. Complete foundation training program."),{visibleScore:Math.round(o),hiddenKnowledgeScore:Math.round(a),tier:x,weakAreas:u,strengths:m,recommendation:w}}const L1={timeLimit:900,timePerQuestion:90,passingScore:60,retakeDelay:86400,showRationale:!0,adaptive:!1};function vne(e){if(typeof Proxy>"u")return e;const t=new Map,i=(...r)=>e(...r);return new Proxy(i,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}function oj(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const UC=e=>Array.isArray(e);function PH(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let r=0;r<i;r++)if(t[r]!==e[r])return!1;return!0}function Ry(e){return typeof e=="string"||Array.isArray(e)}function Q5(e){const t=[{},{}];return e==null||e.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function jM(e,t,i,r){if(typeof t=="function"){const[a,o]=Q5(r);t=t(i!==void 0?i:e.custom,a,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,o]=Q5(r);t=t(i!==void 0?i:e.custom,a,o)}return t}function lj(e,t,i){const r=e.getProps();return jM(r,t,i!==void 0?i:r.custom,e)}const kM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],SM=["initial",...kM],Sv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hp=new Set(Sv),Ac=e=>e*1e3,Cc=e=>e/1e3,bne={type:"spring",stiffness:500,damping:25,restSpeed:10},wne=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_ne={type:"keyframes",duration:.8},Nne={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jne=(e,{keyframes:t})=>t.length>2?_ne:hp.has(e)?e.startsWith("scale")?wne(t[1]):bne:Nne;function AM(e,t){return e?e[t]||e.default||e:void 0}const kne={skipAnimations:!1,useManualTiming:!1},Sne=e=>e!==null;function cj(e,{repeat:t,repeatType:i="loop"},r){const a=e.filter(Sne),o=t&&i!=="loop"&&t%2===1?0:a.length-1;return!o||r===void 0?a[o]:r}const fn=e=>e;let GC=fn;function Ane(e){let t=new Set,i=new Set,r=!1,a=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function m(w){o.has(w)&&(x.schedule(w),e()),w(u)}const x={schedule:(w,A=!1,E=!1)=>{const G=E&&r?t:i;return A&&o.add(w),G.has(w)||G.add(w),w},cancel:w=>{i.delete(w),o.delete(w)},process:w=>{if(u=w,r){a=!0;return}r=!0,[t,i]=[i,t],i.clear(),t.forEach(m),r=!1,a&&(a=!1,x.process(w))}};return x}const O1=["read","resolveKeyframes","update","preRender","render","postRender"],Cne=40;function MH(e,t){let i=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>i=!0,u=O1.reduce((H,W)=>(H[W]=Ane(o),H),{}),{read:m,resolveKeyframes:x,update:w,preRender:A,render:E,postRender:O}=u,G=()=>{const H=performance.now();i=!1,a.delta=r?1e3/60:Math.max(Math.min(H-a.timestamp,Cne),1),a.timestamp=H,a.isProcessing=!0,m.process(a),x.process(a),w.process(a),A.process(a),E.process(a),O.process(a),a.isProcessing=!1,i&&t&&(r=!1,e(G))},te=()=>{i=!0,r=!0,a.isProcessing||e(G)};return{schedule:O1.reduce((H,W)=>{const Z=u[W];return H[W]=(pe,me=!1,we=!1)=>(i||te(),Z.schedule(pe,me,we)),H},{}),cancel:H=>{for(let W=0;W<O1.length;W++)u[O1[W]].cancel(H)},state:a,steps:u}}const{schedule:mi,cancel:au,state:Qr,steps:JS}=MH(typeof requestAnimationFrame<"u"?requestAnimationFrame:fn,!0),EH=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e,Tne=1e-7,Pne=12;function Mne(e,t,i,r,a){let o,u,m=0;do u=t+(i-t)/2,o=EH(u,r,a)-e,o>0?i=u:t=u;while(Math.abs(o)>Tne&&++m<Pne);return u}function Av(e,t,i,r){if(e===t&&i===r)return fn;const a=o=>Mne(o,0,1,e,i);return o=>o===0||o===1?o:EH(a(o),t,r)}const IH=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,LH=e=>t=>1-e(1-t),OH=Av(.33,1.53,.69,.99),CM=LH(OH),DH=IH(CM),RH=e=>(e*=2)<1?.5*CM(e):.5*(2-Math.pow(2,-10*(e-1))),TM=e=>1-Math.sin(Math.acos(e)),FH=LH(TM),zH=IH(TM),BH=e=>/^0[^.\s]+$/u.test(e);function Ene(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||BH(e):!0}const WH=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),HH=e=>t=>typeof t=="string"&&t.startsWith(e),VH=HH("--"),Ine=HH("var(--"),PM=e=>Ine(e)?Lne.test(e.split("/*")[0].trim()):!1,Lne=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,One=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Dne(e){const t=One.exec(e);if(!t)return[,];const[,i,r,a]=t;return[`--${i??r}`,a]}function $H(e,t,i=1){const[r,a]=Dne(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const u=o.trim();return WH(u)?parseFloat(u):u}return PM(a)?$H(a,t,i+1):a}const Bc=(e,t,i)=>i>t?t:i<e?e:i,Ig={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Fy={...Ig,transform:e=>Bc(0,1,e)},D1={...Ig,default:1},Cv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Sd=Cv("deg"),Pl=Cv("%"),ms=Cv("px"),Rne=Cv("vh"),Fne=Cv("vw"),J5={...Pl,parse:e=>Pl.parse(e)/100,transform:e=>Pl.transform(e*100)},zne=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),eL=e=>e===Ig||e===ms,tL=(e,t)=>parseFloat(e.split(", ")[t]),sL=(e,t)=>(i,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/u);if(a)return tL(a[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?tL(o[1],e):0}},Bne=new Set(["x","y","z"]),Wne=Sv.filter(e=>!Bne.has(e));function Hne(e){const t=[];return Wne.forEach(i=>{const r=e.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const cg={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:sL(4,13),y:sL(5,14)};cg.translateX=cg.x;cg.translateY=cg.y;const UH=e=>t=>t.test(e),Vne={test:e=>e==="auto",parse:e=>e},GH=[Ig,ms,Pl,Sd,Fne,Rne,Vne],iL=e=>GH.find(UH(e)),Wh=new Set;let qC=!1,KC=!1;function qH(){if(KC){const e=Array.from(Wh).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),i=new Map;t.forEach(r=>{const a=Hne(r);a.length&&(i.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=i.get(r);a&&a.forEach(([o,u])=>{var m;(m=r.getValue(o))===null||m===void 0||m.set(u)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}KC=!1,qC=!1,Wh.forEach(e=>e.complete()),Wh.clear()}function KH(){Wh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(KC=!0)})}function $ne(){KH(),qH()}class MM{constructor(t,i,r,a,o,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=a,this.element=o,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Wh.add(this),qC||(qC=!0,mi.read(KH),mi.resolveKeyframes(qH))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:a}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const u=a==null?void 0:a.get(),m=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const x=r.readValue(i,m);x!=null&&(t[0]=x)}t[0]===void 0&&(t[0]=m),a&&u===void 0&&a.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Wh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Wh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const oy=e=>Math.round(e*1e5)/1e5,EM=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Une(e){return e==null}const Gne=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,IM=(e,t)=>i=>!!(typeof i=="string"&&Gne.test(i)&&i.startsWith(e)||t&&!Une(i)&&Object.prototype.hasOwnProperty.call(i,t)),YH=(e,t,i)=>r=>{if(typeof r!="string")return r;const[a,o,u,m]=r.match(EM);return{[e]:parseFloat(a),[t]:parseFloat(o),[i]:parseFloat(u),alpha:m!==void 0?parseFloat(m):1}},qne=e=>Bc(0,255,e),eA={...Ig,transform:e=>Math.round(qne(e))},Ch={test:IM("rgb","red"),parse:YH("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:r=1})=>"rgba("+eA.transform(e)+", "+eA.transform(t)+", "+eA.transform(i)+", "+oy(Fy.transform(r))+")"};function Kne(e){let t="",i="",r="",a="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,i+=i,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const YC={test:IM("#"),parse:Kne,transform:Ch.transform},yf={test:IM("hsl","hue"),parse:YH("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(e)+", "+Pl.transform(oy(t))+", "+Pl.transform(oy(i))+", "+oy(Fy.transform(r))+")"},un={test:e=>Ch.test(e)||YC.test(e)||yf.test(e),parse:e=>Ch.test(e)?Ch.parse(e):yf.test(e)?yf.parse(e):YC.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ch.transform(e):yf.transform(e)},Yne=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Xne(e){var t,i;return isNaN(e)&&typeof e=="string"&&(((t=e.match(EM))===null||t===void 0?void 0:t.length)||0)+(((i=e.match(Yne))===null||i===void 0?void 0:i.length)||0)>0}const XH="number",ZH="color",Zne="var",Qne="var(",rL="${}",Jne=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zy(e){const t=e.toString(),i=[],r={color:[],number:[],var:[]},a=[];let o=0;const m=t.replace(Jne,x=>(un.test(x)?(r.color.push(o),a.push(ZH),i.push(un.parse(x))):x.startsWith(Qne)?(r.var.push(o),a.push(Zne),i.push(x)):(r.number.push(o),a.push(XH),i.push(parseFloat(x))),++o,rL)).split(rL);return{values:i,split:m,indexes:r,types:a}}function QH(e){return zy(e).values}function JH(e){const{split:t,types:i}=zy(e),r=t.length;return a=>{let o="";for(let u=0;u<r;u++)if(o+=t[u],a[u]!==void 0){const m=i[u];m===XH?o+=oy(a[u]):m===ZH?o+=un.transform(a[u]):o+=a[u]}return o}}const eae=e=>typeof e=="number"?0:e;function tae(e){const t=QH(e);return JH(e)(t.map(eae))}const ou={test:Xne,parse:QH,createTransformer:JH,getAnimatableNone:tae},sae=new Set(["brightness","contrast","saturate","opacity"]);function iae(e){const[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=i.match(EM)||[];if(!r)return e;const a=i.replace(r,"");let o=sae.has(t)?1:0;return r!==i&&(o*=100),t+"("+o+a+")"}const rae=/\b([a-z-]*)\(.*?\)/gu,XC={...ou,getAnimatableNone:e=>{const t=e.match(rae);return t?t.map(iae).join(" "):e}},nae={borderWidth:ms,borderTopWidth:ms,borderRightWidth:ms,borderBottomWidth:ms,borderLeftWidth:ms,borderRadius:ms,radius:ms,borderTopLeftRadius:ms,borderTopRightRadius:ms,borderBottomRightRadius:ms,borderBottomLeftRadius:ms,width:ms,maxWidth:ms,height:ms,maxHeight:ms,top:ms,right:ms,bottom:ms,left:ms,padding:ms,paddingTop:ms,paddingRight:ms,paddingBottom:ms,paddingLeft:ms,margin:ms,marginTop:ms,marginRight:ms,marginBottom:ms,marginLeft:ms,backgroundPositionX:ms,backgroundPositionY:ms},aae={rotate:Sd,rotateX:Sd,rotateY:Sd,rotateZ:Sd,scale:D1,scaleX:D1,scaleY:D1,scaleZ:D1,skew:Sd,skewX:Sd,skewY:Sd,distance:ms,translateX:ms,translateY:ms,translateZ:ms,x:ms,y:ms,z:ms,perspective:ms,transformPerspective:ms,opacity:Fy,originX:J5,originY:J5,originZ:ms},nL={...Ig,transform:Math.round},LM={...nae,...aae,zIndex:nL,size:ms,fillOpacity:Fy,strokeOpacity:Fy,numOctaves:nL},oae={...LM,color:un,backgroundColor:un,outlineColor:un,fill:un,stroke:un,borderColor:un,borderTopColor:un,borderRightColor:un,borderBottomColor:un,borderLeftColor:un,filter:XC,WebkitFilter:XC},OM=e=>oae[e];function eV(e,t){let i=OM(e);return i!==XC&&(i=ou),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const lae=new Set(["auto","none","0"]);function cae(e,t,i){let r=0,a;for(;r<e.length&&!a;){const o=e[r];typeof o=="string"&&!lae.has(o)&&zy(o).values.length&&(a=e[r]),r++}if(a&&i)for(const o of t)e[o]=eV(i,a)}class tV extends MM{constructor(t,i,r,a,o){super(t,i,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let x=0;x<t.length;x++){let w=t[x];if(typeof w=="string"&&(w=w.trim(),PM(w))){const A=$H(w,i.current);A!==void 0&&(t[x]=A),x===t.length-1&&(this.finalKeyframe=w)}}if(this.resolveNoneKeyframes(),!zne.has(r)||t.length!==2)return;const[a,o]=t,u=iL(a),m=iL(o);if(u!==m)if(eL(u)&&eL(m))for(let x=0;x<t.length;x++){const w=t[x];typeof w=="string"&&(t[x]=parseFloat(w))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let a=0;a<t.length;a++)Ene(t[a])&&r.push(a);r.length&&cae(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cg[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const a=i[i.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var t;const{element:i,name:r,unresolvedKeyframes:a}=this;if(!i||!i.current)return;const o=i.getValue(r);o&&o.jump(this.measuredOrigin,!1);const u=a.length-1,m=a[u];a[u]=cg[r](i.measureViewportBox(),window.getComputedStyle(i.current)),m!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=m),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([x,w])=>{i.getValue(x).set(w)}),this.resolveNoneKeyframes()}}function DM(e){return typeof e=="function"}let o_;function dae(){o_=void 0}const Ml={now:()=>(o_===void 0&&Ml.set(Qr.isProcessing||kne.useManualTiming?Qr.timestamp:performance.now()),o_),set:e=>{o_=e,queueMicrotask(dae)}},aL=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ou.test(e)||e==="0")&&!e.startsWith("url("));function uae(e){const t=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}function hae(e,t,i,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],u=aL(a,t),m=aL(o,t);return!u||!m?!1:uae(e)||(i==="spring"||DM(i))&&r}const pae=40;class sV{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:u="loop",...m}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ml.now(),this.options={autoplay:t,delay:i,type:r,repeat:a,repeatDelay:o,repeatType:u,...m},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>pae?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&$ne(),this._resolved}onKeyframesResolved(t,i){this.resolvedAt=Ml.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:o,delay:u,onComplete:m,onUpdate:x,isGenerator:w}=this.options;if(!w&&!hae(t,r,a,o))if(u)this.options.duration=0;else{x==null||x(cj(t,this.options,i)),m==null||m(),this.resolveFinishedPromise();return}const A=this.initPlayback(t,i);A!==!1&&(this._resolved={keyframes:t,finalKeyframe:i,...A},this.onPostResolved())}onPostResolved(){}then(t,i){return this.currentFinishedPromise.then(t,i)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const dg=(e,t,i)=>{const r=t-e;return r===0?1:(i-e)/r},iV=(e,t,i=10)=>{let r="";const a=Math.max(Math.round(t/i),2);for(let o=0;o<a;o++)r+=e(dg(0,a-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function rV(e,t){return t?e*(1e3/t):0}const mae=5;function nV(e,t,i){const r=Math.max(t-mae,0);return rV(i-e(r),t-r)}const tr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tA=.001;function fae({duration:e=tr.duration,bounce:t=tr.bounce,velocity:i=tr.velocity,mass:r=tr.mass}){let a,o,u=1-t;u=Bc(tr.minDamping,tr.maxDamping,u),e=Bc(tr.minDuration,tr.maxDuration,Cc(e)),u<1?(a=w=>{const A=w*u,E=A*e,O=A-i,G=ZC(w,u),te=Math.exp(-E);return tA-O/G*te},o=w=>{const E=w*u*e,O=E*i+i,G=Math.pow(u,2)*Math.pow(w,2)*e,te=Math.exp(-E),Q=ZC(Math.pow(w,2),u);return(-a(w)+tA>0?-1:1)*((O-G)*te)/Q}):(a=w=>{const A=Math.exp(-w*e),E=(w-i)*e+1;return-tA+A*E},o=w=>{const A=Math.exp(-w*e),E=(i-w)*(e*e);return A*E});const m=5/e,x=xae(a,o,m);if(e=Ac(e),isNaN(x))return{stiffness:tr.stiffness,damping:tr.damping,duration:e};{const w=Math.pow(x,2)*r;return{stiffness:w,damping:u*2*Math.sqrt(r*w),duration:e}}}const gae=12;function xae(e,t,i){let r=i;for(let a=1;a<gae;a++)r=r-e(r)/t(r);return r}function ZC(e,t){return e*Math.sqrt(1-t*t)}const QC=2e4;function aV(e){let t=0;const i=50;let r=e.next(t);for(;!r.done&&t<QC;)t+=i,r=e.next(t);return t>=QC?1/0:t}const yae=["duration","bounce"],vae=["stiffness","damping","mass"];function oL(e,t){return t.some(i=>e[i]!==void 0)}function bae(e){let t={velocity:tr.velocity,stiffness:tr.stiffness,damping:tr.damping,mass:tr.mass,isResolvedFromDuration:!1,...e};if(!oL(e,vae)&&oL(e,yae))if(e.visualDuration){const i=e.visualDuration,r=2*Math.PI/(i*1.2),a=r*r,o=2*Bc(.05,1,1-e.bounce)*Math.sqrt(a);t={...t,mass:tr.mass,stiffness:a,damping:o}}else{const i=fae(e);t={...t,...i,mass:tr.mass},t.isResolvedFromDuration=!0}return t}function oV(e=tr.visualDuration,t=tr.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=i;const o=i.keyframes[0],u=i.keyframes[i.keyframes.length-1],m={done:!1,value:o},{stiffness:x,damping:w,mass:A,duration:E,velocity:O,isResolvedFromDuration:G}=bae({...i,velocity:-Cc(i.velocity||0)}),te=O||0,Q=w/(2*Math.sqrt(x*A)),J=u-o,H=Cc(Math.sqrt(x/A)),W=Math.abs(J)<5;r||(r=W?tr.restSpeed.granular:tr.restSpeed.default),a||(a=W?tr.restDelta.granular:tr.restDelta.default);let Z;if(Q<1){const me=ZC(H,Q);Z=we=>{const _e=Math.exp(-Q*H*we);return u-_e*((te+Q*H*J)/me*Math.sin(me*we)+J*Math.cos(me*we))}}else if(Q===1)Z=me=>u-Math.exp(-H*me)*(J+(te+H*J)*me);else{const me=H*Math.sqrt(Q*Q-1);Z=we=>{const _e=Math.exp(-Q*H*we),de=Math.min(me*we,300);return u-_e*((te+Q*H*J)*Math.sinh(de)+me*J*Math.cosh(de))/me}}const pe={calculatedDuration:G&&E||null,next:me=>{const we=Z(me);if(G)m.done=me>=E;else{let _e=0;Q<1&&(_e=me===0?Ac(te):nV(Z,me,we));const de=Math.abs(_e)<=r,Ae=Math.abs(u-we)<=a;m.done=de&&Ae}return m.value=m.done?u:we,m},toString:()=>{const me=Math.min(aV(pe),QC),we=iV(_e=>pe.next(me*_e).value,me,30);return me+"ms "+we}};return pe}function lL({keyframes:e,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:u,min:m,max:x,restDelta:w=.5,restSpeed:A}){const E=e[0],O={done:!1,value:E},G=de=>m!==void 0&&de<m||x!==void 0&&de>x,te=de=>m===void 0?x:x===void 0||Math.abs(m-de)<Math.abs(x-de)?m:x;let Q=i*t;const J=E+Q,H=u===void 0?J:u(J);H!==J&&(Q=H-E);const W=de=>-Q*Math.exp(-de/r),Z=de=>H+W(de),pe=de=>{const Ae=W(de),We=Z(de);O.done=Math.abs(Ae)<=w,O.value=O.done?H:We};let me,we;const _e=de=>{G(O.value)&&(me=de,we=oV({keyframes:[O.value,te(O.value)],velocity:nV(Z,de,O.value),damping:a,stiffness:o,restDelta:w,restSpeed:A}))};return _e(0),{calculatedDuration:null,next:de=>{let Ae=!1;return!we&&me===void 0&&(Ae=!0,pe(de),_e(de)),me!==void 0&&de>=me?we.next(de-me):(!Ae&&pe(de),O)}}}const wae=Av(.42,0,1,1),_ae=Av(0,0,.58,1),lV=Av(.42,0,.58,1),Nae=e=>Array.isArray(e)&&typeof e[0]!="number",RM=e=>Array.isArray(e)&&typeof e[0]=="number",cL={linear:fn,easeIn:wae,easeInOut:lV,easeOut:_ae,circIn:TM,circInOut:zH,circOut:FH,backIn:CM,backInOut:DH,backOut:OH,anticipate:RH},dL=e=>{if(RM(e)){GC(e.length===4);const[t,i,r,a]=e;return Av(t,i,r,a)}else if(typeof e=="string")return GC(cL[e]!==void 0),cL[e];return e},jae=(e,t)=>i=>t(e(i)),Qd=(...e)=>e.reduce(jae),Gi=(e,t,i)=>e+(t-e)*i;function sA(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function kae({hue:e,saturation:t,lightness:i,alpha:r}){e/=360,t/=100,i/=100;let a=0,o=0,u=0;if(!t)a=o=u=i;else{const m=i<.5?i*(1+t):i+t-i*t,x=2*i-m;a=sA(x,m,e+1/3),o=sA(x,m,e),u=sA(x,m,e-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:r}}function Q_(e,t){return i=>i>0?t:e}const iA=(e,t,i)=>{const r=e*e,a=i*(t*t-r)+r;return a<0?0:Math.sqrt(a)},Sae=[YC,Ch,yf],Aae=e=>Sae.find(t=>t.test(e));function uL(e){const t=Aae(e);if(!t)return!1;let i=t.parse(e);return t===yf&&(i=kae(i)),i}const hL=(e,t)=>{const i=uL(e),r=uL(t);if(!i||!r)return Q_(e,t);const a={...i};return o=>(a.red=iA(i.red,r.red,o),a.green=iA(i.green,r.green,o),a.blue=iA(i.blue,r.blue,o),a.alpha=Gi(i.alpha,r.alpha,o),Ch.transform(a))},JC=new Set(["none","hidden"]);function Cae(e,t){return JC.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}function Tae(e,t){return i=>Gi(e,t,i)}function FM(e){return typeof e=="number"?Tae:typeof e=="string"?PM(e)?Q_:un.test(e)?hL:Eae:Array.isArray(e)?cV:typeof e=="object"?un.test(e)?hL:Pae:Q_}function cV(e,t){const i=[...e],r=i.length,a=e.map((o,u)=>FM(o)(o,t[u]));return o=>{for(let u=0;u<r;u++)i[u]=a[u](o);return i}}function Pae(e,t){const i={...e,...t},r={};for(const a in i)e[a]!==void 0&&t[a]!==void 0&&(r[a]=FM(e[a])(e[a],t[a]));return a=>{for(const o in r)i[o]=r[o](a);return i}}function Mae(e,t){var i;const r=[],a={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],m=e.indexes[u][a[u]],x=(i=e.values[m])!==null&&i!==void 0?i:0;r[o]=x,a[u]++}return r}const Eae=(e,t)=>{const i=ou.createTransformer(t),r=zy(e),a=zy(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?JC.has(e)&&!a.values.length||JC.has(t)&&!r.values.length?Cae(e,t):Qd(cV(Mae(r,a),a.values),i):Q_(e,t)};function dV(e,t,i){return typeof e=="number"&&typeof t=="number"&&typeof i=="number"?Gi(e,t,i):FM(e)(e,t)}function Iae(e,t,i){const r=[],a=i||dV,o=e.length-1;for(let u=0;u<o;u++){let m=a(e[u],e[u+1]);if(t){const x=Array.isArray(t)?t[u]||fn:t;m=Qd(x,m)}r.push(m)}return r}function Lae(e,t,{clamp:i=!0,ease:r,mixer:a}={}){const o=e.length;if(GC(o===t.length),o===1)return()=>t[0];if(o===2&&e[0]===e[1])return()=>t[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=Iae(t,r,a),m=u.length,x=w=>{let A=0;if(m>1)for(;A<e.length-2&&!(w<e[A+1]);A++);const E=dg(e[A],e[A+1],w);return u[A](E)};return i?w=>x(Bc(e[0],e[o-1],w)):x}function Oae(e,t){const i=e[e.length-1];for(let r=1;r<=t;r++){const a=dg(0,t,r);e.push(Gi(i,1,a))}}function Dae(e){const t=[0];return Oae(t,e.length-1),t}function Rae(e,t){return e.map(i=>i*t)}function Fae(e,t){return e.map(()=>t||lV).splice(0,e.length-1)}function J_({duration:e=300,keyframes:t,times:i,ease:r="easeInOut"}){const a=Nae(r)?r.map(dL):dL(r),o={done:!1,value:t[0]},u=Rae(i&&i.length===t.length?i:Dae(t),e),m=Lae(u,t,{ease:Array.isArray(a)?a:Fae(t,a)});return{calculatedDuration:e,next:x=>(o.value=m(x),o.done=x>=e,o)}}const zae=e=>{const t=({timestamp:i})=>e(i);return{start:()=>mi.update(t,!0),stop:()=>au(t),now:()=>Qr.isProcessing?Qr.timestamp:Ml.now()}},Bae={decay:lL,inertia:lL,tween:J_,keyframes:J_,spring:oV},Wae=e=>e/100;class zM extends sV{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:x}=this.options;x&&x()};const{name:i,motionValue:r,element:a,keyframes:o}=this.options,u=(a==null?void 0:a.KeyframeResolver)||MM,m=(x,w)=>this.onKeyframesResolved(x,w);this.resolver=new u(o,m,i,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:u=0}=this.options,m=DM(i)?i:Bae[i]||J_;let x,w;m!==J_&&typeof t[0]!="number"&&(x=Qd(Wae,dV(t[0],t[1])),t=[0,100]);const A=m({...this.options,keyframes:t});o==="mirror"&&(w=m({...this.options,keyframes:[...t].reverse(),velocity:-u})),A.calculatedDuration===null&&(A.calculatedDuration=aV(A));const{calculatedDuration:E}=A,O=E+a,G=O*(r+1)-a;return{generator:A,mirroredGenerator:w,mapPercentToKeyframes:x,calculatedDuration:E,resolvedDuration:O,totalDuration:G}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,i=!1){const{resolved:r}=this;if(!r){const{keyframes:de}=this.options;return{done:!0,value:de[de.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:u,mapPercentToKeyframes:m,keyframes:x,calculatedDuration:w,totalDuration:A,resolvedDuration:E}=r;if(this.startTime===null)return o.next(0);const{delay:O,repeat:G,repeatType:te,repeatDelay:Q,onUpdate:J}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-A/this.speed,this.startTime)),i?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const H=this.currentTime-O*(this.speed>=0?1:-1),W=this.speed>=0?H<0:H>A;this.currentTime=Math.max(H,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=A);let Z=this.currentTime,pe=o;if(G){const de=Math.min(this.currentTime,A)/E;let Ae=Math.floor(de),We=de%1;!We&&de>=1&&(We=1),We===1&&Ae--,Ae=Math.min(Ae,G+1),!!(Ae%2)&&(te==="reverse"?(We=1-We,Q&&(We-=Q/E)):te==="mirror"&&(pe=u)),Z=Bc(0,1,We)*E}const me=W?{done:!1,value:x[0]}:pe.next(Z);m&&(me.value=m(me.value));let{done:we}=me;!W&&w!==null&&(we=this.speed>=0?this.currentTime>=A:this.currentTime<=0);const _e=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&we);return _e&&a!==void 0&&(me.value=cj(x,this.options,a)),J&&J(me.value),_e&&this.finish(),me}get duration(){const{resolved:t}=this;return t?Cc(t.calculatedDuration):0}get time(){return Cc(this.currentTime)}set time(t){t=Ac(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=Cc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=zae,onPlay:i,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),i&&i();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Hae=new Set(["opacity","clipPath","filter","transform"]);function BM(e){let t;return()=>(t===void 0&&(t=e()),t)}const Vae={linearEasing:void 0};function $ae(e,t){const i=BM(e);return()=>{var r;return(r=Vae[t])!==null&&r!==void 0?r:i()}}const eN=$ae(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function uV(e){return!!(typeof e=="function"&&eN()||!e||typeof e=="string"&&(e in eT||eN())||RM(e)||Array.isArray(e)&&e.every(uV))}const $0=([e,t,i,r])=>`cubic-bezier(${e}, ${t}, ${i}, ${r})`,eT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$0([0,.65,.55,1]),circOut:$0([.55,0,1,.45]),backIn:$0([.31,.01,.66,-.59]),backOut:$0([.33,1.53,.69,.99])};function hV(e,t){if(e)return typeof e=="function"&&eN()?iV(e,t):RM(e)?$0(e):Array.isArray(e)?e.map(i=>hV(i,t)||eT.easeOut):eT[e]}function Uae(e,t,i,{delay:r=0,duration:a=300,repeat:o=0,repeatType:u="loop",ease:m="easeInOut",times:x}={}){const w={[t]:i};x&&(w.offset=x);const A=hV(m,a);return Array.isArray(A)&&(w.easing=A),e.animate(w,{delay:r,duration:a,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"})}function pL(e,t){e.timeline=t,e.onfinish=null}const Gae=BM(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),tN=10,qae=2e4;function Kae(e){return DM(e.type)||e.type==="spring"||!uV(e.ease)}function Yae(e,t){const i=new zM({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const a=[];let o=0;for(;!r.done&&o<qae;)r=i.sample(o),a.push(r.value),o+=tN;return{times:void 0,keyframes:a,duration:o-tN,ease:"linear"}}const pV={anticipate:RH,backInOut:DH,circInOut:zH};function Xae(e){return e in pV}class mL extends sV{constructor(t){super(t);const{name:i,motionValue:r,element:a,keyframes:o}=this.options;this.resolver=new tV(o,(u,m)=>this.onKeyframesResolved(u,m),i,r,a),this.resolver.scheduleResolve()}initPlayback(t,i){var r;let{duration:a=300,times:o,ease:u,type:m,motionValue:x,name:w,startTime:A}=this.options;if(!(!((r=x.owner)===null||r===void 0)&&r.current))return!1;if(typeof u=="string"&&eN()&&Xae(u)&&(u=pV[u]),Kae(this.options)){const{onComplete:O,onUpdate:G,motionValue:te,element:Q,...J}=this.options,H=Yae(t,J);t=H.keyframes,t.length===1&&(t[1]=t[0]),a=H.duration,o=H.times,u=H.ease,m="keyframes"}const E=Uae(x.owner.current,w,t,{...this.options,duration:a,times:o,ease:u});return E.startTime=A??this.calcStartTime(),this.pendingTimeline?(pL(E,this.pendingTimeline),this.pendingTimeline=void 0):E.onfinish=()=>{const{onComplete:O}=this.options;x.set(cj(t,this.options,i)),O&&O(),this.cancel(),this.resolveFinishedPromise()},{animation:E,duration:a,times:o,type:m,ease:u,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:i}=t;return Cc(i)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:i}=t;return Cc(i.currentTime||0)}set time(t){const{resolved:i}=this;if(!i)return;const{animation:r}=i;r.currentTime=Ac(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:i}=t;return i.playbackRate}set speed(t){const{resolved:i}=this;if(!i)return;const{animation:r}=i;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:i}=t;return i.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:i}=t;return i.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:i}=this;if(!i)return fn;const{animation:r}=i;pL(r,t)}return fn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playState==="finished"&&this.updateFinishedPromise(),i.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:i,keyframes:r,duration:a,type:o,ease:u,times:m}=t;if(i.playState==="idle"||i.playState==="finished")return;if(this.time){const{motionValue:w,onUpdate:A,onComplete:E,element:O,...G}=this.options,te=new zM({...G,keyframes:r,duration:a,type:o,ease:u,times:m,isGenerator:!0}),Q=Ac(this.time);w.setWithVelocity(te.sample(Q-tN).value,te.sample(Q).value,tN)}const{onStop:x}=this.options;x&&x(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:i,name:r,repeatDelay:a,repeatType:o,damping:u,type:m}=t;return Gae()&&r&&Hae.has(r)&&i&&i.owner&&i.owner.current instanceof HTMLElement&&!i.owner.getProps().onUpdate&&!a&&o!=="mirror"&&u!==0&&m!=="inertia"}}const Zae=BM(()=>window.ScrollTimeline!==void 0);class Qae{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,i){return Promise.all(this.animations).then(t).catch(i)}getAll(t){return this.animations[0][t]}setAll(t,i){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=i}attachTimeline(t,i){const r=this.animations.map(a=>Zae()&&a.attachTimeline?a.attachTimeline(t):i(a));return()=>{r.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let i=0;i<this.animations.length;i++)t=Math.max(t,this.animations[i].duration);return t}runAll(t){this.animations.forEach(i=>i[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Jae({when:e,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:u,repeatDelay:m,from:x,elapsed:w,...A}){return!!Object.keys(A).length}const WM=(e,t,i,r={},a,o)=>u=>{const m=AM(r,e)||{},x=m.delay||r.delay||0;let{elapsed:w=0}=r;w=w-Ac(x);let A={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-w,onUpdate:O=>{t.set(O),m.onUpdate&&m.onUpdate(O)},onComplete:()=>{u(),m.onComplete&&m.onComplete()},name:e,motionValue:t,element:o?void 0:a};Jae(m)||(A={...A,...jne(e,A)}),A.duration&&(A.duration=Ac(A.duration)),A.repeatDelay&&(A.repeatDelay=Ac(A.repeatDelay)),A.from!==void 0&&(A.keyframes[0]=A.from);let E=!1;if((A.type===!1||A.duration===0&&!A.repeatDelay)&&(A.duration=0,A.delay===0&&(E=!0)),E&&!o&&t.get()!==void 0){const O=cj(A.keyframes,m);if(O!==void 0)return mi.update(()=>{A.onUpdate(O),A.onComplete()}),new Qae([])}return!o&&mL.supports(A)?new mL(A):new zM(A)},eoe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),toe=e=>UC(e)?e[e.length-1]||0:e;function HM(e,t){e.indexOf(t)===-1&&e.push(t)}function VM(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}class $M{constructor(){this.subscriptions=[]}add(t){return HM(this.subscriptions,t),()=>VM(this.subscriptions,t)}notify(t,i,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,i,r);else for(let o=0;o<a;o++){const u=this.subscriptions[o];u&&u(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fL=30,soe=e=>!isNaN(parseFloat(e));class ioe{constructor(t,i={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const o=Ml.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=Ml.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=soe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new $M);const r=this.events[t].add(i);return t==="change"?()=>{r(),mi.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t,i=!0){!i||!this.passiveEffect?this.updateAndNotify(t,i):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ml.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>fL)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,fL);return rV(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function By(e,t){return new ioe(e,t)}function roe(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,By(i))}function noe(e,t){const i=lj(e,t);let{transitionEnd:r={},transition:a={},...o}=i||{};o={...o,...r};for(const u in o){const m=toe(o[u]);roe(e,u,m)}}const UM=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aoe="framerAppearId",mV="data-"+UM(aoe);function fV(e){return e.props[mV]}const mn=e=>!!(e&&e.getVelocity);function ooe(e){return!!(mn(e)&&e.add)}function tT(e,t){const i=e.getValue("willChange");if(ooe(i))return i.add(t)}function loe({protectedKeys:e,needsAnimating:t},i){const r=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function gV(e,t,{delay:i=0,transitionOverride:r,type:a}={}){var o;let{transition:u=e.getDefaultTransition(),transitionEnd:m,...x}=t;r&&(u=r);const w=[],A=a&&e.animationState&&e.animationState.getState()[a];for(const E in x){const O=e.getValue(E,(o=e.latestValues[E])!==null&&o!==void 0?o:null),G=x[E];if(G===void 0||A&&loe(A,E))continue;const te={delay:i,...AM(u||{},E)};let Q=!1;if(window.MotionHandoffAnimation){const H=fV(e);if(H){const W=window.MotionHandoffAnimation(H,E,mi);W!==null&&(te.startTime=W,Q=!0)}}tT(e,E),O.start(WM(E,O,G,e.shouldReduceMotion&&hp.has(E)?{type:!1}:te,e,Q));const J=O.animation;J&&w.push(J)}return m&&Promise.all(w).then(()=>{mi.update(()=>{m&&noe(e,m)})}),w}function sT(e,t,i={}){var r;const a=lj(e,t,i.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=a||{};i.transitionOverride&&(o=i.transitionOverride);const u=a?()=>Promise.all(gV(e,a,i)):()=>Promise.resolve(),m=e.variantChildren&&e.variantChildren.size?(w=0)=>{const{delayChildren:A=0,staggerChildren:E,staggerDirection:O}=o;return coe(e,t,A+w,E,O,i)}:()=>Promise.resolve(),{when:x}=o;if(x){const[w,A]=x==="beforeChildren"?[u,m]:[m,u];return w().then(()=>A())}else return Promise.all([u(),m(i.delay)])}function coe(e,t,i=0,r=0,a=1,o){const u=[],m=(e.variantChildren.size-1)*r,x=a===1?(w=0)=>w*r:(w=0)=>m-w*r;return Array.from(e.variantChildren).sort(doe).forEach((w,A)=>{w.notify("AnimationStart",t),u.push(sT(w,t,{...o,delay:i+x(A)}).then(()=>w.notify("AnimationComplete",t)))}),Promise.all(u)}function doe(e,t){return e.sortNodePosition(t)}function uoe(e,t,i={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(o=>sT(e,o,i));r=Promise.all(a)}else if(typeof t=="string")r=sT(e,t,i);else{const a=typeof t=="function"?lj(e,t,i.custom):t;r=Promise.all(gV(e,a,i))}return r.then(()=>{e.notify("AnimationComplete",t)})}const hoe=SM.length;function xV(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?xV(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const t={};for(let i=0;i<hoe;i++){const r=SM[i],a=e.props[r];(Ry(a)||a===!1)&&(t[r]=a)}return t}const poe=[...kM].reverse(),moe=kM.length;function foe(e){return t=>Promise.all(t.map(({animation:i,options:r})=>uoe(e,i,r)))}function goe(e){let t=foe(e),i=gL(),r=!0;const a=x=>(w,A)=>{var E;const O=lj(e,A,x==="exit"?(E=e.presenceContext)===null||E===void 0?void 0:E.custom:void 0);if(O){const{transition:G,transitionEnd:te,...Q}=O;w={...w,...Q,...te}}return w};function o(x){t=x(e)}function u(x){const{props:w}=e,A=xV(e.parent)||{},E=[],O=new Set;let G={},te=1/0;for(let J=0;J<moe;J++){const H=poe[J],W=i[H],Z=w[H]!==void 0?w[H]:A[H],pe=Ry(Z),me=H===x?W.isActive:null;me===!1&&(te=J);let we=Z===A[H]&&Z!==w[H]&&pe;if(we&&r&&e.manuallyAnimateOnMount&&(we=!1),W.protectedKeys={...G},!W.isActive&&me===null||!Z&&!W.prevProp||oj(Z)||typeof Z=="boolean")continue;const _e=xoe(W.prevProp,Z);let de=_e||H===x&&W.isActive&&!we&&pe||J>te&&pe,Ae=!1;const We=Array.isArray(Z)?Z:[Z];let tt=We.reduce(a(H),{});me===!1&&(tt={});const{prevResolvedValues:Xe={}}=W,lt={...Xe,...tt},Qe=Tt=>{de=!0,O.has(Tt)&&(Ae=!0,O.delete(Tt)),W.needsAnimating[Tt]=!0;const ve=e.getValue(Tt);ve&&(ve.liveStyle=!1)};for(const Tt in lt){const ve=tt[Tt],Je=Xe[Tt];if(G.hasOwnProperty(Tt))continue;let mt=!1;UC(ve)&&UC(Je)?mt=!PH(ve,Je):mt=ve!==Je,mt?ve!=null?Qe(Tt):O.add(Tt):ve!==void 0&&O.has(Tt)?Qe(Tt):W.protectedKeys[Tt]=!0}W.prevProp=Z,W.prevResolvedValues=tt,W.isActive&&(G={...G,...tt}),r&&e.blockInitialAnimation&&(de=!1),de&&(!(we&&_e)||Ae)&&E.push(...We.map(Tt=>({animation:Tt,options:{type:H}})))}if(O.size){const J={};O.forEach(H=>{const W=e.getBaseTarget(H),Z=e.getValue(H);Z&&(Z.liveStyle=!0),J[H]=W??null}),E.push({animation:J})}let Q=!!E.length;return r&&(w.initial===!1||w.initial===w.animate)&&!e.manuallyAnimateOnMount&&(Q=!1),r=!1,Q?t(E):Promise.resolve()}function m(x,w){var A;if(i[x].isActive===w)return Promise.resolve();(A=e.variantChildren)===null||A===void 0||A.forEach(O=>{var G;return(G=O.animationState)===null||G===void 0?void 0:G.setActive(x,w)}),i[x].isActive=w;const E=u(x);for(const O in i)i[O].protectedKeys={};return E}return{animateChanges:u,setActive:m,setAnimateFunction:o,getState:()=>i,reset:()=>{i=gL(),r=!0}}}function xoe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!PH(t,e):!1}function yh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gL(){return{animate:yh(!0),whileInView:yh(),whileHover:yh(),whileTap:yh(),whileDrag:yh(),whileFocus:yh(),exit:yh()}}class yu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class yoe extends yu{constructor(t){super(t),t.animationState||(t.animationState=goe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();oj(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let voe=0;class boe extends yu{constructor(){super(...arguments),this.id=voe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);i&&!t&&a.then(()=>i(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const woe={animation:{Feature:yoe},exit:{Feature:boe}};function _oe(e,t,i){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const o=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const jo={x:!1,y:!1};function yV(){return jo.x||jo.y}function xL(e){return t=>{t.pointerType==="touch"||yV()||e(t)}}function Noe(e,t,i={}){const r=new AbortController,a={passive:!0,...i,signal:r.signal},o=xL(u=>{const{target:m}=u,x=t(u);if(!x||!m)return;const w=xL(A=>{x(A),m.removeEventListener("pointerleave",w)});m.addEventListener("pointerleave",w,a)});return _oe(e).forEach(u=>{u.addEventListener("pointerenter",o,a)}),()=>r.abort()}function joe(e){return e==="x"||e==="y"?jo[e]?null:(jo[e]=!0,()=>{jo[e]=!1}):jo.x||jo.y?null:(jo.x=jo.y=!0,()=>{jo.x=jo.y=!1})}const vV=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Tv(e){return{point:{x:e.pageX,y:e.pageY}}}const koe=e=>t=>vV(t)&&e(t,Tv(t));function kc(e,t,i,r={passive:!0}){return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i)}function Jd(e,t,i,r){return kc(e,t,koe(i),r)}const yL=(e,t)=>Math.abs(e-t);function Soe(e,t){const i=yL(e.x,t.x),r=yL(e.y,t.y);return Math.sqrt(i**2+r**2)}class bV{constructor(t,i,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=nA(this.lastMoveEventInfo,this.history),O=this.startEvent!==null,G=Soe(E.offset,{x:0,y:0})>=3;if(!O&&!G)return;const{point:te}=E,{timestamp:Q}=Qr;this.history.push({...te,timestamp:Q});const{onStart:J,onMove:H}=this.handlers;O||(J&&J(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,E)},this.handlePointerMove=(E,O)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=rA(O,this.transformPagePoint),mi.update(this.updatePoint,!0)},this.handlePointerUp=(E,O)=>{this.end();const{onEnd:G,onSessionEnd:te,resumeAnimation:Q}=this.handlers;if(this.dragSnapToOrigin&&Q&&Q(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const J=nA(E.type==="pointercancel"?this.lastMoveEventInfo:rA(O,this.transformPagePoint),this.history);this.startEvent&&G&&G(E,J),te&&te(E,J)},!vV(t))return;this.dragSnapToOrigin=o,this.handlers=i,this.transformPagePoint=r,this.contextWindow=a||window;const u=Tv(t),m=rA(u,this.transformPagePoint),{point:x}=m,{timestamp:w}=Qr;this.history=[{...x,timestamp:w}];const{onSessionStart:A}=i;A&&A(t,nA(m,this.history)),this.removeListeners=Qd(Jd(this.contextWindow,"pointermove",this.handlePointerMove),Jd(this.contextWindow,"pointerup",this.handlePointerUp),Jd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),au(this.updatePoint)}}function rA(e,t){return t?{point:t(e.point)}:e}function vL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function nA({point:e},t){return{point:e,delta:vL(e,wV(t)),offset:vL(e,Aoe(t)),velocity:Coe(t,.1)}}function Aoe(e){return e[0]}function wV(e){return e[e.length-1]}function Coe(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,r=null;const a=wV(e);for(;i>=0&&(r=e[i],!(a.timestamp-r.timestamp>Ac(t)));)i--;if(!r)return{x:0,y:0};const o=Cc(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const u={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function vf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const _V=1e-4,Toe=1-_V,Poe=1+_V,NV=.01,Moe=0-NV,Eoe=0+NV;function Pa(e){return e.max-e.min}function Ioe(e,t,i){return Math.abs(e-t)<=i}function bL(e,t,i,r=.5){e.origin=r,e.originPoint=Gi(t.min,t.max,e.origin),e.scale=Pa(i)/Pa(t),e.translate=Gi(i.min,i.max,e.origin)-e.originPoint,(e.scale>=Toe&&e.scale<=Poe||isNaN(e.scale))&&(e.scale=1),(e.translate>=Moe&&e.translate<=Eoe||isNaN(e.translate))&&(e.translate=0)}function ly(e,t,i,r){bL(e.x,t.x,i.x,r?r.originX:void 0),bL(e.y,t.y,i.y,r?r.originY:void 0)}function wL(e,t,i){e.min=i.min+t.min,e.max=e.min+Pa(t)}function Loe(e,t,i){wL(e.x,t.x,i.x),wL(e.y,t.y,i.y)}function _L(e,t,i){e.min=t.min-i.min,e.max=e.min+Pa(t)}function cy(e,t,i){_L(e.x,t.x,i.x),_L(e.y,t.y,i.y)}function Ooe(e,{min:t,max:i},r){return t!==void 0&&e<t?e=r?Gi(t,e,r.min):Math.max(e,t):i!==void 0&&e>i&&(e=r?Gi(i,e,r.max):Math.min(e,i)),e}function NL(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function Doe(e,{top:t,left:i,bottom:r,right:a}){return{x:NL(e.x,i,a),y:NL(e.y,t,r)}}function jL(e,t){let i=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,r]=[r,i]),{min:i,max:r}}function Roe(e,t){return{x:jL(e.x,t.x),y:jL(e.y,t.y)}}function Foe(e,t){let i=.5;const r=Pa(e),a=Pa(t);return a>r?i=dg(t.min,t.max-r,e.min):r>a&&(i=dg(e.min,e.max-a,t.min)),Bc(0,1,i)}function zoe(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const iT=.35;function Boe(e=iT){return e===!1?e=0:e===!0&&(e=iT),{x:kL(e,"left","right"),y:kL(e,"top","bottom")}}function kL(e,t,i){return{min:SL(e,t),max:SL(e,i)}}function SL(e,t){return typeof e=="number"?e:e[t]||0}const AL=()=>({translate:0,scale:1,origin:0,originPoint:0}),bf=()=>({x:AL(),y:AL()}),CL=()=>({min:0,max:0}),cr=()=>({x:CL(),y:CL()});function Ya(e){return[e("x"),e("y")]}function jV({top:e,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:e,max:r}}}function Woe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Hoe(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function aA(e){return e===void 0||e===1}function rT({scale:e,scaleX:t,scaleY:i}){return!aA(e)||!aA(t)||!aA(i)}function _h(e){return rT(e)||kV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function kV(e){return TL(e.x)||TL(e.y)}function TL(e){return e&&e!=="0%"}function sN(e,t,i){const r=e-i,a=t*r;return i+a}function PL(e,t,i,r,a){return a!==void 0&&(e=sN(e,a,r)),sN(e,i,r)+t}function nT(e,t=0,i=1,r,a){e.min=PL(e.min,t,i,r,a),e.max=PL(e.max,t,i,r,a)}function SV(e,{x:t,y:i}){nT(e.x,t.translate,t.scale,t.originPoint),nT(e.y,i.translate,i.scale,i.originPoint)}const ML=.999999999999,EL=1.0000000000001;function Voe(e,t,i,r=!1){const a=i.length;if(!a)return;t.x=t.y=1;let o,u;for(let m=0;m<a;m++){o=i[m],u=o.projectionDelta;const{visualElement:x}=o.options;x&&x.props.style&&x.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&_f(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,SV(e,u)),r&&_h(o.latestValues)&&_f(e,o.latestValues))}t.x<EL&&t.x>ML&&(t.x=1),t.y<EL&&t.y>ML&&(t.y=1)}function wf(e,t){e.min=e.min+t,e.max=e.max+t}function IL(e,t,i,r,a=.5){const o=Gi(e.min,e.max,a);nT(e,t,i,o,r)}function _f(e,t){IL(e.x,t.x,t.scaleX,t.scale,t.originX),IL(e.y,t.y,t.scaleY,t.scale,t.originY)}function AV(e,t){return jV(Hoe(e.getBoundingClientRect(),t))}function $oe(e,t,i){const r=AV(e,i),{scroll:a}=t;return a&&(wf(r.x,a.offset.x),wf(r.y,a.offset.y)),r}const CV=({current:e})=>e?e.ownerDocument.defaultView:null,Uoe=new WeakMap;class Goe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=cr(),this.visualElement=t}start(t,{snapToCursor:i=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=A=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Tv(A).point)},o=(A,E)=>{const{drag:O,dragPropagation:G,onDragStart:te}=this.getProps();if(O&&!G&&(this.openDragLock&&this.openDragLock(),this.openDragLock=joe(O),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ya(J=>{let H=this.getAxisMotionValue(J).get()||0;if(Pl.test(H)){const{projection:W}=this.visualElement;if(W&&W.layout){const Z=W.layout.layoutBox[J];Z&&(H=Pa(Z)*(parseFloat(H)/100))}}this.originPoint[J]=H}),te&&mi.postRender(()=>te(A,E)),tT(this.visualElement,"transform");const{animationState:Q}=this.visualElement;Q&&Q.setActive("whileDrag",!0)},u=(A,E)=>{const{dragPropagation:O,dragDirectionLock:G,onDirectionLock:te,onDrag:Q}=this.getProps();if(!O&&!this.openDragLock)return;const{offset:J}=E;if(G&&this.currentDirection===null){this.currentDirection=qoe(J),this.currentDirection!==null&&te&&te(this.currentDirection);return}this.updateAxis("x",E.point,J),this.updateAxis("y",E.point,J),this.visualElement.render(),Q&&Q(A,E)},m=(A,E)=>this.stop(A,E),x=()=>Ya(A=>{var E;return this.getAnimationState(A)==="paused"&&((E=this.getAxisMotionValue(A).animation)===null||E===void 0?void 0:E.play())}),{dragSnapToOrigin:w}=this.getProps();this.panSession=new bV(t,{onSessionStart:a,onStart:o,onMove:u,onSessionEnd:m,resumeAnimation:x},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:w,contextWindow:CV(this.visualElement)})}stop(t,i){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&mi.postRender(()=>o(t,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:a}=this.getProps();if(!r||!R1(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let u=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(u=Ooe(u,this.constraints[t],this.elastic[t])),o.set(u)}resolveConstraints(){var t;const{dragConstraints:i,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;i&&vf(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&a?this.constraints=Doe(a.layoutBox,i):this.constraints=!1,this.elastic=Boe(r),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Ya(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=zoe(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!vf(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=$oe(r,a.root,this.visualElement.getTransformPagePoint());let u=Roe(a.layout.layoutBox,o);if(i){const m=i(Woe(u));this.hasMutatedConstraints=!!m,m&&(u=jV(m))}return u}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:m}=this.getProps(),x=this.constraints||{},w=Ya(A=>{if(!R1(A,i,this.currentDirection))return;let E=x&&x[A]||{};u&&(E={min:0,max:0});const O=a?200:1e6,G=a?40:1e7,te={type:"inertia",velocity:r?t[A]:0,bounceStiffness:O,bounceDamping:G,timeConstant:750,restDelta:1,restSpeed:10,...o,...E};return this.startAxisValueAnimation(A,te)});return Promise.all(w).then(m)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return tT(this.visualElement,t),r.start(WM(t,r,0,i,this.visualElement,!1))}stopAnimation(){Ya(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ya(t=>{var i;return(i=this.getAxisMotionValue(t).animation)===null||i===void 0?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)===null||i===void 0?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[i];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ya(i=>{const{drag:r}=this.getProps();if(!R1(i,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(i);if(a&&a.layout){const{min:u,max:m}=a.layout.layoutBox[i];o.set(t[i]-Gi(u,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!vf(i)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ya(u=>{const m=this.getAxisMotionValue(u);if(m&&this.constraints!==!1){const x=m.get();a[u]=Foe({min:x,max:x},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ya(u=>{if(!R1(u,t,null))return;const m=this.getAxisMotionValue(u),{min:x,max:w}=this.constraints[u];m.set(Gi(x,w,a[u]))})}addListeners(){if(!this.visualElement.current)return;Uoe.set(this.visualElement,this);const t=this.visualElement.current,i=Jd(t,"pointerdown",x=>{const{drag:w,dragListener:A=!0}=this.getProps();w&&A&&this.start(x)}),r=()=>{const{dragConstraints:x}=this.getProps();vf(x)&&x.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),mi.read(r);const u=kc(window,"resize",()=>this.scalePositionWithinConstraints()),m=a.addEventListener("didUpdate",({delta:x,hasLayoutChanged:w})=>{this.isDragging&&w&&(Ya(A=>{const E=this.getAxisMotionValue(A);E&&(this.originPoint[A]+=x[A].translate,E.set(E.get()+x[A].translate))}),this.visualElement.render())});return()=>{u(),i(),o(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:u=iT,dragMomentum:m=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:u,dragMomentum:m}}}function R1(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function qoe(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}class Koe extends yu{constructor(t){super(t),this.removeGroupControls=fn,this.removeListeners=fn,this.controls=new Goe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fn}unmount(){this.removeGroupControls(),this.removeListeners()}}const LL=e=>(t,i)=>{e&&mi.postRender(()=>e(t,i))};class Yoe extends yu{constructor(){super(...arguments),this.removePointerDownListener=fn}onPointerDown(t){this.session=new bV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:LL(t),onStart:LL(i),onMove:r,onEnd:(o,u)=>{delete this.session,a&&mi.postRender(()=>a(o,u))}}}mount(){this.removePointerDownListener=Jd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dj=V.createContext(null);function Xoe(){const e=V.useContext(dj);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,a=V.useId();V.useEffect(()=>r(a),[]);const o=V.useCallback(()=>i&&i(a),[a,i]);return!t&&i?[!1,o]:[!0]}const GM=V.createContext({}),TV=V.createContext({}),l_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OL(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const E0={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ms.test(e))e=parseFloat(e);else return e;const i=OL(e,t.target.x),r=OL(e,t.target.y);return`${i}% ${r}%`}},Zoe={correct:(e,{treeScale:t,projectionDelta:i})=>{const r=e,a=ou.parse(e);if(a.length>5)return r;const o=ou.createTransformer(e),u=typeof a[0]!="number"?1:0,m=i.x.scale*t.x,x=i.y.scale*t.y;a[0+u]/=m,a[1+u]/=x;const w=Gi(m,x,.5);return typeof a[2+u]=="number"&&(a[2+u]/=w),typeof a[3+u]=="number"&&(a[3+u]/=w),o(a)}},iN={};function Qoe(e){Object.assign(iN,e)}const{schedule:qM,cancel:Lye}=MH(queueMicrotask,!1);class Joe extends V.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=t;Qoe(ele),o&&(i.group&&i.group.add(o),r&&r.register&&a&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),l_.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:a,isPresent:o}=this.props,u=r.projection;return u&&(u.isPresent=o,a||t.layoutDependency!==i||i===void 0?u.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?u.promote():u.relegate()||mi.postRender(()=>{const m=u.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),qM.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function PV(e){const[t,i]=Xoe(),r=V.useContext(GM);return s.jsx(Joe,{...e,layoutGroup:r,switchLayoutGroup:V.useContext(TV),isPresent:t,safeToRemove:i})}const ele={borderRadius:{...E0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:E0,borderTopRightRadius:E0,borderBottomLeftRadius:E0,borderBottomRightRadius:E0,boxShadow:Zoe},MV=["TopLeft","TopRight","BottomLeft","BottomRight"],tle=MV.length,DL=e=>typeof e=="string"?parseFloat(e):e,RL=e=>typeof e=="number"||ms.test(e);function sle(e,t,i,r,a,o){a?(e.opacity=Gi(0,i.opacity!==void 0?i.opacity:1,ile(r)),e.opacityExit=Gi(t.opacity!==void 0?t.opacity:1,0,rle(r))):o&&(e.opacity=Gi(t.opacity!==void 0?t.opacity:1,i.opacity!==void 0?i.opacity:1,r));for(let u=0;u<tle;u++){const m=`border${MV[u]}Radius`;let x=FL(t,m),w=FL(i,m);if(x===void 0&&w===void 0)continue;x||(x=0),w||(w=0),x===0||w===0||RL(x)===RL(w)?(e[m]=Math.max(Gi(DL(x),DL(w),r),0),(Pl.test(w)||Pl.test(x))&&(e[m]+="%")):e[m]=w}(t.rotate||i.rotate)&&(e.rotate=Gi(t.rotate||0,i.rotate||0,r))}function FL(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ile=EV(0,.5,FH),rle=EV(.5,.95,fn);function EV(e,t,i){return r=>r<e?0:r>t?1:i(dg(e,t,r))}function zL(e,t){e.min=t.min,e.max=t.max}function Ka(e,t){zL(e.x,t.x),zL(e.y,t.y)}function BL(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function WL(e,t,i,r,a){return e-=t,e=sN(e,1/i,r),a!==void 0&&(e=sN(e,1/a,r)),e}function nle(e,t=0,i=1,r=.5,a,o=e,u=e){if(Pl.test(t)&&(t=parseFloat(t),t=Gi(u.min,u.max,t/100)-u.min),typeof t!="number")return;let m=Gi(o.min,o.max,r);e===o&&(m-=t),e.min=WL(e.min,t,i,m,a),e.max=WL(e.max,t,i,m,a)}function HL(e,t,[i,r,a],o,u){nle(e,t[i],t[r],t[a],t.scale,o,u)}const ale=["x","scaleX","originX"],ole=["y","scaleY","originY"];function VL(e,t,i,r){HL(e.x,t,ale,i?i.x:void 0,r?r.x:void 0),HL(e.y,t,ole,i?i.y:void 0,r?r.y:void 0)}function $L(e){return e.translate===0&&e.scale===1}function IV(e){return $L(e.x)&&$L(e.y)}function UL(e,t){return e.min===t.min&&e.max===t.max}function lle(e,t){return UL(e.x,t.x)&&UL(e.y,t.y)}function GL(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function LV(e,t){return GL(e.x,t.x)&&GL(e.y,t.y)}function qL(e){return Pa(e.x)/Pa(e.y)}function KL(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class cle{constructor(){this.members=[]}add(t){HM(this.members,t),t.scheduleRender()}remove(t){if(VM(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(a=>t===a);if(i===0)return!1;let r;for(let a=i;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dle(e,t,i){let r="";const a=e.x.translate/t.x,o=e.y.translate/t.y,u=(i==null?void 0:i.z)||0;if((a||o||u)&&(r=`translate3d(${a}px, ${o}px, ${u}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:w,rotate:A,rotateX:E,rotateY:O,skewX:G,skewY:te}=i;w&&(r=`perspective(${w}px) ${r}`),A&&(r+=`rotate(${A}deg) `),E&&(r+=`rotateX(${E}deg) `),O&&(r+=`rotateY(${O}deg) `),G&&(r+=`skewX(${G}deg) `),te&&(r+=`skewY(${te}deg) `)}const m=e.x.scale*t.x,x=e.y.scale*t.y;return(m!==1||x!==1)&&(r+=`scale(${m}, ${x})`),r||"none"}const ule=(e,t)=>e.depth-t.depth;class hle{constructor(){this.children=[],this.isDirty=!1}add(t){HM(this.children,t),this.isDirty=!0}remove(t){VM(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ule),this.isDirty=!1,this.children.forEach(t)}}function c_(e){const t=mn(e)?e.get():e;return eoe(t)?t.toValue():t}function ple(e,t){const i=Ml.now(),r=({timestamp:a})=>{const o=a-i;o>=t&&(au(r),e(o-t))};return mi.read(r,!0),()=>au(r)}function mle(e){return e instanceof SVGElement&&e.tagName!=="svg"}function fle(e,t,i){const r=mn(e)?e:By(e);return r.start(WM("",r,t,i)),r.animation}const Nh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},U0=typeof window<"u"&&window.MotionDebug!==void 0,oA=["","X","Y","Z"],gle={visibility:"hidden"},YL=1e3;let xle=0;function lA(e,t,i,r){const{latestValues:a}=t;a[e]&&(i[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function OV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const i=fV(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:a,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",mi,!(a||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&OV(r)}function DV({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(u={},m=t==null?void 0:t()){this.id=xle++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,U0&&(Nh.totalNodes=Nh.resolvedTargetDeltas=Nh.recalculatedProjection=0),this.nodes.forEach(ble),this.nodes.forEach(kle),this.nodes.forEach(Sle),this.nodes.forEach(wle),U0&&window.MotionDebug.record(Nh)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let x=0;x<this.path.length;x++)this.path[x].shouldResetTransform=!0;this.root===this&&(this.nodes=new hle)}addEventListener(u,m){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new $M),this.eventHandlers.get(u).add(m)}notifyListeners(u,...m){const x=this.eventHandlers.get(u);x&&x.notify(...m)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,m=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=mle(u),this.instance=u;const{layoutId:x,layout:w,visualElement:A}=this.options;if(A&&!A.current&&A.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),m&&(w||x)&&(this.isLayoutDirty=!0),e){let E;const O=()=>this.root.updateBlockedByResize=!1;e(u,()=>{this.root.updateBlockedByResize=!0,E&&E(),E=ple(O,250),l_.hasAnimatedSinceResize&&(l_.hasAnimatedSinceResize=!1,this.nodes.forEach(ZL))})}x&&this.root.registerSharedNode(x,this),this.options.animate!==!1&&A&&(x||w)&&this.addEventListener("didUpdate",({delta:E,hasLayoutChanged:O,hasRelativeTargetChanged:G,layout:te})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Q=this.options.transition||A.getDefaultTransition()||Mle,{onLayoutAnimationStart:J,onLayoutAnimationComplete:H}=A.getProps(),W=!this.targetLayout||!LV(this.targetLayout,te)||G,Z=!O&&G;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||Z||O&&(W||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(E,Z);const pe={...AM(Q,"layout"),onPlay:J,onComplete:H};(A.shouldReduceMotion||this.options.layoutRoot)&&(pe.delay=0,pe.type=!1),this.startAnimation(pe)}else O||ZL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=te})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,au(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ale),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let A=0;A<this.path.length;A++){const E=this.path[A];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:m,layout:x}=this.options;if(m===void 0&&!x)return;const w=this.getTransformTemplate();this.prevTransformTemplateValue=w?w(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XL);return}this.isUpdating||this.nodes.forEach(Nle),this.isUpdating=!1,this.nodes.forEach(jle),this.nodes.forEach(yle),this.nodes.forEach(vle),this.clearAllSnapshots();const m=Ml.now();Qr.delta=Bc(0,1e3/60,m-Qr.timestamp),Qr.timestamp=m,Qr.isProcessing=!0,JS.update.process(Qr),JS.preRender.process(Qr),JS.render.process(Qr),Qr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qM.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_le),this.sharedNodes.forEach(Cle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let x=0;x<this.path.length;x++)this.path[x].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=cr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(m=!1),m){const x=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:x,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:x}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!IV(this.projectionDelta),x=this.getTransformTemplate(),w=x?x(this.latestValues,""):void 0,A=w!==this.prevTransformTemplateValue;u&&(m||_h(this.latestValues)||A)&&(a(this.instance,w),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const m=this.measurePageBox();let x=this.removeElementScroll(m);return u&&(x=this.removeTransform(x)),Ele(x),{animationId:this.root.animationId,measuredBox:m,layoutBox:x,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:m}=this.options;if(!m)return cr();const x=m.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(Ile))){const{scroll:A}=this.root;A&&(wf(x.x,A.offset.x),wf(x.y,A.offset.y))}return x}removeElementScroll(u){var m;const x=cr();if(Ka(x,u),!((m=this.scroll)===null||m===void 0)&&m.wasRoot)return x;for(let w=0;w<this.path.length;w++){const A=this.path[w],{scroll:E,options:O}=A;A!==this.root&&E&&O.layoutScroll&&(E.wasRoot&&Ka(x,u),wf(x.x,E.offset.x),wf(x.y,E.offset.y))}return x}applyTransform(u,m=!1){const x=cr();Ka(x,u);for(let w=0;w<this.path.length;w++){const A=this.path[w];!m&&A.options.layoutScroll&&A.scroll&&A!==A.root&&_f(x,{x:-A.scroll.offset.x,y:-A.scroll.offset.y}),_h(A.latestValues)&&_f(x,A.latestValues)}return _h(this.latestValues)&&_f(x,this.latestValues),x}removeTransform(u){const m=cr();Ka(m,u);for(let x=0;x<this.path.length;x++){const w=this.path[x];if(!w.instance||!_h(w.latestValues))continue;rT(w.latestValues)&&w.updateSnapshot();const A=cr(),E=w.measurePageBox();Ka(A,E),VL(m,w.latestValues,w.snapshot?w.snapshot.layoutBox:void 0,A)}return _h(this.latestValues)&&VL(m,this.latestValues),m}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var m;const x=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=x.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=x.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=x.isSharedProjectionDirty);const w=!!this.resumingFrom||this!==x;if(!(u||w&&this.isSharedProjectionDirty||this.isProjectionDirty||!((m=this.parent)===null||m===void 0)&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:E,layoutId:O}=this.options;if(!(!this.layout||!(E||O))){if(this.resolvedRelativeTargetAt=Qr.timestamp,!this.targetDelta&&!this.relativeTarget){const G=this.getClosestProjectingParent();G&&G.layout&&this.animationProgress!==1?(this.relativeParent=G,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cr(),this.relativeTargetOrigin=cr(),cy(this.relativeTargetOrigin,this.layout.layoutBox,G.layout.layoutBox),Ka(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=cr(),this.targetWithTransforms=cr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Loe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ka(this.target,this.layout.layoutBox),SV(this.target,this.targetDelta)):Ka(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const G=this.getClosestProjectingParent();G&&!!G.resumingFrom==!!this.resumingFrom&&!G.options.layoutScroll&&G.target&&this.animationProgress!==1?(this.relativeParent=G,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cr(),this.relativeTargetOrigin=cr(),cy(this.relativeTargetOrigin,this.target,G.target),Ka(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}U0&&Nh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||rT(this.parent.latestValues)||kV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const m=this.getLead(),x=!!this.resumingFrom||this!==m;let w=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(w=!1),x&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(w=!1),this.resolvedRelativeTargetAt===Qr.timestamp&&(w=!1),w)return;const{layout:A,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(A||E))return;Ka(this.layoutCorrected,this.layout.layoutBox);const O=this.treeScale.x,G=this.treeScale.y;Voe(this.layoutCorrected,this.treeScale,this.path,x),m.layout&&!m.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(m.target=m.layout.layoutBox,m.targetWithTransforms=cr());const{target:te}=m;if(!te){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(BL(this.prevProjectionDelta.x,this.projectionDelta.x),BL(this.prevProjectionDelta.y,this.projectionDelta.y)),ly(this.projectionDelta,this.layoutCorrected,te,this.latestValues),(this.treeScale.x!==O||this.treeScale.y!==G||!KL(this.projectionDelta.x,this.prevProjectionDelta.x)||!KL(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",te)),U0&&Nh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var m;if((m=this.options.visualElement)===null||m===void 0||m.scheduleRender(),u){const x=this.getStack();x&&x.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bf(),this.projectionDelta=bf(),this.projectionDeltaWithTransform=bf()}setAnimationOrigin(u,m=!1){const x=this.snapshot,w=x?x.latestValues:{},A={...this.latestValues},E=bf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const O=cr(),G=x?x.source:void 0,te=this.layout?this.layout.source:void 0,Q=G!==te,J=this.getStack(),H=!J||J.members.length<=1,W=!!(Q&&!H&&this.options.crossfade===!0&&!this.path.some(Ple));this.animationProgress=0;let Z;this.mixTargetDelta=pe=>{const me=pe/1e3;QL(E.x,u.x,me),QL(E.y,u.y,me),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cy(O,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Tle(this.relativeTarget,this.relativeTargetOrigin,O,me),Z&&lle(this.relativeTarget,Z)&&(this.isProjectionDirty=!1),Z||(Z=cr()),Ka(Z,this.relativeTarget)),Q&&(this.animationValues=A,sle(A,w,this.latestValues,me,W,H)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=me},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(au(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mi.update(()=>{l_.hasAnimatedSinceResize=!0,this.currentAnimation=fle(0,YL,{...u,onUpdate:m=>{this.mixTargetDelta(m),u.onUpdate&&u.onUpdate(m)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:m,target:x,layout:w,latestValues:A}=u;if(!(!m||!x||!w)){if(this!==u&&this.layout&&w&&RV(this.options.animationType,this.layout.layoutBox,w.layoutBox)){x=this.target||cr();const E=Pa(this.layout.layoutBox.x);x.x.min=u.target.x.min,x.x.max=x.x.min+E;const O=Pa(this.layout.layoutBox.y);x.y.min=u.target.y.min,x.y.max=x.y.min+O}Ka(m,x),_f(m,A),ly(this.projectionDeltaWithTransform,this.layoutCorrected,m,A)}}registerSharedNode(u,m){this.sharedNodes.has(u)||this.sharedNodes.set(u,new cle),this.sharedNodes.get(u).add(m);const w=m.options.initialPromotionConfig;m.promote({transition:w?w.transition:void 0,preserveFollowOpacity:w&&w.shouldPreserveFollowOpacity?w.shouldPreserveFollowOpacity(m):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:m}=this.options;return m?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:m}=this.options;return m?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:m,preserveFollowOpacity:x}={}){const w=this.getStack();w&&w.promote(this,x),u&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let m=!1;const{latestValues:x}=u;if((x.z||x.rotate||x.rotateX||x.rotateY||x.rotateZ||x.skewX||x.skewY)&&(m=!0),!m)return;const w={};x.z&&lA("z",u,w,this.animationValues);for(let A=0;A<oA.length;A++)lA(`rotate${oA[A]}`,u,w,this.animationValues),lA(`skew${oA[A]}`,u,w,this.animationValues);u.render();for(const A in w)u.setStaticValue(A,w[A]),this.animationValues&&(this.animationValues[A]=w[A]);u.scheduleRender()}getProjectionStyles(u){var m,x;if(!this.instance||this.isSVG)return;if(!this.isVisible)return gle;const w={visibility:""},A=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,w.opacity="",w.pointerEvents=c_(u==null?void 0:u.pointerEvents)||"",w.transform=A?A(this.latestValues,""):"none",w;const E=this.getLead();if(!this.projectionDelta||!this.layout||!E.target){const Q={};return this.options.layoutId&&(Q.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,Q.pointerEvents=c_(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!_h(this.latestValues)&&(Q.transform=A?A({},""):"none",this.hasProjected=!1),Q}const O=E.animationValues||E.latestValues;this.applyTransformsToTarget(),w.transform=dle(this.projectionDeltaWithTransform,this.treeScale,O),A&&(w.transform=A(O,w.transform));const{x:G,y:te}=this.projectionDelta;w.transformOrigin=`${G.origin*100}% ${te.origin*100}% 0`,E.animationValues?w.opacity=E===this?(x=(m=O.opacity)!==null&&m!==void 0?m:this.latestValues.opacity)!==null&&x!==void 0?x:1:this.preserveOpacity?this.latestValues.opacity:O.opacityExit:w.opacity=E===this?O.opacity!==void 0?O.opacity:"":O.opacityExit!==void 0?O.opacityExit:0;for(const Q in iN){if(O[Q]===void 0)continue;const{correct:J,applyTo:H}=iN[Q],W=w.transform==="none"?O[Q]:J(O[Q],E);if(H){const Z=H.length;for(let pe=0;pe<Z;pe++)w[H[pe]]=W}else w[Q]=W}return this.options.layoutId&&(w.pointerEvents=E===this?c_(u==null?void 0:u.pointerEvents)||"":"none"),w}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var m;return(m=u.currentAnimation)===null||m===void 0?void 0:m.stop()}),this.root.nodes.forEach(XL),this.root.sharedNodes.clear()}}}function yle(e){e.updateLayout()}function vle(e){var t;const i=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:o}=e.options,u=i.source!==e.layout.source;o==="size"?Ya(E=>{const O=u?i.measuredBox[E]:i.layoutBox[E],G=Pa(O);O.min=r[E].min,O.max=O.min+G}):RV(o,i.layoutBox,r)&&Ya(E=>{const O=u?i.measuredBox[E]:i.layoutBox[E],G=Pa(r[E]);O.max=O.min+G,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[E].max=e.relativeTarget[E].min+G)});const m=bf();ly(m,r,i.layoutBox);const x=bf();u?ly(x,e.applyTransform(a,!0),i.measuredBox):ly(x,r,i.layoutBox);const w=!IV(m);let A=!1;if(!e.resumeFrom){const E=e.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:O,layout:G}=E;if(O&&G){const te=cr();cy(te,i.layoutBox,O.layoutBox);const Q=cr();cy(Q,r,G.layoutBox),LV(te,Q)||(A=!0),E.options.layoutRoot&&(e.relativeTarget=Q,e.relativeTargetOrigin=te,e.relativeParent=E)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:i,delta:x,layoutDelta:m,hasLayoutChanged:w,hasRelativeTargetChanged:A})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function ble(e){U0&&Nh.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function wle(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function _le(e){e.clearSnapshot()}function XL(e){e.clearMeasurements()}function Nle(e){e.isLayoutDirty=!1}function jle(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ZL(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function kle(e){e.resolveTargetDelta()}function Sle(e){e.calcProjection()}function Ale(e){e.resetSkewAndRotation()}function Cle(e){e.removeLeadSnapshot()}function QL(e,t,i){e.translate=Gi(t.translate,0,i),e.scale=Gi(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function JL(e,t,i,r){e.min=Gi(t.min,i.min,r),e.max=Gi(t.max,i.max,r)}function Tle(e,t,i,r){JL(e.x,t.x,i.x,r),JL(e.y,t.y,i.y,r)}function Ple(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Mle={duration:.45,ease:[.4,0,.1,1]},e4=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),t4=e4("applewebkit/")&&!e4("chrome/")?Math.round:fn;function s4(e){e.min=t4(e.min),e.max=t4(e.max)}function Ele(e){s4(e.x),s4(e.y)}function RV(e,t,i){return e==="position"||e==="preserve-aspect"&&!Ioe(qL(t),qL(i),.2)}function Ile(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Lle=DV({attachResizeListener:(e,t)=>kc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cA={current:void 0},FV=DV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!cA.current){const e=new Lle({});e.mount(window),e.setOptions({layoutScroll:!0}),cA.current=e}return cA.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Ole={pan:{Feature:Yoe},drag:{Feature:Koe,ProjectionNode:FV,MeasureLayout:PV}};function i4(e,t,i){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",i);const a=r[i?"onHoverStart":"onHoverEnd"];a&&mi.postRender(()=>a(t,Tv(t)))}class Dle extends yu{mount(){const{current:t,props:i}=this.node;t&&(this.unmount=Noe(t,r=>(i4(this.node,r,!0),a=>i4(this.node,a,!1)),{passive:!i.onHoverStart&&!i.onHoverEnd}))}unmount(){}}class Rle extends yu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qd(kc(this.node.current,"focus",()=>this.onFocus()),kc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const zV=(e,t)=>t?e===t?!0:zV(e,t.parentElement):!1;function dA(e,t){if(!t)return;const i=new PointerEvent("pointer"+e);t(i,Tv(i))}class Fle extends yu{constructor(){super(...arguments),this.removeStartListeners=fn,this.removeEndListeners=fn,this.removeAccessibleListeners=fn,this.startPointerPress=(t,i)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Jd(window,"pointerup",(m,x)=>{if(!this.checkPressEnd())return;const{onTap:w,onTapCancel:A,globalTapTarget:E}=this.node.getProps(),O=!E&&!zV(this.node.current,m.target)?A:w;O&&mi.update(()=>O(m,x))},{passive:!(r.onTap||r.onPointerUp)}),u=Jd(window,"pointercancel",(m,x)=>this.cancelPress(m,x),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Qd(o,u),this.startPress(t,i)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const u=m=>{m.key!=="Enter"||!this.checkPressEnd()||dA("up",(x,w)=>{const{onTap:A}=this.node.getProps();A&&mi.postRender(()=>A(x,w))})};this.removeEndListeners(),this.removeEndListeners=kc(this.node.current,"keyup",u),dA("down",(m,x)=>{this.startPress(m,x)})},i=kc(this.node.current,"keydown",t),r=()=>{this.isPressing&&dA("cancel",(o,u)=>this.cancelPress(o,u))},a=kc(this.node.current,"blur",r);this.removeAccessibleListeners=Qd(i,a)}}startPress(t,i){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&mi.postRender(()=>r(t,i))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!yV()}cancelPress(t,i){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&mi.postRender(()=>r(t,i))}mount(){const t=this.node.getProps(),i=Jd(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=kc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Qd(i,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const aT=new WeakMap,uA=new WeakMap,zle=e=>{const t=aT.get(e.target);t&&t(e)},Ble=e=>{e.forEach(zle)};function Wle({root:e,...t}){const i=e||document;uA.has(i)||uA.set(i,{});const r=uA.get(i),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(Ble,{root:e,...t})),r[a]}function Hle(e,t,i){const r=Wle(t);return aT.set(e,i),r.observe(e),()=>{aT.delete(e),r.unobserve(e)}}const Vle={some:0,all:1};class $le extends yu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:a="some",once:o}=t,u={root:i?i.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Vle[a]},m=x=>{const{isIntersecting:w}=x;if(this.isInView===w||(this.isInView=w,o&&!w&&this.hasEnteredView))return;w&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",w);const{onViewportEnter:A,onViewportLeave:E}=this.node.getProps(),O=w?A:E;O&&O(x)};return Hle(this.node.current,u,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(Ule(t,i))&&this.startObserver()}unmount(){}}function Ule({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}const Gle={inView:{Feature:$le},tap:{Feature:Fle},focus:{Feature:Rle},hover:{Feature:Dle}},qle={layout:{ProjectionNode:FV,MeasureLayout:PV}},KM=V.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),uj=V.createContext({}),YM=typeof window<"u",BV=YM?V.useLayoutEffect:V.useEffect,WV=V.createContext({strict:!1});function Kle(e,t,i,r,a){var o,u;const{visualElement:m}=V.useContext(uj),x=V.useContext(WV),w=V.useContext(dj),A=V.useContext(KM).reducedMotion,E=V.useRef();r=r||x.renderer,!E.current&&r&&(E.current=r(e,{visualState:t,parent:m,props:i,presenceContext:w,blockInitialAnimation:w?w.initial===!1:!1,reducedMotionConfig:A}));const O=E.current,G=V.useContext(TV);O&&!O.projection&&a&&(O.type==="html"||O.type==="svg")&&Yle(E.current,i,a,G);const te=V.useRef(!1);V.useInsertionEffect(()=>{O&&te.current&&O.update(i,w)});const Q=i[mV],J=V.useRef(!!Q&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,Q))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,Q)));return BV(()=>{O&&(te.current=!0,window.MotionIsMounted=!0,O.updateFeatures(),qM.render(O.render),J.current&&O.animationState&&O.animationState.animateChanges())}),V.useEffect(()=>{O&&(!J.current&&O.animationState&&O.animationState.animateChanges(),J.current&&(queueMicrotask(()=>{var H;(H=window.MotionHandoffMarkAsComplete)===null||H===void 0||H.call(window,Q)}),J.current=!1))}),O}function Yle(e,t,i,r){const{layoutId:a,layout:o,drag:u,dragConstraints:m,layoutScroll:x,layoutRoot:w}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:HV(e.parent)),e.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!u||m&&vf(m),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:x,layoutRoot:w})}function HV(e){if(e)return e.options.allowProjection!==!1?e.projection:HV(e.parent)}function Xle(e,t,i){return V.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):vf(i)&&(i.current=r))},[t])}function hj(e){return oj(e.animate)||SM.some(t=>Ry(e[t]))}function VV(e){return!!(hj(e)||e.variants)}function Zle(e,t){if(hj(e)){const{initial:i,animate:r}=e;return{initial:i===!1||Ry(i)?i:void 0,animate:Ry(r)?r:void 0}}return e.inherit!==!1?t:{}}function Qle(e){const{initial:t,animate:i}=Zle(e,V.useContext(uj));return V.useMemo(()=>({initial:t,animate:i}),[r4(t),r4(i)])}function r4(e){return Array.isArray(e)?e.join(" "):e}const n4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ug={};for(const e in n4)ug[e]={isEnabled:t=>n4[e].some(i=>!!t[i])};function Jle(e){for(const t in e)ug[t]={...ug[t],...e[t]}}const ece=Symbol.for("motionComponentSymbol");function tce({preloadedFeatures:e,createVisualElement:t,useRender:i,useVisualState:r,Component:a}){e&&Jle(e);function o(m,x){let w;const A={...V.useContext(KM),...m,layoutId:sce(m)},{isStatic:E}=A,O=Qle(m),G=r(m,E);if(!E&&YM){ice();const te=rce(A);w=te.MeasureLayout,O.visualElement=Kle(a,G,A,t,te.ProjectionNode)}return s.jsxs(uj.Provider,{value:O,children:[w&&O.visualElement?s.jsx(w,{visualElement:O.visualElement,...A}):null,i(a,m,Xle(G,O.visualElement,x),G,E,O.visualElement)]})}const u=V.forwardRef(o);return u[ece]=a,u}function sce({layoutId:e}){const t=V.useContext(GM).id;return t&&e!==void 0?t+"-"+e:e}function ice(e,t){V.useContext(WV).strict}function rce(e){const{drag:t,layout:i}=ug;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(e)||i!=null&&i.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const nce=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function XM(e){return typeof e!="string"||e.includes("-")?!1:!!(nce.indexOf(e)>-1||/[A-Z]/u.test(e))}function $V(e,{style:t,vars:i},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const o in i)e.style.setProperty(o,i[o])}const UV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function GV(e,t,i,r){$V(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(UV.has(a)?a:UM(a),t.attrs[a])}function qV(e,{layout:t,layoutId:i}){return hp.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!iN[e]||e==="opacity")}function ZM(e,t,i){var r;const{style:a}=e,o={};for(const u in a)(mn(a[u])||t.style&&mn(t.style[u])||qV(u,e)||((r=i==null?void 0:i.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[u]=a[u]);return o}function KV(e,t,i){const r=ZM(e,t,i);for(const a in e)if(mn(e[a])||mn(t[a])){const o=Sv.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=e[a]}return r}function QM(e){const t=V.useRef(null);return t.current===null&&(t.current=e()),t.current}function ace({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:i},r,a,o){const u={latestValues:oce(r,a,o,e),renderState:t()};return i&&(u.mount=m=>i(r,m,u)),u}const YV=e=>(t,i)=>{const r=V.useContext(uj),a=V.useContext(dj),o=()=>ace(e,t,r,a);return i?o():QM(o)};function oce(e,t,i,r){const a={},o=r(e,{});for(const O in o)a[O]=c_(o[O]);let{initial:u,animate:m}=e;const x=hj(e),w=VV(e);t&&w&&!x&&e.inherit!==!1&&(u===void 0&&(u=t.initial),m===void 0&&(m=t.animate));let A=i?i.initial===!1:!1;A=A||u===!1;const E=A?m:u;if(E&&typeof E!="boolean"&&!oj(E)){const O=Array.isArray(E)?E:[E];for(let G=0;G<O.length;G++){const te=jM(e,O[G]);if(te){const{transitionEnd:Q,transition:J,...H}=te;for(const W in H){let Z=H[W];if(Array.isArray(Z)){const pe=A?Z.length-1:0;Z=Z[pe]}Z!==null&&(a[W]=Z)}for(const W in Q)a[W]=Q[W]}}}return a}const JM=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),XV=()=>({...JM(),attrs:{}}),ZV=(e,t)=>t&&typeof e=="number"?t.transform(e):e,lce={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cce=Sv.length;function dce(e,t,i){let r="",a=!0;for(let o=0;o<cce;o++){const u=Sv[o],m=e[u];if(m===void 0)continue;let x=!0;if(typeof m=="number"?x=m===(u.startsWith("scale")?1:0):x=parseFloat(m)===0,!x||i){const w=ZV(m,LM[u]);if(!x){a=!1;const A=lce[u]||u;r+=`${A}(${w}) `}i&&(t[u]=w)}}return r=r.trim(),i?r=i(t,a?"":r):a&&(r="none"),r}function eE(e,t,i){const{style:r,vars:a,transformOrigin:o}=e;let u=!1,m=!1;for(const x in t){const w=t[x];if(hp.has(x)){u=!0;continue}else if(VH(x)){a[x]=w;continue}else{const A=ZV(w,LM[x]);x.startsWith("origin")?(m=!0,o[x]=A):r[x]=A}}if(t.transform||(u||i?r.transform=dce(t,e.transform,i):r.transform&&(r.transform="none")),m){const{originX:x="50%",originY:w="50%",originZ:A=0}=o;r.transformOrigin=`${x} ${w} ${A}`}}function a4(e,t,i){return typeof e=="string"?e:ms.transform(t+i*e)}function uce(e,t,i){const r=a4(t,e.x,e.width),a=a4(i,e.y,e.height);return`${r} ${a}`}const hce={offset:"stroke-dashoffset",array:"stroke-dasharray"},pce={offset:"strokeDashoffset",array:"strokeDasharray"};function mce(e,t,i=1,r=0,a=!0){e.pathLength=1;const o=a?hce:pce;e[o.offset]=ms.transform(-r);const u=ms.transform(t),m=ms.transform(i);e[o.array]=`${u} ${m}`}function tE(e,{attrX:t,attrY:i,attrScale:r,originX:a,originY:o,pathLength:u,pathSpacing:m=1,pathOffset:x=0,...w},A,E){if(eE(e,w,E),A){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:O,style:G,dimensions:te}=e;O.transform&&(te&&(G.transform=O.transform),delete O.transform),te&&(a!==void 0||o!==void 0||G.transform)&&(G.transformOrigin=uce(te,a!==void 0?a:.5,o!==void 0?o:.5)),t!==void 0&&(O.x=t),i!==void 0&&(O.y=i),r!==void 0&&(O.scale=r),u!==void 0&&mce(O,u,m,x,!1)}const sE=e=>typeof e=="string"&&e.toLowerCase()==="svg",fce={useVisualState:YV({scrapeMotionValuesFromProps:KV,createRenderState:XV,onMount:(e,t,{renderState:i,latestValues:r})=>{mi.read(()=>{try{i.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{i.dimensions={x:0,y:0,width:0,height:0}}}),mi.render(()=>{tE(i,r,sE(t.tagName),e.transformTemplate),GV(t,i)})}})},gce={useVisualState:YV({scrapeMotionValuesFromProps:ZM,createRenderState:JM})};function QV(e,t,i){for(const r in t)!mn(t[r])&&!qV(r,i)&&(e[r]=t[r])}function xce({transformTemplate:e},t){return V.useMemo(()=>{const i=JM();return eE(i,t,e),Object.assign({},i.vars,i.style)},[t])}function yce(e,t){const i=e.style||{},r={};return QV(r,i,e),Object.assign(r,xce(e,t)),r}function vce(e,t){const i={},r=yce(e,t);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=r,i}const bce=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rN(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||bce.has(e)}let JV=e=>!rN(e);function wce(e){e&&(JV=t=>t.startsWith("on")?!rN(t):e(t))}try{wce(require("@emotion/is-prop-valid").default)}catch{}function _ce(e,t,i){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(JV(a)||i===!0&&rN(a)||!t&&!rN(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function Nce(e,t,i,r){const a=V.useMemo(()=>{const o=XV();return tE(o,t,sE(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};QV(o,e.style,e),a.style={...o,...a.style}}return a}function jce(e=!1){return(i,r,a,{latestValues:o},u)=>{const x=(XM(i)?Nce:vce)(r,o,u,i),w=_ce(r,typeof i=="string",e),A=i!==V.Fragment?{...w,...x,ref:a}:{},{children:E}=r,O=V.useMemo(()=>mn(E)?E.get():E,[E]);return V.createElement(i,{...A,children:O})}}function kce(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...XM(r)?fce:gce,preloadedFeatures:e,useRender:jce(a),createVisualElement:t,Component:r};return tce(u)}}const oT={current:null},e$={current:!1};function Sce(){if(e$.current=!0,!!YM)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>oT.current=e.matches;e.addListener(t),t()}else oT.current=!1}function Ace(e,t,i){for(const r in t){const a=t[r],o=i[r];if(mn(a))e.addValue(r,a);else if(mn(o))e.addValue(r,By(a,{owner:e}));else if(o!==a)if(e.hasValue(r)){const u=e.getValue(r);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=e.getStaticValue(r);e.addValue(r,By(u!==void 0?u:a,{owner:e}))}}for(const r in i)t[r]===void 0&&e.removeValue(r);return t}const o4=new WeakMap,Cce=[...GH,un,ou],Tce=e=>Cce.find(UH(e)),l4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Pce{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:u},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=MM,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const O=Ml.now();this.renderScheduledAt<O&&(this.renderScheduledAt=O,mi.render(this.render,!1,!0))};const{latestValues:x,renderState:w}=u;this.latestValues=x,this.baseTarget={...x},this.initialValues=i.initial?{...x}:{},this.renderState=w,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=m,this.blockInitialAnimation=!!o,this.isControllingVariants=hj(i),this.isVariantNode=VV(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:A,...E}=this.scrapeMotionValuesFromProps(i,{},this);for(const O in E){const G=E[O];x[O]!==void 0&&mn(G)&&G.set(x[O],!1)}}mount(t){this.current=t,o4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),e$.current||Sce(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:oT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){o4.delete(this.current),this.projection&&this.projection.unmount(),au(this.notifyUpdate),au(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=hp.has(t),a=i.on("change",m=>{this.latestValues[t]=m,this.props.onUpdate&&mi.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=i.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{a(),o(),u&&u(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ug){const i=ug[t];if(!i)continue;const{isEnabled:r,Feature:a}=i;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):cr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<l4.length;r++){const a=l4[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,u=t[o];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=Ace(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=By(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){var r;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(WH(a)||BH(a))?a=parseFloat(a):!Tce(a)&&ou.test(i)&&(a=eV(t,i)),this.setBaseTarget(t,mn(a)?a.get():a)),mn(a)?a.get():a}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var i;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const u=jM(this.props,r,(i=this.presenceContext)===null||i===void 0?void 0:i.custom);u&&(a=u[t])}if(r&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!mn(o)?o:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new $M),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}}class t$ extends Pce{constructor(){super(...arguments),this.KeyframeResolver=tV}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;mn(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function Mce(e){return window.getComputedStyle(e)}class Ece extends t${constructor(){super(...arguments),this.type="html",this.renderInstance=$V}readValueFromInstance(t,i){if(hp.has(i)){const r=OM(i);return r&&r.default||0}else{const r=Mce(t),a=(VH(i)?r.getPropertyValue(i):r[i])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:i}){return AV(t,i)}build(t,i,r){eE(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return ZM(t,i,r)}}class Ice extends t${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=cr}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(hp.has(i)){const r=OM(i);return r&&r.default||0}return i=UV.has(i)?i:UM(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return KV(t,i,r)}build(t,i,r){tE(t,i,this.isSVGTag,r.transformTemplate)}renderInstance(t,i,r,a){GV(t,i,r,a)}mount(t){this.isSVGTag=sE(t.tagName),super.mount(t)}}const Lce=(e,t)=>XM(e)?new Ice(t):new Ece(t,{allowProjection:e!==V.Fragment}),Oce=kce({...woe,...Gle,...Ole,...qle},Lce),dy=vne(Oce);class Dce extends V.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=i.offsetHeight||0,r.width=i.offsetWidth||0,r.top=i.offsetTop,r.left=i.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Rce({children:e,isPresent:t}){const i=V.useId(),r=V.useRef(null),a=V.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=V.useContext(KM);return V.useInsertionEffect(()=>{const{width:u,height:m,top:x,left:w}=a.current;if(t||!r.current||!u||!m)return;r.current.dataset.motionPopId=i;const A=document.createElement("style");return o&&(A.nonce=o),document.head.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${m}px !important;
            top: ${x}px !important;
            left: ${w}px !important;
          }
        `),()=>{document.head.removeChild(A)}},[t]),s.jsx(Dce,{isPresent:t,childRef:r,sizeRef:a,children:V.cloneElement(e,{ref:r})})}const Fce=({children:e,initial:t,isPresent:i,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:u})=>{const m=QM(zce),x=V.useId(),w=V.useCallback(E=>{m.set(E,!0);for(const O of m.values())if(!O)return;r&&r()},[m,r]),A=V.useMemo(()=>({id:x,initial:t,isPresent:i,custom:a,onExitComplete:w,register:E=>(m.set(E,!1),()=>m.delete(E))}),o?[Math.random(),w]:[i,w]);return V.useMemo(()=>{m.forEach((E,O)=>m.set(O,!1))},[i]),V.useEffect(()=>{!i&&!m.size&&r&&r()},[i]),u==="popLayout"&&(e=s.jsx(Rce,{isPresent:i,children:e})),s.jsx(dj.Provider,{value:A,children:e})};function zce(){return new Map}const F1=e=>e.key||"";function c4(e){const t=[];return V.Children.forEach(e,i=>{V.isValidElement(i)&&t.push(i)}),t}const Bce=({children:e,exitBeforeEnter:t,custom:i,initial:r=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:u="sync"})=>{const m=V.useMemo(()=>c4(e),[e]),x=m.map(F1),w=V.useRef(!0),A=V.useRef(m),E=QM(()=>new Map),[O,G]=V.useState(m),[te,Q]=V.useState(m);BV(()=>{w.current=!1,A.current=m;for(let W=0;W<te.length;W++){const Z=F1(te[W]);x.includes(Z)?E.delete(Z):E.get(Z)!==!0&&E.set(Z,!1)}},[te,x.length,x.join("-")]);const J=[];if(m!==O){let W=[...m];for(let Z=0;Z<te.length;Z++){const pe=te[Z],me=F1(pe);x.includes(me)||(W.splice(Z,0,pe),J.push(pe))}u==="wait"&&J.length&&(W=J),Q(c4(W)),G(m);return}const{forceRender:H}=V.useContext(GM);return s.jsx(s.Fragment,{children:te.map(W=>{const Z=F1(W),pe=m===te||x.includes(Z),me=()=>{if(E.has(Z))E.set(Z,!0);else return;let we=!0;E.forEach(_e=>{_e||(we=!1)}),we&&(H==null||H(),Q(A.current),a&&a())};return s.jsx(Fce,{isPresent:pe,initial:!w.current||r?void 0:!1,custom:pe?void 0:i,presenceAffectsLayout:o,mode:u,onExitComplete:pe?void 0:me,children:W},Z)})})};function Wce({onComplete:e}){const[t,i]=V.useState(0),[r,a]=V.useState([]),[o,u]=V.useState(null),[m,x]=V.useState(!1),[w,A]=V.useState(Date.now()),[E,O]=V.useState(L1.timePerQuestion);V.useState(Date.now());const G=tf[t],te=(t+1)/tf.length*100;V.useEffect(()=>{if(m)return;const W=setInterval(()=>{O(Z=>Z<=1?(Q(null),L1.timePerQuestion):Z-1)},1e3);return()=>clearInterval(W)},[t,m]);const Q=W=>{if(m)return;const Z=Date.now()-w,pe={scenarioId:G.id,choiceId:W||"timeout",responseTime:Z},me=[...r,pe];a(me),W&&L1.showRationale?x(!0):J(me)},J=W=>{t>=tf.length-1?e(W):(i(t+1),u(null),x(!1),A(Date.now()),O(L1.timePerQuestion))},H=()=>{if(!G.visualData)return null;const{type:W,data:Z}=G.visualData;return W==="orderbook"?s.jsxs(Se,{className:"bg-black/40 border-indigo-900/30 mb-4",children:[s.jsx(Be,{className:"pb-2",children:s.jsxs(Ze,{className:"text-sm text-indigo-400 flex items-center gap-2",children:[s.jsx(HJ,{className:"h-4 w-4"}),"Order Book Depth"]})}),s.jsx(Pe,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-green-400 font-medium mb-2",children:"Bids"}),Z.bids.map((pe,me)=>s.jsxs("div",{className:"flex justify-between text-gray-400",children:[s.jsxs("span",{children:["$",pe.price]}),s.jsx("span",{children:pe.size.toLocaleString()})]},me))]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-red-400 font-medium mb-2",children:"Asks"}),Z.asks.map((pe,me)=>s.jsxs("div",{className:"flex justify-between text-gray-400",children:[s.jsxs("span",{children:["$",pe.price]}),s.jsx("span",{children:pe.size.toLocaleString()})]},me))]})]})})]}):null};return s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-indigo-950/20 to-black p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Market Mastery Challenge"}),s.jsx("p",{className:"text-gray-400",children:"Optimize your trading strategies for maximum profit"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("span",{className:"text-sm text-gray-400",children:["Question ",t+1," of ",tf.length]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pn,{className:"h-4 w-4 text-yellow-400"}),s.jsxs("span",{className:`text-sm font-mono ${E<10?"text-red-400":"text-yellow-400"}`,children:[Math.floor(E/60),":",(E%60).toString().padStart(2,"0")]})]})]}),s.jsx(zc,{value:te,className:"h-2 bg-gray-800"})]}),s.jsx(Bce,{mode:"wait",children:s.jsx(dy.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:s.jsxs(Se,{className:"bg-black/60 border-indigo-900/50 backdrop-blur-sm mb-6",children:[s.jsxs(Be,{children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx(st,{variant:"outline",className:"border-indigo-500 text-indigo-400",children:G.difficulty.toUpperCase()}),s.jsxs(st,{variant:"outline",className:"border-yellow-500 text-yellow-400",children:[s.jsx(Dn,{className:"h-3 w-3 mr-1"}),"Profit Optimization"]})]}),s.jsx(Ze,{className:"text-xl text-white",children:G.title}),s.jsx(lo,{className:"text-gray-300 whitespace-pre-wrap mt-3",children:G.context})]}),s.jsxs(Pe,{children:[H(),s.jsx("div",{className:"mb-4",children:s.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:G.question})}),s.jsx("div",{className:"space-y-3",children:G.choices.map(W=>s.jsx("button",{onClick:()=>!m&&u(W.id),disabled:m,className:`w-full text-left p-4 rounded-lg border-2 transition-all ${o===W.id?"border-indigo-500 bg-indigo-950/30":"border-gray-700 hover:border-gray-600 bg-black/40"} ${m?"cursor-not-allowed opacity-60":""}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`mt-1 w-4 h-4 rounded-full border-2 ${o===W.id?"border-indigo-500 bg-indigo-500":"border-gray-500"}`,children:o===W.id&&s.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-gray-200",children:W.text}),m&&o===W.id&&s.jsxs(dy.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},transition:{duration:.3},children:[s.jsxs(X_,{className:"mt-3 border-indigo-900/50 bg-indigo-950/30",children:[s.jsx(Dc,{className:"h-4 w-4"}),s.jsxs(Z_,{className:"text-sm",children:[s.jsx("span",{className:"font-semibold",children:"Analysis:"})," ",W.rationale]})]}),s.jsx("div",{className:"mt-2 flex gap-4 text-xs",children:s.jsxs(st,{variant:"outline",className:"border-green-500 text-green-400",children:["Profit Score: ",W.profitScore]})})]})]})]})},W.id))}),s.jsx("div",{className:"mt-6 flex justify-end gap-3",children:m?s.jsxs(rt,{onClick:()=>J(r),className:"bg-indigo-600 hover:bg-indigo-700",children:[t<tf.length-1?"Next Question":"Complete Test",s.jsx(Wo,{className:"ml-2 h-4 w-4"})]}):s.jsxs(rt,{onClick:()=>o&&Q(o),disabled:!o,className:"bg-indigo-600 hover:bg-indigo-700",children:["Submit Answer",s.jsx(Wo,{className:"ml-2 h-4 w-4"})]})})]})]})},t)}),s.jsxs("div",{className:"text-center text-xs text-gray-600",children:[s.jsx(Ci,{className:"h-3 w-3 inline-block mr-1"}),"Testing market dynamics and trading optimization strategies"]})]})})}function s$(){const[,e]=Uc(),[t,i]=V.useState(!1),[r,a]=V.useState(null),{data:o,isLoading:u}=yt({queryKey:["/api/knowledge-test/status"]}),m=Gc({mutationFn:async E=>{const O=yne(E);return(await gu({method:"POST",url:"/api/knowledge-test/submit",body:{responses:E,result:O}})).result},onSuccess:E=>{a(E),i(!0),la.invalidateQueries({queryKey:["/api/knowledge-test/status"]}),la.invalidateQueries({queryKey:["/api/auth/user"]}),E.hiddenKnowledgeScore>=60&&setTimeout(()=>e("/dashboard"),3e3)}}),x=E=>{m.mutate(E)},w=E=>{switch(E){case"master":return"text-purple-400 border-purple-400";case"specialist":return"text-blue-400 border-blue-400";case"trader":return"text-green-400 border-green-400";case"associate":return"text-yellow-400 border-yellow-400";case"novice":return"text-red-400 border-red-400";default:return"text-gray-400 border-gray-400"}},A=E=>{switch(E){case"master":case"specialist":return s.jsx(io,{className:"h-5 w-5"});case"trader":return s.jsx(ns,{className:"h-5 w-5"});case"associate":return s.jsx(Ci,{className:"h-5 w-5"});case"novice":return s.jsx(Dc,{className:"h-5 w-5"});default:return null}};if(u)return s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-indigo-950/20 to-black flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Loading test status..."})]})});if(o!=null&&o.hasCompletedTest&&o.lastAttempt&&!(o.lastAttempt.retakeAllowedAt?new Date(o.lastAttempt.retakeAllowedAt)<=new Date:!1))return s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-indigo-950/20 to-black p-4",children:s.jsx("div",{className:"max-w-2xl mx-auto mt-20",children:s.jsxs(Se,{className:"bg-black/60 border-indigo-900/50 backdrop-blur-sm",children:[s.jsxs(Be,{children:[s.jsx(Ze,{className:"text-2xl text-white",children:"Test Already Completed"}),s.jsx(lo,{className:"text-gray-400",children:"Your trading floor access has been evaluated"})]}),s.jsxs(Pe,{className:"space-y-6",children:[s.jsxs("div",{className:"text-center py-6",children:[s.jsxs("div",{className:`inline-flex items-center gap-2 ${w(o.lastAttempt.tier)}`,children:[A(o.lastAttempt.tier),s.jsx("span",{className:"text-2xl  uppercase",children:o.lastAttempt.tier})]}),s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Performance Score"}),s.jsx("div",{className:"w-full bg-gray-800 rounded-full h-3",children:s.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-3 rounded-full",style:{width:`${o.lastAttempt.profitScore}%`}})}),s.jsxs("p",{className:"text-xl font-mono text-white mt-2",children:[o.lastAttempt.profitScore,"%"]})]}),o.lastAttempt.retakeAllowedAt&&s.jsxs(X_,{className:"border-yellow-900 bg-yellow-950/20",children:[s.jsx(xee,{className:"h-4 w-4"}),s.jsx($C,{children:"Retake Available"}),s.jsxs(Z_,{children:["You can retake the test on ",new Date(o.lastAttempt.retakeAllowedAt).toLocaleString()]})]})]})]}),s.jsxs(rt,{onClick:()=>e("/dashboard"),className:"w-full bg-indigo-600 hover:bg-indigo-700",children:["Continue to Trading Floor",s.jsx(Wo,{className:"ml-2 h-4 w-4"})]})]})]})})});if(t&&r){const E=r.hiddenKnowledgeScore>=60;return s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-indigo-950/20 to-black p-4",children:s.jsx("div",{className:"max-w-3xl mx-auto mt-20",children:s.jsx(dy.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:s.jsxs(Se,{className:"bg-black/60 border-indigo-900/50 backdrop-blur-sm",children:[s.jsxs(Be,{children:[s.jsx(Ze,{className:"text-3xl text-white text-center",children:"Market Mastery Challenge Complete"}),s.jsx(lo,{className:"text-gray-400 text-center text-lg",children:"Your trading capabilities have been assessed"})]}),s.jsxs(Pe,{className:"space-y-6",children:[s.jsx("div",{className:"text-center py-6",children:s.jsxs(dy.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},className:`inline-flex items-center gap-3 ${w(r.tier)}`,children:[A(r.tier),s.jsx("span",{className:"text-4xl  uppercase",children:r.tier})]})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Performance Optimization Score"}),s.jsx("div",{className:"w-full bg-gray-800 rounded-full h-4",children:s.jsx(dy.div,{initial:{width:0},animate:{width:`${r.visibleScore}%`},transition:{delay:.5,duration:1},className:"bg-gradient-to-r from-green-500 to-emerald-500 h-4 rounded-full"})}),s.jsxs("p",{className:"text-2xl font-mono text-white mt-2",children:[r.visibleScore,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Trading Floor Access"}),s.jsx(st,{variant:E?"default":"destructive",className:`text-lg px-4 py-2 ${E?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"}`,children:E?s.jsxs(s.Fragment,{children:[s.jsx(xW,{className:"h-5 w-5 mr-2"}),"GRANTED"]}):s.jsxs(s.Fragment,{children:[s.jsx(og,{className:"h-5 w-5 mr-2"}),"RESTRICTED"]})})]})]}),s.jsxs(X_,{className:`border-indigo-900/50 ${E?"bg-green-950/20":"bg-red-950/20"}`,children:[s.jsx(Dn,{className:"h-4 w-4"}),s.jsx($C,{children:"Assessment Complete"}),s.jsx(Z_,{className:"text-sm mt-2",children:r.recommendation})]}),(r.strengths.length>0||r.weakAreas.length>0)&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.strengths.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-400 mb-2 ",children:"Strengths"}),s.jsx("div",{className:"space-y-1",children:r.strengths.map((O,G)=>s.jsx(st,{variant:"outline",className:"border-green-900 text-green-400",children:O.replace(/_/g," ")},G))})]}),r.weakAreas.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-red-400 mb-2 ",children:"Areas for Improvement"}),s.jsx("div",{className:"space-y-1",children:r.weakAreas.map((O,G)=>s.jsx(st,{variant:"outline",className:"border-red-900 text-red-400",children:O.replace(/_/g," ")},G))})]})]}),s.jsxs(rt,{onClick:()=>e("/dashboard"),className:"w-full bg-indigo-600 hover:bg-indigo-700",disabled:m.isPending,children:[E?"Enter Trading Floor":"View Training Materials",s.jsx(Wo,{className:"ml-2 h-4 w-4"})]})]})]})})})})}return s.jsx(Wce,{onComplete:x})}function Hce({time:e,status:t}){const i=e.getHours()%12,r=e.getMinutes(),a=e.getSeconds(),o=r*6+a*.1-90,u=i*30+r*.5-90,m=()=>{switch(t){case"open":return"stroke-green-500";case"after-hours":return"stroke-yellow-500";case"closed":return"stroke-red-500"}},x=()=>{switch(t){case"open":return"bg-green-500/10 border-green-500/30";case"after-hours":return"bg-yellow-500/10 border-yellow-500/30";case"closed":return"bg-red-500/10 border-red-500/30"}};return s.jsx("div",{className:`relative w-7 h-7 rounded-full border ${x()} flex items-center justify-center overflow-visible`,children:s.jsxs("svg",{className:"absolute w-full h-full",viewBox:"0 0 100 100",style:{transform:"scale(2)"},children:[[...Array(12)].map((w,A)=>{const E=(A*30-90)*(Math.PI/180),O=50+38*Math.cos(E),G=50+38*Math.sin(E);return s.jsx("circle",{cx:O,cy:G,r:A%3===0?1:.5,className:"fill-muted-foreground"},A)}),s.jsx("line",{x1:"50",y1:"50",x2:50+25*Math.cos(u*Math.PI/180),y2:50+25*Math.sin(u*Math.PI/180),className:`${m()} stroke-[1.5]`,strokeLinecap:"round"}),s.jsx("line",{x1:"50",y1:"50",x2:50+35*Math.cos(o*Math.PI/180),y2:50+35*Math.sin(o*Math.PI/180),className:`${m()} stroke-[1]`,strokeLinecap:"round"}),s.jsx("circle",{cx:"50",cy:"50",r:"3",className:m().replace("stroke","fill")})]})})}function Vce(){const[e,t]=V.useState([]),i=(u,m,x,w=!1,A,E)=>{const O=new Date,G=new Date(O.toLocaleString("en-US",{timeZone:u})),te=G.getHours(),Q=G.getMinutes(),J=te*60+Q,H=m*60,W=x*60,Z=G.getDay();if(Z===0||Z===6)return"closed";if(w&&A!==void 0&&E!==void 0){const pe=A*60,me=E*60;if(J>=pe&&J<H||J>=W&&J<me)return"after-hours"}return J>=H&&J<W?"open":"closed"},r=u=>{const x=new Date().toLocaleString("en-US",{timeZone:u});return new Date(x)},a=()=>{const u=[{name:"TSX",city:"Toronto",timezone:"America/Toronto",status:i("America/Toronto",9.5,16),localTime:r("America/Toronto"),openTime:"9:30 AM",closeTime:"4:00 PM"},{name:"HKEx",city:"Hong Kong",timezone:"Asia/Hong_Kong",status:i("Asia/Hong_Kong",9.5,16),localTime:r("Asia/Hong_Kong"),openTime:"9:30 AM",closeTime:"4:00 PM"},{name:"DFM",city:"Dubai",timezone:"Asia/Dubai",status:i("Asia/Dubai",10,14),localTime:r("Asia/Dubai"),openTime:"10:00 AM",closeTime:"2:00 PM"},{name:"NSE",city:"New Delhi",timezone:"Asia/Kolkata",status:i("Asia/Kolkata",9.25,15.5),localTime:r("Asia/Kolkata"),openTime:"9:15 AM",closeTime:"3:30 PM"}];t(u)};V.useEffect(()=>{a();const u=setInterval(a,1e3);return()=>clearInterval(u)},[]);const o=u=>{switch(u){case"open":return s.jsx(st,{variant:"default",className:"bg-green-500 text-xs px-1.5 py-0",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Open"});case"after-hours":return s.jsx(st,{variant:"secondary",className:"bg-yellow-500 text-black text-xs px-1.5 py-0",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Ext"});case"closed":return s.jsx(st,{variant:"destructive",className:"text-xs px-1.5 py-0",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Closed"})}};return s.jsx("div",{className:"bg-[#1A1F2E]/80 border-t border-border/50 p-3","data-testid":"footer-clocks",children:s.jsxs("div",{className:"flex items-center justify-center gap-6 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pn,{className:"w-4 h-4 text-purple-500 flex-shrink-0"}),s.jsx("span",{className:"text-xs text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Additional Markets"})]}),e.map(u=>s.jsxs("div",{className:"flex items-center gap-2 p-1.5 rounded-md bg-[#252B3C] border border-border/30","data-testid":`footer-market-${u.name.toLowerCase()}`,children:[s.jsx(Hce,{time:u.localTime,status:u.status}),s.jsxs("div",{className:"flex flex-col gap-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"text-xs text-foreground ",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:u.name}),o(u.status)]}),s.jsxs("span",{className:"text-xs text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:[u.city," • ",u.localTime.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})]})]})]},u.name))]})})}const ht=Symbol.for("drizzle:entityKind");function xr(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,ht))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let i=Object.getPrototypeOf(e).constructor;if(i)for(;i;){if(ht in i&&i[ht]===t[ht])return!0;i=Object.getPrototypeOf(i)}return!1}var hO;hO=ht;class hg{constructor(t,i){$e(this,"name");$e(this,"keyAsName");$e(this,"primary");$e(this,"notNull");$e(this,"default");$e(this,"defaultFn");$e(this,"onUpdateFn");$e(this,"hasDefault");$e(this,"isUnique");$e(this,"uniqueName");$e(this,"uniqueType");$e(this,"dataType");$e(this,"columnType");$e(this,"enumValues");$e(this,"generated");$e(this,"generatedIdentity");$e(this,"config");this.table=t,this.config=i,this.name=i.name,this.keyAsName=i.keyAsName,this.notNull=i.notNull,this.default=i.default,this.defaultFn=i.defaultFn,this.onUpdateFn=i.onUpdateFn,this.hasDefault=i.hasDefault,this.primary=i.primaryKey,this.isUnique=i.isUnique,this.uniqueName=i.uniqueName,this.uniqueType=i.uniqueType,this.dataType=i.dataType,this.columnType=i.columnType,this.generated=i.generated,this.generatedIdentity=i.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}$e(hg,hO,"Column");var pO;pO=ht;class i${constructor(t,i,r){$e(this,"config");$e(this,"$default",this.$defaultFn);$e(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:i,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}$e(i$,pO,"ColumnBuilder");const Of=Symbol.for("drizzle:Name");var mO;mO=ht;class r${constructor(t,i){$e(this,"reference");$e(this,"_onUpdate","no action");$e(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:a,foreignColumns:o}=t();return{name:r,columns:a,foreignTable:o[0].table,foreignColumns:o}},i&&(this._onUpdate=i.onUpdate,this._onDelete=i.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new n$(t,this)}}$e(r$,mO,"PgForeignKeyBuilder");var fO;fO=ht;class n${constructor(t,i){$e(this,"reference");$e(this,"onUpdate");$e(this,"onDelete");this.table=t,this.reference=i.reference,this.onUpdate=i._onUpdate,this.onDelete=i._onDelete}getName(){const{name:t,columns:i,foreignColumns:r}=this.reference(),a=i.map(m=>m.name),o=r.map(m=>m.name),u=[this.table[Of],...a,r[0].table[Of],...o];return t??`${u.join("_")}_fk`}}$e(n$,fO,"PgForeignKey");function $ce(e,...t){return e(...t)}function Uce(e,t){return`${e[Of]}_${t.join("_")}_unique`}function d4(e,t,i){for(let r=t;r<e.length;r++){const a=e[r];if(a==="\\"){r++;continue}if(a==='"')return[e.slice(t,r).replace(/\\/g,""),r+1];if(!i&&(a===","||a==="}"))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}function a$(e,t=0){const i=[];let r=t,a=!1;for(;r<e.length;){const o=e[r];if(o===","){(a||r===t)&&i.push(""),a=!0,r++;continue}if(a=!1,o==="\\"){r+=2;continue}if(o==='"'){const[x,w]=d4(e,r+1,!0);i.push(x),r=w;continue}if(o==="}")return[i,r+1];if(o==="{"){const[x,w]=a$(e,r+1);i.push(x),r=w;continue}const[u,m]=d4(e,r,!1);i.push(u),r=m}return[i,r]}function Gce(e){const[t]=a$(e,1);return t}function o$(e){return`{${e.map(t=>Array.isArray(t)?o$(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var gO,xO;class qs extends(xO=i$,gO=ht,xO){constructor(){super(...arguments);$e(this,"foreignKeyConfigs",[])}array(i){return new c$(this.config.name,this,i)}references(i,r={}){return this.foreignKeyConfigs.push({ref:i,actions:r}),this}unique(i,r){return this.config.isUnique=!0,this.config.uniqueName=i,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(i){return this.config.generated={as:i,type:"always",mode:"stored"},this}buildForeignKeys(i,r){return this.foreignKeyConfigs.map(({ref:a,actions:o})=>$ce((u,m)=>{const x=new r$(()=>{const w=u();return{columns:[i],foreignColumns:[w]}});return m.onUpdate&&x.onUpdate(m.onUpdate),m.onDelete&&x.onDelete(m.onDelete),x.build(r)},a,o))}buildExtraConfigColumn(i){return new l$(i,this.config)}}$e(qs,gO,"PgColumnBuilder");var yO,vO;class Ss extends(vO=hg,yO=ht,vO){constructor(t,i){i.uniqueName||(i.uniqueName=Uce(t,[i.name])),super(t,i),this.table=t}}$e(Ss,yO,"PgColumn");var bO,wO;class l$ extends(wO=Ss,bO=ht,wO){constructor(){super(...arguments);$e(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});$e(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(i){return this.indexConfig.opClass=i,this}}$e(l$,bO,"ExtraConfigColumn");var _O;_O=ht;class d_{constructor(t,i,r,a){$e(this,"name");$e(this,"keyAsName");$e(this,"type");$e(this,"indexConfig");this.name=t,this.keyAsName=i,this.type=r,this.indexConfig=a}}$e(d_,_O,"IndexedColumn");var NO,jO;class c$ extends(jO=qs,NO=ht,jO){constructor(t,i,r){super(t,"array","PgArray"),this.config.baseBuilder=i,this.config.size=r}build(t){const i=this.config.baseBuilder.build(t);return new lT(t,this.config,i)}}$e(c$,NO,"PgArrayBuilder");var kO,SO;const AN=class AN extends(SO=Ss,kO=ht,SO){constructor(i,r,a,o){super(i,r);$e(this,"size");this.baseColumn=a,this.range=o,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(i){return typeof i=="string"&&(i=Gce(i)),i.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(i,r=!1){const a=i.map(o=>o===null?null:xr(this.baseColumn,AN)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return r?a:o$(a)}};$e(AN,kO,"PgArray");let lT=AN;const u4=Symbol.for("drizzle:isPgEnum");function qce(e){return!!e&&typeof e=="function"&&u4 in e&&e[u4]===!0}var AO;AO=ht;class iE{constructor(t,i,r,a=!1){this._={brand:"Subquery",sql:t,selectedFields:i,alias:r,isWith:a}}}$e(iE,AO,"Subquery");const Kce={startActiveSpan(e,t){return t()}},Df=Symbol.for("drizzle:ViewBaseConfig"),hA=Symbol.for("drizzle:Schema"),h4=Symbol.for("drizzle:Columns"),p4=Symbol.for("drizzle:ExtraConfigColumns"),pA=Symbol.for("drizzle:OriginalName"),mA=Symbol.for("drizzle:BaseName"),nN=Symbol.for("drizzle:IsAlias"),m4=Symbol.for("drizzle:ExtraConfigBuilder"),d$=Symbol.for("drizzle:IsDrizzleTable");var CO,TO,PO,MO,EO,IO,LO,OO,DO,RO,W1;let Na=(RO=ht,DO=Of,OO=pA,LO=hA,IO=h4,EO=p4,MO=mA,PO=nN,TO=d$,CO=m4,W1=class{constructor(t,i,r){$e(this,DO);$e(this,OO);$e(this,LO);$e(this,IO);$e(this,EO);$e(this,MO);$e(this,PO,!1);$e(this,TO,!0);$e(this,CO);this[Of]=this[pA]=t,this[hA]=i,this[mA]=r}},$e(W1,RO,"Table"),$e(W1,"Symbol",{Name:Of,Schema:hA,OriginalName:pA,Columns:h4,ExtraConfigColumns:p4,BaseName:mA,IsAlias:nN,ExtraConfigBuilder:m4}),W1);function u$(e){return typeof e=="object"&&e!==null&&d$ in e}function Yce(e){return e!=null&&typeof e.getSQL=="function"}function Xce(e){var i;const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),(i=r.typings)!=null&&i.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var FO;FO=ht;class Qa{constructor(t){$e(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new ir([this])}}$e(Qa,FO,"StringChunk");var zO;zO=ht;const jh=class jh{constructor(t){$e(this,"decoder",h$);$e(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return Kce.startActiveSpan("drizzle.buildSQL",i=>{const r=this.buildQueryFromSourceParams(this.queryChunks,t);return i==null||i.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(t,i){const r=Object.assign({},i,{inlineParams:i.inlineParams||this.shouldInlineParams,paramStartIndex:i.paramStartIndex||{value:0}}),{casing:a,escapeName:o,escapeParam:u,prepareTyping:m,inlineParams:x,paramStartIndex:w}=r;return Xce(t.map(A=>{var E;if(xr(A,Qa))return{sql:A.value.join(""),params:[]};if(xr(A,aN))return{sql:o(A.value),params:[]};if(A===void 0)return{sql:"",params:[]};if(Array.isArray(A)){const O=[new Qa("(")];for(const[G,te]of A.entries())O.push(te),G<A.length-1&&O.push(new Qa(", "));return O.push(new Qa(")")),this.buildQueryFromSourceParams(O,r)}if(xr(A,jh))return this.buildQueryFromSourceParams(A.queryChunks,{...r,inlineParams:x||A.shouldInlineParams});if(xr(A,Na)){const O=A[Na.Symbol.Schema],G=A[Na.Symbol.Name];return{sql:O===void 0||A[nN]?o(G):o(O)+"."+o(G),params:[]}}if(xr(A,hg)){const O=a.getColumnCasing(A);if(i.invokeSource==="indexes")return{sql:o(O),params:[]};const G=A.table[Na.Symbol.Schema];return{sql:A.table[nN]||G===void 0?o(A.table[Na.Symbol.Name])+"."+o(O):o(G)+"."+o(A.table[Na.Symbol.Name])+"."+o(O),params:[]}}if(xr(A,f$)){const O=A[Df].schema,G=A[Df].name;return{sql:O===void 0||A[Df].isAlias?o(G):o(O)+"."+o(G),params:[]}}if(xr(A,rE)){if(xr(A.value,oN))return{sql:u(w.value++,A),params:[A],typings:["none"]};const O=A.value===null?null:A.encoder.mapToDriverValue(A.value);if(xr(O,jh))return this.buildQueryFromSourceParams([O],r);if(x)return{sql:this.mapInlineParam(O,r),params:[]};let G=["none"];return m&&(G=[m(A.encoder)]),{sql:u(w.value++,O),params:[O],typings:G}}return xr(A,oN)?{sql:u(w.value++,A),params:[A],typings:["none"]}:xr(A,jh.Aliased)&&A.fieldAlias!==void 0?{sql:o(A.fieldAlias),params:[]}:xr(A,iE)?A._.isWith?{sql:o(A._.alias),params:[]}:this.buildQueryFromSourceParams([new Qa("("),A._.sql,new Qa(") "),new aN(A._.alias)],r):qce(A)?A.schema?{sql:o(A.schema)+"."+o(A.enumName),params:[]}:{sql:o(A.enumName),params:[]}:Yce(A)?(E=A.shouldOmitSQLParens)!=null&&E.call(A)?this.buildQueryFromSourceParams([A.getSQL()],r):this.buildQueryFromSourceParams([new Qa("("),A.getSQL(),new Qa(")")],r):x?{sql:this.mapInlineParam(A,r),params:[]}:{sql:u(w.value++,A),params:[A],typings:["none"]}}))}mapInlineParam(t,{escapeString:i}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return i(t);if(typeof t=="object"){const r=t.toString();return i(r==="[object Object]"?JSON.stringify(t):r)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new jh.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};$e(jh,zO,"SQL");let ir=jh;var BO;BO=ht;class aN{constructor(t){$e(this,"brand");this.value=t}getSQL(){return new ir([this])}}$e(aN,BO,"Name");const h$={mapFromDriverValue:e=>e},p$={mapToDriverValue:e=>e};({...h$,...p$});var WO;WO=ht;class rE{constructor(t,i=p$){$e(this,"brand");this.value=t,this.encoder=i}getSQL(){return new ir([this])}}$e(rE,WO,"Param");function He(e,...t){const i=[];(t.length>0||e.length>0&&e[0]!=="")&&i.push(new Qa(e[0]));for(const[r,a]of t.entries())i.push(a,new Qa(e[r+1]));return new ir(i)}(e=>{function t(){return new ir([])}e.empty=t;function i(x){return new ir(x)}e.fromList=i;function r(x){return new ir([new Qa(x)])}e.raw=r;function a(x,w){const A=[];for(const[E,O]of x.entries())E>0&&w!==void 0&&A.push(w),A.push(O);return new ir(A)}e.join=a;function o(x){return new aN(x)}e.identifier=o;function u(x){return new oN(x)}e.placeholder=u;function m(x,w){return new rE(x,w)}e.param=m})(He||(He={}));(e=>{var i;i=ht;const r=class r{constructor(o,u){$e(this,"isSelectionField",!1);this.sql=o,this.fieldAlias=u}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};$e(r,i,"SQL.Aliased");let t=r;e.Aliased=t})(ir||(ir={}));var HO;HO=ht;class oN{constructor(t){this.name=t}getSQL(){return new ir([this])}}$e(oN,HO,"Placeholder");const m$=Symbol.for("drizzle:IsDrizzleView");var VO,$O,UO;UO=ht,$O=Df,VO=m$;class f${constructor({name:t,schema:i,selectedFields:r,query:a}){$e(this,$O);$e(this,VO,!0);this[Df]={name:t,originalName:t,schema:i,selectedFields:r,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new ir([this])}}$e(f$,UO,"View");function Zce(e){return typeof e=="object"&&e!==null&&m$ in e}hg.prototype.getSQL=function(){return new ir([this])};Na.prototype.getSQL=function(){return new ir([this])};iE.prototype.getSQL=function(){return new ir([this])};function Qce(e){return e[Na.Symbol.Columns]}function Jce(e){return e[Df].selectedFields}function Wr(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var GO,qO;class Pv extends(qO=qs,GO=ht,qO){generatedAlwaysAsIdentity(t){if(t){const{name:i,...r}=t;this.config.generatedIdentity={type:"always",sequenceName:i,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:i,...r}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:i,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}$e(Pv,GO,"PgIntColumnBaseBuilder");var KO,YO;class g$ extends(YO=Pv,KO=ht,YO){constructor(t){super(t,"number","PgBigInt53")}build(t){return new x$(t,this.config)}}$e(g$,KO,"PgBigInt53Builder");var XO,ZO;class x$ extends(ZO=Ss,XO=ht,ZO){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}$e(x$,XO,"PgBigInt53");var QO,JO;class y$ extends(JO=Pv,QO=ht,JO){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new v$(t,this.config)}}$e(y$,QO,"PgBigInt64Builder");var eD,tD;class v$ extends(tD=Ss,eD=ht,tD){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}$e(v$,eD,"PgBigInt64");function vu(e,t){const{name:i,config:r}=Wr(e,t);return r.mode==="number"?new g$(i):new y$(i)}var sD,iD;class b$ extends(iD=qs,sD=ht,iD){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new w$(t,this.config)}}$e(b$,sD,"PgBigSerial53Builder");var rD,nD;class w$ extends(nD=Ss,rD=ht,nD){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}$e(w$,rD,"PgBigSerial53");var aD,oD;class _$ extends(oD=qs,aD=ht,oD){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new N$(t,this.config)}}$e(_$,aD,"PgBigSerial64Builder");var lD,cD;class N$ extends(cD=Ss,lD=ht,cD){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}$e(N$,lD,"PgBigSerial64");function ede(e,t){const{name:i,config:r}=Wr(e,t);return r.mode==="number"?new b$(i):new _$(i)}var dD,uD;class j$ extends(uD=qs,dD=ht,uD){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new k$(t,this.config)}}$e(j$,dD,"PgBooleanBuilder");var hD,pD;class k$ extends(pD=Ss,hD=ht,pD){getSQLType(){return"boolean"}}$e(k$,hD,"PgBoolean");function Re(e){return new j$(e??"")}var mD,fD;class S$ extends(fD=qs,mD=ht,fD){constructor(t,i){super(t,"string","PgChar"),this.config.length=i.length,this.config.enumValues=i.enum}build(t){return new A$(t,this.config)}}$e(S$,mD,"PgCharBuilder");var gD,xD;class A$ extends(xD=Ss,gD=ht,xD){constructor(){super(...arguments);$e(this,"length",this.config.length);$e(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}$e(A$,gD,"PgChar");function tde(e,t={}){const{name:i,config:r}=Wr(e,t);return new S$(i,r)}var yD,vD;class C$ extends(vD=qs,yD=ht,vD){constructor(t){super(t,"string","PgCidr")}build(t){return new T$(t,this.config)}}$e(C$,yD,"PgCidrBuilder");var bD,wD;class T$ extends(wD=Ss,bD=ht,wD){getSQLType(){return"cidr"}}$e(T$,bD,"PgCidr");function sde(e){return new C$(e??"")}var _D,ND;class P$ extends(ND=qs,_D=ht,ND){constructor(t,i,r){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=i,this.config.customTypeParams=r}build(t){return new M$(t,this.config)}}$e(P$,_D,"PgCustomColumnBuilder");var jD,kD;class M$ extends(kD=Ss,jD=ht,kD){constructor(i,r){super(i,r);$e(this,"sqlName");$e(this,"mapTo");$e(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(i){return typeof this.mapFrom=="function"?this.mapFrom(i):i}mapToDriverValue(i){return typeof this.mapTo=="function"?this.mapTo(i):i}}$e(M$,jD,"PgCustomColumn");function ide(e){return(t,i)=>{const{name:r,config:a}=Wr(t,i);return new P$(r,a,e)}}var SD,AD;class Lg extends(AD=qs,SD=ht,AD){defaultNow(){return this.default(He`now()`)}}$e(Lg,SD,"PgDateColumnBaseBuilder");var CD,TD;class E$ extends(TD=Lg,CD=ht,TD){constructor(t){super(t,"date","PgDate")}build(t){return new I$(t,this.config)}}$e(E$,CD,"PgDateBuilder");var PD,MD;class I$ extends(MD=Ss,PD=ht,MD){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}$e(I$,PD,"PgDate");var ED,ID;class L$ extends(ID=Lg,ED=ht,ID){constructor(t){super(t,"string","PgDateString")}build(t){return new O$(t,this.config)}}$e(L$,ED,"PgDateStringBuilder");var LD,OD;class O$ extends(OD=Ss,LD=ht,OD){getSQLType(){return"date"}}$e(O$,LD,"PgDateString");function rde(e,t){const{name:i,config:r}=Wr(e,t);return(r==null?void 0:r.mode)==="date"?new E$(i):new L$(i)}var DD,RD;class D$ extends(RD=qs,DD=ht,RD){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new R$(t,this.config)}}$e(D$,DD,"PgDoublePrecisionBuilder");var FD,zD;class R$ extends(zD=Ss,FD=ht,zD){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}$e(R$,FD,"PgDoublePrecision");function nde(e){return new D$(e??"")}var BD,WD;class F$ extends(WD=qs,BD=ht,WD){constructor(t){super(t,"string","PgInet")}build(t){return new z$(t,this.config)}}$e(F$,BD,"PgInetBuilder");var HD,VD;class z$ extends(VD=Ss,HD=ht,VD){getSQLType(){return"inet"}}$e(z$,HD,"PgInet");function ade(e){return new F$(e??"")}var $D,UD;class B$ extends(UD=Pv,$D=ht,UD){constructor(t){super(t,"number","PgInteger")}build(t){return new W$(t,this.config)}}$e(B$,$D,"PgIntegerBuilder");var GD,qD;class W$ extends(qD=Ss,GD=ht,qD){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}$e(W$,GD,"PgInteger");function ne(e){return new B$(e??"")}var KD,YD;class H$ extends(YD=qs,KD=ht,YD){constructor(t,i){super(t,"string","PgInterval"),this.config.intervalConfig=i}build(t){return new V$(t,this.config)}}$e(H$,KD,"PgIntervalBuilder");var XD,ZD;class V$ extends(ZD=Ss,XD=ht,ZD){constructor(){super(...arguments);$e(this,"fields",this.config.intervalConfig.fields);$e(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const i=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${i}${r}`}}$e(V$,XD,"PgInterval");function ode(e,t={}){const{name:i,config:r}=Wr(e,t);return new H$(i,r)}var QD,JD;class $$ extends(JD=qs,QD=ht,JD){constructor(t){super(t,"json","PgJson")}build(t){return new U$(t,this.config)}}$e($$,QD,"PgJsonBuilder");var eR,tR;class U$ extends(tR=Ss,eR=ht,tR){constructor(t,i){super(t,i)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}$e(U$,eR,"PgJson");function lde(e){return new $$(e??"")}var sR,iR;class G$ extends(iR=qs,sR=ht,iR){constructor(t){super(t,"json","PgJsonb")}build(t){return new q$(t,this.config)}}$e(G$,sR,"PgJsonbBuilder");var rR,nR;class q$ extends(nR=Ss,rR=ht,nR){constructor(t,i){super(t,i)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}$e(q$,rR,"PgJsonb");function Ce(e){return new G$(e??"")}var aR,oR;class K$ extends(oR=qs,aR=ht,oR){constructor(t){super(t,"array","PgLine")}build(t){return new Y$(t,this.config)}}$e(K$,aR,"PgLineBuilder");var lR,cR;class Y$ extends(cR=Ss,lR=ht,cR){getSQLType(){return"line"}mapFromDriverValue(t){const[i,r,a]=t.slice(1,-1).split(",");return[Number.parseFloat(i),Number.parseFloat(r),Number.parseFloat(a)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}$e(Y$,lR,"PgLine");var dR,uR;class X$ extends(uR=qs,dR=ht,uR){constructor(t){super(t,"json","PgLineABC")}build(t){return new Z$(t,this.config)}}$e(X$,dR,"PgLineABCBuilder");var hR,pR;class Z$ extends(pR=Ss,hR=ht,pR){getSQLType(){return"line"}mapFromDriverValue(t){const[i,r,a]=t.slice(1,-1).split(",");return{a:Number.parseFloat(i),b:Number.parseFloat(r),c:Number.parseFloat(a)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}$e(Z$,hR,"PgLineABC");function cde(e,t){const{name:i,config:r}=Wr(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new K$(i):new X$(i)}var mR,fR;class Q$ extends(fR=qs,mR=ht,fR){constructor(t){super(t,"string","PgMacaddr")}build(t){return new J$(t,this.config)}}$e(Q$,mR,"PgMacaddrBuilder");var gR,xR;class J$ extends(xR=Ss,gR=ht,xR){getSQLType(){return"macaddr"}}$e(J$,gR,"PgMacaddr");function dde(e){return new Q$(e??"")}var yR,vR;class eU extends(vR=qs,yR=ht,vR){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new tU(t,this.config)}}$e(eU,yR,"PgMacaddr8Builder");var bR,wR;class tU extends(wR=Ss,bR=ht,wR){getSQLType(){return"macaddr8"}}$e(tU,bR,"PgMacaddr8");function ude(e){return new eU(e??"")}var _R,NR;class sU extends(NR=qs,_R=ht,NR){constructor(t,i,r){super(t,"string","PgNumeric"),this.config.precision=i,this.config.scale=r}build(t){return new iU(t,this.config)}}$e(sU,_R,"PgNumericBuilder");var jR,kR;class iU extends(kR=Ss,jR=ht,kR){constructor(i,r){super(i,r);$e(this,"precision");$e(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}$e(iU,jR,"PgNumeric");function rU(e,t){const{name:i,config:r}=Wr(e,t);return new sU(i,r==null?void 0:r.precision,r==null?void 0:r.scale)}const U=rU;var SR,AR;class nU extends(AR=qs,SR=ht,AR){constructor(t){super(t,"array","PgPointTuple")}build(t){return new aU(t,this.config)}}$e(nU,SR,"PgPointTupleBuilder");var CR,TR;class aU extends(TR=Ss,CR=ht,TR){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[i,r]=t.slice(1,-1).split(",");return[Number.parseFloat(i),Number.parseFloat(r)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}$e(aU,CR,"PgPointTuple");var PR,MR;class oU extends(MR=qs,PR=ht,MR){constructor(t){super(t,"json","PgPointObject")}build(t){return new lU(t,this.config)}}$e(oU,PR,"PgPointObjectBuilder");var ER,IR;class lU extends(IR=Ss,ER=ht,IR){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[i,r]=t.slice(1,-1).split(",");return{x:Number.parseFloat(i),y:Number.parseFloat(r)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}$e(lU,ER,"PgPointObject");function hde(e,t){const{name:i,config:r}=Wr(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new nU(i):new oU(i)}function pde(e){const t=[];for(let i=0;i<e.length;i+=2)t.push(Number.parseInt(e.slice(i,i+2),16));return new Uint8Array(t)}function f4(e,t){const i=new ArrayBuffer(8),r=new DataView(i);for(let a=0;a<8;a++)r.setUint8(a,e[t+a]);return r.getFloat64(0,!0)}function cU(e){const t=pde(e);let i=0;const r=t[i];i+=1;const a=new DataView(t.buffer),o=a.getUint32(i,r===1);if(i+=4,o&536870912&&(a.getUint32(i,r===1),i+=4),(o&65535)===1){const u=f4(t,i);i+=8;const m=f4(t,i);return i+=8,[u,m]}throw new Error("Unsupported geometry type")}var LR,OR;class dU extends(OR=qs,LR=ht,OR){constructor(t){super(t,"array","PgGeometry")}build(t){return new uU(t,this.config)}}$e(dU,LR,"PgGeometryBuilder");var DR,RR;class uU extends(RR=Ss,DR=ht,RR){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return cU(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}$e(uU,DR,"PgGeometry");var FR,zR;class hU extends(zR=qs,FR=ht,zR){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new pU(t,this.config)}}$e(hU,FR,"PgGeometryObjectBuilder");var BR,WR;class pU extends(WR=Ss,BR=ht,WR){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const i=cU(t);return{x:i[0],y:i[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}$e(pU,BR,"PgGeometryObject");function mde(e,t){const{name:i,config:r}=Wr(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new dU(i):new hU(i)}var HR,VR;class mU extends(VR=qs,HR=ht,VR){constructor(t,i){super(t,"number","PgReal"),this.config.length=i}build(t){return new fU(t,this.config)}}$e(mU,HR,"PgRealBuilder");var $R,UR;class fU extends(UR=Ss,$R=ht,UR){constructor(i,r){super(i,r);$e(this,"mapFromDriverValue",i=>typeof i=="string"?Number.parseFloat(i):i)}getSQLType(){return"real"}}$e(fU,$R,"PgReal");function fde(e){return new mU(e??"")}var GR,qR;class gU extends(qR=qs,GR=ht,qR){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new xU(t,this.config)}}$e(gU,GR,"PgSerialBuilder");var KR,YR;class xU extends(YR=Ss,KR=ht,YR){getSQLType(){return"serial"}}$e(xU,KR,"PgSerial");function gde(e){return new gU(e??"")}var XR,ZR;class yU extends(ZR=Pv,XR=ht,ZR){constructor(t){super(t,"number","PgSmallInt")}build(t){return new vU(t,this.config)}}$e(yU,XR,"PgSmallIntBuilder");var QR,JR;class vU extends(JR=Ss,QR=ht,JR){constructor(){super(...arguments);$e(this,"mapFromDriverValue",i=>typeof i=="string"?Number(i):i)}getSQLType(){return"smallint"}}$e(vU,QR,"PgSmallInt");function xde(e){return new yU(e??"")}var eF,tF;class bU extends(tF=qs,eF=ht,tF){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new wU(t,this.config)}}$e(bU,eF,"PgSmallSerialBuilder");var sF,iF;class wU extends(iF=Ss,sF=ht,iF){getSQLType(){return"smallserial"}}$e(wU,sF,"PgSmallSerial");function yde(e){return new bU(e??"")}var rF,nF;class _U extends(nF=qs,rF=ht,nF){constructor(t,i){super(t,"string","PgText"),this.config.enumValues=i.enum}build(t){return new NU(t,this.config)}}$e(_U,rF,"PgTextBuilder");var aF,oF;class NU extends(oF=Ss,aF=ht,oF){constructor(){super(...arguments);$e(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}$e(NU,aF,"PgText");function N(e,t={}){const{name:i,config:r}=Wr(e,t);return new _U(i,r)}var lF,cF;class jU extends(cF=Lg,lF=ht,cF){constructor(t,i,r){super(t,"string","PgTime"),this.withTimezone=i,this.precision=r,this.config.withTimezone=i,this.config.precision=r}build(t){return new kU(t,this.config)}}$e(jU,lF,"PgTimeBuilder");var dF,uF;class kU extends(uF=Ss,dF=ht,uF){constructor(i,r){super(i,r);$e(this,"withTimezone");$e(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}$e(kU,dF,"PgTime");function vde(e,t={}){const{name:i,config:r}=Wr(e,t);return new jU(i,r.withTimezone??!1,r.precision)}var hF,pF;class SU extends(pF=Lg,hF=ht,pF){constructor(t,i,r){super(t,"date","PgTimestamp"),this.config.withTimezone=i,this.config.precision=r}build(t){return new AU(t,this.config)}}$e(SU,hF,"PgTimestampBuilder");var mF,fF;class AU extends(fF=Ss,mF=ht,fF){constructor(i,r){super(i,r);$e(this,"withTimezone");$e(this,"precision");$e(this,"mapFromDriverValue",i=>new Date(this.withTimezone?i:i+"+0000"));$e(this,"mapToDriverValue",i=>i.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}$e(AU,mF,"PgTimestamp");var gF,xF;class CU extends(xF=Lg,gF=ht,xF){constructor(t,i,r){super(t,"string","PgTimestampString"),this.config.withTimezone=i,this.config.precision=r}build(t){return new TU(t,this.config)}}$e(CU,gF,"PgTimestampStringBuilder");var yF,vF;class TU extends(vF=Ss,yF=ht,vF){constructor(i,r){super(i,r);$e(this,"withTimezone");$e(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}$e(TU,yF,"PgTimestampString");function se(e,t={}){const{name:i,config:r}=Wr(e,t);return(r==null?void 0:r.mode)==="string"?new CU(i,r.withTimezone??!1,r.precision):new SU(i,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var bF,wF;class PU extends(wF=qs,bF=ht,wF){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(He`gen_random_uuid()`)}build(t){return new MU(t,this.config)}}$e(PU,bF,"PgUUIDBuilder");var _F,NF;class MU extends(NF=Ss,_F=ht,NF){getSQLType(){return"uuid"}}$e(MU,_F,"PgUUID");function bde(e){return new PU(e??"")}var jF,kF;class EU extends(kF=qs,jF=ht,kF){constructor(t,i){super(t,"string","PgVarchar"),this.config.length=i.length,this.config.enumValues=i.enum}build(t){return new IU(t,this.config)}}$e(EU,jF,"PgVarcharBuilder");var SF,AF;class IU extends(AF=Ss,SF=ht,AF){constructor(){super(...arguments);$e(this,"length",this.config.length);$e(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}$e(IU,SF,"PgVarchar");function le(e,t={}){const{name:i,config:r}=Wr(e,t);return new EU(i,r)}var CF,TF;class LU extends(TF=qs,CF=ht,TF){constructor(t,i){super(t,"string","PgBinaryVector"),this.config.dimensions=i.dimensions}build(t){return new OU(t,this.config)}}$e(LU,CF,"PgBinaryVectorBuilder");var PF,MF;class OU extends(MF=Ss,PF=ht,MF){constructor(){super(...arguments);$e(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}$e(OU,PF,"PgBinaryVector");function wde(e,t){const{name:i,config:r}=Wr(e,t);return new LU(i,r)}var EF,IF;class DU extends(IF=qs,EF=ht,IF){constructor(t,i){super(t,"array","PgHalfVector"),this.config.dimensions=i.dimensions}build(t){return new RU(t,this.config)}}$e(DU,EF,"PgHalfVectorBuilder");var LF,OF;class RU extends(OF=Ss,LF=ht,OF){constructor(){super(...arguments);$e(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(i){return JSON.stringify(i)}mapFromDriverValue(i){return i.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}$e(RU,LF,"PgHalfVector");function _de(e,t){const{name:i,config:r}=Wr(e,t);return new DU(i,r)}var DF,RF;class FU extends(RF=qs,DF=ht,RF){constructor(t,i){super(t,"string","PgSparseVector"),this.config.dimensions=i.dimensions}build(t){return new zU(t,this.config)}}$e(FU,DF,"PgSparseVectorBuilder");var FF,zF;class zU extends(zF=Ss,FF=ht,zF){constructor(){super(...arguments);$e(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}$e(zU,FF,"PgSparseVector");function Nde(e,t){const{name:i,config:r}=Wr(e,t);return new FU(i,r)}var BF,WF;class BU extends(WF=qs,BF=ht,WF){constructor(t,i){super(t,"array","PgVector"),this.config.dimensions=i.dimensions}build(t){return new WU(t,this.config)}}$e(BU,BF,"PgVectorBuilder");var HF,VF;class WU extends(VF=Ss,HF=ht,VF){constructor(){super(...arguments);$e(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(i){return JSON.stringify(i)}mapFromDriverValue(i){return i.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}$e(WU,HF,"PgVector");function di(e,t){const{name:i,config:r}=Wr(e,t);return new BU(i,r)}function jde(){return{bigint:vu,bigserial:ede,boolean:Re,char:tde,cidr:sde,customType:ide,date:rde,doublePrecision:nde,inet:ade,integer:ne,interval:ode,json:lde,jsonb:Ce,line:cde,macaddr:dde,macaddr8:ude,numeric:rU,point:hde,geometry:mde,real:fde,serial:gde,smallint:xde,smallserial:yde,text:N,time:vde,timestamp:se,uuid:bde,varchar:le,bit:wde,halfvec:_de,sparsevec:Nde,vector:di}}const cT=Symbol.for("drizzle:PgInlineForeignKeys"),g4=Symbol.for("drizzle:EnableRLS");var $F,UF,GF,qF,KF;class uy extends(KF=Na,qF=ht,GF=cT,UF=g4,$F=Na.Symbol.ExtraConfigBuilder,KF){constructor(){super(...arguments);$e(this,GF,[]);$e(this,UF,!1);$e(this,$F)}}$e(uy,qF,"PgTable"),$e(uy,"Symbol",Object.assign({},Na.Symbol,{InlineForeignKeys:cT,EnableRLS:g4}));function kde(e,t,i,r,a=e){const o=new uy(e,r,a),u=typeof t=="function"?t(jde()):t,m=Object.fromEntries(Object.entries(u).map(([A,E])=>{const O=E;O.setName(A);const G=O.build(o);return o[cT].push(...O.buildForeignKeys(G,o)),[A,G]})),x=Object.fromEntries(Object.entries(u).map(([A,E])=>{const O=E;O.setName(A);const G=O.buildExtraConfigColumn(o);return[A,G]})),w=Object.assign(o,m);return w[Na.Symbol.Columns]=m,w[Na.Symbol.ExtraConfigColumns]=x,i&&(w[uy.Symbol.ExtraConfigBuilder]=i),Object.assign(w,{enableRLS:()=>(w[uy.Symbol.EnableRLS]=!0,w)})}const Ve=(e,t,i)=>kde(e,t,i,void 0);var YF;YF=ht;class HU{constructor(t,i){this.unique=t,this.name=i}on(...t){return new u_(t.map(i=>{if(xr(i,ir))return i;i=i;const r=new d_(i.name,!!i.keyAsName,i.columnType,i.indexConfig);return i.indexConfig=JSON.parse(JSON.stringify(i.defaultConfig)),r}),this.unique,!1,this.name)}onOnly(...t){return new u_(t.map(i=>{if(xr(i,ir))return i;i=i;const r=new d_(i.name,!!i.keyAsName,i.columnType,i.indexConfig);return i.indexConfig=i.defaultConfig,r}),this.unique,!0,this.name)}using(t,...i){return new u_(i.map(r=>{if(xr(r,ir))return r;r=r;const a=new d_(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),a}),this.unique,!0,this.name,t)}}$e(HU,YF,"PgIndexBuilderOn");var XF;XF=ht;class u_{constructor(t,i,r,a,o="btree"){$e(this,"config");this.config={name:a,columns:t,unique:i,only:r,method:o}}concurrently(){return this.config.concurrently=!0,this}with(t){return this.config.with=t,this}where(t){return this.config.where=t,this}build(t){return new VU(this.config,t)}}$e(u_,XF,"PgIndexBuilder");var ZF;ZF=ht;class VU{constructor(t,i){$e(this,"config");this.config={...t,table:i}}}$e(VU,ZF,"PgIndex");function oe(e){return new HU(!1,e)}var Gs;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function i(a){throw new Error}e.assertNever=i,e.arrayToEnum=a=>{const o={};for(const u of a)o[u]=u;return o},e.getValidEnumValues=a=>{const o=e.objectKeys(a).filter(m=>typeof a[a[m]]!="number"),u={};for(const m of o)u[m]=a[m];return e.objectValues(u)},e.objectValues=a=>e.objectKeys(a).map(function(o){return a[o]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const u in a)Object.prototype.hasOwnProperty.call(a,u)&&o.push(u);return o},e.find=(a,o)=>{for(const u of a)if(o(u))return u},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,o=" | "){return a.map(u=>typeof u=="string"?`'${u}'`:u).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(Gs||(Gs={}));var dT;(function(e){e.mergeShapes=(t,i)=>({...t,...i})})(dT||(dT={}));const $t=Gs.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vc=e=>{switch(typeof e){case"undefined":return $t.undefined;case"string":return $t.string;case"number":return isNaN(e)?$t.nan:$t.number;case"boolean":return $t.boolean;case"function":return $t.function;case"bigint":return $t.bigint;case"symbol":return $t.symbol;case"object":return Array.isArray(e)?$t.array:e===null?$t.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?$t.promise:typeof Map<"u"&&e instanceof Map?$t.map:typeof Set<"u"&&e instanceof Set?$t.set:typeof Date<"u"&&e instanceof Date?$t.date:$t.object;default:return $t.unknown}},_t=Gs.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Sde=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Aa extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const i=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,i):this.__proto__=i,this.name="ZodError",this.issues=t}format(t){const i=t||function(o){return o.message},r={_errors:[]},a=o=>{for(const u of o.issues)if(u.code==="invalid_union")u.unionErrors.map(a);else if(u.code==="invalid_return_type")a(u.returnTypeError);else if(u.code==="invalid_arguments")a(u.argumentsError);else if(u.path.length===0)r._errors.push(i(u));else{let m=r,x=0;for(;x<u.path.length;){const w=u.path[x];x===u.path.length-1?(m[w]=m[w]||{_errors:[]},m[w]._errors.push(i(u))):m[w]=m[w]||{_errors:[]},m=m[w],x++}}};return a(this),r}static assert(t){if(!(t instanceof Aa))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Gs.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=i=>i.message){const i={},r=[];for(const a of this.issues)a.path.length>0?(i[a.path[0]]=i[a.path[0]]||[],i[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:i}}get formErrors(){return this.flatten()}}Aa.create=e=>new Aa(e);const pg=(e,t)=>{let i;switch(e.code){case _t.invalid_type:e.received===$t.undefined?i="Required":i=`Expected ${e.expected}, received ${e.received}`;break;case _t.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(e.expected,Gs.jsonStringifyReplacer)}`;break;case _t.unrecognized_keys:i=`Unrecognized key(s) in object: ${Gs.joinValues(e.keys,", ")}`;break;case _t.invalid_union:i="Invalid input";break;case _t.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${Gs.joinValues(e.options)}`;break;case _t.invalid_enum_value:i=`Invalid enum value. Expected ${Gs.joinValues(e.options)}, received '${e.received}'`;break;case _t.invalid_arguments:i="Invalid function arguments";break;case _t.invalid_return_type:i="Invalid function return type";break;case _t.invalid_date:i="Invalid date";break;case _t.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(i=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(i=`${i} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?i=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?i=`Invalid input: must end with "${e.validation.endsWith}"`:Gs.assertNever(e.validation):e.validation!=="regex"?i=`Invalid ${e.validation}`:i="Invalid";break;case _t.too_small:e.type==="array"?i=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?i=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?i=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?i=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:i="Invalid input";break;case _t.too_big:e.type==="array"?i=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?i=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?i=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?i=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?i=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:i="Invalid input";break;case _t.custom:i="Invalid input";break;case _t.invalid_intersection_types:i="Intersection results could not be merged";break;case _t.not_multiple_of:i=`Number must be a multiple of ${e.multipleOf}`;break;case _t.not_finite:i="Number must be finite";break;default:i=t.defaultError,Gs.assertNever(e)}return{message:i}};let $U=pg;function Ade(e){$U=e}function lN(){return $U}const cN=e=>{const{data:t,path:i,errorMaps:r,issueData:a}=e,o=[...i,...a.path||[]],u={...a,path:o};if(a.message!==void 0)return{...a,path:o,message:a.message};let m="";const x=r.filter(w=>!!w).slice().reverse();for(const w of x)m=w(u,{data:t,defaultError:m}).message;return{...a,path:o,message:m}},Cde=[];function zt(e,t){const i=lN(),r=cN({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,i,i===pg?void 0:pg].filter(a=>!!a)});e.common.issues.push(r)}class yn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,i){const r=[];for(const a of i){if(a.status==="aborted")return xs;a.status==="dirty"&&t.dirty(),r.push(a.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,i){const r=[];for(const a of i){const o=await a.key,u=await a.value;r.push({key:o,value:u})}return yn.mergeObjectSync(t,r)}static mergeObjectSync(t,i){const r={};for(const a of i){const{key:o,value:u}=a;if(o.status==="aborted"||u.status==="aborted")return xs;o.status==="dirty"&&t.dirty(),u.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof u.value<"u"||a.alwaysSet)&&(r[o.value]=u.value)}return{status:t.value,value:r}}}const xs=Object.freeze({status:"aborted"}),Nf=e=>({status:"dirty",value:e}),Rn=e=>({status:"valid",value:e}),uT=e=>e.status==="aborted",hT=e=>e.status==="dirty",ep=e=>e.status==="valid",Wy=e=>typeof Promise<"u"&&e instanceof Promise;function dN(e,t,i,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function UU(e,t,i,r,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,i),i}var is;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(is||(is={}));var G0,q0;class Ll{constructor(t,i,r,a){this._cachedPath=[],this.parent=t,this.data=i,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const x4=(e,t)=>{if(ep(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const i=new Aa(e.common.issues);return this._error=i,this._error}}};function ks(e){if(!e)return{};const{errorMap:t,invalid_type_error:i,required_error:r,description:a}=e;if(t&&(i||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(u,m)=>{var x,w;const{message:A}=e;return u.code==="invalid_enum_value"?{message:A??m.defaultError}:typeof m.data>"u"?{message:(x=A??r)!==null&&x!==void 0?x:m.defaultError}:u.code!=="invalid_type"?{message:m.defaultError}:{message:(w=A??i)!==null&&w!==void 0?w:m.defaultError}},description:a}}class Ms{get description(){return this._def.description}_getType(t){return vc(t.data)}_getOrReturnCtx(t,i){return i||{common:t.parent.common,data:t.data,parsedType:vc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new yn,ctx:{common:t.parent.common,data:t.data,parsedType:vc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const i=this._parse(t);if(Wy(i))throw new Error("Synchronous parse encountered promise.");return i}_parseAsync(t){const i=this._parse(t);return Promise.resolve(i)}parse(t,i){const r=this.safeParse(t,i);if(r.success)return r.data;throw r.error}safeParse(t,i){var r;const a={common:{issues:[],async:(r=i==null?void 0:i.async)!==null&&r!==void 0?r:!1,contextualErrorMap:i==null?void 0:i.errorMap},path:(i==null?void 0:i.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:vc(t)},o=this._parseSync({data:t,path:a.path,parent:a});return x4(a,o)}"~validate"(t){var i,r;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:vc(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:a});return ep(o)?{value:o.value}:{issues:a.common.issues}}catch(o){!((r=(i=o==null?void 0:o.message)===null||i===void 0?void 0:i.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(o=>ep(o)?{value:o.value}:{issues:a.common.issues})}async parseAsync(t,i){const r=await this.safeParseAsync(t,i);if(r.success)return r.data;throw r.error}async safeParseAsync(t,i){const r={common:{issues:[],contextualErrorMap:i==null?void 0:i.errorMap,async:!0},path:(i==null?void 0:i.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:vc(t)},a=this._parse({data:t,path:r.path,parent:r}),o=await(Wy(a)?a:Promise.resolve(a));return x4(r,o)}refine(t,i){const r=a=>typeof i=="string"||typeof i>"u"?{message:i}:typeof i=="function"?i(a):i;return this._refinement((a,o)=>{const u=t(a),m=()=>o.addIssue({code:_t.custom,...r(a)});return typeof Promise<"u"&&u instanceof Promise?u.then(x=>x?!0:(m(),!1)):u?!0:(m(),!1)})}refinement(t,i){return this._refinement((r,a)=>t(r)?!0:(a.addIssue(typeof i=="function"?i(r,a):i),!1))}_refinement(t){return new $o({schema:this,typeName:gs.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:i=>this["~validate"](i)}}optional(){return El.create(this,this._def)}nullable(){return uu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fo.create(this)}promise(){return fg.create(this,this._def)}or(t){return Uy.create([this,t],this._def)}and(t){return Gy.create(this,t,this._def)}transform(t){return new $o({...ks(this._def),schema:this,typeName:gs.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const i=typeof t=="function"?t:()=>t;return new Zy({...ks(this._def),innerType:this,defaultValue:i,typeName:gs.ZodDefault})}brand(){return new nE({typeName:gs.ZodBranded,type:this,...ks(this._def)})}catch(t){const i=typeof t=="function"?t:()=>t;return new Qy({...ks(this._def),innerType:this,catchValue:i,typeName:gs.ZodCatch})}describe(t){const i=this.constructor;return new i({...this._def,description:t})}pipe(t){return Mv.create(this,t)}readonly(){return Jy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Tde=/^c[^\s-]{8,}$/i,Pde=/^[0-9a-z]+$/,Mde=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Ede=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ide=/^[a-z0-9_-]{21}$/i,Lde=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ode=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Dde=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Rde="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let fA;const Fde=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zde=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Bde=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Wde=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Hde=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Vde=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,GU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$de=new RegExp(`^${GU}$`);function qU(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Ude(e){return new RegExp(`^${qU(e)}$`)}function KU(e){let t=`${GU}T${qU(e)}`;const i=[];return i.push(e.local?"Z?":"Z"),e.offset&&i.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${i.join("|")})`,new RegExp(`^${t}$`)}function Gde(e,t){return!!((t==="v4"||!t)&&Fde.test(e)||(t==="v6"||!t)&&Bde.test(e))}function qde(e,t){if(!Lde.test(e))return!1;try{const[i]=e.split("."),r=i.replace(/-/g,"+").replace(/_/g,"/").padEnd(i.length+(4-i.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function Kde(e,t){return!!((t==="v4"||!t)&&zde.test(e)||(t==="v6"||!t)&&Wde.test(e))}class Io extends Ms{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==$t.string){const o=this._getOrReturnCtx(t);return zt(o,{code:_t.invalid_type,expected:$t.string,received:o.parsedType}),xs}const r=new yn;let a;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(a=this._getOrReturnCtx(t,a),zt(a,{code:_t.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(a=this._getOrReturnCtx(t,a),zt(a,{code:_t.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const u=t.data.length>o.value,m=t.data.length<o.value;(u||m)&&(a=this._getOrReturnCtx(t,a),u?zt(a,{code:_t.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):m&&zt(a,{code:_t.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")Dde.test(t.data)||(a=this._getOrReturnCtx(t,a),zt(a,{validation:"email",code:_t.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")fA||(fA=new RegExp(Rde,"u")),fA.test(t.data)||(a=this._getOrReturnCtx(t,a),zt(a,{validation:"emoji",code:_t.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")Ede.test(t.data)||(a=this._getOrReturnCtx(t,a),zt(a,{validation:"uuid",code:_t.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")Ide.test(t.data)||(a=this._getOrReturnCtx(t,a),zt(a,{validation:"nanoid",code:_t.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")Tde.test(t.data)||(a=this._getOrReturnCtx(t,a),zt(a,{validation:"cuid",code:_t.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")Pde.test(t.data)||(a=this._getOrReturnCtx(t,a),zt(a,{validation:"cuid2",code:_t.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")Mde.test(t.data)||(a=this._getOrReturnCtx(t,a),zt(a,{validation:"ulid",code:_t.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),zt(a,{validation:"url",code:_t.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),zt(a,{validation:"regex",code:_t.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(a=this._getOrReturnCtx(t,a),zt(a,{code:_t.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(a=this._getOrReturnCtx(t,a),zt(a,{code:_t.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(a=this._getOrReturnCtx(t,a),zt(a,{code:_t.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?KU(o).test(t.data)||(a=this._getOrReturnCtx(t,a),zt(a,{code:_t.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?$de.test(t.data)||(a=this._getOrReturnCtx(t,a),zt(a,{code:_t.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?Ude(o).test(t.data)||(a=this._getOrReturnCtx(t,a),zt(a,{code:_t.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?Ode.test(t.data)||(a=this._getOrReturnCtx(t,a),zt(a,{validation:"duration",code:_t.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?Gde(t.data,o.version)||(a=this._getOrReturnCtx(t,a),zt(a,{validation:"ip",code:_t.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?qde(t.data,o.alg)||(a=this._getOrReturnCtx(t,a),zt(a,{validation:"jwt",code:_t.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?Kde(t.data,o.version)||(a=this._getOrReturnCtx(t,a),zt(a,{validation:"cidr",code:_t.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Hde.test(t.data)||(a=this._getOrReturnCtx(t,a),zt(a,{validation:"base64",code:_t.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?Vde.test(t.data)||(a=this._getOrReturnCtx(t,a),zt(a,{validation:"base64url",code:_t.invalid_string,message:o.message}),r.dirty()):Gs.assertNever(o);return{status:r.value,value:t.data}}_regex(t,i,r){return this.refinement(a=>t.test(a),{validation:i,code:_t.invalid_string,...is.errToObj(r)})}_addCheck(t){return new Io({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...is.errToObj(t)})}url(t){return this._addCheck({kind:"url",...is.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...is.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...is.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...is.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...is.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...is.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...is.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...is.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...is.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...is.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...is.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...is.errToObj(t)})}datetime(t){var i,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(i=t==null?void 0:t.offset)!==null&&i!==void 0?i:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...is.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...is.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...is.errToObj(t)})}regex(t,i){return this._addCheck({kind:"regex",regex:t,...is.errToObj(i)})}includes(t,i){return this._addCheck({kind:"includes",value:t,position:i==null?void 0:i.position,...is.errToObj(i==null?void 0:i.message)})}startsWith(t,i){return this._addCheck({kind:"startsWith",value:t,...is.errToObj(i)})}endsWith(t,i){return this._addCheck({kind:"endsWith",value:t,...is.errToObj(i)})}min(t,i){return this._addCheck({kind:"min",value:t,...is.errToObj(i)})}max(t,i){return this._addCheck({kind:"max",value:t,...is.errToObj(i)})}length(t,i){return this._addCheck({kind:"length",value:t,...is.errToObj(i)})}nonempty(t){return this.min(1,is.errToObj(t))}trim(){return new Io({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Io({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Io({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const i of this._def.checks)i.kind==="min"&&(t===null||i.value>t)&&(t=i.value);return t}get maxLength(){let t=null;for(const i of this._def.checks)i.kind==="max"&&(t===null||i.value<t)&&(t=i.value);return t}}Io.create=e=>{var t;return new Io({checks:[],typeName:gs.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ks(e)})};function Yde(e,t){const i=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=i>r?i:r,o=parseInt(e.toFixed(a).replace(".","")),u=parseInt(t.toFixed(a).replace(".",""));return o%u/Math.pow(10,a)}class lu extends Ms{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==$t.number){const o=this._getOrReturnCtx(t);return zt(o,{code:_t.invalid_type,expected:$t.number,received:o.parsedType}),xs}let r;const a=new yn;for(const o of this._def.checks)o.kind==="int"?Gs.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),zt(r,{code:_t.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),zt(r,{code:_t.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),zt(r,{code:_t.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="multipleOf"?Yde(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),zt(r,{code:_t.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),zt(r,{code:_t.not_finite,message:o.message}),a.dirty()):Gs.assertNever(o);return{status:a.value,value:t.data}}gte(t,i){return this.setLimit("min",t,!0,is.toString(i))}gt(t,i){return this.setLimit("min",t,!1,is.toString(i))}lte(t,i){return this.setLimit("max",t,!0,is.toString(i))}lt(t,i){return this.setLimit("max",t,!1,is.toString(i))}setLimit(t,i,r,a){return new lu({...this._def,checks:[...this._def.checks,{kind:t,value:i,inclusive:r,message:is.toString(a)}]})}_addCheck(t){return new lu({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:is.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:is.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:is.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:is.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:is.toString(t)})}multipleOf(t,i){return this._addCheck({kind:"multipleOf",value:t,message:is.toString(i)})}finite(t){return this._addCheck({kind:"finite",message:is.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:is.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:is.toString(t)})}get minValue(){let t=null;for(const i of this._def.checks)i.kind==="min"&&(t===null||i.value>t)&&(t=i.value);return t}get maxValue(){let t=null;for(const i of this._def.checks)i.kind==="max"&&(t===null||i.value<t)&&(t=i.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Gs.isInteger(t.value))}get isFinite(){let t=null,i=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(i===null||r.value>i)&&(i=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(i)&&Number.isFinite(t)}}lu.create=e=>new lu({checks:[],typeName:gs.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ks(e)});class cu extends Ms{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==$t.bigint)return this._getInvalidInput(t);let r;const a=new yn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),zt(r,{code:_t.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),zt(r,{code:_t.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),zt(r,{code:_t.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):Gs.assertNever(o);return{status:a.value,value:t.data}}_getInvalidInput(t){const i=this._getOrReturnCtx(t);return zt(i,{code:_t.invalid_type,expected:$t.bigint,received:i.parsedType}),xs}gte(t,i){return this.setLimit("min",t,!0,is.toString(i))}gt(t,i){return this.setLimit("min",t,!1,is.toString(i))}lte(t,i){return this.setLimit("max",t,!0,is.toString(i))}lt(t,i){return this.setLimit("max",t,!1,is.toString(i))}setLimit(t,i,r,a){return new cu({...this._def,checks:[...this._def.checks,{kind:t,value:i,inclusive:r,message:is.toString(a)}]})}_addCheck(t){return new cu({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:is.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:is.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:is.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:is.toString(t)})}multipleOf(t,i){return this._addCheck({kind:"multipleOf",value:t,message:is.toString(i)})}get minValue(){let t=null;for(const i of this._def.checks)i.kind==="min"&&(t===null||i.value>t)&&(t=i.value);return t}get maxValue(){let t=null;for(const i of this._def.checks)i.kind==="max"&&(t===null||i.value<t)&&(t=i.value);return t}}cu.create=e=>{var t;return new cu({checks:[],typeName:gs.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ks(e)})};class Hy extends Ms{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==$t.boolean){const r=this._getOrReturnCtx(t);return zt(r,{code:_t.invalid_type,expected:$t.boolean,received:r.parsedType}),xs}return Rn(t.data)}}Hy.create=e=>new Hy({typeName:gs.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ks(e)});class tp extends Ms{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==$t.date){const o=this._getOrReturnCtx(t);return zt(o,{code:_t.invalid_type,expected:$t.date,received:o.parsedType}),xs}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return zt(o,{code:_t.invalid_date}),xs}const r=new yn;let a;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(a=this._getOrReturnCtx(t,a),zt(a,{code:_t.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(a=this._getOrReturnCtx(t,a),zt(a,{code:_t.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Gs.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new tp({...this._def,checks:[...this._def.checks,t]})}min(t,i){return this._addCheck({kind:"min",value:t.getTime(),message:is.toString(i)})}max(t,i){return this._addCheck({kind:"max",value:t.getTime(),message:is.toString(i)})}get minDate(){let t=null;for(const i of this._def.checks)i.kind==="min"&&(t===null||i.value>t)&&(t=i.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const i of this._def.checks)i.kind==="max"&&(t===null||i.value<t)&&(t=i.value);return t!=null?new Date(t):null}}tp.create=e=>new tp({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:gs.ZodDate,...ks(e)});class uN extends Ms{_parse(t){if(this._getType(t)!==$t.symbol){const r=this._getOrReturnCtx(t);return zt(r,{code:_t.invalid_type,expected:$t.symbol,received:r.parsedType}),xs}return Rn(t.data)}}uN.create=e=>new uN({typeName:gs.ZodSymbol,...ks(e)});class Vy extends Ms{_parse(t){if(this._getType(t)!==$t.undefined){const r=this._getOrReturnCtx(t);return zt(r,{code:_t.invalid_type,expected:$t.undefined,received:r.parsedType}),xs}return Rn(t.data)}}Vy.create=e=>new Vy({typeName:gs.ZodUndefined,...ks(e)});class $y extends Ms{_parse(t){if(this._getType(t)!==$t.null){const r=this._getOrReturnCtx(t);return zt(r,{code:_t.invalid_type,expected:$t.null,received:r.parsedType}),xs}return Rn(t.data)}}$y.create=e=>new $y({typeName:gs.ZodNull,...ks(e)});class mg extends Ms{constructor(){super(...arguments),this._any=!0}_parse(t){return Rn(t.data)}}mg.create=e=>new mg({typeName:gs.ZodAny,...ks(e)});class Hh extends Ms{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Rn(t.data)}}Hh.create=e=>new Hh({typeName:gs.ZodUnknown,...ks(e)});class Wc extends Ms{_parse(t){const i=this._getOrReturnCtx(t);return zt(i,{code:_t.invalid_type,expected:$t.never,received:i.parsedType}),xs}}Wc.create=e=>new Wc({typeName:gs.ZodNever,...ks(e)});class hN extends Ms{_parse(t){if(this._getType(t)!==$t.undefined){const r=this._getOrReturnCtx(t);return zt(r,{code:_t.invalid_type,expected:$t.void,received:r.parsedType}),xs}return Rn(t.data)}}hN.create=e=>new hN({typeName:gs.ZodVoid,...ks(e)});class Fo extends Ms{_parse(t){const{ctx:i,status:r}=this._processInputParams(t),a=this._def;if(i.parsedType!==$t.array)return zt(i,{code:_t.invalid_type,expected:$t.array,received:i.parsedType}),xs;if(a.exactLength!==null){const u=i.data.length>a.exactLength.value,m=i.data.length<a.exactLength.value;(u||m)&&(zt(i,{code:u?_t.too_big:_t.too_small,minimum:m?a.exactLength.value:void 0,maximum:u?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&i.data.length<a.minLength.value&&(zt(i,{code:_t.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&i.data.length>a.maxLength.value&&(zt(i,{code:_t.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),i.common.async)return Promise.all([...i.data].map((u,m)=>a.type._parseAsync(new Ll(i,u,i.path,m)))).then(u=>yn.mergeArray(r,u));const o=[...i.data].map((u,m)=>a.type._parseSync(new Ll(i,u,i.path,m)));return yn.mergeArray(r,o)}get element(){return this._def.type}min(t,i){return new Fo({...this._def,minLength:{value:t,message:is.toString(i)}})}max(t,i){return new Fo({...this._def,maxLength:{value:t,message:is.toString(i)}})}length(t,i){return new Fo({...this._def,exactLength:{value:t,message:is.toString(i)}})}nonempty(t){return this.min(1,t)}}Fo.create=(e,t)=>new Fo({type:e,minLength:null,maxLength:null,exactLength:null,typeName:gs.ZodArray,...ks(t)});function sf(e){if(e instanceof $i){const t={};for(const i in e.shape){const r=e.shape[i];t[i]=El.create(sf(r))}return new $i({...e._def,shape:()=>t})}else return e instanceof Fo?new Fo({...e._def,type:sf(e.element)}):e instanceof El?El.create(sf(e.unwrap())):e instanceof uu?uu.create(sf(e.unwrap())):e instanceof Ol?Ol.create(e.items.map(t=>sf(t))):e}class $i extends Ms{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),i=Gs.objectKeys(t);return this._cached={shape:t,keys:i}}_parse(t){if(this._getType(t)!==$t.object){const w=this._getOrReturnCtx(t);return zt(w,{code:_t.invalid_type,expected:$t.object,received:w.parsedType}),xs}const{status:r,ctx:a}=this._processInputParams(t),{shape:o,keys:u}=this._getCached(),m=[];if(!(this._def.catchall instanceof Wc&&this._def.unknownKeys==="strip"))for(const w in a.data)u.includes(w)||m.push(w);const x=[];for(const w of u){const A=o[w],E=a.data[w];x.push({key:{status:"valid",value:w},value:A._parse(new Ll(a,E,a.path,w)),alwaysSet:w in a.data})}if(this._def.catchall instanceof Wc){const w=this._def.unknownKeys;if(w==="passthrough")for(const A of m)x.push({key:{status:"valid",value:A},value:{status:"valid",value:a.data[A]}});else if(w==="strict")m.length>0&&(zt(a,{code:_t.unrecognized_keys,keys:m}),r.dirty());else if(w!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const w=this._def.catchall;for(const A of m){const E=a.data[A];x.push({key:{status:"valid",value:A},value:w._parse(new Ll(a,E,a.path,A)),alwaysSet:A in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const w=[];for(const A of x){const E=await A.key,O=await A.value;w.push({key:E,value:O,alwaysSet:A.alwaysSet})}return w}).then(w=>yn.mergeObjectSync(r,w)):yn.mergeObjectSync(r,x)}get shape(){return this._def.shape()}strict(t){return is.errToObj,new $i({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(i,r)=>{var a,o,u,m;const x=(u=(o=(a=this._def).errorMap)===null||o===void 0?void 0:o.call(a,i,r).message)!==null&&u!==void 0?u:r.defaultError;return i.code==="unrecognized_keys"?{message:(m=is.errToObj(t).message)!==null&&m!==void 0?m:x}:{message:x}}}:{}})}strip(){return new $i({...this._def,unknownKeys:"strip"})}passthrough(){return new $i({...this._def,unknownKeys:"passthrough"})}extend(t){return new $i({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new $i({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:gs.ZodObject})}setKey(t,i){return this.augment({[t]:i})}catchall(t){return new $i({...this._def,catchall:t})}pick(t){const i={};return Gs.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(i[r]=this.shape[r])}),new $i({...this._def,shape:()=>i})}omit(t){const i={};return Gs.objectKeys(this.shape).forEach(r=>{t[r]||(i[r]=this.shape[r])}),new $i({...this._def,shape:()=>i})}deepPartial(){return sf(this)}partial(t){const i={};return Gs.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];t&&!t[r]?i[r]=a:i[r]=a.optional()}),new $i({...this._def,shape:()=>i})}required(t){const i={};return Gs.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])i[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof El;)o=o._def.innerType;i[r]=o}}),new $i({...this._def,shape:()=>i})}keyof(){return YU(Gs.objectKeys(this.shape))}}$i.create=(e,t)=>new $i({shape:()=>e,unknownKeys:"strip",catchall:Wc.create(),typeName:gs.ZodObject,...ks(t)});$i.strictCreate=(e,t)=>new $i({shape:()=>e,unknownKeys:"strict",catchall:Wc.create(),typeName:gs.ZodObject,...ks(t)});$i.lazycreate=(e,t)=>new $i({shape:e,unknownKeys:"strip",catchall:Wc.create(),typeName:gs.ZodObject,...ks(t)});class Uy extends Ms{_parse(t){const{ctx:i}=this._processInputParams(t),r=this._def.options;function a(o){for(const m of o)if(m.result.status==="valid")return m.result;for(const m of o)if(m.result.status==="dirty")return i.common.issues.push(...m.ctx.common.issues),m.result;const u=o.map(m=>new Aa(m.ctx.common.issues));return zt(i,{code:_t.invalid_union,unionErrors:u}),xs}if(i.common.async)return Promise.all(r.map(async o=>{const u={...i,common:{...i.common,issues:[]},parent:null};return{result:await o._parseAsync({data:i.data,path:i.path,parent:u}),ctx:u}})).then(a);{let o;const u=[];for(const x of r){const w={...i,common:{...i.common,issues:[]},parent:null},A=x._parseSync({data:i.data,path:i.path,parent:w});if(A.status==="valid")return A;A.status==="dirty"&&!o&&(o={result:A,ctx:w}),w.common.issues.length&&u.push(w.common.issues)}if(o)return i.common.issues.push(...o.ctx.common.issues),o.result;const m=u.map(x=>new Aa(x));return zt(i,{code:_t.invalid_union,unionErrors:m}),xs}}get options(){return this._def.options}}Uy.create=(e,t)=>new Uy({options:e,typeName:gs.ZodUnion,...ks(t)});const gc=e=>e instanceof Ky?gc(e.schema):e instanceof $o?gc(e.innerType()):e instanceof Yy?[e.value]:e instanceof du?e.options:e instanceof Xy?Gs.objectValues(e.enum):e instanceof Zy?gc(e._def.innerType):e instanceof Vy?[void 0]:e instanceof $y?[null]:e instanceof El?[void 0,...gc(e.unwrap())]:e instanceof uu?[null,...gc(e.unwrap())]:e instanceof nE||e instanceof Jy?gc(e.unwrap()):e instanceof Qy?gc(e._def.innerType):[];class pj extends Ms{_parse(t){const{ctx:i}=this._processInputParams(t);if(i.parsedType!==$t.object)return zt(i,{code:_t.invalid_type,expected:$t.object,received:i.parsedType}),xs;const r=this.discriminator,a=i.data[r],o=this.optionsMap.get(a);return o?i.common.async?o._parseAsync({data:i.data,path:i.path,parent:i}):o._parseSync({data:i.data,path:i.path,parent:i}):(zt(i,{code:_t.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),xs)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,i,r){const a=new Map;for(const o of i){const u=gc(o.shape[t]);if(!u.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const m of u){if(a.has(m))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(m)}`);a.set(m,o)}}return new pj({typeName:gs.ZodDiscriminatedUnion,discriminator:t,options:i,optionsMap:a,...ks(r)})}}function pT(e,t){const i=vc(e),r=vc(t);if(e===t)return{valid:!0,data:e};if(i===$t.object&&r===$t.object){const a=Gs.objectKeys(t),o=Gs.objectKeys(e).filter(m=>a.indexOf(m)!==-1),u={...e,...t};for(const m of o){const x=pT(e[m],t[m]);if(!x.valid)return{valid:!1};u[m]=x.data}return{valid:!0,data:u}}else if(i===$t.array&&r===$t.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let o=0;o<e.length;o++){const u=e[o],m=t[o],x=pT(u,m);if(!x.valid)return{valid:!1};a.push(x.data)}return{valid:!0,data:a}}else return i===$t.date&&r===$t.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Gy extends Ms{_parse(t){const{status:i,ctx:r}=this._processInputParams(t),a=(o,u)=>{if(uT(o)||uT(u))return xs;const m=pT(o.value,u.value);return m.valid?((hT(o)||hT(u))&&i.dirty(),{status:i.value,value:m.data}):(zt(r,{code:_t.invalid_intersection_types}),xs)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,u])=>a(o,u)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Gy.create=(e,t,i)=>new Gy({left:e,right:t,typeName:gs.ZodIntersection,...ks(i)});class Ol extends Ms{_parse(t){const{status:i,ctx:r}=this._processInputParams(t);if(r.parsedType!==$t.array)return zt(r,{code:_t.invalid_type,expected:$t.array,received:r.parsedType}),xs;if(r.data.length<this._def.items.length)return zt(r,{code:_t.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),xs;!this._def.rest&&r.data.length>this._def.items.length&&(zt(r,{code:_t.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),i.dirty());const o=[...r.data].map((u,m)=>{const x=this._def.items[m]||this._def.rest;return x?x._parse(new Ll(r,u,r.path,m)):null}).filter(u=>!!u);return r.common.async?Promise.all(o).then(u=>yn.mergeArray(i,u)):yn.mergeArray(i,o)}get items(){return this._def.items}rest(t){return new Ol({...this._def,rest:t})}}Ol.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ol({items:e,typeName:gs.ZodTuple,rest:null,...ks(t)})};class qy extends Ms{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:i,ctx:r}=this._processInputParams(t);if(r.parsedType!==$t.object)return zt(r,{code:_t.invalid_type,expected:$t.object,received:r.parsedType}),xs;const a=[],o=this._def.keyType,u=this._def.valueType;for(const m in r.data)a.push({key:o._parse(new Ll(r,m,r.path,m)),value:u._parse(new Ll(r,r.data[m],r.path,m)),alwaysSet:m in r.data});return r.common.async?yn.mergeObjectAsync(i,a):yn.mergeObjectSync(i,a)}get element(){return this._def.valueType}static create(t,i,r){return i instanceof Ms?new qy({keyType:t,valueType:i,typeName:gs.ZodRecord,...ks(r)}):new qy({keyType:Io.create(),valueType:t,typeName:gs.ZodRecord,...ks(i)})}}class pN extends Ms{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:i,ctx:r}=this._processInputParams(t);if(r.parsedType!==$t.map)return zt(r,{code:_t.invalid_type,expected:$t.map,received:r.parsedType}),xs;const a=this._def.keyType,o=this._def.valueType,u=[...r.data.entries()].map(([m,x],w)=>({key:a._parse(new Ll(r,m,r.path,[w,"key"])),value:o._parse(new Ll(r,x,r.path,[w,"value"]))}));if(r.common.async){const m=new Map;return Promise.resolve().then(async()=>{for(const x of u){const w=await x.key,A=await x.value;if(w.status==="aborted"||A.status==="aborted")return xs;(w.status==="dirty"||A.status==="dirty")&&i.dirty(),m.set(w.value,A.value)}return{status:i.value,value:m}})}else{const m=new Map;for(const x of u){const w=x.key,A=x.value;if(w.status==="aborted"||A.status==="aborted")return xs;(w.status==="dirty"||A.status==="dirty")&&i.dirty(),m.set(w.value,A.value)}return{status:i.value,value:m}}}}pN.create=(e,t,i)=>new pN({valueType:t,keyType:e,typeName:gs.ZodMap,...ks(i)});class sp extends Ms{_parse(t){const{status:i,ctx:r}=this._processInputParams(t);if(r.parsedType!==$t.set)return zt(r,{code:_t.invalid_type,expected:$t.set,received:r.parsedType}),xs;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(zt(r,{code:_t.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),i.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(zt(r,{code:_t.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),i.dirty());const o=this._def.valueType;function u(x){const w=new Set;for(const A of x){if(A.status==="aborted")return xs;A.status==="dirty"&&i.dirty(),w.add(A.value)}return{status:i.value,value:w}}const m=[...r.data.values()].map((x,w)=>o._parse(new Ll(r,x,r.path,w)));return r.common.async?Promise.all(m).then(x=>u(x)):u(m)}min(t,i){return new sp({...this._def,minSize:{value:t,message:is.toString(i)}})}max(t,i){return new sp({...this._def,maxSize:{value:t,message:is.toString(i)}})}size(t,i){return this.min(t,i).max(t,i)}nonempty(t){return this.min(1,t)}}sp.create=(e,t)=>new sp({valueType:e,minSize:null,maxSize:null,typeName:gs.ZodSet,...ks(t)});class Rf extends Ms{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:i}=this._processInputParams(t);if(i.parsedType!==$t.function)return zt(i,{code:_t.invalid_type,expected:$t.function,received:i.parsedType}),xs;function r(m,x){return cN({data:m,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,lN(),pg].filter(w=>!!w),issueData:{code:_t.invalid_arguments,argumentsError:x}})}function a(m,x){return cN({data:m,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,lN(),pg].filter(w=>!!w),issueData:{code:_t.invalid_return_type,returnTypeError:x}})}const o={errorMap:i.common.contextualErrorMap},u=i.data;if(this._def.returns instanceof fg){const m=this;return Rn(async function(...x){const w=new Aa([]),A=await m._def.args.parseAsync(x,o).catch(G=>{throw w.addIssue(r(x,G)),w}),E=await Reflect.apply(u,this,A);return await m._def.returns._def.type.parseAsync(E,o).catch(G=>{throw w.addIssue(a(E,G)),w})})}else{const m=this;return Rn(function(...x){const w=m._def.args.safeParse(x,o);if(!w.success)throw new Aa([r(x,w.error)]);const A=Reflect.apply(u,this,w.data),E=m._def.returns.safeParse(A,o);if(!E.success)throw new Aa([a(A,E.error)]);return E.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Rf({...this._def,args:Ol.create(t).rest(Hh.create())})}returns(t){return new Rf({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,i,r){return new Rf({args:t||Ol.create([]).rest(Hh.create()),returns:i||Hh.create(),typeName:gs.ZodFunction,...ks(r)})}}class Ky extends Ms{get schema(){return this._def.getter()}_parse(t){const{ctx:i}=this._processInputParams(t);return this._def.getter()._parse({data:i.data,path:i.path,parent:i})}}Ky.create=(e,t)=>new Ky({getter:e,typeName:gs.ZodLazy,...ks(t)});class Yy extends Ms{_parse(t){if(t.data!==this._def.value){const i=this._getOrReturnCtx(t);return zt(i,{received:i.data,code:_t.invalid_literal,expected:this._def.value}),xs}return{status:"valid",value:t.data}}get value(){return this._def.value}}Yy.create=(e,t)=>new Yy({value:e,typeName:gs.ZodLiteral,...ks(t)});function YU(e,t){return new du({values:e,typeName:gs.ZodEnum,...ks(t)})}class du extends Ms{constructor(){super(...arguments),G0.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const i=this._getOrReturnCtx(t),r=this._def.values;return zt(i,{expected:Gs.joinValues(r),received:i.parsedType,code:_t.invalid_type}),xs}if(dN(this,G0)||UU(this,G0,new Set(this._def.values)),!dN(this,G0).has(t.data)){const i=this._getOrReturnCtx(t),r=this._def.values;return zt(i,{received:i.data,code:_t.invalid_enum_value,options:r}),xs}return Rn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const i of this._def.values)t[i]=i;return t}get Values(){const t={};for(const i of this._def.values)t[i]=i;return t}get Enum(){const t={};for(const i of this._def.values)t[i]=i;return t}extract(t,i=this._def){return du.create(t,{...this._def,...i})}exclude(t,i=this._def){return du.create(this.options.filter(r=>!t.includes(r)),{...this._def,...i})}}G0=new WeakMap;du.create=YU;class Xy extends Ms{constructor(){super(...arguments),q0.set(this,void 0)}_parse(t){const i=Gs.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==$t.string&&r.parsedType!==$t.number){const a=Gs.objectValues(i);return zt(r,{expected:Gs.joinValues(a),received:r.parsedType,code:_t.invalid_type}),xs}if(dN(this,q0)||UU(this,q0,new Set(Gs.getValidEnumValues(this._def.values))),!dN(this,q0).has(t.data)){const a=Gs.objectValues(i);return zt(r,{received:r.data,code:_t.invalid_enum_value,options:a}),xs}return Rn(t.data)}get enum(){return this._def.values}}q0=new WeakMap;Xy.create=(e,t)=>new Xy({values:e,typeName:gs.ZodNativeEnum,...ks(t)});class fg extends Ms{unwrap(){return this._def.type}_parse(t){const{ctx:i}=this._processInputParams(t);if(i.parsedType!==$t.promise&&i.common.async===!1)return zt(i,{code:_t.invalid_type,expected:$t.promise,received:i.parsedType}),xs;const r=i.parsedType===$t.promise?i.data:Promise.resolve(i.data);return Rn(r.then(a=>this._def.type.parseAsync(a,{path:i.path,errorMap:i.common.contextualErrorMap})))}}fg.create=(e,t)=>new fg({type:e,typeName:gs.ZodPromise,...ks(t)});class $o extends Ms{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===gs.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:i,ctx:r}=this._processInputParams(t),a=this._def.effect||null,o={addIssue:u=>{zt(r,u),u.fatal?i.abort():i.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="preprocess"){const u=a.transform(r.data,o);if(r.common.async)return Promise.resolve(u).then(async m=>{if(i.value==="aborted")return xs;const x=await this._def.schema._parseAsync({data:m,path:r.path,parent:r});return x.status==="aborted"?xs:x.status==="dirty"||i.value==="dirty"?Nf(x.value):x});{if(i.value==="aborted")return xs;const m=this._def.schema._parseSync({data:u,path:r.path,parent:r});return m.status==="aborted"?xs:m.status==="dirty"||i.value==="dirty"?Nf(m.value):m}}if(a.type==="refinement"){const u=m=>{const x=a.refinement(m,o);if(r.common.async)return Promise.resolve(x);if(x instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return m};if(r.common.async===!1){const m=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return m.status==="aborted"?xs:(m.status==="dirty"&&i.dirty(),u(m.value),{status:i.value,value:m.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(m=>m.status==="aborted"?xs:(m.status==="dirty"&&i.dirty(),u(m.value).then(()=>({status:i.value,value:m.value}))))}if(a.type==="transform")if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ep(u))return u;const m=a.transform(u.value,o);if(m instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:i.value,value:m}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>ep(u)?Promise.resolve(a.transform(u.value,o)).then(m=>({status:i.value,value:m})):u);Gs.assertNever(a)}}$o.create=(e,t,i)=>new $o({schema:e,typeName:gs.ZodEffects,effect:t,...ks(i)});$o.createWithPreprocess=(e,t,i)=>new $o({schema:t,effect:{type:"preprocess",transform:e},typeName:gs.ZodEffects,...ks(i)});class El extends Ms{_parse(t){return this._getType(t)===$t.undefined?Rn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}El.create=(e,t)=>new El({innerType:e,typeName:gs.ZodOptional,...ks(t)});class uu extends Ms{_parse(t){return this._getType(t)===$t.null?Rn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}uu.create=(e,t)=>new uu({innerType:e,typeName:gs.ZodNullable,...ks(t)});class Zy extends Ms{_parse(t){const{ctx:i}=this._processInputParams(t);let r=i.data;return i.parsedType===$t.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:i.path,parent:i})}removeDefault(){return this._def.innerType}}Zy.create=(e,t)=>new Zy({innerType:e,typeName:gs.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ks(t)});class Qy extends Ms{_parse(t){const{ctx:i}=this._processInputParams(t),r={...i,common:{...i.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Wy(a)?a.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Aa(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Aa(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Qy.create=(e,t)=>new Qy({innerType:e,typeName:gs.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ks(t)});class mN extends Ms{_parse(t){if(this._getType(t)!==$t.nan){const r=this._getOrReturnCtx(t);return zt(r,{code:_t.invalid_type,expected:$t.nan,received:r.parsedType}),xs}return{status:"valid",value:t.data}}}mN.create=e=>new mN({typeName:gs.ZodNaN,...ks(e)});const Xde=Symbol("zod_brand");class nE extends Ms{_parse(t){const{ctx:i}=this._processInputParams(t),r=i.data;return this._def.type._parse({data:r,path:i.path,parent:i})}unwrap(){return this._def.type}}class Mv extends Ms{_parse(t){const{status:i,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?xs:o.status==="dirty"?(i.dirty(),Nf(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?xs:a.status==="dirty"?(i.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(t,i){return new Mv({in:t,out:i,typeName:gs.ZodPipeline})}}class Jy extends Ms{_parse(t){const i=this._def.innerType._parse(t),r=a=>(ep(a)&&(a.value=Object.freeze(a.value)),a);return Wy(i)?i.then(a=>r(a)):r(i)}unwrap(){return this._def.innerType}}Jy.create=(e,t)=>new Jy({innerType:e,typeName:gs.ZodReadonly,...ks(t)});function y4(e,t){const i=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof i=="string"?{message:i}:i}function XU(e,t={},i){return e?mg.create().superRefine((r,a)=>{var o,u;const m=e(r);if(m instanceof Promise)return m.then(x=>{var w,A;if(!x){const E=y4(t,r),O=(A=(w=E.fatal)!==null&&w!==void 0?w:i)!==null&&A!==void 0?A:!0;a.addIssue({code:"custom",...E,fatal:O})}});if(!m){const x=y4(t,r),w=(u=(o=x.fatal)!==null&&o!==void 0?o:i)!==null&&u!==void 0?u:!0;a.addIssue({code:"custom",...x,fatal:w})}}):mg.create()}const Zde={object:$i.lazycreate};var gs;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(gs||(gs={}));const Qde=(e,t={message:`Input not instance of ${e.name}`})=>XU(i=>i instanceof e,t),ZU=Io.create,QU=lu.create,Jde=mN.create,eue=cu.create,JU=Hy.create,tue=tp.create,sue=uN.create,iue=Vy.create,rue=$y.create,nue=mg.create,aue=Hh.create,oue=Wc.create,lue=hN.create,cue=Fo.create,due=$i.create,uue=$i.strictCreate,hue=Uy.create,pue=pj.create,mue=Gy.create,fue=Ol.create,gue=qy.create,xue=pN.create,yue=sp.create,vue=Rf.create,bue=Ky.create,wue=Yy.create,_ue=du.create,Nue=Xy.create,jue=fg.create,v4=$o.create,kue=El.create,Sue=uu.create,Aue=$o.createWithPreprocess,Cue=Mv.create,Tue=()=>ZU().optional(),Pue=()=>QU().optional(),Mue=()=>JU().optional(),Eue={string:e=>Io.create({...e,coerce:!0}),number:e=>lu.create({...e,coerce:!0}),boolean:e=>Hy.create({...e,coerce:!0}),bigint:e=>cu.create({...e,coerce:!0}),date:e=>tp.create({...e,coerce:!0})},Iue=xs;var si=Object.freeze({__proto__:null,defaultErrorMap:pg,setErrorMap:Ade,getErrorMap:lN,makeIssue:cN,EMPTY_PATH:Cde,addIssueToContext:zt,ParseStatus:yn,INVALID:xs,DIRTY:Nf,OK:Rn,isAborted:uT,isDirty:hT,isValid:ep,isAsync:Wy,get util(){return Gs},get objectUtil(){return dT},ZodParsedType:$t,getParsedType:vc,ZodType:Ms,datetimeRegex:KU,ZodString:Io,ZodNumber:lu,ZodBigInt:cu,ZodBoolean:Hy,ZodDate:tp,ZodSymbol:uN,ZodUndefined:Vy,ZodNull:$y,ZodAny:mg,ZodUnknown:Hh,ZodNever:Wc,ZodVoid:hN,ZodArray:Fo,ZodObject:$i,ZodUnion:Uy,ZodDiscriminatedUnion:pj,ZodIntersection:Gy,ZodTuple:Ol,ZodRecord:qy,ZodMap:pN,ZodSet:sp,ZodFunction:Rf,ZodLazy:Ky,ZodLiteral:Yy,ZodEnum:du,ZodNativeEnum:Xy,ZodPromise:fg,ZodEffects:$o,ZodTransformer:$o,ZodOptional:El,ZodNullable:uu,ZodDefault:Zy,ZodCatch:Qy,ZodNaN:mN,BRAND:Xde,ZodBranded:nE,ZodPipeline:Mv,ZodReadonly:Jy,custom:XU,Schema:Ms,ZodSchema:Ms,late:Zde,get ZodFirstPartyTypeKind(){return gs},coerce:Eue,any:nue,array:cue,bigint:eue,boolean:JU,date:tue,discriminatedUnion:pue,effect:v4,enum:_ue,function:vue,instanceof:Qde,intersection:mue,lazy:bue,literal:wue,map:xue,nan:Jde,nativeEnum:Nue,never:oue,null:rue,nullable:Sue,number:QU,object:due,oboolean:Mue,onumber:Pue,optional:kue,ostring:Tue,pipeline:Cue,preprocess:Aue,promise:jue,record:gue,set:yue,strictObject:uue,string:ZU,symbol:sue,transformer:v4,tuple:fue,undefined:iue,union:hue,unknown:aue,void:lue,NEVER:Iue,ZodIssueCode:_t,quotelessJson:Sde,ZodError:Aa});const Vi={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function dr(e,t){return t.includes(e.columnType)}function Lue(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const Oue=si.union([si.string(),si.number(),si.boolean(),si.null()]),Due=si.union([Oue,si.record(si.any()),si.array(si.any())]),Rue=si.custom(e=>e instanceof Buffer);function e9(e,t){const i=(t==null?void 0:t.zodInstance)??si,r=(t==null?void 0:t.coerce)??{};let a;return Lue(e)&&(a=e.enumValues.length?i.enum(e.enumValues):i.string()),a||(dr(e,["PgGeometry","PgPointTuple"])?a=i.tuple([i.number(),i.number()]):dr(e,["PgGeometryObject","PgPointObject"])?a=i.object({x:i.number(),y:i.number()}):dr(e,["PgHalfVector","PgVector"])?(a=i.array(i.number()),a=e.dimensions?a.length(e.dimensions):a):dr(e,["PgLine"])?a=i.tuple([i.number(),i.number(),i.number()]):dr(e,["PgLineABC"])?a=i.object({a:i.number(),b:i.number(),c:i.number()}):dr(e,["PgArray"])?(a=i.array(e9(e.baseColumn,i)),a=e.size?a.length(e.size):a):e.dataType==="array"?a=i.array(i.any()):e.dataType==="number"?a=Fue(e,i,r):e.dataType==="bigint"?a=zue(e,i,r):e.dataType==="boolean"?a=r===!0||r.boolean?i.coerce.boolean():i.boolean():e.dataType==="date"?a=r===!0||r.date?i.coerce.date():i.date():e.dataType==="string"?a=Bue(e,i,r):e.dataType==="json"?a=Due:e.dataType==="custom"?a=i.any():e.dataType==="buffer"&&(a=Rue)),a||(a=i.any()),a}function Fue(e,t,i){let r=e.getSQLType().includes("unsigned"),a,o,u=!1;dr(e,["MySqlTinyInt","SingleStoreTinyInt"])?(a=r?0:Vi.INT8_MIN,o=r?Vi.INT8_UNSIGNED_MAX:Vi.INT8_MAX,u=!0):dr(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=r?0:Vi.INT16_MIN,o=r?Vi.INT16_UNSIGNED_MAX:Vi.INT16_MAX,u=!0):dr(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=r?0:Vi.INT24_MIN,o=r?Vi.INT24_UNSIGNED_MAX:Vi.INT24_MAX,u=dr(e,["MySqlMediumInt","SingleStoreMediumInt"])):dr(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=r?0:Vi.INT32_MIN,o=r?Vi.INT32_UNSIGNED_MAX:Vi.INT32_MAX,u=!0):dr(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=r?0:Vi.INT48_MIN,o=r?Vi.INT48_UNSIGNED_MAX:Vi.INT48_MAX):dr(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||dr(e,["MySqlSerial","SingleStoreSerial"]),a=r?0:Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,u=!0):dr(e,["MySqlYear","SingleStoreYear"])?(a=1901,o=2155,u=!0):(a=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER);let m=i===!0||i!=null&&i.number?t.coerce.number():t.number();return m=m.min(a).max(o),u?m.int():m}function zue(e,t,i){const r=e.getSQLType().includes("unsigned"),a=r?0n:Vi.INT64_MIN,o=r?Vi.INT64_UNSIGNED_MAX:Vi.INT64_MAX;return(i===!0||i!=null&&i.bigint?t.coerce.bigint():t.bigint()).min(a).max(o)}function Bue(e,t,i){if(dr(e,["PgUUID"]))return t.string().uuid();let r,a,o=!1;dr(e,["PgVarchar","SQLiteText"])?r=e.length:dr(e,["MySqlVarChar","SingleStoreVarChar"])?r=e.length??Vi.INT16_UNSIGNED_MAX:dr(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?r=Vi.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?r=Vi.INT24_UNSIGNED_MAX:e.textType==="text"?r=Vi.INT16_UNSIGNED_MAX:r=Vi.INT8_UNSIGNED_MAX),dr(e,["PgChar","MySqlChar","SingleStoreChar"])&&(r=e.length,o=!0),dr(e,["PgBinaryVector"])&&(a=/^[01]+$/,r=e.dimensions);let u=i===!0||i!=null&&i.string?t.coerce.string():t.string();return u=a?u.regex(a):u,r&&o?u.length(r):r?u.max(r):u}function t9(e){return u$(e)?Qce(e):Jce(e)}function s9(e,t,i,r){const a={};for(const[o,u]of Object.entries(e)){if(!xr(u,hg)&&!xr(u,ir)&&!xr(u,ir.Aliased)&&typeof u=="object"){const E=u$(u)||Zce(u)?t9(u):u;a[o]=s9(E,t[o]??{},i,r);continue}const m=t[o];if(m!==void 0&&typeof m!="function"){a[o]=m;continue}const x=xr(u,hg)?u:void 0,w=x?e9(x,r):si.any(),A=typeof m=="function"?m(w):w;i.never(x)||(a[o]=A,x&&(i.nullable(x)&&(a[o]=a[o].nullable()),i.optional(x)&&(a[o]=a[o].optional())))}return si.object(a)}const Wue={never:e=>{var t,i;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((i=e==null?void 0:e.generatedIdentity)==null?void 0:i.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Ue=(e,t)=>{const i=t9(e);return s9(i,{},Wue)},Hue=[{name:"Golden Age",startYear:1938,endYear:1956,description:"Superman, Batman origins"},{name:"Silver Age",startYear:1956,endYear:1970,description:"Marvel renaissance, Spider-Man debut"},{name:"Bronze Age",startYear:1970,endYear:1985,description:"Darker themes, social issues"},{name:"Copper Age",startYear:1985,endYear:1991,description:"Watchmen, Dark Knight Returns"},{name:"Modern Age",startYear:1992,endYear:2004,description:"Image Comics, creator-owned boom"},{name:"Indie/Digital Age",startYear:2005,endYear:2010,description:"Independent publishers rise"},{name:"Post-Modern Age",startYear:2011,endYear:new Date().getFullYear(),description:"DC New 52, digital acceleration"}];function b4(e){for(const t of Hue)if(e>=t.startYear&&e<=t.endYear)return t.name;return"Unknown Era"}Ve("sessions",{sid:le("sid").primaryKey(),sess:Ce("sess").notNull(),expire:se("expire").notNull()},e=>[oe("IDX_session_expire").on(e.expire)]);const At=Ve("users",{id:le("id").primaryKey().default(He`gen_random_uuid()`),username:le("username").notNull().unique(),password:N("password"),email:le("email").unique(),firstName:le("first_name"),lastName:le("last_name"),profileImageUrl:le("profile_image_url"),subscriptionTier:N("subscription_tier").notNull().default("free"),subscriptionStatus:N("subscription_status").default("active"),subscriptionStartDate:se("subscription_start_date"),subscriptionEndDate:se("subscription_end_date"),stripeCustomerId:N("stripe_customer_id"),monthlyTradingCredits:ne("monthly_trading_credits").default(0),usedTradingCredits:ne("used_trading_credits").default(0),competitionWins:ne("competition_wins").default(0),competitionRanking:ne("competition_ranking"),virtualTradingBalance:U("virtual_trading_balance",{precision:15,scale:2}).default("100000.00"),dailyTradingLimit:U("daily_trading_limit",{precision:15,scale:2}).default("10000.00"),dailyTradingUsed:U("daily_trading_used",{precision:15,scale:2}).default("0.00"),maxPositionSize:U("max_position_size",{precision:10,scale:2}).default("5000.00"),riskTolerance:N("risk_tolerance").default("moderate"),tradingPermissions:Ce("trading_permissions").default('{"canTrade": true, "canUseMargin": false, "canShort": false}'),lastTradingActivity:se("last_trading_activity"),tradingStreakDays:ne("trading_streak_days").default(0),totalTradingProfit:U("total_trading_profit",{precision:15,scale:2}).default("0.00"),houseId:N("house_id"),houseJoinedAt:se("house_joined_at"),karma:ne("karma").default(0),lawfulChaoticAlignment:U("lawful_chaotic_alignment",{precision:8,scale:2}).default("0.00"),goodEvilAlignment:U("good_evil_alignment",{precision:8,scale:2}).default("0.00"),alignmentRevealed:Re("alignment_revealed").default(!1),alignmentLastUpdated:se("alignment_last_updated").defaultNow(),preferences:Ce("preferences"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),Vue=Ve("alignment_scores",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),ruthlessnessScore:U("ruthlessness_score",{precision:6,scale:2}).default("0.00"),individualismScore:U("individualism_score",{precision:6,scale:2}).default("0.00"),lawfulnessScore:U("lawfulness_score",{precision:6,scale:2}).default("0.00"),greedScore:U("greed_score",{precision:6,scale:2}).default("0.00"),ruthlessnessConfidence:U("ruthlessness_confidence",{precision:4,scale:2}).default("1.00"),individualismConfidence:U("individualism_confidence",{precision:4,scale:2}).default("1.00"),lawfulnessConfidence:U("lawfulness_confidence",{precision:4,scale:2}).default("1.00"),greedConfidence:U("greed_confidence",{precision:4,scale:2}).default("1.00"),assignedHouseId:le("assigned_house_id"),assignmentScore:U("assignment_score",{precision:8,scale:2}),secondaryHouseId:le("secondary_house_id"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),$ue=Ve("user_decisions",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),decisionType:N("decision_type").notNull(),scenarioId:N("scenario_id"),choiceId:N("choice_id"),ruthlessnessImpact:U("ruthlessness_impact",{precision:5,scale:2}).default("0.00"),individualismImpact:U("individualism_impact",{precision:5,scale:2}).default("0.00"),lawfulnessImpact:U("lawfulness_impact",{precision:5,scale:2}).default("0.00"),greedImpact:U("greed_impact",{precision:5,scale:2}).default("0.00"),displayedScore:ne("displayed_score"),displayedFeedback:N("displayed_feedback"),responseTime:ne("response_time"),contextData:Ce("context_data"),createdAt:se("created_at").defaultNow()}),i9=Ve("knowledge_test_results",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),profitScore:U("profit_score",{precision:6,scale:2}).notNull(),performanceRating:N("performance_rating").notNull(),displayedFeedback:N("displayed_feedback").notNull(),knowledgeScore:U("knowledge_score",{precision:6,scale:2}).notNull(),tier:N("tier").notNull(),weakAreas:N("weak_areas").array(),strengths:N("strengths").array(),tradingFloorAccess:Re("trading_floor_access").default(!1),accessLevel:N("access_level").default("restricted"),restrictionReason:N("restriction_reason"),completedAt:se("completed_at").defaultNow(),timeSpent:ne("time_spent"),questionsAnswered:ne("questions_answered").notNull(),retakeAllowedAt:se("retake_allowed_at"),attemptNumber:ne("attempt_number").default(1),createdAt:se("created_at").defaultNow()}),Uue=Ve("knowledge_test_responses",{id:le("id").primaryKey().default(He`gen_random_uuid()`),resultId:le("result_id").notNull().references(()=>i9.id),userId:le("user_id").notNull().references(()=>At.id),scenarioId:N("scenario_id").notNull(),choiceId:N("choice_id").notNull(),knowledgeScore:U("knowledge_score",{precision:6,scale:2}).notNull(),profitScore:U("profit_score",{precision:6,scale:2}).notNull(),responseTime:ne("response_time"),isCorrect:Re("is_correct").notNull(),knowledgeAreas:N("knowledge_areas").array(),createdAt:se("created_at").defaultNow()}),Rs=Ve("assets",{id:le("id").primaryKey().default(He`gen_random_uuid()`),symbol:N("symbol").notNull().unique(),name:N("name").notNull(),type:N("type").notNull(),description:N("description"),imageUrl:N("image_url"),coverImageUrl:N("cover_image_url"),metadata:Ce("metadata"),biography:N("biography"),keyWorks:N("key_works").array(),relatedAssetIds:N("related_asset_ids").array(),franchiseTags:N("franchise_tags").array(),teamTags:N("team_tags").array(),publisherTags:N("publisher_tags").array(),notableAppearances:N("notable_appearances").array(),houseId:le("house_id").references(()=>ev.id),houseInfluencePercent:U("house_influence_percent",{precision:5,scale:2}).default("0.00"),narrativeWeight:U("narrative_weight",{precision:5,scale:2}).default("50.00"),controlledSince:se("controlled_since"),previousHouseId:le("previous_house_id"),metadataEmbedding:di("metadata_embedding",{dimensions:1536}),verificationStatus:N("verification_status"),primaryDataSource:N("primary_data_source"),lastVerifiedAt:se("last_verified_at"),verificationMetadata:Ce("verification_metadata"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),Gue=Ve("asset_relationships",{id:le("id").primaryKey().default(He`gen_random_uuid()`),sourceAssetId:le("source_asset_id").notNull().references(()=>Rs.id),targetAssetId:le("target_asset_id").notNull().references(()=>Rs.id),relationshipType:N("relationship_type").notNull(),relationshipStrength:U("relationship_strength",{precision:3,scale:2}).default("0.50"),firstAppearance:N("first_appearance"),firstAppearanceComicId:le("first_appearance_comic_id"),keyIssues:N("key_issues").array(),description:N("description"),metadata:Ce("metadata"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_asset_rel_source").on(e.sourceAssetId),oe("idx_asset_rel_target").on(e.targetAssetId),oe("idx_asset_rel_type").on(e.relationshipType),oe("idx_asset_rel_source_type").on(e.sourceAssetId,e.relationshipType)]),que=Ve("market_data",{id:le("id").primaryKey().default(He`gen_random_uuid()`),assetId:le("asset_id").notNull().references(()=>Rs.id),timeframe:N("timeframe").notNull(),periodStart:se("period_start").notNull(),open:U("open",{precision:10,scale:2}).notNull(),high:U("high",{precision:10,scale:2}).notNull(),low:U("low",{precision:10,scale:2}).notNull(),close:U("close",{precision:10,scale:2}).notNull(),volume:ne("volume").notNull(),change:U("change",{precision:10,scale:2}),percentChange:U("percent_change",{precision:8,scale:2}),marketCap:U("market_cap",{precision:15,scale:2}),technicalIndicators:Ce("technical_indicators"),pricePatternEmbedding:di("price_pattern_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow()}),Kue=Ve("price_history",{id:le("id").primaryKey().default(He`gen_random_uuid()`),assetId:le("asset_id").notNull().references(()=>Rs.id),grade:N("grade").notNull(),price:U("price",{precision:10,scale:2}).notNull(),source:N("source").notNull(),snapshotDate:se("snapshot_date").notNull(),metadata:Ce("metadata"),createdAt:se("created_at").defaultNow()},e=>[oe("idx_price_history_asset_grade_date").on(e.assetId,e.grade,e.snapshotDate),oe("idx_price_history_snapshot_date").on(e.snapshotDate)]),zl=Ve("portfolios",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),name:N("name").notNull(),description:N("description"),totalValue:U("total_value",{precision:15,scale:2}),dayChange:U("day_change",{precision:10,scale:2}),dayChangePercent:U("day_change_percent",{precision:8,scale:2}),totalReturn:U("total_return",{precision:10,scale:2}),totalReturnPercent:U("total_return_percent",{precision:8,scale:2}),diversificationScore:U("diversification_score",{precision:3,scale:1}),cashBalance:U("cash_balance",{precision:15,scale:2}).default("100000.00"),initialCashAllocation:U("initial_cash_allocation",{precision:15,scale:2}).default("100000.00"),portfolioType:N("portfolio_type").default("default"),isDefault:Re("is_default").default(!1),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),Yue=Ve("holdings",{id:le("id").primaryKey().default(He`gen_random_uuid()`),portfolioId:le("portfolio_id").notNull().references(()=>zl.id),assetId:le("asset_id").notNull().references(()=>Rs.id),quantity:U("quantity",{precision:10,scale:4}).notNull(),averageCost:U("average_cost",{precision:10,scale:2}).notNull(),currentValue:U("current_value",{precision:10,scale:2}),unrealizedGainLoss:U("unrealized_gain_loss",{precision:10,scale:2}),unrealizedGainLossPercent:U("unrealized_gain_loss_percent",{precision:8,scale:2}),updatedAt:se("updated_at").defaultNow()}),Xue=Ve("market_insights",{id:le("id").primaryKey().default(He`gen_random_uuid()`),assetId:le("asset_id").references(()=>Rs.id),title:N("title").notNull(),content:N("content").notNull(),sentimentScore:U("sentiment_score",{precision:3,scale:2}),confidence:U("confidence",{precision:3,scale:2}),tags:N("tags").array(),source:N("source"),videoUrl:N("video_url"),thumbnailUrl:N("thumbnail_url"),category:N("category"),isActive:Re("is_active").default(!0),expiresAt:se("expires_at"),contentEmbedding:di("content_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow()}),r9=Ve("market_indices",{id:le("id").primaryKey().default(He`gen_random_uuid()`),symbol:N("symbol").notNull().unique(),name:N("name").notNull(),description:N("description"),indexType:N("index_type").notNull(),methodology:N("methodology"),constituents:Ce("constituents"),rebalanceFrequency:N("rebalance_frequency").default("monthly"),isActive:Re("is_active").default(!0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),Zue=Ve("market_index_data",{id:le("id").primaryKey().default(He`gen_random_uuid()`),indexId:le("index_id").notNull().references(()=>r9.id),timeframe:N("timeframe").notNull(),periodStart:se("period_start").notNull(),open:U("open",{precision:10,scale:2}).notNull(),high:U("high",{precision:10,scale:2}).notNull(),low:U("low",{precision:10,scale:2}).notNull(),close:U("close",{precision:10,scale:2}).notNull(),volume:ne("volume"),change:U("change",{precision:10,scale:2}),percentChange:U("percent_change",{precision:8,scale:2}),createdAt:se("created_at").defaultNow()}),n9=Ve("watchlists",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),name:N("name").notNull(),description:N("description"),isDefault:Re("is_default").default(!1),createdAt:se("created_at").defaultNow()}),Que=Ve("watchlist_assets",{id:le("id").primaryKey().default(He`gen_random_uuid()`),watchlistId:le("watchlist_id").notNull().references(()=>n9.id),assetId:le("asset_id").notNull().references(()=>Rs.id),addedAt:se("added_at").defaultNow()}),Ev=Ve("orders",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),portfolioId:le("portfolio_id").notNull().references(()=>zl.id),assetId:le("asset_id").notNull().references(()=>Rs.id),type:N("type").notNull(),side:N("side").notNull(),orderType:N("order_type").notNull(),quantity:U("quantity",{precision:10,scale:4}).notNull(),price:U("price",{precision:10,scale:2}),totalValue:U("total_value",{precision:10,scale:2}),status:N("status").notNull(),filledQuantity:U("filled_quantity",{precision:10,scale:4}).default("0"),averageFillPrice:U("average_fill_price",{precision:10,scale:2}),fees:U("fees",{precision:10,scale:2}).default("0.00"),stopLossPrice:U("stop_loss_price",{precision:10,scale:2}),takeProfitPrice:U("take_profit_price",{precision:10,scale:2}),orderExpiry:se("order_expiry"),executionDetails:Ce("execution_details"),rejectionReason:N("rejection_reason"),filledAt:se("filled_at"),createdAt:se("created_at").defaultNow()}),Jue=Ve("competition_leagues",{id:le("id").primaryKey().default(He`gen_random_uuid()`),name:N("name").notNull(),description:N("description"),season:N("season").notNull(),entryFee:U("entry_fee",{precision:10,scale:2}).default("0"),prizePool:U("prize_pool",{precision:10,scale:2}).default("0"),maxParticipants:ne("max_participants").default(100),currentParticipants:ne("current_participants").default(0),startDate:se("start_date").notNull(),endDate:se("end_date").notNull(),status:N("status").notNull().default("upcoming"),rules:Ce("rules"),aiOpponents:Ce("ai_opponents"),createdAt:se("created_at").defaultNow()});Ve("competition_participants",{id:le("id").primaryKey().default(He`gen_random_uuid()`),leagueId:le("league_id").notNull().references(()=>Jue.id),userId:le("user_id").references(()=>At.id),participantType:N("participant_type").notNull(),participantName:N("participant_name").notNull(),aiStrategy:N("ai_strategy"),portfolioValue:U("portfolio_value",{precision:15,scale:2}).default("100000"),totalReturn:U("total_return",{precision:10,scale:2}).default("0"),totalReturnPercent:U("total_return_percent",{precision:8,scale:2}).default("0"),currentRank:ne("current_rank"),trades:ne("trades").default(0),winRate:U("win_rate",{precision:8,scale:2}),riskScore:U("risk_score",{precision:3,scale:1}),joinedAt:se("joined_at").defaultNow()});const ehe=Ve("courses",{id:le("id").primaryKey().default(He`gen_random_uuid()`),title:N("title").notNull(),description:N("description"),category:N("category").notNull(),difficulty:N("difficulty").notNull(),requiredTier:N("required_tier").notNull().default("free"),duration:ne("duration"),modules:Ce("modules"),prerequisites:N("prerequisites").array(),learningOutcomes:N("learning_outcomes").array(),thumbnailUrl:N("thumbnail_url"),videoUrl:N("video_url"),isPublished:Re("is_published").default(!1),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()});Ve("user_course_progress",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),courseId:le("course_id").notNull().references(()=>ehe.id),progress:U("progress",{precision:8,scale:2}).default("0"),currentModule:ne("current_module").default(1),completedModules:ne("completed_modules").array(),timeSpent:ne("time_spent").default(0),quizScores:Ce("quiz_scores"),certificateEarned:Re("certificate_earned").default(!1),certificateUrl:N("certificate_url"),startedAt:se("started_at").defaultNow(),completedAt:se("completed_at")});const the=Ve("market_events",{id:le("id").primaryKey().default(He`gen_random_uuid()`),title:N("title").notNull(),description:N("description"),category:N("category"),impact:N("impact"),significance:U("significance",{precision:2,scale:1}),affectedAssets:N("affected_assets").array(),eventDate:se("event_date"),isActive:Re("is_active").default(!0),createdAt:se("created_at").defaultNow()}),Iv=Ve("investment_clubs",{id:le("id").primaryKey().default(He`gen_random_uuid()`),name:N("name").notNull(),ownerId:le("owner_id").notNull().references(()=>At.id),description:N("description"),minMembers:ne("min_members").default(3),minMonthsPositiveReturns:ne("min_months_positive_returns").default(3),status:N("status").notNull().default("active"),totalValue:U("total_value",{precision:15,scale:2}),monthlyReturns:U("monthly_returns",{precision:8,scale:2}).array(),createdAt:se("created_at").defaultNow(),dissolvedAt:se("dissolved_at")}),she=Ve("club_memberships",{id:le("id").primaryKey().default(He`gen_random_uuid()`),clubId:le("club_id").notNull().references(()=>Iv.id),userId:le("user_id").notNull().references(()=>At.id),role:N("role").notNull().default("member"),contributionAmount:U("contribution_amount",{precision:15,scale:2}),sharePercentage:U("share_percentage",{precision:5,scale:2}),joinedAt:se("joined_at").defaultNow(),leftAt:se("left_at"),status:N("status").notNull().default("active")}),ihe=Ve("club_portfolios",{id:le("id").primaryKey().default(He`gen_random_uuid()`),clubId:le("club_id").notNull().references(()=>Iv.id),portfolioId:le("portfolio_id").notNull().references(()=>zl.id),totalValue:U("total_value",{precision:15,scale:2}),cashBalance:U("cash_balance",{precision:15,scale:2}),createdAt:se("created_at").defaultNow()}),a9=Ve("club_proposals",{id:le("id").primaryKey().default(He`gen_random_uuid()`),clubId:le("club_id").notNull().references(()=>Iv.id),proposerId:le("proposer_id").notNull().references(()=>At.id),proposalType:N("proposal_type").notNull(),assetId:le("asset_id").references(()=>Rs.id),quantity:ne("quantity"),targetPrice:U("target_price",{precision:10,scale:2}),rationale:N("rationale"),status:N("status").notNull().default("pending"),votesFor:ne("votes_for").default(0),votesAgainst:ne("votes_against").default(0),votesNeeded:ne("votes_needed").notNull(),createdAt:se("created_at").defaultNow(),expiresAt:se("expires_at"),executedAt:se("executed_at")}),rhe=Ve("club_votes",{id:le("id").primaryKey().default(He`gen_random_uuid()`),proposalId:le("proposal_id").notNull().references(()=>a9.id),userId:le("user_id").notNull().references(()=>At.id),vote:N("vote").notNull(),votedAt:se("voted_at").defaultNow()}),nhe=Ve("club_activity_log",{id:le("id").primaryKey().default(He`gen_random_uuid()`),clubId:le("club_id").notNull().references(()=>Iv.id),actionType:N("action_type").notNull(),userId:le("user_id").references(()=>At.id),details:Ce("details"),timestamp:se("timestamp").defaultNow()}),ahe=Ve("article_pages",{id:le("id").primaryKey().default(He`gen_random_uuid()`),slug:N("slug").notNull().unique(),title:N("title").notNull(),content:N("content").notNull(),excerpt:N("excerpt"),author:N("author"),source:N("source"),publishedDate:se("published_date").notNull(),featuredImage:N("featured_image"),tags:N("tags").array(),category:N("category").default("market_news"),viewCount:ne("view_count").default(0),featured:Re("featured").default(!1),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()});Ue(At).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(At).pick({id:!0,username:!0,email:!0,firstName:!0,lastName:!0,profileImageUrl:!0});Ue(Rs).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(que).omit({id:!0,createdAt:!0});Ue(Kue).omit({id:!0,createdAt:!0});Ue(zl).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Yue).omit({id:!0,updatedAt:!0});Ue(Xue).omit({id:!0,createdAt:!0});Ue(r9).omit({id:!0,createdAt:!0});Ue(Zue).omit({id:!0,createdAt:!0});Ue(n9).omit({id:!0,createdAt:!0});Ue(Que).omit({id:!0,addedAt:!0});Ue(Ev).omit({id:!0,createdAt:!0,filledAt:!0}).refine(e=>!(e.orderType==="limit"&&(!e.price||parseFloat(e.price.toString())<=0)),{message:"Limit price is required for limit orders and must be greater than 0",path:["price"]});Ue(the).omit({id:!0,createdAt:!0});Ue(i9).omit({id:!0,createdAt:!0,completedAt:!0});Ue(Uue).omit({id:!0,createdAt:!0});Ue(Iv).omit({id:!0,createdAt:!0});Ue(she).omit({id:!0,joinedAt:!0});Ue(ihe).omit({id:!0,createdAt:!0});Ue(a9).omit({id:!0,createdAt:!0,executedAt:!0});Ue(rhe).omit({id:!0,votedAt:!0});Ue(nhe).omit({id:!0,timestamp:!0});const o9=Ve("beat_the_ai_challenges",{id:le("id").primaryKey().default(He`gen_random_uuid()`),title:N("title").notNull(),description:N("description").notNull(),targetAssets:N("target_assets").array().notNull(),startDate:se("start_date").notNull(),endDate:se("end_date").notNull(),prizePool:U("prize_pool",{precision:10,scale:2}).notNull(),participantCount:ne("participant_count").default(0),aiPrediction:U("ai_prediction",{precision:8,scale:2}).notNull(),status:N("status",{enum:["ACTIVE","UPCOMING","COMPLETED"]}).notNull().default("ACTIVE"),createdAt:se("created_at").defaultNow().notNull(),updatedAt:se("updated_at").defaultNow().notNull()});Ue(o9).omit({id:!0,createdAt:!0,updatedAt:!0});const ohe=Ve("beat_the_ai_predictions",{id:le("id").primaryKey().default(He`gen_random_uuid()`),challengeId:le("challenge_id").references(()=>o9.id).notNull(),userId:le("user_id").notNull(),username:N("username").notNull(),assetSymbol:N("asset_symbol").notNull(),predictedChange:U("predicted_change",{precision:8,scale:2}).notNull(),submissionTime:se("submission_time").defaultNow().notNull(),actualChange:U("actual_change",{precision:8,scale:2}),score:U("score",{precision:8,scale:2}),isWinner:Re("is_winner").default(!1)});Ue(ohe).omit({id:!0,submissionTime:!0,actualChange:!0,score:!0,isWinner:!0});const lhe=Ve("beat_the_ai_leaderboard",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull(),username:N("username").notNull(),totalScore:U("total_score",{precision:10,scale:2}).default("0"),accuracy:U("accuracy",{precision:8,scale:2}).default("0"),totalPredictions:ne("total_predictions").default(0),winnings:U("winnings",{precision:10,scale:2}).default("0"),rank:ne("rank").default(0),lastActive:se("last_active").defaultNow().notNull()});Ue(lhe).omit({id:!0,lastActive:!0});const aE=Ve("comic_series",{id:le("id").primaryKey().default(He`gen_random_uuid()`),seriesName:N("series_name").notNull(),publisher:N("publisher").notNull(),year:ne("year"),issueCount:N("issue_count"),coverStatus:N("cover_status"),publishedPeriod:N("published_period"),seriesUrl:N("series_url"),coversUrl:N("covers_url"),scansUrl:N("scans_url"),featuredCoverUrl:N("featured_cover_url"),description:N("description"),seriesEmbedding:di("series_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),l9=Ve("comic_issues",{id:le("id").primaryKey().default(He`gen_random_uuid()`),seriesId:le("series_id").references(()=>aE.id),comicName:N("comic_name").notNull(),activeYears:N("active_years"),issueTitle:N("issue_title").notNull(),publishDate:N("publish_date"),issueDescription:N("issue_description"),penciler:N("penciler"),writer:N("writer"),coverArtist:N("cover_artist"),imprint:N("imprint"),format:N("format"),rating:N("rating"),price:N("price"),coverImageUrl:N("cover_image_url"),issueNumber:ne("issue_number"),volume:ne("volume"),currentValue:U("current_value",{precision:10,scale:2}),gradeCondition:N("grade_condition"),marketTrend:N("market_trend"),contentEmbedding:di("content_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),che=Ve("comic_creators",{id:le("id").primaryKey().default(He`gen_random_uuid()`),name:N("name").notNull(),role:N("role").notNull(),biography:N("biography"),imageUrl:N("image_url"),birthDate:N("birth_date"),deathDate:N("death_date"),nationality:N("nationality"),totalIssues:ne("total_issues").default(0),activeYears:N("active_years"),notableWorks:N("notable_works").array(),awards:N("awards").array(),marketInfluence:U("market_influence",{precision:8,scale:2}),trendingScore:U("trending_score",{precision:8,scale:2}),creatorEmbedding:di("creator_embedding",{dimensions:1536}),verificationStatus:N("verification_status"),primaryDataSource:N("primary_data_source"),lastVerifiedAt:se("last_verified_at"),verificationMetadata:Ce("verification_metadata"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()});Ve("creator_affiliations",{id:le("id").primaryKey().default(He`gen_random_uuid()`),creatorName:N("creator_name").notNull(),publisherCode:N("publisher_code").notNull(),publisherFullName:N("publisher_full_name").notNull(),workCount:ne("work_count").default(0),firstWork:N("first_work"),lastWork:N("last_work"),yearsActive:N("years_active"),notableWorks:N("notable_works").array(),sourceData:Ce("source_data"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()});const dhe=Ve("featured_comics",{id:le("id").primaryKey().default(He`gen_random_uuid()`),issueId:le("issue_id").references(()=>l9.id),seriesId:le("series_id").references(()=>aE.id),featureType:N("feature_type").notNull(),displayOrder:ne("display_order").default(0),title:N("title").notNull(),subtitle:N("subtitle"),description:N("description"),featuredImageUrl:N("featured_image_url"),callToAction:N("call_to_action"),isActive:Re("is_active").default(!0),startDate:se("start_date"),endDate:se("end_date"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),uhe=Ve("comic_grading_predictions",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").references(()=>At.id),imageUrl:N("image_url").notNull(),imageName:N("image_name"),predictedGrade:U("predicted_grade",{precision:3,scale:1}).notNull(),gradeCategory:N("grade_category").notNull(),conditionFactors:Ce("condition_factors").notNull(),confidenceScore:U("confidence_score",{precision:8,scale:2}).notNull(),analysisDetails:N("analysis_details").notNull(),gradingNotes:N("grading_notes"),processingTimeMs:ne("processing_time_ms"),aiModel:N("ai_model").default("gpt-5"),status:N("status").notNull().default("completed"),imageEmbedding:di("image_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow()});Ue(aE).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(l9).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(che).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(dhe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(uhe).omit({id:!0,createdAt:!0});const hhe=Ve("narrative_events",{id:le("id").primaryKey().default(He`gen_random_uuid()`),title:N("title").notNull(),description:N("description").notNull(),eventType:N("event_type").notNull(),affectedHouses:N("affected_houses").array(),affectedAssets:N("affected_assets").array(),impactPercentage:U("impact_percentage",{precision:8,scale:2}).notNull(),duration:ne("duration").notNull(),severity:N("severity").notNull().default("low"),soundEffect:N("sound_effect"),visualStyle:N("visual_style"),narrative:N("narrative"),isActive:Re("is_active").default(!1),startTime:se("start_time"),endTime:se("end_time"),triggerCondition:N("trigger_condition"),marketContext:Ce("market_context"),parentEventId:le("parent_event_id"),chainReactionProbability:U("chain_reaction_probability",{precision:5,scale:2}).default("0.00"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()});Ue(hhe).omit({id:!0,createdAt:!0,updatedAt:!0});Ve("phase1_market_events",{id:le("id").primaryKey().default(He`gen_random_uuid()`),eventType:N("event_type").notNull(),severity:N("severity").notNull(),title:N("title").notNull(),description:N("description"),impact:Ce("impact"),visualEffect:N("visual_effect"),triggerVolatilityLevel:U("trigger_volatility_level",{precision:8,scale:2}),duration:ne("duration").default(60),timestamp:se("timestamp").defaultNow(),endTimestamp:se("end_timestamp"),createdAt:se("created_at").defaultNow()});Ve("volatility_history",{id:le("id").primaryKey().default(He`gen_random_uuid()`),level:U("level",{precision:8,scale:2}).notNull(),marketPhase:N("market_phase").notNull(),timeUntilTerminal:ne("time_until_terminal"),activeEvents:Ce("active_events"),affectedAssets:ne("affected_assets").default(0),tradingVolume:U("trading_volume",{precision:15,scale:2}),priceSwings:Ce("price_swings"),timestamp:se("timestamp").defaultNow()});const phe=Ve("trading_sessions",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),portfolioId:le("portfolio_id").notNull().references(()=>zl.id),sessionStart:se("session_start").defaultNow().notNull(),sessionEnd:se("session_end"),startingBalance:U("starting_balance",{precision:15,scale:2}).notNull(),endingBalance:U("ending_balance",{precision:15,scale:2}),totalTrades:ne("total_trades").default(0),profitableTrades:ne("profitable_trades").default(0),sessionProfit:U("session_profit",{precision:15,scale:2}).default("0.00"),sessionProfitPercent:U("session_profit_percent",{precision:8,scale:2}).default("0.00"),largestWin:U("largest_win",{precision:15,scale:2}).default("0.00"),largestLoss:U("largest_loss",{precision:15,scale:2}).default("0.00"),assetsTraded:N("assets_traded").array(),tradingStrategy:N("trading_strategy"),notes:N("notes"),isActive:Re("is_active").default(!0),createdAt:se("created_at").defaultNow()}),mhe=Ve("asset_current_prices",{id:le("id").primaryKey().default(He`gen_random_uuid()`),assetId:le("asset_id").notNull().references(()=>Rs.id),currentPrice:U("current_price",{precision:10,scale:2}).notNull(),bidPrice:U("bid_price",{precision:10,scale:2}),askPrice:U("ask_price",{precision:10,scale:2}),dayChange:U("day_change",{precision:10,scale:2}),dayChangePercent:U("day_change_percent",{precision:8,scale:2}),weekHigh:U("week_high",{precision:10,scale:2}),volume:ne("volume").default(0),lastTradePrice:U("last_trade_price",{precision:10,scale:2}),lastTradeQuantity:U("last_trade_quantity",{precision:10,scale:4}),lastTradeTime:se("last_trade_time"),marketStatus:N("market_status").default("open"),priceSource:N("price_source").default("simulation"),volatility:U("volatility",{precision:8,scale:2}),beta:U("beta",{precision:3,scale:2}),totalMarketValue:U("total_market_value",{precision:20,scale:2}),totalFloat:vu("total_float",{mode:"number"}),sharesPerCopy:ne("shares_per_copy").default(100),censusDistribution:Ce("census_distribution"),scarcityModifier:U("scarcity_modifier",{precision:5,scale:4}).default("1.0000"),averageComicValue:U("average_comic_value",{precision:15,scale:2}),updatedAt:se("updated_at").defaultNow(),createdAt:se("created_at").defaultNow()}),fhe=Ve("trading_limits",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),assetId:le("asset_id").references(()=>Rs.id),limitType:N("limit_type").notNull(),limitValue:U("limit_value",{precision:15,scale:2}).notNull(),currentUsage:U("current_usage",{precision:15,scale:2}).default("0.00"),resetPeriod:N("reset_period").default("daily"),lastReset:se("last_reset").defaultNow(),isActive:Re("is_active").default(!0),breachCount:ne("breach_count").default(0),lastBreach:se("last_breach"),breachAction:N("breach_action").default("block"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()});Ue(phe).omit({id:!0,createdAt:!0});Ue(mhe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(fhe).omit({id:!0,createdAt:!0,updatedAt:!0});const oE=Ve("trades",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),portfolioId:le("portfolio_id").notNull().references(()=>zl.id),assetId:le("asset_id").notNull().references(()=>Rs.id),orderId:le("order_id").references(()=>Ev.id),side:N("side").notNull(),quantity:U("quantity",{precision:10,scale:4}).notNull(),price:U("price",{precision:10,scale:2}).notNull(),totalValue:U("total_value",{precision:15,scale:2}).notNull(),fees:U("fees",{precision:10,scale:2}).default("0.00"),pnl:U("pnl",{precision:15,scale:2}),pnlPercent:U("pnl_percent",{precision:8,scale:2}),costBasis:U("cost_basis",{precision:15,scale:2}),executedAt:se("executed_at").defaultNow().notNull(),tradeType:N("trade_type").default("manual"),notes:N("notes"),moralImpact:U("moral_impact",{precision:10,scale:2}),createdAt:se("created_at").defaultNow()}),c9=Ve("positions",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),portfolioId:le("portfolio_id").notNull().references(()=>zl.id),assetId:le("asset_id").notNull().references(()=>Rs.id),quantity:U("quantity",{precision:10,scale:4}).notNull(),averageCost:U("average_cost",{precision:10,scale:2}).notNull(),totalCostBasis:U("total_cost_basis",{precision:15,scale:2}).notNull(),currentValue:U("current_value",{precision:15,scale:2}),currentPrice:U("current_price",{precision:10,scale:2}),unrealizedPnl:U("unrealized_pnl",{precision:15,scale:2}),unrealizedPnlPercent:U("unrealized_pnl_percent",{precision:8,scale:2}),firstBuyDate:se("first_buy_date").notNull(),lastTradeDate:se("last_trade_date").notNull(),totalBuys:ne("total_buys").default(1),totalSells:ne("total_sells").default(0),holdingPeriodDays:ne("holding_period_days"),stopLossPrice:U("stop_loss_price",{precision:10,scale:2}),takeProfitPrice:U("take_profit_price",{precision:10,scale:2}),maxPositionValue:U("max_position_value",{precision:15,scale:2}),maxUnrealizedProfit:U("max_unrealized_profit",{precision:15,scale:2}),updatedAt:se("updated_at").defaultNow(),createdAt:se("created_at").defaultNow()}),ghe=Ve("balances",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),portfolioId:le("portfolio_id").notNull().references(()=>zl.id),cash:U("cash",{precision:15,scale:2}).notNull().default("100000.00"),totalValue:U("total_value",{precision:15,scale:2}).notNull().default("100000.00"),buyingPower:U("buying_power",{precision:15,scale:2}).notNull().default("100000.00"),positionsValue:U("positions_value",{precision:15,scale:2}).default("0.00"),totalCostBasis:U("total_cost_basis",{precision:15,scale:2}).default("0.00"),realizedPnl:U("realized_pnl",{precision:15,scale:2}).default("0.00"),unrealizedPnl:U("unrealized_pnl",{precision:15,scale:2}).default("0.00"),totalPnl:U("total_pnl",{precision:15,scale:2}).default("0.00"),dayStartBalance:U("day_start_balance",{precision:15,scale:2}),dayPnl:U("day_pnl",{precision:15,scale:2}).default("0.00"),dayPnlPercent:U("day_pnl_percent",{precision:8,scale:2}).default("0.00"),allTimeHigh:U("all_time_high",{precision:15,scale:2}).default("100000.00"),allTimeLow:U("all_time_low",{precision:15,scale:2}).default("100000.00"),winRate:U("win_rate",{precision:5,scale:2}),sharpeRatio:U("sharpe_ratio",{precision:5,scale:2}),marginUsed:U("margin_used",{precision:15,scale:2}).default("0.00"),maintenanceMargin:U("maintenance_margin",{precision:15,scale:2}).default("0.00"),marginCallLevel:U("margin_call_level",{precision:15,scale:2}),lastTradeAt:se("last_trade_at"),lastCalculatedAt:se("last_calculated_at").defaultNow(),updatedAt:se("updated_at").defaultNow(),createdAt:se("created_at").defaultNow()}),xhe=Ve("moral_standings",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),corruptionLevel:U("corruption_level",{precision:5,scale:2}).default("0.00"),totalVictims:ne("total_victims").default(0),bloodMoney:U("blood_money",{precision:15,scale:2}).default("0.00"),totalHarm:U("total_harm",{precision:15,scale:2}).default("0.00"),lastConfession:se("last_confession"),confessionCount:ne("confession_count").default(0),soulWeight:N("soul_weight").default("unburdened"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),d9=Ve("trading_victims",{id:le("id").primaryKey().default(He`gen_random_uuid()`),tradeId:le("trade_id").notNull().references(()=>oE.id),userId:le("user_id").notNull().references(()=>At.id),victimName:N("victim_name").notNull(),victimStory:N("victim_story").notNull(),lossAmount:U("loss_amount",{precision:15,scale:2}).notNull(),impactLevel:N("impact_level").notNull(),age:ne("age"),occupation:N("occupation"),familySize:ne("family_size"),consequence:N("consequence"),createdAt:se("created_at").defaultNow()});Ue(xhe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(d9).omit({id:!0,createdAt:!0});Ue(oE).omit({id:!0,executedAt:!0,createdAt:!0});Ue(c9).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(ghe).omit({id:!0,createdAt:!0,updatedAt:!0,lastCalculatedAt:!0});const yhe=Ve("notifications",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),type:N("type").notNull(),title:N("title").notNull(),message:N("message").notNull(),priority:N("priority").notNull().default("medium"),read:Re("read").default(!1),actionUrl:N("action_url"),metadata:Ce("metadata"),createdAt:se("created_at").defaultNow(),expiresAt:se("expires_at")}),vhe=Ve("price_alerts",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),assetId:le("asset_id").notNull().references(()=>Rs.id),alertType:N("alert_type").notNull(),thresholdValue:U("threshold_value",{precision:10,scale:2}).notNull(),percentageThreshold:U("percentage_threshold",{precision:8,scale:2}),isActive:Re("is_active").default(!0),lastTriggeredPrice:U("last_triggered_price",{precision:10,scale:2}),triggerCount:ne("trigger_count").default(0),cooldownMinutes:ne("cooldown_minutes").default(60),name:N("name"),notes:N("notes"),createdAt:se("created_at").defaultNow(),triggeredAt:se("triggered_at"),lastCheckedAt:se("last_checked_at").defaultNow()}),bhe=Ve("notification_preferences",{userId:le("user_id").primaryKey().references(()=>At.id),orderNotifications:Re("order_notifications").default(!0),priceAlerts:Re("price_alerts").default(!0),marketUpdates:Re("market_updates").default(!0),portfolioAlerts:Re("portfolio_alerts").default(!0),emailNotifications:Re("email_notifications").default(!1),pushNotifications:Re("push_notifications").default(!0),toastNotifications:Re("toast_notifications").default(!0),lowPriorityEnabled:Re("low_priority_enabled").default(!0),mediumPriorityEnabled:Re("medium_priority_enabled").default(!0),highPriorityEnabled:Re("high_priority_enabled").default(!0),criticalPriorityEnabled:Re("critical_priority_enabled").default(!0),quietHoursEnabled:Re("quiet_hours_enabled").default(!1),quietHoursStart:N("quiet_hours_start"),quietHoursEnd:N("quiet_hours_end"),quietHoursTimezone:N("quiet_hours_timezone").default("UTC"),groupSimilarNotifications:Re("group_similar_notifications").default(!0),maxDailyNotifications:ne("max_daily_notifications").default(50),soundEnabled:Re("sound_enabled").default(!0),vibrationEnabled:Re("vibration_enabled").default(!0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),whe=Ve("notification_templates",{id:le("id").primaryKey().default(He`gen_random_uuid()`),type:N("type").notNull(),priority:N("priority").notNull().default("medium"),titleTemplate:N("title_template").notNull(),messageTemplate:N("message_template").notNull(),actionUrlTemplate:N("action_url_template"),isActive:Re("is_active").default(!0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()});Ue(yhe).omit({id:!0,createdAt:!0});Ue(vhe).omit({id:!0,createdAt:!0,triggeredAt:!0,lastCheckedAt:!0});Ue(bhe).omit({createdAt:!0,updatedAt:!0});Ue(whe).omit({id:!0,createdAt:!0,updatedAt:!0});const lE=Ve("mythological_houses",{id:le("id").primaryKey().default(He`gen_random_uuid()`),name:N("name").notNull(),mythology:N("mythology").notNull(),firmName:N("firm_name").notNull(),description:N("description").notNull(),philosophy:N("philosophy").notNull(),primarySpecialization:N("primary_specialization").notNull(),weaknessSpecialization:N("weakness_specialization").notNull(),tradingBonusPercent:U("trading_bonus_percent",{precision:8,scale:2}).default("0.00"),karmaMultiplier:U("karma_multiplier",{precision:3,scale:2}).default("1.00"),primaryColor:N("primary_color"),iconName:N("icon_name"),backgroundImageUrl:N("background_image_url"),originStory:N("origin_story"),notableMembers:N("notable_members").array(),traditions:N("traditions").array(),totalMembers:ne("total_members").default(0),averagePerformance:U("average_performance",{precision:8,scale:2}).default("0.00"),isActive:Re("is_active").default(!0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),_he=Ve("user_house_membership",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),houseId:le("house_id").notNull().references(()=>lE.id),joinedAt:se("joined_at").defaultNow(),membershipLevel:N("membership_level").default("initiate"),houseLoyalty:U("house_loyalty",{precision:8,scale:2}).default("0.00"),houseContributions:ne("house_contributions").default(0),houseRank:ne("house_rank"),currentBonusPercent:U("current_bonus_percent",{precision:8,scale:2}).default("0.00"),totalBonusEarned:U("total_bonus_earned",{precision:15,scale:2}).default("0.00"),isActive:Re("is_active").default(!0),leftAt:se("left_at"),createdAt:se("created_at").defaultNow()}),Nhe=Ve("user_karmic_alignment",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),currentAlignment:N("current_alignment"),karmaScore:U("karma_score",{precision:8,scale:2}).default("0.00"),alignmentStrength:U("alignment_strength",{precision:8,scale:2}).default("0.00"),honestyScore:U("honesty_score",{precision:8,scale:2}).default("50.00"),cooperationScore:U("cooperation_score",{precision:8,scale:2}).default("50.00"),exploitationScore:U("exploitation_score",{precision:8,scale:2}).default("0.00"),generosityScore:U("generosity_score",{precision:8,scale:2}).default("50.00"),honestActions:ne("honest_actions").default(0),deceptiveActions:ne("deceptive_actions").default(0),helpfulActions:ne("helpful_actions").default(0),harmfulActions:ne("harmful_actions").default(0),successModifier:U("success_modifier",{precision:3,scale:2}).default("1.00"),luckyBreakChance:U("lucky_break_chance",{precision:3,scale:2}).default("0.05"),badLuckChance:U("bad_luck_chance",{precision:3,scale:2}).default("0.05"),hasExperiencedReckoning:Re("has_experienced_reckoning").default(!1),reckoningDate:se("reckoning_date"),chosenAlignment:N("chosen_alignment"),alignmentLocked:Re("alignment_locked").default(!1),learningModuleBonuses:Ce("learning_module_bonuses"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),jhe=Ve("karmic_actions_log",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),actionType:N("action_type").notNull(),actionCategory:N("action_category").notNull(),karmaImpact:U("karma_impact",{precision:8,scale:2}).notNull(),description:N("description").notNull(),relatedAssetId:le("related_asset_id").references(()=>Rs.id),relatedOrderId:le("related_order_id").references(()=>Ev.id),targetUserId:le("target_user_id").references(()=>At.id),metadata:Ce("metadata"),alignmentDirection:N("alignment_direction"),strengthImpact:U("strength_impact",{precision:3,scale:2}).default("0.00"),isVisibleToUser:Re("is_visible_to_user").default(!1),revealedAt:se("revealed_at"),createdAt:se("created_at").defaultNow()}),u9=Ve("test_questions",{id:le("id").primaryKey().default(He`gen_random_uuid()`),questionNumber:ne("question_number").notNull().unique(),category:N("category").notNull(),scenario:N("scenario").notNull(),contextualSetup:N("contextual_setup"),options:Ce("options").notNull(),dimensions:Ce("dimensions").notNull(),houseWeights:Ce("house_weights").notNull(),active:Re("active").default(!0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),khe=Ve("test_responses",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),sessionId:le("session_id").notNull(),questionId:le("question_id").notNull().references(()=>u9.id),selectedOptionId:N("selected_option_id").notNull(),responseTime:ne("response_time"),dimensionScores:Ce("dimension_scores"),houseAffinities:Ce("house_affinities"),respondedAt:se("responded_at").defaultNow()}),She=Ve("test_results",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id).unique(),sessionId:le("session_id").notNull().unique(),psychologicalProfile:Ce("psychological_profile").notNull(),assignedHouseId:N("assigned_house_id").notNull(),primaryAffinity:U("primary_affinity",{precision:5,scale:2}).notNull(),secondaryHouseId:N("secondary_house_id"),secondaryAffinity:U("secondary_affinity",{precision:5,scale:2}),tertiaryHouseId:N("tertiary_house_id"),tertiaryAffinity:U("tertiary_affinity",{precision:5,scale:2}),allHouseScores:Ce("all_house_scores").notNull(),dimensionBreakdown:Ce("dimension_breakdown").notNull(),totalQuestions:ne("total_questions").notNull(),completionTime:ne("completion_time"),consistencyScore:U("consistency_score",{precision:5,scale:2}),assignmentRationale:N("assignment_rationale"),completedAt:se("completed_at").defaultNow()}),Ahe=Ve("test_sessions",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),sessionId:le("session_id").notNull().unique(),currentQuestionNumber:ne("current_question_number").default(1),status:N("status").notNull().default("in_progress"),startedAt:se("started_at").defaultNow(),lastActivityAt:se("last_activity_at").defaultNow(),completedAt:se("completed_at")}),ev=Ve("seven_houses",{id:le("id").primaryKey().default(He`gen_random_uuid()`),name:N("name").notNull().unique(),description:N("description").notNull(),specialization:N("specialization").notNull(),color:N("color").notNull(),symbol:N("symbol"),reputationScore:U("reputation_score",{precision:10,scale:2}).default("100.00"),powerLevel:U("power_level",{precision:10,scale:2}).default("100.00"),marketCap:U("market_cap",{precision:15,scale:2}).default("0.00"),dailyVolume:U("daily_volume",{precision:15,scale:2}).default("0.00"),controlledAssetsCount:ne("controlled_assets_count").default(0),houseSlogan:N("house_slogan"),headquartersLocation:N("headquarters_location"),rivalHouses:N("rival_houses").array(),allianceHouses:N("alliance_houses").array(),bossName:N("boss_name"),memberCount:ne("member_count").default(0),lieutenants:N("lieutenants").array(),tradingBonusPercent:U("trading_bonus_percent",{precision:8,scale:2}).default("0.00"),specialPowerDescription:N("special_power_description"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),Che=Ve("house_power_rankings",{id:le("id").primaryKey().default(He`gen_random_uuid()`),houseId:le("house_id").notNull().references(()=>ev.id),week:se("week").notNull(),rankPosition:ne("rank_position").notNull(),powerScore:U("power_score",{precision:10,scale:2}).notNull(),weeklyVolume:U("weekly_volume",{precision:15,scale:2}).notNull(),weeklyProfit:U("weekly_profit",{precision:15,scale:2}).notNull(),marketSharePercent:U("market_share_percent",{precision:5,scale:2}).notNull(),territoryGains:ne("territory_gains").default(0),territoryLosses:ne("territory_losses").default(0),createdAt:se("created_at").defaultNow()}),The=Ve("house_market_events",{id:le("id").primaryKey().default(He`gen_random_uuid()`),eventType:N("event_type").notNull(),triggerHouseId:le("trigger_house_id").references(()=>ev.id),targetHouseId:le("target_house_id").references(()=>ev.id),affectedAssetIds:N("affected_asset_ids").array(),powerShift:U("power_shift",{precision:8,scale:2}),marketImpact:Ce("market_impact"),eventTitle:N("event_title").notNull(),eventNarrative:N("event_narrative"),impactDescription:N("impact_description"),soundEffect:N("sound_effect"),comicPanelStyle:N("comic_panel_style"),eventTimestamp:se("event_timestamp").defaultNow(),createdAt:se("created_at").defaultNow()}),fN=Ve("enhanced_characters",{id:le("id").primaryKey().default(He`gen_random_uuid()`),name:N("name").notNull(),universe:N("universe").notNull(),pageId:N("page_id"),url:N("url"),identity:N("identity"),gender:N("gender"),maritalStatus:N("marital_status"),teams:N("teams").array(),weight:U("weight",{precision:5,scale:1}),creators:N("creators").array(),strength:ne("strength"),speed:ne("speed"),intelligence:ne("intelligence"),specialAbilities:N("special_abilities").array(),weaknesses:N("weaknesses").array(),powerLevel:U("power_level",{precision:8,scale:2}),battleWinRate:U("battle_win_rate",{precision:8,scale:2}),totalBattles:ne("total_battles").default(0),battlesWon:ne("battles_won").default(0),marketValue:U("market_value",{precision:10,scale:2}),popularityScore:U("popularity_score",{precision:8,scale:2}),movieAppearances:ne("movie_appearances").default(0),assetId:le("asset_id").references(()=>Rs.id),characterEmbedding:di("character_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),Phe=Ve("battle_scenarios",{id:le("id").primaryKey().default(He`gen_random_uuid()`),character1Id:le("character1_id").notNull().references(()=>fN.id),character2Id:le("character2_id").references(()=>fN.id),battleType:N("battle_type").default("one_vs_one"),outcome:ne("outcome").notNull(),environment:N("environment"),weatherConditions:N("weather_conditions"),additionalFactors:Ce("additional_factors"),marketImpactPercent:U("market_impact_percent",{precision:8,scale:2}),fanEngagement:ne("fan_engagement").default(0),mediaAttention:U("media_attention",{precision:3,scale:2}).default("1.00"),duration:ne("duration"),decisiveness:N("decisiveness"),isCanonical:Re("is_canonical").default(!1),eventDate:se("event_date").defaultNow(),resolvedAt:se("resolved_at"),createdAt:se("created_at").defaultNow()}),Mhe=Ve("enhanced_comic_issues",{id:le("id").primaryKey().default(He`gen_random_uuid()`),categoryTitle:N("category_title").notNull(),issueName:N("issue_name").notNull(),issueLink:N("issue_link"),comicSeries:N("comic_series").notNull(),comicType:N("comic_type"),pencilers:N("pencilers").array(),coverArtists:N("cover_artists").array(),inkers:N("inkers").array(),writers:N("writers").array(),editors:N("editors").array(),executiveEditor:N("executive_editor"),letterers:N("letterers").array(),colourists:N("colourists").array(),releaseDate:N("release_date"),rating:N("rating"),currentMarketValue:U("current_market_value",{precision:10,scale:2}),historicalHigh:U("historical_high",{precision:10,scale:2}),historicalLow:U("historical_low",{precision:10,scale:2}),priceVolatility:U("price_volatility",{precision:8,scale:2}),firstAppearances:N("first_appearances").array(),significantEvents:N("significant_events").array(),keyIssueRating:U("key_issue_rating",{precision:3,scale:1}),rarityScore:U("rarity_score",{precision:8,scale:2}),conditionSensitivity:U("condition_sensitivity",{precision:3,scale:2}),assetId:le("asset_id").references(()=>Rs.id),contentEmbedding:di("content_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),Ehe=Ve("movie_performance_data",{id:le("id").primaryKey().default(He`gen_random_uuid()`),filmTitle:N("film_title").notNull(),releaseDate:N("release_date"),franchise:N("franchise").notNull(),characterFamily:N("character_family").notNull(),distributor:N("distributor"),mpaaRating:N("mpaa_rating"),domesticGross:U("domestic_gross",{precision:15,scale:2}),internationalGross:U("international_gross",{precision:15,scale:2}),worldwideGross:U("worldwide_gross",{precision:15,scale:2}),budget:U("budget",{precision:15,scale:2}),grossToBudgetRatio:U("gross_to_budget_ratio",{precision:8,scale:2}),domesticPercentage:U("domestic_percentage",{precision:8,scale:2}),rottenTomatoesScore:ne("rotten_tomatoes_score"),isMcuFilm:Re("is_mcu_film").default(!1),mcuPhase:N("mcu_phase"),inflationAdjustedGross:U("inflation_adjusted_gross",{precision:15,scale:2}),inflationAdjustedBudget:U("inflation_adjusted_budget",{precision:15,scale:2}),marketImpactScore:U("market_impact_score",{precision:8,scale:2}),successCategory:N("success_category"),featuredCharacters:N("featured_characters").array(),relatedAssets:N("related_assets").array(),runtimeMinutes:ne("runtime_minutes"),releaseYear:ne("release_year"),openingWeekendGross:U("opening_weekend_gross",{precision:15,scale:2}),totalWeeksInTheaters:ne("total_weeks_in_theaters"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),h9=Ve("learn_modules",{id:le("id").primaryKey().default(He`gen_random_uuid()`),title:N("title").notNull(),description:N("description").notNull(),category:N("category").notNull(),progressionLevel:N("progression_level").notNull(),houseSpecialization:le("house_specialization").references(()=>lE.id),moduleContent:Ce("module_content").notNull(),estimatedDuration:ne("estimated_duration"),difficultyLevel:ne("difficulty_level"),prerequisites:N("prerequisites").array(),movieStills:N("movie_stills").array(),interactiveElements:Ce("interactive_elements"),learningObjectives:N("learning_objectives").array(),completionKarmaBonus:U("completion_karma_bonus",{precision:8,scale:2}).default("0.00"),tradingSkillBonus:U("trading_skill_bonus",{precision:3,scale:2}).default("0.00"),houseReputationBonus:U("house_reputation_bonus",{precision:8,scale:2}).default("0.00"),unlocksTradingPrivileges:N("unlocks_trading_privileges").array(),isPublished:Re("is_published").default(!1),requiredForProgression:Re("required_for_progression").default(!1),displayOrder:ne("display_order").default(0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),Ihe=Ve("user_learn_progress",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),moduleId:le("module_id").notNull().references(()=>h9.id),status:N("status").default("not_started"),progressPercent:U("progress_percent",{precision:8,scale:2}).default("0.00"),currentSection:ne("current_section").default(1),completedSections:ne("completed_sections").array(),timeSpent:ne("time_spent").default(0),quizScores:Ce("quiz_scores"),finalScore:U("final_score",{precision:8,scale:2}),passingGrade:U("passing_grade",{precision:8,scale:2}).default("70.00"),attempts:ne("attempts").default(0),maxAttempts:ne("max_attempts").default(3),karmaEarned:U("karma_earned",{precision:8,scale:2}).default("0.00"),skillBonusApplied:Re("skill_bonus_applied").default(!1),certificateUrl:N("certificate_url"),startedAt:se("started_at"),completedAt:se("completed_at"),lastAccessedAt:se("last_accessed_at").defaultNow(),createdAt:se("created_at").defaultNow()});Ue(lE).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(_he).omit({id:!0,createdAt:!0});Ue(Nhe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(jhe).omit({id:!0,createdAt:!0});Ue(fN).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Phe).omit({id:!0,createdAt:!0});Ue(Mhe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Ehe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(h9).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Ihe).omit({id:!0,createdAt:!0});const Lhe=Ve("trader_stats",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),totalPortfolioValue:U("total_portfolio_value",{precision:15,scale:2}).default("0.00"),totalPnL:U("total_pnl",{precision:15,scale:2}).default("0.00"),totalRealizedPnL:U("total_realized_pnl",{precision:15,scale:2}).default("0.00"),totalUnrealizedPnL:U("total_unrealized_pnl",{precision:15,scale:2}).default("0.00"),roiPercentage:U("roi_percentage",{precision:8,scale:2}).default("0.00"),totalTrades:ne("total_trades").default(0),profitableTrades:ne("profitable_trades").default(0),winRate:U("win_rate",{precision:8,scale:2}).default("0.00"),averageTradeSize:U("average_trade_size",{precision:15,scale:2}).default("0.00"),totalTradingVolume:U("total_trading_volume",{precision:15,scale:2}).default("0.00"),biggestWin:U("biggest_win",{precision:15,scale:2}).default("0.00"),biggestLoss:U("biggest_loss",{precision:15,scale:2}).default("0.00"),currentWinningStreak:ne("current_winning_streak").default(0),currentLosingStreak:ne("current_losing_streak").default(0),longestWinningStreak:ne("longest_winning_streak").default(0),longestLosingStreak:ne("longest_losing_streak").default(0),sharpeRatio:U("sharpe_ratio",{precision:5,scale:3}),maxDrawdown:U("max_drawdown",{precision:8,scale:2}),volatility:U("volatility",{precision:8,scale:2}),rankPoints:U("rank_points",{precision:10,scale:2}).default("0.00"),currentRank:ne("current_rank"),bestRank:ne("best_rank"),achievementPoints:ne("achievement_points").default(0),tradingDaysActive:ne("trading_days_active").default(0),lastTradeDate:se("last_trade_date"),firstTradeDate:se("first_trade_date"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_trader_stats_user_id").on(e.userId),oe("idx_trader_stats_rank_points").on(e.rankPoints),oe("idx_trader_stats_current_rank").on(e.currentRank),oe("idx_trader_stats_total_pnl").on(e.totalPnL),oe("idx_trader_stats_win_rate").on(e.winRate),oe("idx_trader_stats_total_volume").on(e.totalTradingVolume)]),Ohe=Ve("leaderboard_categories",{id:le("id").primaryKey().default(He`gen_random_uuid()`),name:N("name").notNull(),description:N("description"),categoryType:N("category_type").notNull(),timeframe:N("timeframe").notNull(),sortOrder:N("sort_order").default("desc"),pointsFormula:N("points_formula"),isActive:Re("is_active").default(!0),displayOrder:ne("display_order").default(0),minTradesRequired:ne("min_trades_required").default(1),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_leaderboard_categories_type_timeframe").on(e.categoryType,e.timeframe),oe("idx_leaderboard_categories_active").on(e.isActive),oe("idx_leaderboard_categories_display_order").on(e.displayOrder)]),Dhe=Ve("user_achievements",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),achievementId:N("achievement_id").notNull(),title:N("title").notNull(),description:N("description").notNull(),category:N("category").notNull(),iconName:N("icon_name"),badgeColor:N("badge_color").default("blue"),tier:N("tier").default("bronze"),points:ne("points").default(0),rarity:N("rarity").default("common"),criteria:Ce("criteria"),progress:Ce("progress"),unlockedAt:se("unlocked_at").defaultNow(),notificationSent:Re("notification_sent").default(!1),isVisible:Re("is_visible").default(!0),createdAt:se("created_at").defaultNow()},e=>[oe("idx_user_achievements_user_id").on(e.userId),oe("idx_user_achievements_achievement_id").on(e.achievementId),oe("idx_user_achievements_category").on(e.category),oe("idx_user_achievements_tier").on(e.tier),oe("idx_user_achievements_unlocked_at").on(e.unlockedAt),oe("idx_user_achievements_unique").on(e.userId,e.achievementId)]),Rhe=Ve("karma_actions",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),type:N("type").notNull(),houseId:N("house_id"),karmaChange:ne("karma_change").notNull(),description:N("description").notNull(),metadata:Ce("metadata"),createdAt:se("created_at").defaultNow()},e=>[oe("idx_karma_actions_user_id").on(e.userId),oe("idx_karma_actions_type").on(e.type),oe("idx_karma_actions_house_id").on(e.houseId),oe("idx_karma_actions_created_at").on(e.createdAt)]);Ue(Lhe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Ohe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Dhe).omit({id:!0,unlockedAt:!0,createdAt:!0});Ue(Rhe).omit({id:!0,createdAt:!0});const Fhe=Ve("alignment_history",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),previousLawfulChaotic:U("previous_lawful_chaotic",{precision:8,scale:2}).notNull(),previousGoodEvil:U("previous_good_evil",{precision:8,scale:2}).notNull(),newLawfulChaotic:U("new_lawful_chaotic",{precision:8,scale:2}).notNull(),newGoodEvil:U("new_good_evil",{precision:8,scale:2}).notNull(),alignmentShiftMagnitude:U("alignment_shift_magnitude",{precision:8,scale:2}).notNull(),triggeringActionType:N("triggering_action_type").notNull(),triggeringActionId:le("triggering_action_id"),karmaAtTimeOfShift:ne("karma_at_time_of_shift").notNull(),houseId:N("house_id"),alignmentPhase:N("alignment_phase").notNull(),cosmicEvent:N("cosmic_event"),prophecyUnlocked:N("prophecy_unlocked"),significanceLevel:N("significance_level").default("minor"),recordedAt:se("recorded_at").defaultNow()},e=>[oe("idx_alignment_history_user_id").on(e.userId),oe("idx_alignment_history_recorded_at").on(e.recordedAt),oe("idx_alignment_history_significance").on(e.significanceLevel),oe("idx_alignment_history_action_type").on(e.triggeringActionType)]),zhe=Ve("detailed_karma_actions",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),actionType:N("action_type").notNull(),actionCategory:N("action_category").notNull(),actionSubtype:N("action_subtype"),karmaChange:ne("karma_change").notNull(),lawfulChaoticImpact:U("lawful_chaotic_impact",{precision:8,scale:2}).default("0.00"),goodEvilImpact:U("good_evil_impact",{precision:8,scale:2}).default("0.00"),tradingBehaviorPattern:N("trading_behavior_pattern"),communityInteraction:N("community_interaction"),riskTakingBehavior:N("risk_taking_behavior"),assetId:le("asset_id").references(()=>Rs.id),orderId:le("order_id").references(()=>Ev.id),houseId:N("house_id"),houseAlignmentBonus:U("house_alignment_bonus",{precision:8,scale:2}).default("1.00"),tradingConsequenceTriggered:Re("trading_consequence_triggered").default(!1),consequenceSeverity:N("consequence_severity"),mysticalDescription:N("mystical_description").notNull(),timeOfDay:N("time_of_day"),tradingVolume:U("trading_volume",{precision:15,scale:2}),portfolioValue:U("portfolio_value",{precision:15,scale:2}),actionDuration:ne("action_duration_minutes"),createdAt:se("created_at").defaultNow()},e=>[oe("idx_detailed_karma_user_id").on(e.userId),oe("idx_detailed_karma_action_type").on(e.actionType),oe("idx_detailed_karma_category").on(e.actionCategory),oe("idx_detailed_karma_house_id").on(e.houseId),oe("idx_detailed_karma_created_at").on(e.createdAt),oe("idx_detailed_karma_behavior_pattern").on(e.tradingBehaviorPattern)]),Bhe=Ve("trading_consequences",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),orderId:le("order_id").references(()=>Ev.id),userLawfulChaotic:U("user_lawful_chaotic",{precision:8,scale:2}).notNull(),userGoodEvil:U("user_good_evil",{precision:8,scale:2}).notNull(),userKarma:ne("user_karma").notNull(),userHouseId:N("user_house_id"),consequenceType:N("consequence_type").notNull(),consequenceCategory:N("consequence_category").notNull(),modifierValue:U("modifier_value",{precision:5,scale:4}).notNull(),modifierType:N("modifier_type").notNull(),originalValue:U("original_value",{precision:15,scale:2}),modifiedValue:U("modified_value",{precision:15,scale:2}),impactDescription:N("impact_description").notNull(),mysticalFlavor:N("mystical_flavor").notNull(),isTemporary:Re("is_temporary").default(!0),durationMinutes:ne("duration_minutes"),expiresAt:se("expires_at"),stacksWithOthers:Re("stacks_with_others").default(!1),consequenceApplied:Re("consequence_applied").default(!0),resultingOutcome:N("resulting_outcome"),userSatisfaction:N("user_satisfaction"),createdAt:se("created_at").defaultNow()},e=>[oe("idx_trading_consequences_user_id").on(e.userId),oe("idx_trading_consequences_order_id").on(e.orderId),oe("idx_trading_consequences_type").on(e.consequenceType),oe("idx_trading_consequences_category").on(e.consequenceCategory),oe("idx_trading_consequences_created_at").on(e.createdAt),oe("idx_trading_consequences_expires_at").on(e.expiresAt)]),p9=Ve("alignment_thresholds",{id:le("id").primaryKey().default(He`gen_random_uuid()`),thresholdName:N("threshold_name").notNull(),alignmentType:N("alignment_type").notNull(),minLawfulChaotic:U("min_lawful_chaotic",{precision:8,scale:2}),maxLawfulChaotic:U("max_lawful_chaotic",{precision:8,scale:2}),minGoodEvil:U("min_good_evil",{precision:8,scale:2}),maxGoodEvil:U("max_good_evil",{precision:8,scale:2}),minKarma:ne("min_karma"),maxKarma:ne("max_karma"),compatibleHouses:N("compatible_houses").array(),conflictingHouses:N("conflicting_houses").array(),tradingBonuses:Ce("trading_bonuses"),tradingRestrictions:Ce("trading_restrictions"),specialAbilities:Ce("special_abilities"),cosmicTitle:N("cosmic_title").notNull(),mysticalDescription:N("mystical_description").notNull(),alignmentAura:N("alignment_aura"),prophecyText:N("prophecy_text"),isActive:Re("is_active").default(!0),displayOrder:ne("display_order").default(0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_alignment_thresholds_name").on(e.thresholdName),oe("idx_alignment_thresholds_type").on(e.alignmentType),oe("idx_alignment_thresholds_active").on(e.isActive),oe("idx_alignment_thresholds_display_order").on(e.displayOrder)]),Whe=Ve("karmic_profiles",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),currentAlignmentThreshold:le("current_alignment_threshold").references(()=>p9.id),alignmentStability:U("alignment_stability",{precision:8,scale:2}).default("100.00"),alignmentTrend:N("alignment_trend").default("stable"),dominantBehaviorPattern:N("dominant_behavior_pattern"),secondaryBehaviorPattern:N("secondary_behavior_pattern"),behaviorConsistency:U("behavior_consistency",{precision:8,scale:2}).default("50.00"),tradingPersonality:N("trading_personality"),riskProfile:N("risk_profile"),socialTrading:N("social_trading"),karmaAccelerationRate:U("karma_acceleration_rate",{precision:8,scale:2}).default("1.00"),totalKarmaEarned:ne("total_karma_earned").default(0),totalKarmaLost:ne("total_karma_lost").default(0),largestKarmaGain:ne("largest_karma_gain").default(0),largestKarmaLoss:ne("largest_karma_loss").default(0),houseAlignmentCompatibility:U("house_alignment_compatibility",{precision:8,scale:2}).default("50.00"),optimalHouseId:N("optimal_house_id"),alignmentConflictLevel:N("alignment_conflict_level").default("none"),predictedAlignmentDirection:N("predicted_alignment_direction"),nextThresholdDistance:U("next_threshold_distance",{precision:8,scale:2}),estimatedTimeToNextThreshold:ne("estimated_time_to_next_threshold"),cosmicResonance:U("cosmic_resonance",{precision:8,scale:2}).default("0.00"),divineFavor:U("divine_favor",{precision:8,scale:2}).default("0.00"),shadowInfluence:U("shadow_influence",{precision:8,scale:2}).default("0.00"),alignmentShiftsCount:ne("alignment_shifts_count").default(0),lastMajorShift:se("last_major_shift"),profileLastCalculated:se("profile_last_calculated").defaultNow(),nextRecalculationDue:se("next_recalculation_due"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_karmic_profiles_user_id").on(e.userId),oe("idx_karmic_profiles_threshold").on(e.currentAlignmentThreshold),oe("idx_karmic_profiles_personality").on(e.tradingPersonality),oe("idx_karmic_profiles_house_compatibility").on(e.houseAlignmentCompatibility),oe("idx_karmic_profiles_last_calculated").on(e.profileLastCalculated),oe("idx_karmic_profiles_unique_user").on(e.userId)]);Ue(Fhe).omit({id:!0,recordedAt:!0});Ue(zhe).omit({id:!0,createdAt:!0});Ue(Bhe).omit({id:!0,createdAt:!0});Ue(p9).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Whe).omit({id:!0,profileLastCalculated:!0,createdAt:!0,updatedAt:!0});const cE=Ve("learning_paths",{id:le("id").primaryKey().default(He`gen_random_uuid()`),name:N("name").notNull(),description:N("description").notNull(),houseId:N("house_id").notNull(),specialization:N("specialization").notNull(),difficultyLevel:N("difficulty_level").notNull(),prerequisites:Ce("prerequisites"),estimatedHours:ne("estimated_hours").default(0),experienceReward:ne("experience_reward").default(0),karmaReward:ne("karma_reward").default(0),sacredTitle:N("sacred_title").notNull(),mysticalDescription:N("mystical_description").notNull(),pathIcon:N("path_icon").default("BookOpen"),pathColor:N("path_color").default("blue-600"),lessonSequence:N("lesson_sequence").array(),unlockConditions:Ce("unlock_conditions"),completionRewards:Ce("completion_rewards"),isActive:Re("is_active").default(!0),displayOrder:ne("display_order").default(0),pathEmbedding:di("path_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_learning_paths_house_id").on(e.houseId),oe("idx_learning_paths_difficulty").on(e.difficultyLevel),oe("idx_learning_paths_active").on(e.isActive),oe("idx_learning_paths_display_order").on(e.displayOrder)]),m9=Ve("sacred_lessons",{id:le("id").primaryKey().default(He`gen_random_uuid()`),title:N("title").notNull(),description:N("description").notNull(),houseId:N("house_id"),pathId:le("path_id").references(()=>cE.id),lessonType:N("lesson_type").notNull(),difficultyLevel:N("difficulty_level").notNull(),estimatedMinutes:ne("estimated_minutes").default(15),experienceReward:ne("experience_reward").default(100),karmaReward:ne("karma_reward").default(5),contentFormat:N("content_format").notNull(),contentData:Ce("content_data").notNull(),mediaUrls:Ce("media_urls"),interactiveElements:Ce("interactive_elements"),prerequisites:Ce("prerequisites"),unlockConditions:Ce("unlock_conditions"),nextLessons:N("next_lessons").array(),masteryThreshold:U("mastery_threshold",{precision:8,scale:2}).default("80.00"),allowRetakes:Re("allow_retakes").default(!0),maxAttempts:ne("max_attempts").default(3),sacredTitle:N("sacred_title").notNull(),mysticalNarrative:N("mystical_narrative").notNull(),guidingSpirit:N("guiding_spirit"),ritualDescription:N("ritual_description"),lessonIcon:N("lesson_icon").default("BookOpen"),atmosphericEffects:Ce("atmospheric_effects"),avgCompletionTime:ne("avg_completion_time_minutes"),avgScoreAchieved:U("avg_score_achieved",{precision:8,scale:2}),completionRate:U("completion_rate",{precision:8,scale:2}),userRating:U("user_rating",{precision:3,scale:2}),isActive:Re("is_active").default(!0),publishedAt:se("published_at"),contentEmbedding:di("content_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_sacred_lessons_house_id").on(e.houseId),oe("idx_sacred_lessons_path_id").on(e.pathId),oe("idx_sacred_lessons_type").on(e.lessonType),oe("idx_sacred_lessons_difficulty").on(e.difficultyLevel),oe("idx_sacred_lessons_active").on(e.isActive),oe("idx_sacred_lessons_published").on(e.publishedAt)]),f9=Ve("mystical_skills",{id:le("id").primaryKey().default(He`gen_random_uuid()`),name:N("name").notNull(),description:N("description").notNull(),houseId:N("house_id"),skillCategory:N("skill_category").notNull(),skillType:N("skill_type").notNull(),tier:N("tier").notNull(),tradingPrivileges:Ce("trading_privileges"),tradingBonuses:Ce("trading_bonuses"),interfaceFeatures:Ce("interface_features"),specialAbilities:Ce("special_abilities"),prerequisiteSkills:N("prerequisite_skills").array(),prerequisiteLessons:N("prerequisite_lessons").array(),karmaRequirement:ne("karma_requirement").default(0),tradingPerformanceRequirement:Ce("trading_performance_requirement"),houseStandingRequirement:N("house_standing_requirement"),experienceCost:ne("experience_cost").default(500),masteryLevels:ne("mastery_levels").default(1),maxMasteryBonus:U("max_mastery_bonus",{precision:8,scale:2}).default("1.50"),sacredName:N("sacred_name").notNull(),mysticalDescription:N("mystical_description").notNull(),awakenRitual:N("awaken_ritual"),skillIcon:N("skill_icon").default("Zap"),skillAura:N("skill_aura"),rarityLevel:N("rarity_level").default("common"),parentSkills:N("parent_skills").array(),childSkills:N("child_skills").array(),skillTreePosition:Ce("skill_tree_position"),timesUnlocked:ne("times_unlocked").default(0),avgTimeToUnlock:ne("avg_time_to_unlock_days"),userSatisfactionRating:U("user_satisfaction_rating",{precision:3,scale:2}),impactOnTrading:U("impact_on_trading",{precision:8,scale:2}),isActive:Re("is_active").default(!0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_mystical_skills_house_id").on(e.houseId),oe("idx_mystical_skills_category").on(e.skillCategory),oe("idx_mystical_skills_tier").on(e.tier),oe("idx_mystical_skills_rarity").on(e.rarityLevel),oe("idx_mystical_skills_active").on(e.isActive)]),Hhe=Ve("user_lesson_progress",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),lessonId:le("lesson_id").notNull().references(()=>m9.id),pathId:le("path_id").references(()=>cE.id),status:N("status").notNull().default("not_started"),progressPercent:U("progress_percent",{precision:8,scale:2}).default("0.00"),currentSection:ne("current_section").default(1),sectionsCompleted:ne("sections_completed").array(),timeSpentMinutes:ne("time_spent_minutes").default(0),attempts:ne("attempts").default(0),bestScore:U("best_score",{precision:8,scale:2}),latestScore:U("latest_score",{precision:8,scale:2}),masteryAchieved:Re("mastery_achieved").default(!1),interactionData:Ce("interaction_data"),difficultyRating:ne("difficulty_rating"),enjoymentRating:ne("enjoyment_rating"),notes:N("notes"),ceremonyViewed:Re("ceremony_viewed").default(!1),experienceAwarded:ne("experience_awarded").default(0),karmaAwarded:ne("karma_awarded").default(0),skillsUnlocked:N("skills_unlocked").array(),startedAt:se("started_at"),completedAt:se("completed_at"),lastAccessedAt:se("last_accessed_at").defaultNow(),nextReviewDue:se("next_review_due"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_user_lesson_progress_user_id").on(e.userId),oe("idx_user_lesson_progress_lesson_id").on(e.lessonId),oe("idx_user_lesson_progress_path_id").on(e.pathId),oe("idx_user_lesson_progress_status").on(e.status),oe("idx_user_lesson_progress_completed").on(e.completedAt),oe("idx_user_lesson_progress_last_accessed").on(e.lastAccessedAt),oe("idx_user_lesson_unique").on(e.userId,e.lessonId)]),Vhe=Ve("user_skill_unlocks",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),skillId:le("skill_id").notNull().references(()=>f9.id),unlockMethod:N("unlock_method").notNull(),masteryLevel:ne("mastery_level").default(1),maxMasteryLevel:ne("max_mastery_level").default(1),effectivenessBonus:U("effectiveness_bonus",{precision:8,scale:2}).default("1.00"),timesUsed:ne("times_used").default(0),lastUsedAt:se("last_used_at"),totalBenefitGained:U("total_benefit_gained",{precision:15,scale:2}).default("0.00"),experienceInvested:ne("experience_invested").default(0),masteryProgressPercent:U("mastery_progress_percent",{precision:8,scale:2}).default("0.00"),nextUpgradeCost:ne("next_upgrade_cost").default(500),awakeningCeremonyCompleted:Re("awakening_ceremony_completed").default(!1),awakeningDate:se("awakening_date"),ceremonialWitnesses:N("ceremonial_witnesses").array(),mysticalBond:U("mystical_bond",{precision:8,scale:2}).default("1.00"),skillRating:U("skill_rating",{precision:3,scale:2}),recommendsToOthers:Re("recommends_to_others").default(!0),personalNotes:N("personal_notes"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_user_skill_unlocks_user_id").on(e.userId),oe("idx_user_skill_unlocks_skill_id").on(e.skillId),oe("idx_user_skill_unlocks_mastery").on(e.masteryLevel),oe("idx_user_skill_unlocks_awakening").on(e.awakeningDate),oe("idx_user_skill_unique").on(e.userId,e.skillId)]),g9=Ve("trials_of_mastery",{id:le("id").primaryKey().default(He`gen_random_uuid()`),name:N("name").notNull(),description:N("description").notNull(),houseId:N("house_id"),trialType:N("trial_type").notNull(),difficultyLevel:N("difficulty_level").notNull(),phases:Ce("phases").notNull(),timeLimit:ne("time_limit_minutes").default(60),maxAttempts:ne("max_attempts").default(3),passingScore:U("passing_score",{precision:8,scale:2}).default("75.00"),perfectScore:U("perfect_score",{precision:8,scale:2}).default("100.00"),prerequisites:Ce("prerequisites"),experienceReward:ne("experience_reward").default(1e3),karmaReward:ne("karma_reward").default(50),skillsUnlocked:N("skills_unlocked").array(),tradingPrivilegesGranted:Ce("trading_privileges_granted"),certificationsAwarded:N("certifications_awarded").array(),sacredTitle:N("sacred_title").notNull(),mythicalLore:N("mythical_lore").notNull(),trialMaster:N("trial_master"),sacredLocation:N("sacred_location"),completionRitual:N("completion_ritual"),trialIcon:N("trial_icon").default("Award"),atmosphericTheme:N("atmospheric_theme").default("mystical"),attemptCount:ne("attempt_count").default(0),successRate:U("success_rate",{precision:8,scale:2}).default("0.00"),avgScore:U("avg_score",{precision:8,scale:2}).default("0.00"),avgCompletionTime:ne("avg_completion_time_minutes"),difficulty_rating:U("difficulty_rating",{precision:3,scale:2}),isActive:Re("is_active").default(!0),seasonalAvailability:Ce("seasonal_availability"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_trials_mastery_house_id").on(e.houseId),oe("idx_trials_mastery_type").on(e.trialType),oe("idx_trials_mastery_difficulty").on(e.difficultyLevel),oe("idx_trials_mastery_active").on(e.isActive)]),$he=Ve("user_trial_attempts",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),trialId:le("trial_id").notNull().references(()=>g9.id),attemptNumber:ne("attempt_number").notNull().default(1),status:N("status").notNull().default("in_progress"),overallScore:U("overall_score",{precision:8,scale:2}),phaseScores:Ce("phase_scores"),timeSpentMinutes:ne("time_spent_minutes").default(0),passed:Re("passed").default(!1),perfectScore:Re("perfect_score").default(!1),responses:Ce("responses"),tradeSimulationResults:Ce("trade_simulation_results"),peerReviewScores:Ce("peer_review_scores"),masterComments:N("master_comments"),experienceAwarded:ne("experience_awarded").default(0),karmaAwarded:ne("karma_awarded").default(0),skillsUnlocked:N("skills_unlocked").array(),certificationsEarned:N("certifications_earned").array(),tradingPrivilegesGranted:Ce("trading_privileges_granted"),completionCeremonyViewed:Re("completion_ceremony_viewed").default(!1),publicRecognition:Re("public_recognition").default(!1),witnessedBy:N("witnessed_by").array(),legendaryAchievement:Re("legendary_achievement").default(!1),difficultyRating:ne("difficulty_rating"),enjoymentRating:ne("enjoyment_rating"),wouldRecommend:Re("would_recommend").default(!0),feedback:N("feedback"),startedAt:se("started_at").defaultNow(),completedAt:se("completed_at"),createdAt:se("created_at").defaultNow()},e=>[oe("idx_user_trial_attempts_user_id").on(e.userId),oe("idx_user_trial_attempts_trial_id").on(e.trialId),oe("idx_user_trial_attempts_status").on(e.status),oe("idx_user_trial_attempts_passed").on(e.passed),oe("idx_user_trial_attempts_completed").on(e.completedAt)]),x9=Ve("divine_certifications",{id:le("id").primaryKey().default(He`gen_random_uuid()`),name:N("name").notNull(),description:N("description").notNull(),houseId:N("house_id"),certificationLevel:N("certification_level").notNull(),category:N("category").notNull(),requirements:Ce("requirements").notNull(),prerequisiteCertifications:N("prerequisite_certifications").array(),minimumKarma:ne("minimum_karma").default(0),minimumHouseStanding:N("minimum_house_standing"),badgeDesign:Ce("badge_design"),certificateTemplate:N("certificate_template"),publicTitle:N("public_title").notNull(),titleAbbreviation:N("title_abbreviation"),prestigePoints:ne("prestige_points").default(100),tradingBonuses:Ce("trading_bonuses"),exclusiveAccess:Ce("exclusive_access"),teachingPrivileges:Re("teaching_privileges").default(!1),leadershipPrivileges:Re("leadership_privileges").default(!1),displayBorder:N("display_border").default("golden"),glowEffect:N("glow_effect"),rarityLevel:N("rarity_level").default("rare"),limitedEdition:Re("limited_edition").default(!1),maxIssuances:ne("max_issuances"),currentIssuances:ne("current_issuances").default(0),validityPeriod:ne("validity_period_months"),renewalRequired:Re("renewal_required").default(!1),retireDate:se("retire_date"),isActive:Re("is_active").default(!0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_divine_certifications_house_id").on(e.houseId),oe("idx_divine_certifications_level").on(e.certificationLevel),oe("idx_divine_certifications_category").on(e.category),oe("idx_divine_certifications_rarity").on(e.rarityLevel),oe("idx_divine_certifications_active").on(e.isActive)]),Uhe=Ve("user_certifications",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),certificationId:le("certification_id").notNull().references(()=>x9.id),achievementMethod:N("achievement_method").notNull(),verificationData:Ce("verification_data"),witnessedBy:N("witnessed_by").array(),awardingMaster:N("awarding_master"),certificateNumber:N("certificate_number").notNull().unique(),certificateUrl:N("certificate_url"),badgeImageUrl:N("badge_image_url"),publicTitle:N("public_title").notNull(),ceremonyCompleted:Re("ceremony_completed").default(!1),ceremonyDate:se("ceremony_date"),publicAnnouncement:Re("public_announcement").default(!0),featuredInHouse:Re("featured_in_house").default(!1),communityReactions:Ce("community_reactions"),status:N("status").notNull().default("active"),validUntil:se("valid_until"),renewalReminderSent:Re("renewal_reminder_sent").default(!1),displayInProfile:Re("display_in_profile").default(!0),sharableUrl:N("sharable_url"),timestampProof:N("timestamp_proof"),achievementScore:U("achievement_score",{precision:8,scale:2}),awardedAt:se("awarded_at").defaultNow(),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_user_certifications_user_id").on(e.userId),oe("idx_user_certifications_cert_id").on(e.certificationId),oe("idx_user_certifications_status").on(e.status),oe("idx_user_certifications_awarded").on(e.awardedAt),oe("idx_user_certifications_public").on(e.displayInProfile),oe("idx_user_cert_unique").on(e.userId,e.certificationId)]),Ghe=Ve("learning_analytics",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),totalExperienceEarned:ne("total_experience_earned").default(0),totalLessonsCompleted:ne("total_lessons_completed").default(0),totalSkillsUnlocked:ne("total_skills_unlocked").default(0),totalTrialsPassed:ne("total_trials_passed").default(0),totalCertificationsEarned:ne("total_certifications_earned").default(0),lessonsPerWeek:U("lessons_per_week",{precision:8,scale:2}).default("0.00"),avgScoreAchieved:U("avg_score_achieved",{precision:8,scale:2}).default("0.00"),learningStreak:ne("learning_streak_days").default(0),longestLearningStreak:ne("longest_learning_streak_days").default(0),preferredLearningTime:N("preferred_learning_time"),avgSessionDuration:ne("avg_session_duration_minutes").default(0),primaryHouseMastery:U("primary_house_mastery",{precision:8,scale:2}).default("0.00"),secondaryHousesExplored:N("secondary_houses_explored").array(),crossHouseProgress:Ce("cross_house_progress"),houseRank:ne("house_rank").default(0),preferredLessonTypes:N("preferred_lesson_types").array(),learningStyleProfile:Ce("learning_style_profile"),difficultyPreference:N("difficulty_preference").default("adaptive"),pacePreference:N("pace_preference").default("self_paced"),mentorshipGiven:ne("mentorship_given_hours").default(0),mentorshipReceived:ne("mentorship_received_hours").default(0),peerReviewsGiven:ne("peer_reviews_given").default(0),peerReviewsReceived:ne("peer_reviews_received").default(0),communityContributions:ne("community_contributions").default(0),teachingRating:U("teaching_rating",{precision:3,scale:2}),knowledgeGaps:Ce("knowledge_gaps"),strengthAreas:Ce("strength_areas"),recommendedPaths:Ce("recommended_paths"),personalizedDifficulty:U("personalized_difficulty",{precision:3,scale:2}).default("3.00"),motivationLevel:U("motivation_level",{precision:3,scale:2}).default("3.00"),engagementTrend:N("engagement_trend").default("stable"),lastActiveDate:se("last_active_date"),totalTimeSpent:ne("total_time_spent_minutes").default(0),achievementCelebrations:ne("achievement_celebrations").default(0),predictedCompletionDate:se("predicted_completion_date"),riskOfDropout:U("risk_of_dropout",{precision:3,scale:2}).default("0.00"),recommendedInterventions:Ce("recommended_interventions"),calculatedAt:se("calculated_at").defaultNow(),nextCalculationDue:se("next_calculation_due"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_learning_analytics_user_id").on(e.userId),oe("idx_learning_analytics_house_mastery").on(e.primaryHouseMastery),oe("idx_learning_analytics_last_active").on(e.lastActiveDate),oe("idx_learning_analytics_calculated").on(e.calculatedAt),oe("idx_learning_analytics_unique_user").on(e.userId)]);Ue(cE).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(m9).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(f9).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Hhe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Vhe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(g9).omit({id:!0,createdAt:!0,updatedAt:!0});Ue($he).omit({id:!0,createdAt:!0});Ue(x9).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Uhe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Ghe).omit({id:!0,calculatedAt:!0,createdAt:!0,updatedAt:!0});const Lv=Ve("career_pathway_levels",{id:le("id").primaryKey().default(He`gen_random_uuid()`),pathway:N("pathway").notNull(),level:N("level").notNull(),name:N("name").notNull(),description:N("description").notNull(),displayOrder:ne("display_order").notNull(),tradingFeatureUnlocks:Ce("trading_feature_unlocks"),baseSalaryMax:U("base_salary_max",{precision:15,scale:2}).notNull(),certificationBonus:U("certification_bonus_percent",{precision:5,scale:2}).default("100.00"),masterBonus:U("master_bonus_percent",{precision:5,scale:2}).default("150.00"),prerequisiteLevel:le("prerequisite_level"),isActive:Re("is_active").default(!0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_career_pathway_pathway").on(e.pathway),oe("idx_career_pathway_level").on(e.level),oe("idx_career_pathway_order").on(e.displayOrder)]),mj=Ve("certification_courses",{id:le("id").primaryKey().default(He`gen_random_uuid()`),pathwayLevelId:le("pathway_level_id").notNull().references(()=>Lv.id),courseNumber:ne("course_number").notNull(),title:N("title").notNull(),description:N("description").notNull(),difficulty:N("difficulty").notNull(),estimatedDuration:ne("estimated_duration_hours").default(2),modules:Ce("modules").notNull(),learningObjectives:N("learning_objectives").array(),prerequisites:N("prerequisites").array(),examQuestions:Ce("exam_questions").notNull(),passingScore:ne("passing_score").default(70),maxAttempts:ne("max_attempts").default(3),retryPenaltyAmount:U("retry_penalty_amount",{precision:10,scale:2}),featureUnlocks:Ce("feature_unlocks"),tradingPermissions:Ce("trading_permissions"),isActive:Re("is_active").default(!0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_cert_courses_pathway_level").on(e.pathwayLevelId),oe("idx_cert_courses_number").on(e.courseNumber),oe("idx_cert_courses_difficulty").on(e.difficulty)]),y9=Ve("user_course_enrollments",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),courseId:le("course_id").notNull().references(()=>mj.id),pathwayLevelId:le("pathway_level_id").notNull().references(()=>Lv.id),status:N("status").notNull().default("enrolled"),progressPercent:U("progress_percent",{precision:5,scale:2}).default("0.00"),currentModule:ne("current_module").default(1),completedModules:ne("completed_modules").array().default(He`ARRAY[]::integer[]`),timeSpent:ne("time_spent_minutes").default(0),examAttempts:ne("exam_attempts").default(0),bestScore:U("best_score",{precision:5,scale:2}),lastAttemptScore:U("last_attempt_score",{precision:5,scale:2}),passed:Re("passed").default(!1),passedAt:se("passed_at"),penaltyCharges:U("penalty_charges",{precision:10,scale:2}).default("0.00"),penaltyAttempts:ne("penalty_attempts").default(0),enrolledAt:se("enrolled_at").defaultNow(),completedAt:se("completed_at"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_user_enrollments_user").on(e.userId),oe("idx_user_enrollments_course").on(e.courseId),oe("idx_user_enrollments_pathway").on(e.pathwayLevelId),oe("idx_user_enrollments_status").on(e.status)]),qhe=Ve("user_pathway_progress",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),pathway:N("pathway").notNull(),currentLevelId:le("current_level_id").references(()=>Lv.id),coursesPassed:ne("courses_passed").default(0),isCertified:Re("is_certified").default(!1),isMasterCertified:Re("is_master_certified").default(!1),certificationBonusRevealed:Re("certification_bonus_revealed").default(!1),certificationBonusAmount:U("certification_bonus_amount",{precision:15,scale:2}),masterBonusRevealed:Re("master_bonus_revealed").default(!1),masterBonusAmount:U("master_bonus_amount",{precision:15,scale:2}),currentSalaryMax:U("current_salary_max",{precision:15,scale:2}),totalCoursesCompleted:ne("total_courses_completed").default(0),totalExamAttempts:ne("total_exam_attempts").default(0),totalPenaltiesCharged:U("total_penalties_charged",{precision:10,scale:2}).default("0.00"),pathwayStartedAt:se("pathway_started_at").defaultNow(),lastLevelCompletedAt:se("last_level_completed_at"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_user_pathway_user").on(e.userId),oe("idx_user_pathway_pathway").on(e.pathway),oe("idx_user_pathway_level").on(e.currentLevelId),oe("idx_user_pathway_certified").on(e.isCertified),oe("idx_user_pathway_master").on(e.isMasterCertified)]),Khe=Ve("exam_attempts",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),courseId:le("course_id").notNull().references(()=>mj.id),enrollmentId:le("enrollment_id").notNull().references(()=>y9.id),attemptNumber:ne("attempt_number").notNull(),isPenaltyAttempt:Re("is_penalty_attempt").default(!1),penaltyCharged:U("penalty_charged",{precision:10,scale:2}),score:U("score",{precision:5,scale:2}).notNull(),passed:Re("passed").notNull(),totalQuestions:ne("total_questions").notNull(),correctAnswers:ne("correct_answers").notNull(),responses:Ce("responses").notNull(),timeSpent:ne("time_spent_seconds"),feedback:N("feedback"),areasForImprovement:N("areas_for_improvement").array(),attemptedAt:se("attempted_at").defaultNow(),createdAt:se("created_at").defaultNow()},e=>[oe("idx_exam_attempts_user").on(e.userId),oe("idx_exam_attempts_course").on(e.courseId),oe("idx_exam_attempts_enrollment").on(e.enrollmentId),oe("idx_exam_attempts_passed").on(e.passed),oe("idx_exam_attempts_penalty").on(e.isPenaltyAttempt)]);Ue(Lv).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(mj).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(y9).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(qhe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Khe).omit({id:!0,createdAt:!0});const v9=Ve("subscriber_course_incentives",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),courseId:le("course_id").references(()=>mj.id),pathwayLevelId:le("pathway_level_id").references(()=>Lv.id),incentiveType:N("incentive_type").notNull(),incentiveValue:U("incentive_value",{precision:15,scale:2}).notNull(),status:N("status").notNull().default("pending"),activatedAt:se("activated_at"),expiresAt:se("expires_at"),claimedAt:se("claimed_at"),isActive:Re("is_active").default(!0),description:N("description"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_subscriber_incentives_user").on(e.userId),oe("idx_subscriber_incentives_type").on(e.incentiveType),oe("idx_subscriber_incentives_status").on(e.status),oe("idx_subscriber_incentives_course").on(e.courseId)]),Yhe=Ve("subscriber_active_benefits",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),totalCapitalBonusEarned:U("total_capital_bonus_earned",{precision:15,scale:2}).default("0.00"),pendingCapitalBonus:U("pending_capital_bonus",{precision:15,scale:2}).default("0.00"),tradingFeeDiscount:U("trading_fee_discount",{precision:5,scale:2}).default("0.00"),feeDiscountExpiresAt:se("fee_discount_expires_at"),xpMultiplier:U("xp_multiplier",{precision:5,scale:2}).default("1.00"),xpMultiplierExpiresAt:se("xp_multiplier_expires_at"),hasEarlyAccess:Re("has_early_access").default(!1),earlyAccessFeatures:N("early_access_features").array(),earlyAccessExpiresAt:se("early_access_expires_at"),certificationBadgeTier:N("certification_badge_tier"),displayBadge:Re("display_badge").default(!0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_subscriber_benefits_user").on(e.userId),oe("idx_subscriber_benefits_badge").on(e.certificationBadgeTier)]),Xhe=Ve("subscriber_incentive_history",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),incentiveId:le("incentive_id").references(()=>v9.id),eventType:N("event_type").notNull(),incentiveType:N("incentive_type").notNull(),incentiveValue:U("incentive_value",{precision:15,scale:2}).notNull(),sourceType:N("source_type").notNull(),sourceId:le("source_id"),description:N("description"),metadata:Ce("metadata"),createdAt:se("created_at").defaultNow()},e=>[oe("idx_incentive_history_user").on(e.userId),oe("idx_incentive_history_event").on(e.eventType),oe("idx_incentive_history_source").on(e.sourceType)]);Ue(v9).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Yhe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Xhe).omit({id:!0,createdAt:!0});const dE=Ve("easter_egg_definitions",{id:le("id").primaryKey().default(He`gen_random_uuid()`),name:N("name").notNull(),internalCode:N("internal_code").notNull().unique(),description:N("description").notNull(),discoveryHint:N("discovery_hint"),triggerType:N("trigger_type").notNull(),triggerConditions:Ce("trigger_conditions").notNull(),requiresPreviousEggs:N("requires_previous_eggs").array(),rewardType:N("reward_type").notNull(),rewardValue:N("reward_value").notNull(),rewardDescription:N("reward_description").notNull(),subscribersOnly:Re("subscribers_only").default(!0),requiredSubscriptionTier:N("required_subscription_tier"),isSecret:Re("is_secret").default(!0),difficultyRating:ne("difficulty_rating").default(1),rarity:N("rarity").default("common"),category:N("category"),iconUrl:N("icon_url"),badgeColor:N("badge_color"),flavorText:N("flavor_text"),timesUnlocked:ne("times_unlocked").default(0),isActive:Re("is_active").default(!0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_easter_egg_trigger_type").on(e.triggerType),oe("idx_easter_egg_subscribers_only").on(e.subscribersOnly),oe("idx_easter_egg_active").on(e.isActive)]),b9=Ve("easter_egg_user_progress",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),eggId:le("egg_id").notNull().references(()=>dE.id),progressValue:U("progress_value",{precision:15,scale:2}).default("0"),progressPercentage:U("progress_percentage",{precision:5,scale:2}).default("0"),progressData:Ce("progress_data"),isUnlocked:Re("is_unlocked").default(!1),unlockedAt:se("unlocked_at"),lastProgressUpdate:se("last_progress_update").defaultNow(),currentStreak:ne("current_streak").default(0),longestStreak:ne("longest_streak").default(0),streakBrokenAt:se("streak_broken_at"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_egg_progress_user").on(e.userId),oe("idx_egg_progress_egg").on(e.eggId),oe("idx_egg_progress_unlocked").on(e.isUnlocked),oe("idx_egg_progress_user_egg").on(e.userId,e.eggId)]),Zhe=Ve("easter_egg_unlocks",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),eggId:le("egg_id").notNull().references(()=>dE.id),progressId:le("progress_id").references(()=>b9.id),unlockedAt:se("unlocked_at").defaultNow(),unlockMethod:N("unlock_method"),unlockContext:Ce("unlock_context"),rewardClaimed:Re("reward_claimed").default(!1),rewardClaimedAt:se("reward_claimed_at"),rewardType:N("reward_type").notNull(),rewardValue:N("reward_value").notNull(),rewardApplied:Re("reward_applied").default(!1),isPublic:Re("is_public").default(!1),displayOnProfile:Re("display_on_profile").default(!0),notificationSent:Re("notification_sent").default(!1),notificationSeenAt:se("notification_seen_at"),createdAt:se("created_at").defaultNow()},e=>[oe("idx_egg_unlocks_user").on(e.userId),oe("idx_egg_unlocks_egg").on(e.eggId),oe("idx_egg_unlocks_claimed").on(e.rewardClaimed),oe("idx_egg_unlocks_public").on(e.isPublic)]);Ue(dE).omit({id:!0,createdAt:!0,updatedAt:!0,timesUnlocked:!0});Ue(b9).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Zhe).omit({id:!0,createdAt:!0});const Qhe=Ve("ai_market_predictions",{id:le("id").primaryKey().default(He`gen_random_uuid()`),assetId:le("asset_id").notNull().references(()=>Rs.id),predictionType:N("prediction_type").notNull(),timeframe:N("timeframe").notNull(),currentPrice:U("current_price",{precision:15,scale:2}),predictedPrice:U("predicted_price",{precision:15,scale:2}),predictedChange:U("predicted_change",{precision:8,scale:4}),confidence:U("confidence",{precision:5,scale:4}),reasoning:N("reasoning"),marketFactors:Ce("market_factors"),riskLevel:N("risk_level"),aiModel:N("ai_model").default("gpt-4o-mini"),houseBonus:Ce("house_bonus"),karmaInfluence:U("karma_influence",{precision:5,scale:4}),actualOutcome:U("actual_outcome",{precision:8,scale:4}),accuracy:U("accuracy",{precision:5,scale:4}),isActive:Re("is_active").default(!0),expiresAt:se("expires_at"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),Jhe=Ve("character_battle_scenarios",{id:le("id").primaryKey().default(He`gen_random_uuid()`),character1Id:le("character1_id").notNull().references(()=>Rs.id),character2Id:le("character2_id").notNull().references(()=>Rs.id),battleType:N("battle_type").notNull(),battleContext:N("battle_context"),powerLevelData:Ce("power_level_data"),winProbability:U("win_probability",{precision:5,scale:4}),battleFactors:Ce("battle_factors"),historicalData:Ce("historical_data"),houseAdvantages:Ce("house_advantages"),predictedOutcome:N("predicted_outcome"),marketImpact:U("market_impact",{precision:8,scale:4}),confidence:U("confidence",{precision:5,scale:4}),actualResult:N("actual_result"),accuracy:U("accuracy",{precision:5,scale:4}),isActive:Re("is_active").default(!0),resolvedAt:se("resolved_at"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),epe=Ve("market_intelligence_cache",{id:le("id").primaryKey().default(He`gen_random_uuid()`),cacheKey:N("cache_key").notNull().unique(),dataType:N("data_type").notNull(),scope:N("scope").notNull(),targetId:le("target_id"),analysisData:Ce("analysis_data"),insights:Ce("insights"),confidence:U("confidence",{precision:5,scale:4}),processingTime:ne("processing_time"),dataFreshness:se("data_freshness"),accessCount:ne("access_count").default(0),lastAccessed:se("last_accessed"),expiresAt:se("expires_at").notNull(),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),tpe=Ve("user_ai_interactions",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),interactionType:N("interaction_type").notNull(),inputData:Ce("input_data"),aiResponse:Ce("ai_response"),mysticalPresentation:N("mystical_presentation"),userHouse:N("user_house"),karmaAlignment:Ce("karma_alignment"),confidence:U("confidence",{precision:5,scale:4}),userRating:ne("user_rating"),followedAdvice:Re("followed_advice"),outcomeTracking:Ce("outcome_tracking"),sessionId:le("session_id"),processingTime:ne("processing_time"),tokens:ne("tokens"),cost:U("cost",{precision:8,scale:6}),createdAt:se("created_at").defaultNow()}),spe=Ve("ai_oracle_personas",{id:le("id").primaryKey().default(He`gen_random_uuid()`),personaName:N("persona_name").notNull(),description:N("description"),houseAffinity:N("house_affinity"),personalityTraits:Ce("personality_traits"),responseStyle:Ce("response_style"),expertise:Ce("expertise"),mysticalLanguage:Ce("mystical_language"),divineSymbols:Ce("divine_symbols"),powerLevel:ne("power_level").default(1),isActive:Re("is_active").default(!0),usageCount:ne("usage_count").default(0),avgUserRating:U("avg_user_rating",{precision:3,scale:2}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),ipe=Ve("market_anomalies",{id:le("id").primaryKey().default(He`gen_random_uuid()`),assetId:le("asset_id").references(()=>Rs.id),anomalyType:N("anomaly_type").notNull(),severity:N("severity").notNull(),description:N("description"),detectionData:Ce("detection_data"),historicalComparison:Ce("historical_comparison"),potentialCauses:Ce("potential_causes"),marketImpact:U("market_impact",{precision:8,scale:4}),aiConfidence:U("ai_confidence",{precision:5,scale:4}),userNotifications:ne("user_notifications").default(0),followUpActions:Ce("follow_up_actions"),resolved:Re("resolved").default(!1),resolvedAt:se("resolved_at"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()});Ue(Qhe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Jhe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(epe).omit({id:!0,accessCount:!0,lastAccessed:!0,createdAt:!0,updatedAt:!0});Ue(tpe).omit({id:!0,createdAt:!0});Ue(spe).omit({id:!0,usageCount:!0,avgUserRating:!0,createdAt:!0,updatedAt:!0});Ue(ipe).omit({id:!0,userNotifications:!0,resolved:!0,resolvedAt:!0,createdAt:!0,updatedAt:!0});const Ov=Ve("external_integrations",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),integrationName:N("integration_name").notNull(),integrationDisplayName:N("integration_display_name").notNull(),status:N("status").notNull().default("disconnected"),authType:N("auth_type").notNull(),encryptedCredentials:N("encrypted_credentials"),authScopes:Ce("auth_scopes"),connectionMetadata:Ce("connection_metadata"),configuration:Ce("configuration"),lastHealthCheck:se("last_health_check"),healthStatus:N("health_status").default("unknown"),errorMessage:N("error_message"),retryCount:ne("retry_count").default(0),totalSyncs:ne("total_syncs").default(0),lastSyncAt:se("last_sync_at"),nextScheduledSync:se("next_scheduled_sync"),houseId:N("house_id").references(()=>At.houseId),houseBonusMultiplier:U("house_bonus_multiplier",{precision:3,scale:2}).default("1.00"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_external_integrations_user").on(e.userId),oe("idx_external_integrations_name").on(e.integrationName),oe("idx_external_integrations_status").on(e.status),oe("idx_external_integrations_health").on(e.healthStatus)]),rpe=Ve("integration_webhooks",{id:le("id").primaryKey().default(He`gen_random_uuid()`),integrationId:le("integration_id").notNull().references(()=>Ov.id),webhookType:N("webhook_type").notNull(),eventType:N("event_type").notNull(),webhookUrl:N("webhook_url"),secretKey:N("secret_key"),isActive:Re("is_active").default(!0),httpMethod:N("http_method").default("POST"),headers:Ce("headers"),payload:Ce("payload"),retryPolicy:Ce("retry_policy"),totalTriggers:ne("total_triggers").default(0),successfulTriggers:ne("successful_triggers").default(0),failedTriggers:ne("failed_triggers").default(0),lastTriggeredAt:se("last_triggered_at"),lastSuccessAt:se("last_success_at"),lastFailureAt:se("last_failure_at"),lastErrorMessage:N("last_error_message"),averageResponseTime:U("average_response_time",{precision:8,scale:3}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_integration_webhooks_integration").on(e.integrationId),oe("idx_integration_webhooks_type").on(e.webhookType),oe("idx_integration_webhooks_event").on(e.eventType),oe("idx_integration_webhooks_active").on(e.isActive)]),npe=Ve("integration_sync_logs",{id:le("id").primaryKey().default(He`gen_random_uuid()`),integrationId:le("integration_id").notNull().references(()=>Ov.id),syncType:N("sync_type").notNull(),direction:N("direction").notNull(),status:N("status").notNull(),dataType:N("data_type"),recordsProcessed:ne("records_processed").default(0),recordsSuccessful:ne("records_successful").default(0),recordsFailed:ne("records_failed").default(0),durationMs:ne("duration_ms"),startedAt:se("started_at"),completedAt:se("completed_at"),errorMessage:N("error_message"),errorDetails:Ce("error_details"),syncMetadata:Ce("sync_metadata"),transformationRules:Ce("transformation_rules"),validationErrors:Ce("validation_errors"),conflictResolution:Ce("conflict_resolution"),createdAt:se("created_at").defaultNow()},e=>[oe("idx_integration_sync_logs_integration").on(e.integrationId),oe("idx_integration_sync_logs_status").on(e.status),oe("idx_integration_sync_logs_type").on(e.syncType),oe("idx_integration_sync_logs_started").on(e.startedAt)]),w9=Ve("workflow_automations",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),name:N("name").notNull(),description:N("description"),category:N("category").notNull(),triggerType:N("trigger_type").notNull(),triggerConfig:Ce("trigger_config").notNull(),actionSteps:Ce("action_steps").notNull(),conditions:Ce("conditions"),ritualType:N("ritual_type"),houseBonus:U("house_bonus",{precision:3,scale:2}).default("1.00"),karmaRequirement:ne("karma_requirement").default(0),mysticalPower:ne("mystical_power").default(1),isActive:Re("is_active").default(!0),status:N("status").default("active"),totalRuns:ne("total_runs").default(0),successfulRuns:ne("successful_runs").default(0),failedRuns:ne("failed_runs").default(0),lastRunAt:se("last_run_at"),lastSuccessAt:se("last_success_at"),lastFailureAt:se("last_failure_at"),nextRunAt:se("next_run_at"),lastErrorMessage:N("last_error_message"),averageExecutionTime:U("average_execution_time",{precision:8,scale:3}),priority:ne("priority").default(5),timeout:ne("timeout").default(3e5),retryPolicy:Ce("retry_policy"),notificationSettings:Ce("notification_settings"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_workflow_automations_user").on(e.userId),oe("idx_workflow_automations_category").on(e.category),oe("idx_workflow_automations_trigger").on(e.triggerType),oe("idx_workflow_automations_active").on(e.isActive),oe("idx_workflow_automations_next_run").on(e.nextRunAt)]),ape=Ve("workflow_executions",{id:le("id").primaryKey().default(He`gen_random_uuid()`),workflowId:le("workflow_id").notNull().references(()=>w9.id),executionId:le("execution_id").notNull(),status:N("status").notNull(),triggerSource:N("trigger_source"),triggerData:Ce("trigger_data"),startedAt:se("started_at").notNull(),completedAt:se("completed_at"),durationMs:ne("duration_ms"),totalSteps:ne("total_steps"),completedSteps:ne("completed_steps"),failedSteps:ne("failed_steps"),currentStep:ne("current_step"),stepExecutions:Ce("step_executions"),outputData:Ce("output_data"),errorMessage:N("error_message"),errorDetails:Ce("error_details"),karmaEarned:ne("karma_earned").default(0),mysticalEffects:Ce("mystical_effects"),createdAt:se("created_at").defaultNow()},e=>[oe("idx_workflow_executions_workflow").on(e.workflowId),oe("idx_workflow_executions_status").on(e.status),oe("idx_workflow_executions_started").on(e.startedAt),oe("idx_workflow_executions_execution_id").on(e.executionId)]),ope=Ve("integration_analytics",{id:le("id").primaryKey().default(He`gen_random_uuid()`),integrationId:le("integration_id").notNull().references(()=>Ov.id),userId:le("user_id").notNull().references(()=>At.id),analyticsDate:se("analytics_date").notNull(),timeframe:N("timeframe").notNull(),apiCalls:ne("api_calls").default(0),successfulCalls:ne("successful_calls").default(0),failedCalls:ne("failed_calls").default(0),dataTransferred:ne("data_transferred").default(0),averageResponseTime:U("average_response_time",{precision:8,scale:3}),minResponseTime:U("min_response_time",{precision:8,scale:3}),maxResponseTime:U("max_response_time",{precision:8,scale:3}),errorCategories:Ce("error_categories"),rateLimitHits:ne("rate_limit_hits").default(0),timeoutCount:ne("timeout_count").default(0),automationsTriggered:ne("automations_triggered").default(0),workflowsCompleted:ne("workflows_completed").default(0),dataPointsSynced:ne("data_points_synced").default(0),estimatedCost:U("estimated_cost",{precision:10,scale:4}),creditsUsed:ne("credits_used").default(0),houseId:N("house_id"),houseBonusApplied:U("house_bonus_applied",{precision:3,scale:2}),karmaGenerated:ne("karma_generated").default(0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_integration_analytics_integration").on(e.integrationId),oe("idx_integration_analytics_user").on(e.userId),oe("idx_integration_analytics_date").on(e.analyticsDate),oe("idx_integration_analytics_timeframe").on(e.timeframe)]),lpe=Ve("external_user_mappings",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),integrationId:le("integration_id").notNull().references(()=>Ov.id),externalUserId:N("external_user_id").notNull(),externalUserName:N("external_user_name"),externalUserEmail:N("external_user_email"),permissions:Ce("permissions"),dataMapping:Ce("data_mapping"),syncPreferences:Ce("sync_preferences"),lastSyncAt:se("last_sync_at"),isActive:Re("is_active").default(!0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_external_user_mappings_user").on(e.userId),oe("idx_external_user_mappings_integration").on(e.integrationId),oe("idx_external_user_mappings_external_id").on(e.externalUserId)]);Ue(Ov).omit({id:!0,totalSyncs:!0,lastSyncAt:!0,lastHealthCheck:!0,retryCount:!0,createdAt:!0,updatedAt:!0});Ue(rpe).omit({id:!0,totalTriggers:!0,successfulTriggers:!0,failedTriggers:!0,lastTriggeredAt:!0,lastSuccessAt:!0,lastFailureAt:!0,averageResponseTime:!0,createdAt:!0,updatedAt:!0});Ue(npe).omit({id:!0,createdAt:!0});Ue(w9).omit({id:!0,totalRuns:!0,successfulRuns:!0,failedRuns:!0,lastRunAt:!0,lastSuccessAt:!0,lastFailureAt:!0,averageExecutionTime:!0,createdAt:!0,updatedAt:!0});Ue(ape).omit({id:!0,createdAt:!0});Ue(ope).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(lpe).omit({id:!0,lastSyncAt:!0,createdAt:!0,updatedAt:!0});const cpe=Ve("imf_vault_settings",{id:le("id").primaryKey().default(He`gen_random_uuid()`),assetId:le("asset_id").notNull().references(()=>Rs.id),totalSharesIssued:U("total_shares_issued",{precision:15,scale:4}).notNull(),sharesInVault:U("shares_in_vault",{precision:15,scale:4}).default("0.0000"),sharesInCirculation:U("shares_in_circulation",{precision:15,scale:4}).notNull(),maxSharesAllowed:U("max_shares_allowed",{precision:15,scale:4}).notNull(),shareCreationCutoffDate:se("share_creation_cutoff_date").notNull(),vaultingThreshold:U("vaulting_threshold",{precision:8,scale:2}).default("90.00"),minHoldingPeriod:ne("min_holding_period_days").default(30),vaultingFee:U("vaulting_fee",{precision:8,scale:4}).default("0.0025"),scarcityMultiplier:U("scarcity_multiplier",{precision:8,scale:4}).default("1.0000"),lastScarcityUpdate:se("last_scarcity_update").defaultNow(),demandPressure:U("demand_pressure",{precision:8,scale:2}).default("0.00"),supplyConstraint:U("supply_constraint",{precision:8,scale:2}).default("0.00"),isVaultingActive:Re("is_vaulting_active").default(!0),vaultStatus:N("vault_status").default("active"),nextVaultingEvaluation:se("next_vaulting_evaluation"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),dpe=Ve("trading_firms",{id:le("id").primaryKey().default(He`gen_random_uuid()`),houseId:N("house_id").notNull(),firmName:N("firm_name").notNull(),firmCode:N("firm_code").notNull().unique(),ceoName:N("ceo_name").notNull(),ceoMythologyRef:N("ceo_mythology_ref"),advisors:Ce("advisors"),primarySpecialties:N("primary_specialties").array(),weaknesses:N("weaknesses").array(),specialtyBonuses:Ce("specialty_bonuses"),weaknessPenalties:Ce("weakness_penalties"),tradingStyle:N("trading_style").notNull(),riskTolerance:N("risk_tolerance").notNull(),marketCapacityUSD:U("market_capacity_usd",{precision:15,scale:2}).notNull(),minimumTradeSize:U("minimum_trade_size",{precision:10,scale:2}).default("1000.00"),totalAssetsUnderManagement:U("total_aum",{precision:15,scale:2}).default("0.00"),ytdReturn:U("ytd_return",{precision:8,scale:2}).default("0.00"),sharpeRatio:U("sharpe_ratio",{precision:8,scale:4}),maxDrawdown:U("max_drawdown",{precision:8,scale:2}),winRate:U("win_rate",{precision:8,scale:2}),avgTradeSize:U("avg_trade_size",{precision:10,scale:2}),isActive:Re("is_active").default(!0),marketHours:Ce("market_hours"),communicationChannels:Ce("communication_channels"),reputation:U("reputation",{precision:8,scale:2}).default("50.00"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),upe=Ve("asset_financial_mapping",{id:le("id").primaryKey().default(He`gen_random_uuid()`),assetId:le("asset_id").notNull().references(()=>Rs.id),instrumentType:N("instrument_type").notNull(),instrumentSubtype:N("instrument_subtype"),underlyingAssetId:le("underlying_asset_id").references(()=>Rs.id),shareClass:N("share_class").default("A"),votingRights:Re("voting_rights").default(!0),dividendEligible:Re("dividend_eligible").default(!1),dividendYield:U("dividend_yield",{precision:8,scale:4}),creditRating:N("credit_rating"),maturityDate:se("maturity_date"),couponRate:U("coupon_rate",{precision:8,scale:4}),faceValue:U("face_value",{precision:10,scale:2}),fundComponents:N("fund_components").array(),expenseRatio:U("expense_ratio",{precision:8,scale:4}),trackingIndex:N("tracking_index"),rebalanceFrequency:N("rebalance_frequency"),lotSize:ne("lot_size").default(1),tickSize:U("tick_size",{precision:8,scale:4}).default("0.0100"),marginRequirement:U("margin_requirement",{precision:8,scale:2}).default("50.00"),shortSellAllowed:Re("short_sell_allowed").default(!0),lastSplitDate:se("last_split_date"),splitRatio:N("split_ratio"),lastDividendDate:se("last_dividend_date"),exDividendDate:se("ex_dividend_date"),securityType:N("security_type").notNull(),exchangeListing:N("exchange_listing").default("PPX"),cusip:N("cusip"),isin:N("isin"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),hpe=Ve("global_market_hours",{id:le("id").primaryKey().default(He`gen_random_uuid()`),marketCode:N("market_code").notNull().unique(),marketName:N("market_name").notNull(),timezone:N("timezone").notNull(),regularOpenTime:N("regular_open_time").notNull(),regularCloseTime:N("regular_close_time").notNull(),preMarketOpenTime:N("pre_market_open_time"),afterHoursCloseTime:N("after_hours_close_time"),isActive:Re("is_active").default(!0),currentStatus:N("current_status").default("closed"),lastStatusUpdate:se("last_status_update").defaultNow(),holidaySchedule:Ce("holiday_schedule"),earlyCloseSchedule:Ce("early_close_schedule"),enablesCrossTrading:Re("enables_cross_trading").default(!0),crossTradingFee:U("cross_trading_fee",{precision:8,scale:4}).default("0.0010"),dailyVolumeTarget:U("daily_volume_target",{precision:15,scale:2}),currentDayVolume:U("current_day_volume",{precision:15,scale:2}).default("0.00"),avgDailyVolume:U("avg_daily_volume",{precision:15,scale:2}),influenceWeight:U("influence_weight",{precision:8,scale:4}).default("1.0000"),leadMarket:Re("lead_market").default(!1),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),ppe=Ve("options_chain",{id:le("id").primaryKey().default(He`gen_random_uuid()`),underlyingAssetId:le("underlying_asset_id").notNull().references(()=>Rs.id),optionSymbol:N("option_symbol").notNull().unique(),contractType:N("contract_type").notNull(),strikePrice:U("strike_price",{precision:10,scale:2}).notNull(),expirationDate:se("expiration_date").notNull(),exerciseStyle:N("exercise_style").default("american"),contractSize:ne("contract_size").default(100),bidPrice:U("bid_price",{precision:10,scale:4}),askPrice:U("ask_price",{precision:10,scale:4}),lastPrice:U("last_price",{precision:10,scale:4}),markPrice:U("mark_price",{precision:10,scale:4}),delta:U("delta",{precision:8,scale:6}),gamma:U("gamma",{precision:8,scale:6}),theta:U("theta",{precision:8,scale:6}),vega:U("vega",{precision:8,scale:6}),rho:U("rho",{precision:8,scale:6}),impliedVolatility:U("implied_volatility",{precision:8,scale:4}),historicalVolatility:U("historical_volatility",{precision:8,scale:4}),volume:ne("volume").default(0),openInterest:ne("open_interest").default(0),lastTradeTime:se("last_trade_time"),intrinsicValue:U("intrinsic_value",{precision:10,scale:4}),timeValue:U("time_value",{precision:10,scale:4}),breakEvenPrice:U("break_even_price",{precision:10,scale:2}),maxRisk:U("max_risk",{precision:10,scale:2}),maxReward:U("max_reward",{precision:10,scale:2}),isActive:Re("is_active").default(!0),lastGreeksUpdate:se("last_greeks_update"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),mpe=Ve("margin_accounts",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),portfolioId:le("portfolio_id").notNull().references(()=>zl.id),marginEquity:U("margin_equity",{precision:15,scale:2}).default("0.00"),marginCash:U("margin_cash",{precision:15,scale:2}).default("0.00"),marginDebt:U("margin_debt",{precision:15,scale:2}).default("0.00"),buyingPower:U("buying_power",{precision:15,scale:2}).default("0.00"),dayTradingBuyingPower:U("day_trading_buying_power",{precision:15,scale:2}).default("0.00"),maintenanceMargin:U("maintenance_margin",{precision:15,scale:2}).default("0.00"),initialMarginReq:U("initial_margin_req",{precision:8,scale:2}).default("50.00"),maintenanceMarginReq:U("maintenance_margin_req",{precision:8,scale:2}).default("25.00"),maxLeverage:U("max_leverage",{precision:8,scale:2}).default("2.00"),currentLeverage:U("current_leverage",{precision:8,scale:2}).default("1.00"),leverageUtilization:U("leverage_utilization",{precision:8,scale:2}).default("0.00"),marginCallThreshold:U("margin_call_threshold",{precision:8,scale:2}).default("30.00"),liquidationThreshold:U("liquidation_threshold",{precision:8,scale:2}).default("20.00"),lastMarginCall:se("last_margin_call"),marginCallsCount:ne("margin_calls_count").default(0),dayTradesUsed:ne("day_trades_used").default(0),dayTradesMax:ne("day_trades_max").default(3),accountStatus:N("account_status").default("good_standing"),marginTradingEnabled:Re("margin_trading_enabled").default(!1),shortSellingEnabled:Re("short_selling_enabled").default(!1),optionsTradingLevel:ne("options_trading_level").default(0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),fpe=Ve("short_positions",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),portfolioId:le("portfolio_id").notNull().references(()=>zl.id),assetId:le("asset_id").notNull().references(()=>Rs.id),sharesShorted:U("shares_shorted",{precision:10,scale:4}).notNull(),shortPrice:U("short_price",{precision:10,scale:2}).notNull(),currentPrice:U("current_price",{precision:10,scale:2}),unrealizedPnL:U("unrealized_pnl",{precision:15,scale:2}),realizedPnL:U("realized_pnl",{precision:15,scale:2}).default("0.00"),borrowRate:U("borrow_rate",{precision:8,scale:4}),borrowFeeAccrued:U("borrow_fee_accrued",{precision:10,scale:2}).default("0.00"),lastBorrowFeeCalc:se("last_borrow_fee_calc").defaultNow(),stopLossPrice:U("stop_loss_price",{precision:10,scale:2}),marginRequirement:U("margin_requirement",{precision:15,scale:2}),positionStatus:N("position_status").default("open"),canBorrow:Re("can_borrow").default(!0),borrowSource:N("borrow_source"),openedAt:se("opened_at").defaultNow(),closedAt:se("closed_at"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),gpe=Ve("information_tiers",{id:le("id").primaryKey().default(He`gen_random_uuid()`),tierName:N("tier_name").notNull().unique(),tierLevel:ne("tier_level").notNull(),newsDelayMinutes:ne("news_delay_minutes").default(0),marketDataDelayMs:ne("market_data_delay_ms").default(0),analysisQuality:N("analysis_quality").notNull(),insightDepth:N("insight_depth").notNull(),advancedCharting:Re("advanced_charting").default(!1),realTimeAlerts:Re("real_time_alerts").default(!1),whaleTrackingAccess:Re("whale_tracking_access").default(!1),firmIntelligence:Re("firm_intelligence").default(!1),earlyMarketEvents:Re("early_market_events").default(!1),exclusiveResearch:Re("exclusive_research").default(!1),monthlyPrice:U("monthly_price",{precision:8,scale:2}),annualPrice:U("annual_price",{precision:8,scale:2}),creditsCost:ne("credits_cost").default(0),maxPriceAlerts:ne("max_price_alerts").default(5),maxWatchlistAssets:ne("max_watchlist_assets").default(20),maxPortfolios:ne("max_portfolios").default(1),isActive:Re("is_active").default(!0),displayOrder:ne("display_order").default(0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),xpe=Ve("news_articles",{id:le("id").primaryKey().default(He`gen_random_uuid()`),headline:N("headline").notNull(),summary:N("summary").notNull(),fullContent:N("full_content"),sourceOrganization:N("source_organization").notNull(),authorName:N("author_name"),newsCategory:N("news_category").notNull(),impactLevel:N("impact_level").notNull(),affectedAssets:N("affected_assets").array(),createdAt:se("created_at").defaultNow(),publishTime:se("publish_time").notNull(),eliteReleaseTime:se("elite_release_time").notNull(),proReleaseTime:se("pro_release_time").notNull(),freeReleaseTime:se("free_release_time").notNull(),priceImpactDirection:N("price_impact_direction"),priceImpactMagnitude:U("price_impact_magnitude",{precision:8,scale:2}),volatilityImpact:U("volatility_impact",{precision:8,scale:2}),isVerified:Re("is_verified").default(!0),verifiedBy:N("verified_by").default("panel_profits_oracle"),confidenceScore:U("confidence_score",{precision:8,scale:2}).default("100.00"),isActive:Re("is_active").default(!0),tags:N("tags").array(),relatedArticles:N("related_articles").array(),updatedAt:se("updated_at").defaultNow()}),ype=Ve("video_content",{id:le("id").primaryKey().default(He`gen_random_uuid()`),videoId:N("video_id").notNull().unique(),title:N("title").notNull(),description:N("description"),channelName:N("channel_name").notNull(),channelId:N("channel_id").notNull(),publishDate:se("publish_date").notNull(),duration:ne("duration"),thumbnailUrl:N("thumbnail_url"),url:N("url").notNull(),tags:N("tags").array(),transcript:N("transcript"),viewCount:ne("view_count").default(0),likeCount:ne("like_count").default(0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_video_content_channel").on(e.channelName),oe("idx_video_content_publish_date").on(e.publishDate)]);Ue(cpe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(dpe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(upe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(hpe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(ppe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(mpe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(fpe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(gpe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(xpe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(ype).omit({id:!0,createdAt:!0,updatedAt:!0});const _9=Ve("raw_dataset_files",{id:le("id").primaryKey().default(He`gen_random_uuid()`),filename:N("filename").notNull(),originalFilename:N("original_filename").notNull(),fileSize:ne("file_size").notNull(),mimeType:N("mime_type").notNull(),checksum:N("checksum").notNull(),checksumAlgorithm:N("checksum_algorithm").default("sha256"),datasetType:N("dataset_type").notNull(),source:N("source").notNull(),sourceUrl:N("source_url"),universe:N("universe"),processingStatus:N("processing_status").default("uploaded"),processingProgress:U("processing_progress",{precision:5,scale:2}).default("0.00"),totalRows:ne("total_rows"),processedRows:ne("processed_rows").default(0),failedRows:ne("failed_rows").default(0),storageLocation:N("storage_location").notNull(),compressionType:N("compression_type"),uploadedBy:le("uploaded_by").references(()=>At.id),ingestionJobId:le("ingestion_job_id"),csvHeaders:N("csv_headers").array(),sampleData:Ce("sample_data"),validationRules:Ce("validation_rules"),errorSummary:Ce("error_summary"),lastErrorMessage:N("last_error_message"),retryCount:ne("retry_count").default(0),maxRetries:ne("max_retries").default(3),uploadedAt:se("uploaded_at").defaultNow(),processingStartedAt:se("processing_started_at"),processingCompletedAt:se("processing_completed_at"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_raw_dataset_files_status").on(e.processingStatus),oe("idx_raw_dataset_files_type").on(e.datasetType),oe("idx_raw_dataset_files_source").on(e.source),oe("idx_raw_dataset_files_uploaded_by").on(e.uploadedBy),oe("idx_raw_dataset_files_checksum").on(e.checksum)]),N9=Ve("staging_records",{id:le("id").primaryKey().default(He`gen_random_uuid()`),datasetFileId:le("dataset_file_id").notNull().references(()=>_9.id),rowNumber:ne("row_number").notNull(),rawData:Ce("raw_data").notNull(),dataHash:N("data_hash").notNull(),processingStatus:N("processing_status").default("pending"),normalizationAttempts:ne("normalization_attempts").default(0),recordType:N("record_type"),detectedEntityType:N("detected_entity_type"),confidenceScore:U("confidence_score",{precision:3,scale:2}),mappedFields:Ce("mapped_fields"),extractedEntities:Ce("extracted_entities"),relationshipHints:Ce("relationship_hints"),dataQualityScore:U("data_quality_score",{precision:3,scale:2}),missingFields:N("missing_fields").array(),dataInconsistencies:Ce("data_inconsistencies"),isDuplicate:Re("is_duplicate").default(!1),duplicateOf:le("duplicate_of"),similarityScore:U("similarity_score",{precision:3,scale:2}),errorMessages:N("error_messages").array(),lastErrorDetails:Ce("last_error_details"),contentEmbedding:di("content_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow(),processedAt:se("processed_at"),normalizedAt:se("normalized_at")},e=>[oe("idx_staging_records_file_id").on(e.datasetFileId),oe("idx_staging_records_status").on(e.processingStatus),oe("idx_staging_records_type").on(e.recordType),oe("idx_staging_records_hash").on(e.dataHash),oe("idx_staging_records_duplicate").on(e.isDuplicate),oe("idx_staging_records_unique").on(e.datasetFileId,e.rowNumber)]),tv=Ve("narrative_entities",{id:le("id").primaryKey().default(He`gen_random_uuid()`),canonicalName:N("canonical_name").notNull(),entityType:N("entity_type").notNull(),subtype:N("subtype"),universe:N("universe").notNull(),realName:N("real_name"),secretIdentity:Re("secret_identity").default(!1),publicIdentity:Re("public_identity").default(!1),isDeceased:Re("is_deceased").default(!1),gender:N("gender"),species:N("species").default("human"),height:U("height",{precision:5,scale:2}),weight:U("weight",{precision:5,scale:1}),eyeColor:N("eye_color"),hairColor:N("hair_color"),firstAppearance:N("first_appearance"),firstAppearanceDate:N("first_appearance_date"),creators:N("creators").array(),currentCreators:N("current_creators").array(),teams:N("teams").array(),allies:N("allies").array(),enemies:N("enemies").array(),familyMembers:N("family_members").array(),originLocation:N("origin_location"),currentLocation:N("current_location"),timelineEra:N("timeline_era"),publicationStatus:N("publication_status").default("active"),lastAppearance:N("last_appearance"),lastAppearanceDate:N("last_appearance_date"),assetId:le("asset_id").references(()=>Rs.id),marketValue:U("market_value",{precision:10,scale:2}),popularityScore:U("popularity_score",{precision:8,scale:2}),culturalImpact:U("cultural_impact",{precision:8,scale:2}),biography:N("biography"),description:N("description"),keyStorylines:N("key_storylines").array(),notableQuotes:N("notable_quotes").array(),primaryImageUrl:N("primary_image_url"),alternateImageUrls:N("alternate_image_urls").array(),iconographicElements:N("iconographic_elements").array(),canonicalityScore:U("canonicality_score",{precision:3,scale:2}).default("1.00"),dataCompleteness:U("data_completeness",{precision:3,scale:2}),verificationStatus:N("verification_status").default("unverified"),verifiedBy:le("verified_by").references(()=>At.id),lastVerifiedAt:se("last_verified_at"),dataSourceBreakdown:Ce("data_source_breakdown"),sourceConflicts:Ce("source_conflicts"),primaryDataSource:N("primary_data_source"),externalIds:Ce("external_ids"),sourceUrls:N("source_urls").array(),wikipediaUrl:N("wikipedia_url"),officialWebsite:N("official_website"),entityEmbedding:di("entity_embedding",{dimensions:1536}),biographyEmbedding:di("biography_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_narrative_entities_type").on(e.entityType),oe("idx_narrative_entities_universe").on(e.universe),oe("idx_narrative_entities_subtype").on(e.subtype),oe("idx_narrative_entities_canonical_name").on(e.canonicalName),oe("idx_narrative_entities_asset_id").on(e.assetId),oe("idx_narrative_entities_popularity").on(e.popularityScore),oe("idx_narrative_entities_verification").on(e.verificationStatus),oe("idx_narrative_entities_unique").on(e.canonicalName,e.universe,e.entityType)]),vpe=Ve("narrative_traits",{id:le("id").primaryKey().default(He`gen_random_uuid()`),entityId:le("entity_id").notNull().references(()=>tv.id),traitCategory:N("trait_category").notNull(),traitType:N("trait_type").notNull(),traitName:N("trait_name").notNull(),potencyLevel:ne("potency_level"),masteryLevel:ne("mastery_level"),reliabilityLevel:ne("reliability_level"),versatilityScore:U("versatility_score",{precision:3,scale:2}),description:N("description").notNull(),limitations:N("limitations").array(),triggers:N("triggers").array(),duration:N("duration"),range:N("range"),energyCost:N("energy_cost"),environmentalFactors:N("environmental_factors").array(),combatEffectiveness:U("combat_effectiveness",{precision:3,scale:2}),utilityValue:U("utility_value",{precision:3,scale:2}),rarityScore:U("rarity_score",{precision:3,scale:2}),acquisitionMethod:N("acquisition_method"),developmentStage:N("development_stage").default("stable"),evolutionPotential:U("evolution_potential",{precision:3,scale:2}),canonicity:N("canonicity").default("main"),continuityEra:N("continuity_era"),retconStatus:N("retcon_status").default("current"),sourceIssues:N("source_issues").array(),sourceMedia:N("source_media").array(),verificationLevel:N("verification_level").default("unverified"),marketRelevance:U("market_relevance",{precision:3,scale:2}),fanAppeal:U("fan_appeal",{precision:3,scale:2}),tags:N("tags").array(),aliases:N("aliases").array(),relatedTraits:N("related_traits").array(),traitEmbedding:di("trait_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow(),lastVerifiedAt:se("last_verified_at")},e=>[oe("idx_narrative_traits_entity_id").on(e.entityId),oe("idx_narrative_traits_category").on(e.traitCategory),oe("idx_narrative_traits_type").on(e.traitType),oe("idx_narrative_traits_potency").on(e.potencyLevel),oe("idx_narrative_traits_mastery").on(e.masteryLevel),oe("idx_narrative_traits_canonicity").on(e.canonicity),oe("idx_narrative_traits_market_relevance").on(e.marketRelevance)]),uE=Ve("comic_covers",{id:le("id").primaryKey().default(He`gen_random_uuid()`),publisher:N("publisher").notNull(),series:N("series").notNull(),issueNumber:N("issue_number").notNull(),variant:N("variant").default("regular"),volumeYear:ne("volume_year"),storagePath:N("storage_path").notNull(),imageUrl:N("image_url").notNull(),thumbnailPath:N("thumbnail_path"),fileSize:ne("file_size"),width:ne("width"),height:ne("height"),format:N("format").default("jpeg"),sourceType:N("source_type").notNull(),sourceId:N("source_id"),sourceUrl:N("source_url"),sourceQuality:N("source_quality").default("standard"),collectedAt:se("collected_at").defaultNow(),collectedBy:N("collected_by").default("bot"),significanceTier:ne("significance_tier").default(3),significanceTags:N("significance_tags").array(),keyCharacterAppearances:N("key_character_appearances").array(),firstAppearanceOf:N("first_appearance_of").array(),featuredCharacters:N("featured_characters").array(),gradingCompany:N("grading_company"),grade:U("grade",{precision:3,scale:1}),isSlabbed:Re("is_slabbed").default(!1),recordSalePrice:U("record_sale_price",{precision:12,scale:2}),recordSaleDate:se("record_sale_date"),averagePrice:U("average_price",{precision:10,scale:2}),verificationStatus:N("verification_status").default("unverified"),verifiedBy:le("verified_by").references(()=>At.id),verifiedAt:se("verified_at"),qualityIssues:N("quality_issues").array(),notes:N("notes"),tags:N("tags").array(),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_comic_covers_publisher").on(e.publisher),oe("idx_comic_covers_series").on(e.series),oe("idx_comic_covers_issue").on(e.issueNumber),oe("idx_comic_covers_source_type").on(e.sourceType),oe("idx_comic_covers_significance_tier").on(e.significanceTier),oe("idx_comic_covers_verification").on(e.verificationStatus),oe("idx_comic_covers_collected_at").on(e.collectedAt),oe("idx_comic_covers_composite").on(e.publisher,e.series,e.issueNumber,e.variant,e.volumeYear)]),bpe=Ve("entity_aliases",{id:le("id").primaryKey().default(He`gen_random_uuid()`),canonicalEntityId:le("canonical_entity_id").notNull().references(()=>tv.id),aliasName:N("alias_name").notNull(),aliasType:N("alias_type").notNull(),usageContext:N("usage_context"),universe:N("universe"),timeline:N("timeline"),media:N("media"),popularityScore:U("popularity_score",{precision:3,scale:2}),officialStatus:Re("official_status").default(!1),currentlyInUse:Re("currently_in_use").default(!0),language:N("language").default("en"),culturalContext:N("cultural_context"),pronunciation:N("pronunciation"),etymology:N("etymology"),sourceEntity:le("source_entity"),alternateUniverseId:N("alternate_universe_id"),characterVariation:N("character_variation"),sourceIssues:N("source_issues").array(),sourceMedia:N("source_media").array(),introducedBy:N("introduced_by").array(),firstUsageDate:N("first_usage_date"),lastUsageDate:N("last_usage_date"),searchPriority:ne("search_priority").default(0),exactMatchWeight:U("exact_match_weight",{precision:3,scale:2}).default("1.00"),fuzzyMatchWeight:U("fuzzy_match_weight",{precision:3,scale:2}).default("0.80"),verificationLevel:N("verification_level").default("unverified"),confidenceScore:U("confidence_score",{precision:3,scale:2}).default("1.00"),qualityFlags:N("quality_flags").array(),notes:N("notes"),tags:N("tags").array(),aliasEmbedding:di("alias_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow(),lastVerifiedAt:se("last_verified_at")},e=>[oe("idx_entity_aliases_canonical_id").on(e.canonicalEntityId),oe("idx_entity_aliases_name").on(e.aliasName),oe("idx_entity_aliases_type").on(e.aliasType),oe("idx_entity_aliases_usage_context").on(e.usageContext),oe("idx_entity_aliases_universe").on(e.universe),oe("idx_entity_aliases_popularity").on(e.popularityScore),oe("idx_entity_aliases_official").on(e.officialStatus),oe("idx_entity_aliases_current").on(e.currentlyInUse),oe("idx_entity_aliases_search_priority").on(e.searchPriority),oe("idx_entity_aliases_unique").on(e.canonicalEntityId,e.aliasName,e.universe)]),wpe=Ve("entity_interactions",{id:le("id").primaryKey().default(He`gen_random_uuid()`),primaryEntityId:le("primary_entity_id").notNull().references(()=>tv.id),secondaryEntityId:le("secondary_entity_id").references(()=>tv.id),interactionType:N("interaction_type").notNull(),interactionSubtype:N("interaction_subtype"),relationshipType:N("relationship_type"),outcome:N("outcome"),outcomeConfidence:U("outcome_confidence",{precision:3,scale:2}),primaryEntityResult:N("primary_entity_result"),secondaryEntityResult:N("secondary_entity_result"),environment:N("environment"),timeOfDay:N("time_of_day"),weatherConditions:N("weather_conditions"),publicVisibility:N("public_visibility"),powerDifferential:U("power_differential",{precision:8,scale:2}),strategicAdvantage:N("strategic_advantage"),preparationTime:N("preparation_time"),homeFieldAdvantage:N("home_field_advantage"),duration:ne("duration_minutes"),intensityLevel:ne("intensity_level"),collateralDamage:N("collateral_damage"),casualtyCount:ne("casualty_count"),moralContext:N("moral_context"),ethicalImplications:N("ethical_implications").array(),justification:N("justification"),sourceIssue:N("source_issue"),sourceMedia:N("source_media"),writerCredits:N("writer_credits").array(),artistCredits:N("artist_credits").array(),canonicity:N("canonicity").default("main"),continuityEra:N("continuity_era"),eventDate:N("event_date"),publicationDate:N("publication_date"),shortTermConsequences:N("short_term_consequences").array(),longTermConsequences:N("long_term_consequences").array(),characterDevelopment:Ce("character_development"),relationshipChange:N("relationship_change"),fanReaction:N("fan_reaction"),culturalSignificance:U("cultural_significance",{precision:3,scale:2}),marketImpact:U("market_impact",{precision:8,scale:2}),iconicStatus:Re("iconic_status").default(!1),verificationLevel:N("verification_level").default("unverified"),dataCompleteness:U("data_completeness",{precision:3,scale:2}),sourceReliability:U("source_reliability",{precision:3,scale:2}),additionalParticipants:N("additional_participants").array(),teamAffiliations:N("team_affiliations").array(),tags:N("tags").array(),keywords:N("keywords").array(),summary:N("summary"),detailedDescription:N("detailed_description"),interactionEmbedding:di("interaction_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow(),lastVerifiedAt:se("last_verified_at")},e=>[oe("idx_entity_interactions_primary").on(e.primaryEntityId),oe("idx_entity_interactions_secondary").on(e.secondaryEntityId),oe("idx_entity_interactions_type").on(e.interactionType),oe("idx_entity_interactions_outcome").on(e.outcome),oe("idx_entity_interactions_canonicity").on(e.canonicity),oe("idx_entity_interactions_significance").on(e.culturalSignificance),oe("idx_entity_interactions_market_impact").on(e.marketImpact),oe("idx_entity_interactions_iconic").on(e.iconicStatus),oe("idx_entity_interactions_publication_date").on(e.publicationDate)]),_pe=Ve("media_performance_metrics",{id:le("id").primaryKey().default(He`gen_random_uuid()`),mediaTitle:N("media_title").notNull(),mediaType:N("media_type").notNull(),releaseFormat:N("release_format"),franchise:N("franchise").notNull(),universe:N("universe").notNull(),continuity:N("continuity"),featuredEntities:N("featured_entities").array(),mainCharacters:N("main_characters").array(),supportingCharacters:N("supporting_characters").array(),villains:N("villains").array(),teams:N("teams").array(),releaseDate:N("release_date"),releaseYear:ne("release_year"),releaseQuarter:ne("release_quarter"),releaseMonth:ne("release_month"),releaseTerritories:N("release_territories").array(),productionBudget:U("production_budget",{precision:15,scale:2}),marketingBudget:U("marketing_budget",{precision:15,scale:2}),totalBudget:U("total_budget",{precision:15,scale:2}),openingWeekendGross:U("opening_weekend_gross",{precision:15,scale:2}),domesticGross:U("domestic_gross",{precision:15,scale:2}),internationalGross:U("international_gross",{precision:15,scale:2}),worldwideGross:U("worldwide_gross",{precision:15,scale:2}),inflationAdjustedBudget:U("inflation_adjusted_budget",{precision:15,scale:2}),inflationAdjustedGross:U("inflation_adjusted_gross",{precision:15,scale:2}),profitMargin:U("profit_margin",{precision:8,scale:2}),returnOnInvestment:U("return_on_investment",{precision:8,scale:2}),grossToBudgetRatio:U("gross_to_budget_ratio",{precision:8,scale:2}),domesticPercentage:U("domestic_percentage",{precision:8,scale:2}),internationalPercentage:U("international_percentage",{precision:8,scale:2}),metacriticScore:ne("metacritic_score"),rottenTomatoesScore:ne("rotten_tomatoes_score"),rottenTomatoesAudienceScore:ne("rotten_tomatoes_audience_score"),imdbRating:U("imdb_rating",{precision:3,scale:1}),imdbVotes:ne("imdb_votes"),majorAwardsWon:N("major_awards_won").array(),majorAwardsNominated:N("major_awards_nominated").array(),genreAwards:N("genre_awards").array(),festivalAwards:N("festival_awards").array(),openingTheaterCount:ne("opening_theater_count"),maxTheaterCount:ne("max_theater_count"),weeksInTheaters:ne("weeks_in_theaters"),attendanceEstimate:ne("attendance_estimate"),streamingViewership:U("streaming_viewership",{precision:15,scale:0}),digitalSales:U("digital_sales",{precision:15,scale:2}),physicalMediaSales:U("physical_media_sales",{precision:15,scale:2}),merchandisingRevenue:U("merchandising_revenue",{precision:15,scale:2}),socialMediaMentions:ne("social_media_mentions"),socialMediaSentiment:U("social_media_sentiment",{precision:3,scale:2}),culturalReach:U("cultural_reach",{precision:8,scale:2}),memeCulture:Re("meme_culture").default(!1),fanCommunitySize:ne("fan_community_size"),primaryDemographic:N("primary_demographic"),genderAppeal:N("gender_appeal"),ageRating:N("age_rating"),assetPriceImpact:Ce("asset_price_impact"),marketEventTrigger:Re("market_event_trigger").default(!1),tradingVolumeIncrease:U("trading_volume_increase",{precision:8,scale:2}),director:N("director").array(),producers:N("producers").array(),writers:N("writers").array(),studio:N("studio"),distributor:N("distributor"),productionCompanies:N("production_companies").array(),runtime:ne("runtime_minutes"),format:N("format"),technologyUsed:N("technology_used").array(),filmingLocations:N("filming_locations").array(),isSequel:Re("is_sequel").default(!1),isReboot:Re("is_reboot").default(!1),isSpinoff:Re("is_spinoff").default(!1),franchisePosition:ne("franchise_position"),predecessorId:le("predecessor_id"),successorId:le("successor_id"),dataCompleteness:U("data_completeness",{precision:3,scale:2}),sourceReliability:U("source_reliability",{precision:3,scale:2}),dataSources:N("data_sources").array(),lastDataUpdate:se("last_data_update"),imdbId:N("imdb_id"),tmdbId:N("tmdb_id"),rottenTomatoesId:N("rotten_tomatoes_id"),metacriticId:N("metacritic_id"),externalUrls:N("external_urls").array(),contentEmbedding:di("content_embedding",{dimensions:1536}),performanceEmbedding:di("performance_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow(),lastVerifiedAt:se("last_verified_at")},e=>[oe("idx_media_performance_media_type").on(e.mediaType),oe("idx_media_performance_franchise").on(e.franchise),oe("idx_media_performance_universe").on(e.universe),oe("idx_media_performance_release_year").on(e.releaseYear),oe("idx_media_performance_worldwide_gross").on(e.worldwideGross),oe("idx_media_performance_roi").on(e.returnOnInvestment),oe("idx_media_performance_critical_score").on(e.metacriticScore),oe("idx_media_performance_cultural_reach").on(e.culturalReach),oe("idx_media_performance_franchise_position").on(e.franchisePosition)]),hE=Ve("ingestion_jobs",{id:le("id").primaryKey().default(He`gen_random_uuid()`),jobName:N("job_name").notNull(),jobType:N("job_type").notNull(),batchId:N("batch_id"),datasetType:N("dataset_type").notNull(),sourceType:N("source_type").notNull(),processingMode:N("processing_mode").default("standard"),inputFiles:N("input_files").array(),inputParameters:Ce("input_parameters"),validationRules:Ce("validation_rules"),normalizationRules:Ce("normalization_rules"),deduplicationStrategy:N("deduplication_strategy").default("strict"),batchSize:ne("batch_size").default(1e3),maxRetries:ne("max_retries").default(3),timeoutMinutes:ne("timeout_minutes").default(60),priorityLevel:ne("priority_level").default(5),maxConcurrency:ne("max_concurrency").default(1),memoryLimit:ne("memory_limit_mb").default(1024),cpuLimit:U("cpu_limit",{precision:3,scale:2}).default("1.00"),status:N("status").default("queued"),progress:U("progress",{precision:5,scale:2}).default("0.00"),currentStage:N("current_stage"),stageProgress:U("stage_progress",{precision:5,scale:2}).default("0.00"),totalRecords:ne("total_records").default(0),processedRecords:ne("processed_records").default(0),successfulRecords:ne("successful_records").default(0),failedRecords:ne("failed_records").default(0),skippedRecords:ne("skipped_records").default(0),duplicateRecords:ne("duplicate_records").default(0),recordsPerSecond:U("records_per_second",{precision:8,scale:2}),averageProcessingTime:U("average_processing_time",{precision:8,scale:4}),peakMemoryUsage:ne("peak_memory_usage_mb"),totalCpuTime:U("total_cpu_time",{precision:10,scale:3}),errorCount:ne("error_count").default(0),warningCount:ne("warning_count").default(0),lastErrorMessage:N("last_error_message"),errorCategories:Ce("error_categories"),errorSampleSize:ne("error_sample_size").default(10),dataQualityScore:U("data_quality_score",{precision:3,scale:2}),deduplicationEfficiency:U("deduplication_efficiency",{precision:3,scale:2}),normalizationAccuracy:U("normalization_accuracy",{precision:3,scale:2}),validationPassRate:U("validation_pass_rate",{precision:3,scale:2}),createdBy:le("created_by").references(()=>At.id),assignedWorker:N("assigned_worker"),environmentInfo:Ce("environment_info"),dependsOnJobs:N("depends_on_jobs").array(),prerequisiteConditions:Ce("prerequisite_conditions"),outputFormat:N("output_format").default("database"),outputLocation:N("output_location"),retentionPolicy:N("retention_policy").default("standard"),notificationSettings:Ce("notification_settings"),notificationsSent:N("notifications_sent").array(),description:N("description"),tags:N("tags").array(),metadata:Ce("metadata"),configurationSnapshot:Ce("configuration_snapshot"),queuedAt:se("queued_at").defaultNow(),startedAt:se("started_at"),completedAt:se("completed_at"),lastHeartbeat:se("last_heartbeat"),estimatedCompletionTime:se("estimated_completion_time"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_ingestion_jobs_status").on(e.status),oe("idx_ingestion_jobs_type").on(e.jobType),oe("idx_ingestion_jobs_dataset_type").on(e.datasetType),oe("idx_ingestion_jobs_batch_id").on(e.batchId),oe("idx_ingestion_jobs_priority").on(e.priorityLevel),oe("idx_ingestion_jobs_created_by").on(e.createdBy),oe("idx_ingestion_jobs_queued_at").on(e.queuedAt),oe("idx_ingestion_jobs_started_at").on(e.startedAt),oe("idx_ingestion_jobs_progress").on(e.progress),oe("idx_ingestion_jobs_last_heartbeat").on(e.lastHeartbeat)]),j9=Ve("ingestion_runs",{id:le("id").primaryKey().default(He`gen_random_uuid()`),jobId:le("job_id").notNull().references(()=>hE.id),runNumber:ne("run_number").notNull(),runType:N("run_type").default("standard"),triggeredBy:N("triggered_by").default("system"),triggerUserId:le("trigger_user_id").references(()=>At.id),parentRunId:le("parent_run_id"),workerId:N("worker_id"),workerHost:N("worker_host"),workerVersion:N("worker_version"),processId:ne("process_id"),threadId:N("thread_id"),allocatedMemoryMb:ne("allocated_memory_mb"),peakMemoryUsageMb:ne("peak_memory_usage_mb"),averageMemoryUsageMb:ne("average_memory_usage_mb"),allocatedCpuCores:U("allocated_cpu_cores",{precision:3,scale:2}),totalCpuTime:U("total_cpu_time",{precision:10,scale:3}),wallClockTime:U("wall_clock_time",{precision:10,scale:3}),diskSpaceUsedMb:ne("disk_space_used_mb"),networkBytesTransferred:vu("network_bytes_transferred",{mode:"bigint"}),recordsInScope:ne("records_in_scope"),startingOffset:ne("starting_offset").default(0),endingOffset:ne("ending_offset"),batchSize:ne("batch_size"),batchesProcessed:ne("batches_processed").default(0),recordsProcessed:ne("records_processed").default(0),recordsSuccessful:ne("records_successful").default(0),recordsFailed:ne("records_failed").default(0),recordsSkipped:ne("records_skipped").default(0),recordsDuplicate:ne("records_duplicate").default(0),entitiesCreated:ne("entities_created").default(0),entitiesUpdated:ne("entities_updated").default(0),entitiesMerged:ne("entities_merged").default(0),aliasesCreated:ne("aliases_created").default(0),traitsCreated:ne("traits_created").default(0),interactionsCreated:ne("interactions_created").default(0),recordsPerSecond:U("records_per_second",{precision:8,scale:2}),averageRecordProcessingTime:U("average_record_processing_time",{precision:8,scale:4}),minRecordProcessingTime:U("min_record_processing_time",{precision:8,scale:4}),maxRecordProcessingTime:U("max_record_processing_time",{precision:8,scale:4}),throughputMbPerSecond:U("throughput_mb_per_second",{precision:8,scale:2}),errorCount:ne("error_count").default(0),warningCount:ne("warning_count").default(0),criticalErrorCount:ne("critical_error_count").default(0),errorRate:U("error_rate",{precision:8,scale:4}),primaryErrorType:N("primary_error_type"),primaryErrorMessage:N("primary_error_message"),status:N("status").default("running"),exitCode:ne("exit_code"),exitReason:N("exit_reason"),wasInterrupted:Re("was_interrupted").default(!1),wasRetried:Re("was_retried").default(!1),retryCount:ne("retry_count").default(0),dataQualityScore:U("data_quality_score",{precision:3,scale:2}),successRate:U("success_rate",{precision:8,scale:4}),deduplicationAccuracy:U("deduplication_accuracy",{precision:3,scale:2}),normalizationAccuracy:U("normalization_accuracy",{precision:3,scale:2}),configurationUsed:Ce("configuration_used"),parametersUsed:Ce("parameters_used"),environmentVariables:Ce("environment_variables"),lastCheckpoint:Ce("last_checkpoint"),checkpointInterval:ne("checkpoint_interval_records").default(1e3),checkpointsCreated:ne("checkpoints_created").default(0),recoveredFromCheckpoint:Re("recovered_from_checkpoint").default(!1),recoveryCheckpointId:N("recovery_checkpoint_id"),outputSummary:Ce("output_summary"),logFileLocation:N("log_file_location"),artifactLocations:N("artifact_locations").array(),notificationsSent:N("notifications_sent").array(),reportsGenerated:N("reports_generated").array(),startedAt:se("started_at").defaultNow(),completedAt:se("completed_at"),lastHeartbeat:se("last_heartbeat"),lastCheckpointAt:se("last_checkpoint_at"),createdAt:se("created_at").defaultNow()},e=>[oe("idx_ingestion_runs_job_id").on(e.jobId),oe("idx_ingestion_runs_run_number").on(e.runNumber),oe("idx_ingestion_runs_status").on(e.status),oe("idx_ingestion_runs_started_at").on(e.startedAt),oe("idx_ingestion_runs_worker_id").on(e.workerId),oe("idx_ingestion_runs_success_rate").on(e.successRate),oe("idx_ingestion_runs_records_per_second").on(e.recordsPerSecond),oe("idx_ingestion_runs_error_count").on(e.errorCount),oe("idx_ingestion_runs_parent_run").on(e.parentRunId),oe("idx_ingestion_runs_unique").on(e.jobId,e.runNumber)]),Npe=Ve("ingestion_errors",{id:le("id").primaryKey().default(He`gen_random_uuid()`),jobId:le("job_id").notNull().references(()=>hE.id),runId:le("run_id").references(()=>j9.id),stagingRecordId:le("staging_record_id").references(()=>N9.id),errorCode:N("error_code"),errorType:N("error_type").notNull(),errorCategory:N("error_category").notNull(),errorSeverity:ne("error_severity").notNull(),errorMessage:N("error_message").notNull(),detailedDescription:N("detailed_description"),technicalDetails:Ce("technical_details"),errorContext:Ce("error_context"),recordData:Ce("record_data"),recordIdentifier:N("record_identifier"),recordLineNumber:ne("record_line_number"),recordHash:N("record_hash"),fieldName:N("field_name"),fieldValue:N("field_value"),expectedFormat:N("expected_format"),actualFormat:N("actual_format"),processingStage:N("processing_stage"),processingStep:N("processing_step"),validationRule:N("validation_rule"),transformationRule:N("transformation_rule"),isResolvable:Re("is_resolvable").default(!0),resolutionStrategy:N("resolution_strategy"),suggestedFix:N("suggested_fix"),automatedFixAttempted:Re("automated_fix_attempted").default(!1),automatedFixSucceeded:Re("automated_fix_succeeded").default(!1),manualReviewRequired:Re("manual_review_required").default(!1),retryable:Re("retryable").default(!0),retryCount:ne("retry_count").default(0),maxRetries:ne("max_retries").default(3),nextRetryAt:se("next_retry_at"),retryBackoffMultiplier:U("retry_backoff_multiplier",{precision:3,scale:2}).default("2.00"),lastRetryAt:se("last_retry_at"),retryHistory:Ce("retry_history"),status:N("status").default("unresolved"),resolvedAt:se("resolved_at"),resolvedBy:le("resolved_by").references(()=>At.id),resolutionMethod:N("resolution_method"),resolutionNotes:N("resolution_notes"),resolutionChanges:Ce("resolution_changes"),impactLevel:N("impact_level"),affectedEntities:N("affected_entities").array(),downstreamImpact:N("downstream_impact"),businessImpact:N("business_impact"),errorPattern:N("error_pattern"),isKnownIssue:Re("is_known_issue").default(!1),knowledgeBaseArticle:N("knowledge_base_article"),relatedErrors:N("related_errors").array(),notificationsSent:N("notifications_sent").array(),escalationLevel:ne("escalation_level").default(0),escalatedAt:se("escalated_at"),escalatedTo:le("escalated_to").references(()=>At.id),alertsTriggered:N("alerts_triggered").array(),errorFrequency:U("error_frequency",{precision:8,scale:4}),firstOccurrence:se("first_occurrence"),lastOccurrence:se("last_occurrence"),occurrenceCount:ne("occurrence_count").default(1),trendDirection:N("trend_direction"),tags:N("tags").array(),customProperties:Ce("custom_properties"),attachments:N("attachments").array(),systemInfo:Ce("system_info"),environmentInfo:Ce("environment_info"),configurationInfo:Ce("configuration_info"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow(),acknowledgedAt:se("acknowledged_at")},e=>[oe("idx_ingestion_errors_job_id").on(e.jobId),oe("idx_ingestion_errors_run_id").on(e.runId),oe("idx_ingestion_errors_staging_record").on(e.stagingRecordId),oe("idx_ingestion_errors_type").on(e.errorType),oe("idx_ingestion_errors_category").on(e.errorCategory),oe("idx_ingestion_errors_severity").on(e.errorSeverity),oe("idx_ingestion_errors_status").on(e.status),oe("idx_ingestion_errors_retryable").on(e.retryable),oe("idx_ingestion_errors_next_retry").on(e.nextRetryAt),oe("idx_ingestion_errors_resolved_at").on(e.resolvedAt),oe("idx_ingestion_errors_escalation_level").on(e.escalationLevel),oe("idx_ingestion_errors_impact_level").on(e.impactLevel),oe("idx_ingestion_errors_occurrence_count").on(e.occurrenceCount),oe("idx_ingestion_errors_record_hash").on(e.recordHash)]),pE=Ve("narrative_timelines",{id:le("id").primaryKey().default(He`gen_random_uuid()`),timelineName:N("timeline_name").notNull(),timelineType:N("timeline_type").notNull(),scope:N("scope").notNull(),universe:N("universe").notNull(),continuity:N("continuity"),startDate:N("start_date"),endDate:N("end_date"),timelineStatus:N("timeline_status").default("active"),timelineEra:N("timeline_era"),chronologicalOrder:ne("chronological_order"),primaryEntities:N("primary_entities").array(),secondaryEntities:N("secondary_entities").array(),featuredTeams:N("featured_teams").array(),majorVillains:N("major_villains").array(),keyCreators:N("key_creators").array(),associatedHouses:N("associated_houses").array(),primaryHouse:N("primary_house"),houseRelevanceScore:U("house_relevance_score",{precision:3,scale:2}),tradingEducationValue:U("trading_education_value",{precision:3,scale:2}),marketInfluence:U("market_influence",{precision:3,scale:2}),volatilityPotential:U("volatility_potential",{precision:3,scale:2}),speculativeValue:U("speculative_value",{precision:3,scale:2}),longTermImpact:U("long_term_impact",{precision:3,scale:2}),totalStoryBeats:ne("total_story_beats").default(0),completedStoryBeats:ne("completed_story_beats").default(0),criticalStoryBeats:ne("critical_story_beats").default(0),plotComplexity:U("plot_complexity",{precision:3,scale:2}),characterDevelopmentDepth:U("character_development_depth",{precision:3,scale:2}),primaryThemes:N("primary_themes").array(),moralAlignment:N("moral_alignment"),emotionalTone:N("emotional_tone"),narrativeGenre:N("narrative_genre").array(),culturalSignificance:U("cultural_significance",{precision:3,scale:2}),socialCommentary:N("social_commentary").array(),historicalContext:N("historical_context"),firstPublicationDate:N("first_publication_date"),lastPublicationDate:N("last_publication_date"),publicationStatus:N("publication_status").default("ongoing"),publishedIssueCount:ne("published_issue_count").default(0),plannedIssueCount:ne("planned_issue_count"),adaptedToMedia:N("adapted_to_media").array(),adaptationQuality:U("adaptation_quality",{precision:3,scale:2}),adaptationFidelity:U("adaptation_fidelity",{precision:3,scale:2}),crossMediaImpact:U("cross_media_impact",{precision:3,scale:2}),fanEngagementLevel:U("fan_engagement_level",{precision:3,scale:2}),controversyLevel:U("controversy_level",{precision:3,scale:2}),criticalReception:U("critical_reception",{precision:3,scale:2}),commercialSuccess:U("commercial_success",{precision:3,scale:2}),characterStudyValue:U("character_study_value",{precision:3,scale:2}),plotAnalysisValue:U("plot_analysis_value",{precision:3,scale:2}),thematicDepth:U("thematic_depth",{precision:3,scale:2}),marketLessonValue:U("market_lesson_value",{precision:3,scale:2}),parentTimelines:N("parent_timelines").array(),childTimelines:N("child_timelines").array(),crossoverTimelines:N("crossover_timelines").array(),relatedAssets:N("related_assets").array(),synopsis:N("synopsis"),detailedDescription:N("detailed_description"),keyPlotPoints:N("key_plot_points").array(),characterArcs:Ce("character_arcs"),thematicAnalysis:N("thematic_analysis"),keyImageUrls:N("key_image_urls").array(),iconicPanels:N("iconic_panels").array(),coverGallery:N("cover_gallery").array(),videoContent:N("video_content").array(),curationStatus:N("curation_status").default("draft"),curatedBy:le("curated_by").references(()=>At.id),qualityScore:U("quality_score",{precision:3,scale:2}),completenessScore:U("completeness_score",{precision:3,scale:2}),accuracyScore:U("accuracy_score",{precision:3,scale:2}),timelineEmbedding:di("timeline_embedding",{dimensions:1536}),themeEmbedding:di("theme_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow(),curatedAt:se("curated_at"),lastReviewedAt:se("last_reviewed_at")},e=>[oe("idx_narrative_timelines_type").on(e.timelineType),oe("idx_narrative_timelines_universe").on(e.universe),oe("idx_narrative_timelines_status").on(e.timelineStatus),oe("idx_narrative_timelines_primary_house").on(e.primaryHouse),oe("idx_narrative_timelines_market_influence").on(e.marketInfluence),oe("idx_narrative_timelines_cultural_significance").on(e.culturalSignificance),oe("idx_narrative_timelines_curation_status").on(e.curationStatus),oe("idx_narrative_timelines_quality_score").on(e.qualityScore),oe("idx_narrative_timelines_chronological_order").on(e.chronologicalOrder)]),k9=Ve("story_beats",{id:le("id").primaryKey().default(He`gen_random_uuid()`),timelineId:le("timeline_id").notNull().references(()=>pE.id),beatTitle:N("beat_title").notNull(),beatType:N("beat_type").notNull(),beatCategory:N("beat_category").notNull(),narrativeFunction:N("narrative_function"),chronologicalOrder:ne("chronological_order").notNull(),relativePosition:U("relative_position",{precision:5,scale:4}),storyAct:ne("story_act"),sourceIssue:N("source_issue"),sourceMedia:N("source_media"),pageNumber:ne("page_number"),panelNumber:ne("panel_number"),publicationDate:N("publication_date"),writerCredits:N("writer_credits").array(),artistCredits:N("artist_credits").array(),primaryEntities:N("primary_entities").array(),secondaryEntities:N("secondary_entities").array(),entityRoles:Ce("entity_roles"),relationships:Ce("relationships"),marketRelevance:U("market_relevance",{precision:3,scale:2}),priceImpactPotential:U("price_impact_potential",{precision:3,scale:2}),volatilityTrigger:Re("volatility_trigger").default(!1),speculationOpportunity:U("speculation_opportunity",{precision:3,scale:2}),longTermValueImpact:U("long_term_value_impact",{precision:3,scale:2}),affectedAssets:N("affected_assets").array(),expectedPriceDirection:N("expected_price_direction"),impactMagnitude:U("impact_magnitude",{precision:3,scale:2}),houseResonance:Ce("house_resonance"),primaryHouse:N("primary_house"),educationalValue:U("educational_value",{precision:3,scale:2}),strategicInsight:N("strategic_insight"),emotionalTone:N("emotional_tone"),emotionalIntensity:U("emotional_intensity",{precision:3,scale:2}),thematicSignificance:N("thematic_significance").array(),symbolism:N("symbolism").array(),archetypes:N("archetypes").array(),characterGrowth:Ce("character_growth"),powerChanges:Ce("power_changes"),relationshipChanges:Ce("relationship_changes"),statusChanges:Ce("status_changes"),plotSignificance:U("plot_significance",{precision:3,scale:2}),isClimax:Re("is_climax").default(!1),isTurningPoint:Re("is_turning_point").default(!1),setsUpFuture:Re("sets_up_future").default(!1),paysOffSetup:Re("pays_off_setup").default(!1),callbacks:N("callbacks").array(),setupForBeats:N("setup_for_beats").array(),iconicStatus:Re("iconic_status").default(!1),memesGenerated:Re("memes_generated").default(!1),fanReaction:N("fan_reaction"),criticalReception:N("critical_reception"),culturalReference:Re("cultural_reference").default(!1),summary:N("summary").notNull(),detailedDescription:N("detailed_description"),dialogue:N("dialogue").array(),visualDescription:N("visual_description"),actionSequence:N("action_sequence"),stakesLevel:N("stakes_level"),consequences:N("consequences").array(),permanentChanges:N("permanent_changes").array(),reversibleChanges:N("reversible_changes").array(),imageUrls:N("image_urls").array(),panelImages:N("panel_images").array(),videoClips:N("video_clips").array(),audioReferences:N("audio_references").array(),beatQuality:U("beat_quality",{precision:3,scale:2}),narrativeImportance:U("narrative_importance",{precision:3,scale:2}),executionQuality:U("execution_quality",{precision:3,scale:2}),originalityScore:U("originality_score",{precision:3,scale:2}),tags:N("tags").array(),keywords:N("keywords").array(),spoilerLevel:N("spoiler_level").default("minor"),contentWarnings:N("content_warnings").array(),beatEmbedding:di("beat_embedding",{dimensions:1536}),dialogueEmbedding:di("dialogue_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow(),curatedAt:se("curated_at")},e=>[oe("idx_story_beats_timeline_id").on(e.timelineId),oe("idx_story_beats_chronological_order").on(e.chronologicalOrder),oe("idx_story_beats_type").on(e.beatType),oe("idx_story_beats_category").on(e.beatCategory),oe("idx_story_beats_market_relevance").on(e.marketRelevance),oe("idx_story_beats_price_impact").on(e.priceImpactPotential),oe("idx_story_beats_volatility_trigger").on(e.volatilityTrigger),oe("idx_story_beats_primary_house").on(e.primaryHouse),oe("idx_story_beats_plot_significance").on(e.plotSignificance),oe("idx_story_beats_iconic_status").on(e.iconicStatus),oe("idx_story_beats_relative_position").on(e.relativePosition),oe("idx_story_beats_unique_position").on(e.timelineId,e.chronologicalOrder)]);Ue(_9).omit({id:!0,createdAt:!0,updatedAt:!0,uploadedAt:!0,processingStartedAt:!0,processingCompletedAt:!0});Ue(N9).omit({id:!0,createdAt:!0,processedAt:!0,normalizedAt:!0});Ue(tv).omit({id:!0,createdAt:!0,updatedAt:!0,lastVerifiedAt:!0});Ue(vpe).omit({id:!0,createdAt:!0,updatedAt:!0,lastVerifiedAt:!0});Ue(uE).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(bpe).omit({id:!0,createdAt:!0,updatedAt:!0,lastVerifiedAt:!0});Ue(wpe).omit({id:!0,createdAt:!0,updatedAt:!0,lastVerifiedAt:!0});Ue(_pe).omit({id:!0,createdAt:!0,updatedAt:!0,lastVerifiedAt:!0,lastDataUpdate:!0});Ue(hE).omit({id:!0,queuedAt:!0,startedAt:!0,completedAt:!0,lastHeartbeat:!0,estimatedCompletionTime:!0,createdAt:!0,updatedAt:!0});Ue(j9).omit({id:!0,startedAt:!0,completedAt:!0,lastHeartbeat:!0,lastCheckpointAt:!0,createdAt:!0});Ue(Npe).omit({id:!0,nextRetryAt:!0,lastRetryAt:!0,resolvedAt:!0,escalatedAt:!0,firstOccurrence:!0,lastOccurrence:!0,createdAt:!0,updatedAt:!0,acknowledgedAt:!0});Ue(pE).omit({id:!0,createdAt:!0,updatedAt:!0,curatedAt:!0,lastReviewedAt:!0});Ue(k9).omit({id:!0,createdAt:!0,updatedAt:!0,curatedAt:!0});const jpe=Ve("narrative_trading_metrics",{id:le("id").primaryKey().default(He`gen_random_uuid()`),assetId:le("asset_id").notNull().references(()=>Rs.id),mythicVolatilityScore:U("mythic_volatility_score",{precision:8,scale:4}).notNull(),baseVolatility:U("base_volatility",{precision:8,scale:4}).default("0.0250"),storyArcVolatilityMultiplier:U("story_arc_volatility_multiplier",{precision:8,scale:4}).default("1.0000"),powerLevelVolatilityFactor:U("power_level_volatility_factor",{precision:8,scale:4}).default("1.0000"),cosmicEventVolatilityBoost:U("cosmic_event_volatility_boost",{precision:8,scale:4}).default("0.0000"),narrativeMomentumScore:U("narrative_momentum_score",{precision:8,scale:4}).notNull(),culturalImpactIndex:U("cultural_impact_index",{precision:8,scale:4}).default("1.0000"),storyProgressionRate:U("story_progression_rate",{precision:8,scale:4}).default("0.0000"),themeRelevanceScore:U("theme_relevance_score",{precision:8,scale:4}).default("1.0000"),mediaBoostFactor:U("media_boost_factor",{precision:8,scale:4}).default("1.0000"),momentumDecayRate:U("momentum_decay_rate",{precision:8,scale:4}).default("0.0500"),houseAffiliation:N("house_affiliation"),houseVolatilityProfile:N("house_volatility_profile"),houseTradingMultiplier:U("house_trading_multiplier",{precision:8,scale:4}).default("1.0000"),houseSpecialtyBonus:U("house_specialty_bonus",{precision:8,scale:4}).default("0.0000"),narrativeCorrelationStrength:U("narrative_correlation_strength",{precision:8,scale:4}).default("1.0000"),storyBeatSensitivity:U("story_beat_sensitivity",{precision:8,scale:4}).default("1.0000"),characterDeathImpact:U("character_death_impact",{precision:8,scale:4}).default("0.0000"),powerUpgradeImpact:U("power_upgrade_impact",{precision:8,scale:4}).default("0.0000"),resurrectionImpact:U("resurrection_impact",{precision:8,scale:4}).default("0.0000"),narrativeMarginRequirement:U("narrative_margin_requirement",{precision:8,scale:2}).default("50.00"),storyRiskAdjustment:U("story_risk_adjustment",{precision:8,scale:4}).default("0.0000"),volatilityRiskPremium:U("volatility_risk_premium",{precision:8,scale:4}).default("0.0000"),lastNarrativeEvent:se("last_narrative_event"),nextPredictedEvent:se("next_predicted_event"),storyArcPhase:N("story_arc_phase"),seasonalNarrativePattern:N("seasonal_narrative_pattern"),metricsReliabilityScore:U("metrics_reliability_score",{precision:8,scale:4}).default("0.5000"),predictionAccuracy:U("prediction_accuracy",{precision:8,scale:4}).default("0.0000"),lastRecalculation:se("last_recalculation").defaultNow(),calculationVersion:ne("calculation_version").default(1),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),kpe=Ve("house_financial_profiles",{id:le("id").primaryKey().default(He`gen_random_uuid()`),houseId:N("house_id").notNull().unique(),houseName:N("house_name").notNull(),volatilityProfile:N("volatility_profile").notNull(),baseVolatilityMultiplier:U("base_volatility_multiplier",{precision:8,scale:4}).notNull(),trendStrengthModifier:U("trend_strength_modifier",{precision:8,scale:4}).default("1.0000"),meanReversionFactor:U("mean_reversion_factor",{precision:8,scale:4}).default("0.1000"),marketPatternType:N("market_pattern_type").notNull(),seasonalityPattern:Ce("seasonality_pattern"),eventResponseProfile:Ce("event_response_profile"),preferredInstruments:N("preferred_instruments").array(),riskToleranceLevel:N("risk_tolerance_level").notNull(),leveragePreference:U("leverage_preference",{precision:8,scale:4}).default("1.0000"),storyBeatMultipliers:Ce("story_beat_multipliers"),characterPowerLevelWeights:Ce("character_power_level_weights"),cosmicEventSensitivity:U("cosmic_event_sensitivity",{precision:8,scale:4}).default("1.0000"),specialtyAssetTypes:N("specialty_asset_types").array(),weaknessAssetTypes:N("weakness_asset_types").array(),tradingBonusPercentage:U("trading_bonus_percentage",{precision:8,scale:4}).default("0.0000"),penaltyPercentage:U("penalty_percentage",{precision:8,scale:4}).default("0.0000"),alignmentRequirements:Ce("alignment_requirements"),synergisticHouses:N("synergistic_houses").array(),conflictingHouses:N("conflicting_houses").array(),isActive:Re("is_active").default(!0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),S9=Ve("story_event_triggers",{id:le("id").primaryKey().default(He`gen_random_uuid()`),triggerName:N("trigger_name").notNull(),triggerType:N("trigger_type").notNull(),eventSeverity:N("event_severity").notNull(),storyBeatId:le("story_beat_id").references(()=>k9.id),characterId:le("character_id").references(()=>fN.id),timelineId:le("timeline_id").references(()=>pE.id),priceImpactRange:Ce("price_impact_range"),volatilityImpactMultiplier:U("volatility_impact_multiplier",{precision:8,scale:4}).default("1.0000"),volumeImpactMultiplier:U("volume_impact_multiplier",{precision:8,scale:4}).default("1.0000"),sentimentShift:U("sentiment_shift",{precision:8,scale:4}).default("0.0000"),affectedAssetTypes:N("affected_asset_types").array(),directlyAffectedAssets:N("directly_affected_assets").array(),indirectlyAffectedAssets:N("indirectly_affected_assets").array(),houseResponseMultipliers:Ce("house_response_multipliers"),crossHouseEffects:Ce("cross_house_effects"),immediateImpactDuration:ne("immediate_impact_duration").default(1440),mediumTermEffectDuration:ne("medium_term_effect_duration").default(10080),longTermMemoryDecay:U("long_term_memory_decay",{precision:8,scale:4}).default("0.0100"),triggerConditions:Ce("trigger_conditions"),cooldownPeriod:ne("cooldown_period").default(0),maxActivationsPerDay:ne("max_activations_per_day").default(10),isActive:Re("is_active").default(!0),lastTriggered:se("last_triggered"),totalActivations:ne("total_activations").default(0),successfulActivations:ne("successful_activations").default(0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),Spe=Ve("narrative_market_events",{id:le("id").primaryKey().default(He`gen_random_uuid()`),triggerEventId:le("trigger_event_id").references(()=>S9.id),eventTitle:N("event_title").notNull(),eventDescription:N("event_description").notNull(),narrativeContext:N("narrative_context"),affectedAssets:N("affected_assets").array(),priceImpacts:Ce("price_impacts"),volumeChanges:Ce("volume_changes"),volatilityAdjustments:Ce("volatility_adjustments"),houseImpacts:Ce("house_impacts"),crossHouseInteractions:Ce("cross_house_interactions"),eventStartTime:se("event_start_time").notNull(),eventEndTime:se("event_end_time"),peakImpactTime:se("peak_impact_time"),currentPhase:N("current_phase").default("immediate"),marketResponse:Ce("market_response"),predictionAccuracy:U("prediction_accuracy",{precision:8,scale:4}),unexpectedEffects:Ce("unexpected_effects"),narrativeRelevanceScore:U("narrative_relevance_score",{precision:8,scale:4}).default("1.0000"),culturalImpactMeasure:U("cultural_impact_measure",{precision:8,scale:4}).default("0.0000"),fanEngagementCorrelation:U("fan_engagement_correlation",{precision:8,scale:4}).default("0.0000"),isActive:Re("is_active").default(!0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()});Ue(jpe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(kpe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(S9).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Spe).omit({id:!0,createdAt:!0,updatedAt:!0});const A9=Ve("comic_issue_variants",{id:le("id").primaryKey().default(He`gen_random_uuid()`),assetId:le("asset_id").notNull().references(()=>Rs.id),issueNumber:N("issue_number").notNull(),seriesTitle:N("series_title").notNull(),publisher:N("publisher").notNull(),coverType:N("cover_type").notNull(),variantRatio:N("variant_ratio"),variantDescription:N("variant_description"),artistName:N("artist_name"),rarityScore:U("rarity_score",{precision:8,scale:2}).notNull(),progressionTier:ne("progression_tier").notNull().default(1),tradingToolsUnlocked:N("trading_tools_unlocked").array(),issueType:N("issue_type").default("regular"),keyCharacters:N("key_characters").array(),significantEvents:N("significant_events").array(),storyArcs:N("story_arcs").array(),houseRelevance:Ce("house_relevance"),primaryHouse:N("primary_house"),baseMarketValue:U("base_market_value",{precision:10,scale:2}).notNull(),progressionMultiplier:U("progression_multiplier",{precision:3,scale:2}).default("1.00"),collectorDemand:U("collector_demand",{precision:3,scale:2}).default("1.00"),releaseDate:N("release_date"),comicGradingEligible:Re("comic_grading_eligible").default(!0),isActive:Re("is_active").default(!0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_comic_issue_variants_asset_id").on(e.assetId),oe("idx_comic_issue_variants_cover_type").on(e.coverType),oe("idx_comic_issue_variants_progression_tier").on(e.progressionTier),oe("idx_comic_issue_variants_rarity_score").on(e.rarityScore),oe("idx_comic_issue_variants_issue_type").on(e.issueType),oe("idx_comic_issue_variants_primary_house").on(e.primaryHouse),oe("idx_comic_issue_variants_series_title").on(e.seriesTitle)]),Ape=Ve("user_comic_collection",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),variantId:le("variant_id").notNull().references(()=>A9.id),quantity:ne("quantity").default(1),acquisitionMethod:N("acquisition_method").default("purchase"),acquisitionPrice:U("acquisition_price",{precision:10,scale:2}),currentGrade:N("current_grade"),gradeValue:U("grade_value",{precision:3,scale:1}),isFirstOwned:Re("is_first_owned").default(!1),contributesToProgression:Re("contributes_to_progression").default(!0),displayInCollection:Re("display_in_collection").default(!0),availableForTrade:Re("available_for_trade").default(!1),minimumTradeValue:U("minimum_trade_value",{precision:10,scale:2}),notes:N("notes"),tags:N("tags").array(),acquiredAt:se("acquired_at").defaultNow(),createdAt:se("created_at").defaultNow()},e=>[oe("idx_user_comic_collection_user_id").on(e.userId),oe("idx_user_comic_collection_variant_id").on(e.variantId),oe("idx_user_comic_collection_acquisition_method").on(e.acquisitionMethod),oe("idx_user_comic_collection_is_first_owned").on(e.isFirstOwned),oe("idx_user_comic_collection_acquired_at").on(e.acquiredAt),oe("idx_user_comic_collection_unique").on(e.userId,e.variantId)]),Cpe=Ve("user_progression_status",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),overallProgressionTier:ne("overall_progression_tier").default(1),progressionTitle:N("progression_title").default("Rookie Collector"),totalCollectionValue:U("total_collection_value",{precision:15,scale:2}).default("0.00"),totalIssuesOwned:ne("total_issues_owned").default(0),totalVariantsOwned:ne("total_variants_owned").default(0),standardCoversOwned:ne("standard_covers_owned").default(0),variantCoversOwned:ne("variant_covers_owned").default(0),rareVariantsOwned:ne("rare_variants_owned").default(0),ultraRareVariantsOwned:ne("ultra_rare_variants_owned").default(0),legendaryVariantsOwned:ne("legendary_variants_owned").default(0),firstAppearancesOwned:ne("first_appearances_owned").default(0),deathIssuesOwned:ne("death_issues_owned").default(0),resurrectionIssuesOwned:ne("resurrection_issues_owned").default(0),keyStorylineIssuesOwned:ne("key_storyline_issues_owned").default(0),crossoverIssuesOwned:ne("crossover_issues_owned").default(0),creatorMilestonesCompleted:ne("creator_milestones_completed").default(0),iconicSplashPagesOwned:ne("iconic_splash_pages_owned").default(0),tradingToolsUnlocked:N("trading_tools_unlocked").array(),maxTradingTier:ne("max_trading_tier").default(1),specialTradingAbilities:N("special_trading_abilities").array(),houseProgressionLevels:Ce("house_progression_levels"),houseBonusesUnlocked:Ce("house_bonuses_unlocked"),interHouseBonuses:N("inter_house_bonuses").array(),achievementMilestonesCompleted:ne("achievement_milestones_completed").default(0),legendaryAchievementsUnlocked:ne("legendary_achievements_unlocked").default(0),seriesCompletionCount:ne("series_completion_count").default(0),publisherCompletionPercentage:Ce("publisher_completion_percentage"),lastProgressionUpdate:se("last_progression_update").defaultNow(),nextMilestoneTarget:N("next_milestone_target"),progressionNotes:N("progression_notes"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_user_progression_status_user_id").on(e.userId),oe("idx_user_progression_status_tier").on(e.overallProgressionTier),oe("idx_user_progression_status_total_value").on(e.totalCollectionValue),oe("idx_user_progression_status_max_trading_tier").on(e.maxTradingTier),oe("idx_user_progression_status_last_update").on(e.lastProgressionUpdate)]),Tpe=Ve("house_progression_paths",{id:le("id").primaryKey().default(He`gen_random_uuid()`),houseId:N("house_id").notNull(),progressionLevel:ne("progression_level").notNull(),levelTitle:N("level_title").notNull(),levelDescription:N("level_description").notNull(),requiredIssuesCount:ne("required_issues_count").default(0),requiredVariantRarity:N("required_variant_rarity"),requiredCollectionValue:U("required_collection_value",{precision:15,scale:2}).default("0.00"),requiredStorylineCompletion:N("required_storyline_completion").array(),requiredCharacterCollection:N("required_character_collection").array(),tradingBonuses:Ce("trading_bonuses"),specialAbilities:N("special_abilities").array(),marketAccessLevel:N("market_access_level"),houseSpecificTools:N("house_specific_tools").array(),badgeIcon:N("badge_icon"),badgeColor:N("badge_color"),levelQuote:N("level_quote"),backgroundImage:N("background_image"),progressionStory:N("progression_story"),nextLevelPreview:N("next_level_preview"),displayOrder:ne("display_order").notNull(),isActive:Re("is_active").default(!0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_house_progression_paths_house_id").on(e.houseId),oe("idx_house_progression_paths_level").on(e.progressionLevel),oe("idx_house_progression_paths_display_order").on(e.displayOrder),oe("idx_house_progression_paths_unique").on(e.houseId,e.progressionLevel)]),Ppe=Ve("user_house_progression",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),houseId:N("house_id").notNull(),currentLevel:ne("current_level").default(1),experiencePoints:ne("experience_points").default(0),nextLevelRequiredXP:ne("next_level_required_xp").default(100),progressionPercentage:U("progression_percentage",{precision:5,scale:2}).default("0.00"),currentIssuesCount:ne("current_issues_count").default(0),currentCollectionValue:U("current_collection_value",{precision:15,scale:2}).default("0.00"),storylinesCompleted:N("storylines_completed").array(),characterCollectionsCompleted:N("character_collections_completed").array(),currentTradingBonuses:Ce("current_trading_bonuses"),unlockedAbilities:N("unlocked_abilities").array(),currentMarketAccessLevel:N("current_market_access_level").default("basic"),availableHouseTools:N("available_house_tools").array(),levelsUnlocked:ne("levels_unlocked").default(1),totalXPEarned:ne("total_xp_earned").default(0),firstLevelAchievedAt:se("first_level_achieved_at"),lastLevelAchievedAt:se("last_level_achieved_at"),houseSpecificAchievements:N("house_specific_achievements").array(),houseContributionScore:U("house_contribution_score",{precision:8,scale:2}).default("0.00"),houseRankingPosition:ne("house_ranking_position"),lastProgressionActivity:se("last_progression_activity").defaultNow(),progressionNotes:N("progression_notes"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_user_house_progression_user_id").on(e.userId),oe("idx_user_house_progression_house_id").on(e.houseId),oe("idx_user_house_progression_current_level").on(e.currentLevel),oe("idx_user_house_progression_xp").on(e.experiencePoints),oe("idx_user_house_progression_contribution").on(e.houseContributionScore),oe("idx_user_house_progression_unique").on(e.userId,e.houseId)]),Mpe=Ve("trading_tool_unlocks",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),toolName:N("tool_name").notNull(),toolCategory:N("tool_category").notNull(),requiredProgressionTier:ne("required_progression_tier").notNull(),requiredVariantRarity:N("required_variant_rarity"),requiredAchievements:N("required_achievements").array(),requiredHouseLevel:Ce("required_house_level"),isUnlocked:Re("is_unlocked").default(!1),unlockedAt:se("unlocked_at"),unlockedBy:N("unlocked_by"),toolDescription:N("tool_description").notNull(),toolBenefits:N("tool_benefits").array(),tradingBonuses:Ce("trading_bonuses"),marketAccessLevel:N("market_access_level"),timesUsed:ne("times_used").default(0),lastUsedAt:se("last_used_at"),effectivenessRating:U("effectiveness_rating",{precision:3,scale:2}),iconName:N("icon_name"),displayOrder:ne("display_order").default(0),isActive:Re("is_active").default(!0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_trading_tool_unlocks_user_id").on(e.userId),oe("idx_trading_tool_unlocks_tool_name").on(e.toolName),oe("idx_trading_tool_unlocks_category").on(e.toolCategory),oe("idx_trading_tool_unlocks_progression_tier").on(e.requiredProgressionTier),oe("idx_trading_tool_unlocks_is_unlocked").on(e.isUnlocked),oe("idx_trading_tool_unlocks_unlocked_at").on(e.unlockedAt),oe("idx_trading_tool_unlocks_unique").on(e.userId,e.toolName)]),Epe=Ve("comic_collection_achievements",{id:le("id").primaryKey().default(He`gen_random_uuid()`),achievementId:N("achievement_id").notNull().unique(),title:N("title").notNull(),description:N("description").notNull(),category:N("category").notNull(),requirementType:N("requirement_type").notNull(),requiredCount:ne("required_count"),requiredValue:U("required_value",{precision:15,scale:2}),requiredRarity:N("required_rarity"),specificRequirements:Ce("specific_requirements"),achievementPoints:ne("achievement_points").default(0),tradingToolsUnlocked:N("trading_tools_unlocked").array(),houseProgressionBonus:Ce("house_progression_bonus"),specialAbilities:N("special_abilities").array(),tradingBonuses:Ce("trading_bonuses"),badgeIcon:N("badge_icon"),badgeColor:N("badge_color"),tier:N("tier").default("bronze"),rarity:N("rarity").default("common"),achievementStory:N("achievement_story"),comicPanelStyle:N("comic_panel_style"),speechBubbleText:N("speech_bubble_text"),prerequisiteAchievements:N("prerequisite_achievements").array(),blockedBy:N("blocked_by").array(),isHidden:Re("is_hidden").default(!1),isActive:Re("is_active").default(!0),displayOrder:ne("display_order").default(0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_comic_collection_achievements_achievement_id").on(e.achievementId),oe("idx_comic_collection_achievements_category").on(e.category),oe("idx_comic_collection_achievements_tier").on(e.tier),oe("idx_comic_collection_achievements_rarity").on(e.rarity),oe("idx_comic_collection_achievements_requirement_type").on(e.requirementType),oe("idx_comic_collection_achievements_is_hidden").on(e.isHidden),oe("idx_comic_collection_achievements_display_order").on(e.displayOrder)]),C9=Ve("collection_challenges",{id:le("id").primaryKey().default(He`gen_random_uuid()`),challengeTitle:N("challenge_title").notNull(),challengeDescription:N("challenge_description").notNull(),challengeType:N("challenge_type").notNull(),startDate:se("start_date").notNull(),endDate:se("end_date").notNull(),challengeDuration:N("challenge_duration"),challengeGoal:Ce("challenge_goal").notNull(),targetMetric:N("target_metric").notNull(),targetValue:U("target_value",{precision:15,scale:2}).notNull(),eligibilityRequirements:Ce("eligibility_requirements"),houseSpecific:Re("house_specific").default(!1),targetHouse:N("target_house"),crossHouseBonus:Re("cross_house_bonus").default(!1),completionRewards:Ce("completion_rewards").notNull(),leaderboardRewards:Ce("leaderboard_rewards"),participationRewards:Ce("participation_rewards"),exclusiveUnlocks:N("exclusive_unlocks").array(),difficultyLevel:ne("difficulty_level").default(3),maxParticipants:ne("max_participants"),currentParticipants:ne("current_participants").default(0),leaderboardEnabled:Re("leaderboard_enabled").default(!0),realTimeTracking:Re("real_time_tracking").default(!0),progressVisibility:N("progress_visibility").default("public"),challengeBanner:N("challenge_banner"),challengeIcon:N("challenge_icon"),themeColor:N("theme_color"),narrativeContext:N("narrative_context"),createdBy:le("created_by").references(()=>At.id),isActive:Re("is_active").default(!0),isRecurring:Re("is_recurring").default(!1),recurringPattern:N("recurring_pattern"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_collection_challenges_challenge_type").on(e.challengeType),oe("idx_collection_challenges_start_date").on(e.startDate),oe("idx_collection_challenges_end_date").on(e.endDate),oe("idx_collection_challenges_is_active").on(e.isActive),oe("idx_collection_challenges_target_house").on(e.targetHouse),oe("idx_collection_challenges_difficulty").on(e.difficultyLevel)]),Ipe=Ve("user_challenge_participation",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),challengeId:le("challenge_id").notNull().references(()=>C9.id),enrolledAt:se("enrolled_at").defaultNow(),participationStatus:N("participation_status").default("active"),currentProgress:U("current_progress",{precision:15,scale:2}).default("0.00"),progressPercentage:U("progress_percentage",{precision:5,scale:2}).default("0.00"),milestonesMet:N("milestones_met").array(),lastProgressUpdate:se("last_progress_update").defaultNow(),leaderboardPosition:ne("leaderboard_position"),bestPosition:ne("best_position"),finalPosition:ne("final_position"),rewardsEarned:Ce("rewards_earned"),rewardsClaimed:Re("rewards_claimed").default(!1),rewardsClaimedAt:se("rewards_claimed_at"),challengeSpecificData:Ce("challenge_specific_data"),effortRating:U("effort_rating",{precision:3,scale:2}),satisfactionRating:U("satisfaction_rating",{precision:3,scale:2}),completedAt:se("completed_at"),notes:N("notes"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_user_challenge_participation_user_id").on(e.userId),oe("idx_user_challenge_participation_challenge_id").on(e.challengeId),oe("idx_user_challenge_participation_status").on(e.participationStatus),oe("idx_user_challenge_participation_leaderboard").on(e.leaderboardPosition),oe("idx_user_challenge_participation_enrolled_at").on(e.enrolledAt),oe("idx_user_challenge_participation_unique").on(e.userId,e.challengeId)]);Ue(A9).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Ape).omit({id:!0,acquiredAt:!0,createdAt:!0});Ue(Cpe).omit({id:!0,lastProgressionUpdate:!0,createdAt:!0,updatedAt:!0});Ue(Tpe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Ppe).omit({id:!0,lastProgressionActivity:!0,createdAt:!0,updatedAt:!0});Ue(Mpe).omit({id:!0,unlockedAt:!0,createdAt:!0,updatedAt:!0});Ue(Epe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(C9).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Ipe).omit({id:!0,enrolledAt:!0,lastProgressUpdate:!0,createdAt:!0,updatedAt:!0});const mE=Ve("graded_asset_profiles",{id:le("id").primaryKey().default(He`gen_random_uuid()`),assetId:le("asset_id").notNull().references(()=>Rs.id),userId:le("user_id").notNull().references(()=>At.id),overallGrade:U("overall_grade",{precision:3,scale:1}).notNull(),conditionScore:U("condition_score",{precision:3,scale:1}).notNull(),centeringScore:U("centering_score",{precision:3,scale:1}).notNull(),cornersScore:U("corners_score",{precision:3,scale:1}).notNull(),edgesScore:U("edges_score",{precision:3,scale:1}).notNull(),surfaceScore:U("surface_score",{precision:3,scale:1}).notNull(),certificationAuthority:N("certification_authority").notNull(),certificationNumber:N("certification_number").unique(),gradingDate:se("grading_date").notNull(),gradingNotes:N("grading_notes"),variantType:N("variant_type"),printRun:ne("print_run"),isKeyIssue:Re("is_key_issue").default(!1),isFirstAppearance:Re("is_first_appearance").default(!1),isSigned:Re("is_signed").default(!1),signatureAuthenticated:Re("signature_authenticated").default(!1),rarityTier:N("rarity_tier").notNull(),rarityScore:U("rarity_score",{precision:5,scale:2}).notNull(),marketDemandScore:U("market_demand_score",{precision:5,scale:2}),storageType:N("storage_type").default("bag_and_board"),storageCondition:N("storage_condition").default("excellent"),acquisitionDate:se("acquisition_date").notNull(),acquisitionPrice:U("acquisition_price",{precision:10,scale:2}),currentMarketValue:U("current_market_value",{precision:10,scale:2}),collectionSeries:N("collection_series"),issueNumber:N("issue_number"),volumeNumber:ne("volume_number"),personalRating:ne("personal_rating"),collectorNotes:N("collector_notes"),displayPriority:ne("display_priority").default(0),houseAffiliation:N("house_affiliation"),houseProgressionValue:U("house_progression_value",{precision:8,scale:2}).default("0.00"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),Lpe=Ve("variant_cover_registry",{id:le("id").primaryKey().default(He`gen_random_uuid()`),baseAssetId:le("base_asset_id").notNull().references(()=>Rs.id),variantIdentifier:N("variant_identifier").notNull(),variantName:N("variant_name").notNull(),coverArtist:N("cover_artist"),variantType:N("variant_type").notNull(),printRun:ne("print_run"),incentiveRatio:N("incentive_ratio"),exclusiveRetailer:N("exclusive_retailer"),releaseDate:se("release_date"),coverImageUrl:N("cover_image_url"),thumbnailUrl:N("thumbnail_url"),backCoverUrl:N("back_cover_url"),baseRarityMultiplier:U("base_rarity_multiplier",{precision:5,scale:2}).default("1.00"),currentPremium:U("current_premium",{precision:8,scale:2}),description:N("description"),specialFeatures:N("special_features").array(),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),Ope=Ve("collection_storage_boxes",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),boxName:N("box_name").notNull(),boxType:N("box_type").notNull(),capacity:ne("capacity").notNull(),currentCount:ne("current_count").default(0),organizationMethod:N("organization_method").default("alphabetical"),seriesFilter:N("series_filter"),publisherFilter:N("publisher_filter"),location:N("location"),condition:N("condition").default("excellent"),totalValue:U("total_value",{precision:15,scale:2}).default("0.00"),averageGrade:U("average_grade",{precision:3,scale:1}),keyIssuesCount:ne("key_issues_count").default(0),commonCount:ne("common_count").default(0),uncommonCount:ne("uncommon_count").default(0),rareCount:ne("rare_count").default(0),ultraRareCount:ne("ultra_rare_count").default(0),legendaryCount:ne("legendary_count").default(0),mythicCount:ne("mythic_count").default(0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),Dpe=Ve("grading_certifications",{id:le("id").primaryKey().default(He`gen_random_uuid()`),gradedAssetId:le("graded_asset_id").notNull().references(()=>mE.id),certificationType:N("certification_type").notNull(),previousGrade:U("previous_grade",{precision:3,scale:1}),newGrade:U("new_grade",{precision:3,scale:1}).notNull(),certifyingAuthority:N("certifying_authority").notNull(),certificateNumber:N("certificate_number"),certificationFee:U("certification_fee",{precision:8,scale:2}),submissionDate:se("submission_date"),completionDate:se("completion_date").notNull(),turnaroundDays:ne("turnaround_days"),certificationNotes:N("certification_notes"),qualityAssessment:Ce("quality_assessment"),createdAt:se("created_at").defaultNow()}),Rpe=Ve("market_comparables",{id:le("id").primaryKey().default(He`gen_random_uuid()`),gradedAssetId:le("graded_asset_id").notNull().references(()=>mE.id),salePrice:U("sale_price",{precision:10,scale:2}).notNull(),saleDate:se("sale_date").notNull(),marketplace:N("marketplace"),comparableGrade:U("comparable_grade",{precision:3,scale:1}).notNull(),gradingAuthority:N("grading_authority").notNull(),saleConditions:N("sale_conditions"),relevanceScore:U("relevance_score",{precision:3,scale:2}),ageRelevance:U("age_relevance",{precision:3,scale:2}),saleReference:N("sale_reference"),notes:N("notes"),createdAt:se("created_at").defaultNow()});Ue(mE).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Lpe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Ope).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Dpe).omit({id:!0,createdAt:!0});Ue(Rpe).omit({id:!0,createdAt:!0});const Fpe=Ve("shadow_trades",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),assetId:le("asset_id").notNull().references(()=>Rs.id),shadowPrice:U("shadow_price",{precision:10,scale:2}).notNull(),realPrice:U("real_price",{precision:10,scale:2}).notNull(),priceDivergence:U("price_divergence",{precision:8,scale:2}).notNull(),quantity:ne("quantity").notNull(),side:N("side").notNull(),orderType:N("order_type").notNull(),profitLoss:U("profit_loss",{precision:15,scale:2}).notNull(),corruptionGained:ne("corruption_gained").notNull(),victimId:le("victim_id").references(()=>At.id),victimLoss:U("victim_loss",{precision:15,scale:2}),status:N("status").notNull().default("pending"),executedAt:se("executed_at").notNull(),metadata:Ce("metadata"),createdAt:se("created_at").defaultNow()},e=>[oe("idx_shadow_trades_user").on(e.userId),oe("idx_shadow_trades_asset").on(e.assetId),oe("idx_shadow_trades_executed").on(e.executedAt)]),zpe=Ve("dark_pools",{id:le("id").primaryKey().default(He`gen_random_uuid()`),assetId:le("asset_id").notNull().references(()=>Rs.id),shadowLiquidity:U("shadow_liquidity",{precision:15,scale:2}).notNull(),hiddenOrders:ne("hidden_orders").default(0),averageSpread:U("average_spread",{precision:8,scale:4}),accessLevel:ne("access_level").notNull().default(30),participantCount:ne("participant_count").default(0),poolType:N("pool_type").default("standard"),volatility:U("volatility",{precision:8,scale:2}),bloodInWater:Re("blood_in_water").default(!1),lastBloodTime:se("last_blood_time"),totalVolume24h:U("total_volume_24h",{precision:15,scale:2}).default("0.00"),totalTrades24h:ne("total_trades_24h").default(0),largestTrade:U("largest_trade",{precision:15,scale:2}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_dark_pools_asset").on(e.assetId),oe("idx_dark_pools_access").on(e.accessLevel)]),Bpe=Ve("shadow_order_book",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),assetId:le("asset_id").notNull().references(()=>Rs.id),orderType:N("order_type").notNull(),side:N("side").notNull(),price:U("price",{precision:10,scale:2}).notNull(),quantity:ne("quantity").notNull(),filled:ne("filled").default(0),visibilityLevel:ne("visibility_level").notNull(),isHidden:Re("is_hidden").default(!0),revealAt:se("reveal_at"),targetUserId:le("target_user_id").references(()=>At.id),targetPrice:U("target_price",{precision:10,scale:2}),status:N("status").notNull().default("pending"),expiresAt:se("expires_at"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_shadow_order_book_user").on(e.userId),oe("idx_shadow_order_book_asset").on(e.assetId),oe("idx_shadow_order_book_status").on(e.status)]);Ue(Fpe).omit({id:!0,createdAt:!0});Ue(zpe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Bpe).omit({id:!0,createdAt:!0,updatedAt:!0});const Wpe=Ve("journal_entries",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),entryType:N("entry_type").notNull(),content:N("content").notNull(),title:N("title"),corruptionAtTime:U("corruption_at_time",{precision:5,scale:2}),relatedTradeId:le("related_trade_id").references(()=>oE.id),relatedVictimId:le("related_victim_id").references(()=>d9.id),mood:N("mood"),intensity:ne("intensity").default(1),wordCount:ne("word_count"),createdAt:se("created_at").defaultNow()},e=>[oe("idx_journal_entries_user").on(e.userId),oe("idx_journal_entries_type").on(e.entryType),oe("idx_journal_entries_created").on(e.createdAt)]),Hpe=Ve("psychological_profiles",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").notNull().references(()=>At.id),pattern:N("pattern").notNull(),analysis:N("analysis").notNull(),dominantTraits:Ce("dominant_traits"),moralAlignment:N("moral_alignment"),tradingStyle:N("trading_style"),empathyScore:U("empathy_score",{precision:5,scale:2}),ruthlessnessIndex:U("ruthlessness_index",{precision:5,scale:2}),denialLevel:U("denial_level",{precision:5,scale:2}),previousProfile:N("previous_profile"),turningPoints:Ce("turning_points"),updatedAt:se("updated_at").defaultNow(),createdAt:se("created_at").defaultNow()},e=>[oe("idx_psychological_profiles_user").on(e.userId)]);Ue(Wpe).omit({id:!0,createdAt:!0});Ue(Hpe).omit({id:!0,createdAt:!0,updatedAt:!0});const Vpe=Ve("shadow_traders",{id:le("id").primaryKey().default(He`gen_random_uuid()`),userId:le("user_id").references(()=>At.id),shadowName:N("shadow_name").notNull(),strength:U("strength",{precision:10,scale:2}).default("100.00"),corruptionLevel:U("corruption_level",{precision:5,scale:2}).default("0.00"),portfolioValue:U("portfolio_value",{precision:15,scale:2}).default("0.00"),status:N("status").notNull().default("active"),fallenAt:se("fallen_at"),consumedBy:le("consumed_by").references(()=>At.id),shadowColor:N("shadow_color").default("#000000"),opacity:U("opacity",{precision:3,scale:2}).default("0.80"),isAI:Re("is_ai").default(!1),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_shadow_traders_status").on(e.status),oe("idx_shadow_traders_user").on(e.userId)]),$pe=Ve("stolen_positions",{id:le("id").primaryKey().default(He`gen_random_uuid()`),thiefId:le("thief_id").notNull().references(()=>At.id),victimId:le("victim_id").notNull().references(()=>At.id),positionId:le("position_id").notNull().references(()=>c9.id),originalValue:U("original_value",{precision:15,scale:2}).notNull(),stolenValue:U("stolen_value",{precision:15,scale:2}).notNull(),discountRate:U("discount_rate",{precision:5,scale:2}).default("50.00"),corruptionGained:U("corruption_gained",{precision:5,scale:2}).default("30.00"),victimHarm:U("victim_harm",{precision:15,scale:2}).notNull(),stealMethod:N("steal_method").default("vulture"),stolenAt:se("stolen_at").defaultNow()},e=>[oe("idx_stolen_positions_thief").on(e.thiefId),oe("idx_stolen_positions_victim").on(e.victimId),oe("idx_stolen_positions_stolen_at").on(e.stolenAt)]),Upe=Ve("trader_warfare",{id:le("id").primaryKey().default(He`gen_random_uuid()`),attackerId:le("attacker_id").notNull().references(()=>At.id),defenderId:le("defender_id").notNull().references(()=>At.id),warfareType:N("warfare_type").notNull(),outcome:N("outcome").notNull(),attackerGain:U("attacker_gain",{precision:15,scale:2}).default("0.00"),defenderLoss:U("defender_loss",{precision:15,scale:2}).default("0.00"),collateralDamage:U("collateral_damage",{precision:15,scale:2}).default("0.00"),brutalityScore:U("brutality_score",{precision:5,scale:2}).default("0.00"),victimsCreated:ne("victims_created").default(0),createdAt:se("created_at").defaultNow()},e=>[oe("idx_trader_warfare_attacker").on(e.attackerId),oe("idx_trader_warfare_defender").on(e.defenderId),oe("idx_trader_warfare_created").on(e.createdAt)]);Ue(Vpe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue($pe).omit({id:!0,stolenAt:!0});Ue(Upe).omit({id:!0,createdAt:!0});const Dv=Ve("npc_traders",{id:le("id").primaryKey().default(He`gen_random_uuid()`),traderName:N("trader_name").notNull(),traderType:N("trader_type").notNull(),firmId:le("firm_id"),tradingPersonality:Ce("trading_personality"),preferredAssets:N("preferred_assets").array(),avoidedAssets:N("avoided_assets").array(),tradingStyle:N("trading_style"),availableCapital:U("available_capital",{precision:15,scale:2}).notNull(),maxPositionSize:U("max_position_size",{precision:15,scale:2}),maxDailyVolume:U("max_daily_volume",{precision:15,scale:2}),leveragePreference:U("leverage_preference",{precision:5,scale:2}),aggressiveness:U("aggressiveness",{precision:5,scale:2}),intelligence:U("intelligence",{precision:5,scale:2}),emotionality:U("emotionality",{precision:5,scale:2}),adaptability:U("adaptability",{precision:5,scale:2}),tradesPerDay:ne("trades_per_day"),minTimeBetweenTradesMinutes:ne("min_time_between_trades_minutes"),totalTrades:ne("total_trades").default(0),winRate:U("win_rate",{precision:5,scale:2}).default("0.00"),avgTradeReturn:U("avg_trade_return",{precision:10,scale:4}),totalPnL:U("total_pnl",{precision:15,scale:2}),sharpeRatio:U("sharpe_ratio",{precision:10,scale:4}),maxDrawdown:U("max_drawdown",{precision:10,scale:4}),isActive:Re("is_active").default(!0),lastTradeTime:se("last_trade_time"),nextTradeTime:se("next_trade_time"),pausedUntil:se("paused_until"),influenceOnMarket:U("influence_on_market",{precision:5,scale:2}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()}),Gpe=Ve("npc_trader_strategies",{id:le("id").primaryKey().default(He`gen_random_uuid()`),traderId:le("trader_id").notNull().references(()=>Dv.id),preferredAssets:N("preferred_assets").array(),holdingPeriodDays:ne("holding_period_days").notNull(),positionSizingStrategy:N("position_sizing_strategy").notNull(),maxPositionSize:U("max_position_size",{precision:5,scale:2}).notNull(),stopLossPercent:U("stop_loss_percent",{precision:5,scale:2}),takeProfitPercent:U("take_profit_percent",{precision:5,scale:2})}),qpe=Ve("npc_trader_psychology",{id:le("id").primaryKey().default(He`gen_random_uuid()`),traderId:le("trader_id").notNull().references(()=>Dv.id),panicThreshold:U("panic_threshold",{precision:5,scale:2}).notNull(),greedThreshold:U("greed_threshold",{precision:5,scale:2}).notNull(),fomoSusceptibility:ne("fomo_susceptibility").notNull(),confidenceBias:ne("confidence_bias").notNull(),lossCutSpeed:N("loss_cut_speed").notNull(),newsReaction:N("news_reaction").notNull()}),Kpe=Ve("npc_trader_positions",{id:le("id").primaryKey().default(He`gen_random_uuid()`),traderId:le("trader_id").notNull().references(()=>Dv.id),assetId:le("asset_id").notNull().references(()=>Rs.id),quantity:ne("quantity").notNull(),entryPrice:U("entry_price",{precision:10,scale:2}).notNull(),entryDate:se("entry_date").notNull(),unrealizedPnl:U("unrealized_pnl",{precision:10,scale:2}).default("0.00"),targetExitPrice:U("target_exit_price",{precision:10,scale:2})}),Ype=Ve("npc_trader_activity_log",{id:le("id").primaryKey().default(He`gen_random_uuid()`),traderId:le("trader_id").notNull().references(()=>Dv.id),action:N("action").notNull(),assetId:le("asset_id").references(()=>Rs.id),quantity:ne("quantity"),price:U("price",{precision:10,scale:2}),reasoning:N("reasoning"),timestamp:se("timestamp").defaultNow()});Ue(Dv).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Gpe).omit({id:!0});Ue(qpe).omit({id:!0});Ue(Kpe).omit({id:!0});Ue(Ype).omit({id:!0,timestamp:!0});Ue(Vue).omit({id:!0,createdAt:!0,updatedAt:!0});Ue($ue).omit({id:!0,createdAt:!0});Ue(u9).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(khe).omit({id:!0,respondedAt:!0});Ue(She).omit({id:!0,completedAt:!0});Ue(Ahe).omit({id:!0,startedAt:!0,lastActivityAt:!0});Ue(ev).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Che).omit({id:!0,createdAt:!0});Ue(The).omit({id:!0,createdAt:!0,eventTimestamp:!0});Ue(ahe).omit({id:!0,viewCount:!0,createdAt:!0,updatedAt:!0});const T9=Ve("marvel_comics",{id:le("id").primaryKey().default(He`gen_random_uuid()`),comicName:N("comic_name").notNull(),seriesId:le("series_id"),issueNumber:ne("issue_number"),volume:ne("volume"),issueTitle:N("issue_title"),publishDate:N("publish_date"),activeYears:N("active_years"),issueDescription:N("issue_description"),storyArcs:N("story_arcs").array(),keyEvents:N("key_events").array(),coverImageUrl:N("cover_image_url"),variantCovers:Ce("variant_covers"),format:N("format"),pageCount:ne("page_count"),price:N("price"),symbol:N("symbol").notNull().unique(),franchiseTier:N("franchise_tier"),seriesPrestigeMultiplier:U("series_prestige_multiplier",{precision:5,scale:2}).default("1.00"),baseMarketValue:U("base_market_value",{precision:12,scale:2}),currentPrice:U("current_price",{precision:12,scale:2}),priceChangePercent:U("price_change_percent",{precision:8,scale:4}),totalMarketValue:U("total_market_value",{precision:15,scale:2}),totalFloat:vu("total_float",{mode:"number"}),isKeyIssue:Re("is_key_issue").default(!1),keyIssueType:N("key_issue_type"),keyIssueDescription:N("key_issue_description"),contentEmbedding:di("content_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_marvel_comics_series_id").on(e.seriesId),oe("idx_marvel_comics_symbol").on(e.symbol),oe("idx_marvel_comics_franchise_tier").on(e.franchiseTier),oe("idx_marvel_comics_key_issue").on(e.isKeyIssue)]),Xpe=Ve("marvel_characters",{id:le("id").primaryKey().default(He`gen_random_uuid()`),name:N("name").notNull(),aliases:N("aliases").array(),realName:N("real_name"),characterType:N("character_type").notNull(),characterRole:N("character_role"),franchiseTier:N("franchise_tier").notNull(),franchiseImportance:N("franchise_importance"),description:N("description"),powers:N("powers").array(),abilities:N("abilities").array(),weaknesses:N("weaknesses").array(),teams:N("teams").array(),familyMembers:N("family_members").array(),enemies:N("enemies").array(),allies:N("allies").array(),imageUrl:N("image_url"),thumbnailUrl:N("thumbnail_url"),firstAppearanceComicId:le("first_appearance_comic_id"),firstAppearanceDate:N("first_appearance_date"),appearanceCount:ne("appearance_count").default(0),symbol:N("symbol").notNull().unique(),baseMarketValue:U("base_market_value",{precision:12,scale:2}),currentPrice:U("current_price",{precision:12,scale:2}),priceChangePercent:U("price_change_percent",{precision:8,scale:4}),totalMarketValue:U("total_market_value",{precision:15,scale:2}),totalFloat:vu("total_float",{mode:"number"}),relationshipRecencyScore:U("relationship_recency_score",{precision:8,scale:4}).default("0.00"),lastMediaMention:se("last_media_mention"),contentEmbedding:di("content_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_marvel_characters_symbol").on(e.symbol),oe("idx_marvel_characters_franchise_tier").on(e.franchiseTier),oe("idx_marvel_characters_character_type").on(e.characterType),oe("idx_marvel_characters_name").on(e.name)]),Zpe=Ve("marvel_creators",{id:le("id").primaryKey().default(He`gen_random_uuid()`),name:N("name").notNull(),primaryRole:N("primary_role").notNull(),allRoles:N("all_roles").array(),biography:N("biography"),notableWorks:N("notable_works").array(),awards:N("awards").array(),yearsActive:N("years_active"),franchiseTier:N("franchise_tier"),creatorImportance:N("creator_importance"),imageUrl:N("image_url"),totalWorks:ne("total_works").default(0),totalCharactersCreated:ne("total_characters_created").default(0),symbol:N("symbol").notNull().unique(),baseMarketValue:U("base_market_value",{precision:12,scale:2}),currentPrice:U("current_price",{precision:12,scale:2}),priceChangePercent:U("price_change_percent",{precision:8,scale:4}),totalMarketValue:U("total_market_value",{precision:15,scale:2}),totalFloat:vu("total_float",{mode:"number"}),relationshipRecencyScore:U("relationship_recency_score",{precision:8,scale:4}).default("0.00"),lastMediaMention:se("last_media_mention"),contentEmbedding:di("content_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_marvel_creators_symbol").on(e.symbol),oe("idx_marvel_creators_name").on(e.name),oe("idx_marvel_creators_primary_role").on(e.primaryRole)]);Ve("marvel_series",{id:le("id").primaryKey().default(He`gen_random_uuid()`),name:N("name").notNull(),volume:ne("volume"),startYear:ne("start_year"),endYear:ne("end_year"),activeYears:N("active_years"),description:N("description"),totalIssues:ne("total_issues").default(0),publishingStatus:N("publishing_status"),seriesPrestigeLevel:N("series_prestige_level"),criticalAcclaim:N("critical_acclaim").array(),coverImageUrl:N("cover_image_url"),symbol:N("symbol").notNull().unique(),franchiseTier:N("franchise_tier"),baseMarketValue:U("base_market_value",{precision:12,scale:2}),currentPrice:U("current_price",{precision:12,scale:2}),priceChangePercent:U("price_change_percent",{precision:8,scale:4}),totalMarketValue:U("total_market_value",{precision:15,scale:2}),totalFloat:vu("total_float",{mode:"number"}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_marvel_series_symbol").on(e.symbol),oe("idx_marvel_series_name").on(e.name)]);Ve("marvel_teams",{id:le("id").primaryKey().default(He`gen_random_uuid()`),name:N("name").notNull(),aliases:N("aliases").array(),description:N("description"),foundedDate:N("founded_date"),status:N("status"),franchiseTier:N("franchise_tier"),imageUrl:N("image_url"),logoUrl:N("logo_url"),symbol:N("symbol").notNull().unique(),baseMarketValue:U("base_market_value",{precision:12,scale:2}),currentPrice:U("current_price",{precision:12,scale:2}),priceChangePercent:U("price_change_percent",{precision:8,scale:4}),totalMarketValue:U("total_market_value",{precision:15,scale:2}),totalFloat:vu("total_float",{mode:"number"}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_marvel_teams_symbol").on(e.symbol),oe("idx_marvel_teams_name").on(e.name)]);Ve("marvel_relationships",{id:le("id").primaryKey().default(He`gen_random_uuid()`),entityType1:N("entity_type_1").notNull(),entityId1:le("entity_id_1").notNull(),entityType2:N("entity_type_2").notNull(),entityId2:le("entity_id_2").notNull(),relationshipType:N("relationship_type"),relationshipStrength:U("relationship_strength",{precision:5,scale:2}).default("1.00"),relationshipRecency:U("relationship_recency",{precision:5,scale:2}).default("0.00"),lastRefreshed:se("last_refreshed"),comicAppearances:ne("comic_appearances").default(0),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_marvel_relationships_entity1").on(e.entityId1),oe("idx_marvel_relationships_entity2").on(e.entityId2),oe("idx_marvel_relationships_type").on(e.relationshipType)]);Ve("marvel_character_appearances",{id:le("id").primaryKey().default(He`gen_random_uuid()`),comicId:le("comic_id").notNull().references(()=>T9.id),characterId:le("character_id").notNull().references(()=>Xpe.id),appearanceType:N("appearance_type"),pageCount:ne("page_count"),createdAt:se("created_at").defaultNow()},e=>[oe("idx_marvel_appearances_comic").on(e.comicId),oe("idx_marvel_appearances_character").on(e.characterId)]);Ve("marvel_creator_credits",{id:le("id").primaryKey().default(He`gen_random_uuid()`),comicId:le("comic_id").notNull().references(()=>T9.id),creatorId:le("creator_id").notNull().references(()=>Zpe.id),role:N("role").notNull(),creditOrder:ne("credit_order"),createdAt:se("created_at").defaultNow()},e=>[oe("idx_marvel_credits_comic").on(e.comicId),oe("idx_marvel_credits_creator").on(e.creatorId),oe("idx_marvel_credits_role").on(e.role)]);Ve("dc_comics",{id:le("id").primaryKey().default(He`gen_random_uuid()`),seriesId:le("series_id"),comicName:N("comic_name").notNull(),issueNumber:ne("issue_number"),volume:ne("volume"),issueTitle:N("issue_title"),publishDate:N("publish_date"),issueDescription:N("issue_description"),writer:N("writer"),penciler:N("penciler"),coverArtist:N("cover_artist"),inker:N("inker"),colorist:N("colorist"),letterer:N("letterer"),editor:N("editor"),imprint:N("imprint"),format:N("format"),rating:N("rating"),price:N("price"),coverImageUrl:N("cover_image_url"),currentValue:U("current_value",{precision:10,scale:2}),gradeCondition:N("grade_condition"),marketTrend:N("market_trend"),activeYears:N("active_years"),contentEmbedding:di("content_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_dc_comics_series_id").on(e.seriesId),oe("idx_dc_comics_issue_number").on(e.issueNumber),oe("idx_dc_comics_comic_name").on(e.comicName)]);Ve("other_comics",{id:le("id").primaryKey().default(He`gen_random_uuid()`),seriesId:le("series_id"),comicName:N("comic_name").notNull(),publisher:N("publisher").notNull(),issueNumber:ne("issue_number"),volume:ne("volume"),issueTitle:N("issue_title"),publishDate:N("publish_date"),issueDescription:N("issue_description"),writer:N("writer"),penciler:N("penciler"),coverArtist:N("cover_artist"),inker:N("inker"),colorist:N("colorist"),letterer:N("letterer"),editor:N("editor"),imprint:N("imprint"),format:N("format"),rating:N("rating"),price:N("price"),coverImageUrl:N("cover_image_url"),currentValue:U("current_value",{precision:10,scale:2}),gradeCondition:N("grade_condition"),marketTrend:N("market_trend"),activeYears:N("active_years"),contentEmbedding:di("content_embedding",{dimensions:1536}),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_other_comics_series_id").on(e.seriesId),oe("idx_other_comics_publisher").on(e.publisher),oe("idx_other_comics_issue_number").on(e.issueNumber),oe("idx_other_comics_comic_name").on(e.comicName)]);const Qpe=Ve("manga_comics",{id:le("id").primaryKey().default(He`gen_random_uuid()`),symbol:N("symbol").notNull().unique(),title:N("title").notNull(),description:N("description"),coverImageUrl:N("cover_image_url"),mangaType:N("manga_type"),genres:N("genres").array(),tags:N("tags").array(),year:ne("year"),rating:U("rating",{precision:3,scale:1}),totalFloat:ne("total_float"),baseMarketValue:U("base_market_value",{precision:15,scale:2}),currentPrice:U("current_price",{precision:10,scale:2}),totalMarketValue:U("total_market_value",{precision:15,scale:2}),regionalScalar:U("regional_scalar",{precision:5,scale:2}),tierMultiplier:U("tier_multiplier",{precision:5,scale:2}),franchiseWeight:U("franchise_weight",{precision:5,scale:2}),appearanceModifier:U("appearance_modifier",{precision:5,scale:2}),dataSource:N("data_source").default("kaggle_manga_comprehensive"),sourceMetadata:Ce("source_metadata"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_manga_comics_symbol").on(e.symbol),oe("idx_manga_comics_year").on(e.year),oe("idx_manga_comics_manga_type").on(e.mangaType)]),Jpe=Ve("manga_characters",{id:le("id").primaryKey().default(He`gen_random_uuid()`),symbol:N("symbol").notNull().unique(),name:N("name").notNull(),description:N("description"),imageUrl:N("image_url"),series:N("series"),role:N("role"),metadata:Ce("metadata"),dataSource:N("data_source"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_manga_characters_symbol").on(e.symbol),oe("idx_manga_characters_series").on(e.series)]),eme=Ve("manga_creators",{id:le("id").primaryKey().default(He`gen_random_uuid()`),symbol:N("symbol").notNull().unique(),name:N("name").notNull(),role:N("role"),bio:N("bio"),imageUrl:N("image_url"),notableWorks:N("notable_works").array(),metadata:Ce("metadata"),dataSource:N("data_source"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_manga_creators_symbol").on(e.symbol),oe("idx_manga_creators_role").on(e.role)]),tme=Ve("manga_series",{id:le("id").primaryKey().default(He`gen_random_uuid()`),seriesName:N("series_name").notNull().unique(),description:N("description"),coverImageUrl:N("cover_image_url"),totalVolumes:ne("total_volumes"),totalChapters:ne("total_chapters"),status:N("status"),startYear:ne("start_year"),endYear:ne("end_year"),genres:N("genres").array(),tags:N("tags").array(),metadata:Ce("metadata"),dataSource:N("data_source"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_manga_series_name").on(e.seriesName),oe("idx_manga_series_status").on(e.status)]);Ue(Qpe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Jpe).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(eme).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(tme).omit({id:!0,createdAt:!0,updatedAt:!0});const sme=Ve("marvel_locations",{id:le("id").primaryKey().default(He`gen_random_uuid()`),symbol:N("symbol").notNull().unique(),name:N("name").notNull(),description:N("description"),imageUrl:N("image_url"),locationType:N("location_type"),tier:ne("tier").notNull(),primaryUniverse:N("primary_universe"),firstAppearance:N("first_appearance"),firstAppearanceComicId:le("first_appearance_comic_id"),notableResidents:N("notable_residents").array(),relatedCharacterIds:N("related_character_ids").array(),franchiseTags:N("franchise_tags").array(),totalFloat:ne("total_float"),baseMarketValue:U("base_market_value",{precision:15,scale:2}),currentPrice:U("current_price",{precision:10,scale:2}),totalMarketValue:U("total_market_value",{precision:15,scale:2}),dataSource:N("data_source").default("marvel_curated"),metadata:Ce("metadata"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_marvel_locations_symbol").on(e.symbol),oe("idx_marvel_locations_tier").on(e.tier),oe("idx_marvel_locations_type").on(e.locationType)]),ime=Ve("marvel_gadgets",{id:le("id").primaryKey().default(He`gen_random_uuid()`),symbol:N("symbol").notNull().unique(),name:N("name").notNull(),description:N("description"),imageUrl:N("image_url"),gadgetCategory:N("gadget_category"),tier:ne("tier").notNull(),creator:N("creator"),creatorCharacterId:le("creator_character_id"),powerSource:N("power_source"),firstAppearance:N("first_appearance"),firstAppearanceComicId:le("first_appearance_comic_id"),associatedCharacters:N("associated_characters").array(),associatedTeams:N("associated_teams").array(),relatedCharacterIds:N("related_character_ids").array(),franchiseTags:N("franchise_tags").array(),totalFloat:ne("total_float"),baseMarketValue:U("base_market_value",{precision:15,scale:2}),currentPrice:U("current_price",{precision:10,scale:2}),totalMarketValue:U("total_market_value",{precision:15,scale:2}),dataSource:N("data_source").default("marvel_curated"),metadata:Ce("metadata"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_marvel_gadgets_symbol").on(e.symbol),oe("idx_marvel_gadgets_tier").on(e.tier),oe("idx_marvel_gadgets_category").on(e.gadgetCategory)]),rme=Ve("comics_worth_watching",{id:le("id").primaryKey().default(He`gen_random_uuid()`),comicCoverId:le("comic_cover_id").notNull().references(()=>uE.id),assetId:le("asset_id"),primarySignal:N("primary_signal").notNull(),signalStrength:U("signal_strength",{precision:5,scale:2}).notNull(),rank:ne("rank"),whaleActivity:Ce("whale_activity"),institutionalFlow:Ce("institutional_flow"),smartMoneyMetrics:Ce("smart_money_metrics"),streetConsensus:N("street_consensus"),consensusConfidence:U("consensus_confidence",{precision:3,scale:2}),analystTargets:Ce("analyst_targets"),priceMetrics:Ce("price_metrics"),volumeMetrics:Ce("volume_metrics"),technicalIndicators:Ce("technical_indicators"),detailedAnalysis:N("detailed_analysis"),catalysts:N("catalysts").array(),risks:N("risks").array(),keyLevels:Ce("key_levels"),selectedDate:se("selected_date").defaultNow(),expiresAt:se("expires_at"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_comics_watching_date").on(e.selectedDate),oe("idx_comics_watching_rank").on(e.rank),oe("idx_comics_watching_signal").on(e.primarySignal),oe("idx_comics_watching_strength").on(e.signalStrength),oe("idx_comics_watching_consensus").on(e.streetConsensus),oe("idx_comics_watching_cover").on(e.comicCoverId)]),nme=Ve("comic_of_the_day",{id:le("id").primaryKey().default(He`gen_random_uuid()`),comicCoverId:le("comic_cover_id").notNull().references(()=>uE.id),featureDate:se("feature_date").notNull().unique(),significanceType:N("significance_type").notNull(),significanceDescription:N("significance_description").notNull(),revolutionaryAspect:N("revolutionary_aspect"),culturalImpact:N("cultural_impact"),firstAppearanceEntities:N("first_appearance_entities").array(),featuredCreators:N("featured_creators").array(),featuredCharacters:N("featured_characters").array(),historicalNotes:N("historical_notes"),era:N("era"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_comic_of_day_date").on(e.featureDate),oe("idx_comic_of_day_type").on(e.significanceType),oe("idx_comic_of_day_era").on(e.era)]),ame=Ve("entity_first_appearances",{id:le("id").primaryKey().default(He`gen_random_uuid()`),entityId:le("entity_id").notNull(),entityName:N("entity_name").notNull(),entityType:N("entity_type").notNull(),firstAppearanceComicId:le("first_appearance_comic_id"),firstAppearanceTitle:N("first_appearance_title").notNull(),firstAppearanceIssue:N("first_appearance_issue"),firstAppearanceYear:ne("first_appearance_year"),firstAppearanceMonth:N("first_appearance_month"),firstAppearanceCoverUrl:N("first_appearance_cover_url"),publisher:N("publisher"),franchise:N("franchise"),universe:N("universe"),primarySource:N("primary_source").notNull(),sourceConsensusCount:ne("source_consensus_count").default(1),sourceIds:Ce("source_ids"),isVerified:Re("is_verified").default(!1),verifiedAt:se("verified_at"),verificationNotes:N("verification_notes"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_entity_first_app_entity").on(e.entityId),oe("idx_entity_first_app_type").on(e.entityType),oe("idx_entity_first_app_name").on(e.entityName),oe("idx_entity_first_app_year").on(e.firstAppearanceYear),oe("idx_entity_first_app_publisher").on(e.publisher),oe("idx_entity_first_app_source").on(e.primarySource)]),ome=Ve("entity_attributes",{id:le("id").primaryKey().default(He`gen_random_uuid()`),entityId:le("entity_id").notNull(),entityName:N("entity_name").notNull(),entityType:N("entity_type").notNull(),attributeCategory:N("attribute_category").notNull(),attributeName:N("attribute_name").notNull(),attributeDescription:N("attribute_description"),attributeLevel:N("attribute_level"),isActive:Re("is_active").default(!0),firstMentionedIn:N("first_mentioned_in"),keyAppearances:N("key_appearances").array(),originType:N("origin_type"),originDescription:N("origin_description"),deathDate:N("death_date"),resurrectionDate:N("resurrection_date"),permanenceStatus:N("permanence_status"),primarySource:N("primary_source").notNull(),sourceConsensusCount:ne("source_consensus_count").default(1),sourceIds:Ce("source_ids"),isVerified:Re("is_verified").default(!1),verifiedAt:se("verified_at"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_entity_attr_entity").on(e.entityId),oe("idx_entity_attr_category").on(e.attributeCategory),oe("idx_entity_attr_name").on(e.attributeName),oe("idx_entity_attr_level").on(e.attributeLevel),oe("idx_entity_attr_active").on(e.isActive)]),lme=Ve("entity_appearances",{id:le("id").primaryKey().default(He`gen_random_uuid()`),entityId:le("entity_id").notNull(),entityName:N("entity_name").notNull(),entityType:N("entity_type").notNull(),comicId:le("comic_id"),comicTitle:N("comic_title").notNull(),issueNumber:N("issue_number"),publicationYear:ne("publication_year"),publicationMonth:N("publication_month"),publisher:N("publisher"),appearanceType:N("appearance_type"),appearanceSignificance:N("appearance_significance"),pageCount:ne("page_count"),isOnCover:Re("is_on_cover").default(!1),coverImageUrl:N("cover_image_url"),primarySource:N("primary_source").notNull(),sourceIds:Ce("source_ids"),createdAt:se("created_at").defaultNow()},e=>[oe("idx_entity_app_entity").on(e.entityId),oe("idx_entity_app_comic").on(e.comicId),oe("idx_entity_app_type").on(e.appearanceType),oe("idx_entity_app_year").on(e.publicationYear),oe("idx_entity_app_publisher").on(e.publisher),oe("idx_entity_app_cover").on(e.isOnCover)]),cme=Ve("entity_data_sources",{id:le("id").primaryKey().default(He`gen_random_uuid()`),entityId:le("entity_id").notNull(),entityName:N("entity_name").notNull(),entityType:N("entity_type").notNull(),sourceName:N("source_name").notNull(),sourceEntityId:N("source_entity_id").notNull(),sourceUrl:N("source_url"),hasFirstAppearance:Re("has_first_appearance").default(!1),hasAttributes:Re("has_attributes").default(!1),hasRelationships:Re("has_relationships").default(!1),hasAppearances:Re("has_appearances").default(!1),hasImages:Re("has_images").default(!1),hasBiography:Re("has_biography").default(!1),dataCompleteness:U("data_completeness",{precision:3,scale:2}),dataFreshness:se("data_freshness"),sourceReliability:U("source_reliability",{precision:3,scale:2}).default("0.50"),sourceData:Ce("source_data"),lastSyncedAt:se("last_synced_at"),nextSyncScheduled:se("next_sync_scheduled"),syncStatus:N("sync_status"),syncErrorMessage:N("sync_error_message"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_entity_sources_entity").on(e.entityId),oe("idx_entity_sources_source").on(e.sourceName),oe("idx_entity_sources_sync").on(e.syncStatus),oe("idx_entity_sources_freshness").on(e.dataFreshness),oe("idx_entity_sources_entity_source").on(e.entityId,e.sourceName)]),dme=Ve("entity_relationships",{id:le("id").primaryKey().default(He`gen_random_uuid()`),sourceEntityId:le("source_entity_id").notNull(),sourceEntityName:N("source_entity_name").notNull(),sourceEntityType:N("source_entity_type").notNull(),targetEntityId:le("target_entity_id").notNull(),targetEntityName:N("target_entity_name").notNull(),targetEntityType:N("target_entity_type").notNull(),relationshipType:N("relationship_type").notNull(),relationshipSubtype:N("relationship_subtype"),relationshipStrength:U("relationship_strength",{precision:3,scale:2}).default("0.50"),isActive:Re("is_active").default(!0),firstEstablishedIn:N("first_established_in"),firstEstablishedComicId:le("first_established_comic_id"),keyMoments:N("key_moments").array(),relationshipNotes:N("relationship_notes"),publisher:N("publisher"),universe:N("universe"),primarySource:N("primary_source").notNull(),sourceConsensusCount:ne("source_consensus_count").default(1),sourceIds:Ce("source_ids"),isVerified:Re("is_verified").default(!1),verifiedAt:se("verified_at"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_entity_rel_source").on(e.sourceEntityId),oe("idx_entity_rel_target").on(e.targetEntityId),oe("idx_entity_rel_type").on(e.relationshipType),oe("idx_entity_rel_active").on(e.isActive),oe("idx_entity_rel_publisher").on(e.publisher),oe("idx_entity_rel_source_type").on(e.sourceEntityId,e.relationshipType)]),ume=Ve("entity_story_arcs",{id:le("id").primaryKey().default(He`gen_random_uuid()`),arcName:N("arc_name").notNull(),arcType:N("arc_type").notNull(),arcDescription:N("arc_description"),publisher:N("publisher").notNull(),universe:N("universe"),arcScope:N("arc_scope"),startYear:ne("start_year"),endYear:ne("end_year"),startIssue:N("start_issue"),endIssue:N("end_issue"),issueCount:ne("issue_count"),keyIssues:N("key_issues").array(),tieInIssues:N("tie_in_issues").array(),coverImageUrl:N("cover_image_url"),featuredCharacters:N("featured_characters").array(),featuredCreators:N("featured_creators").array(),featuredLocations:N("featured_locations").array(),featuredGadgets:N("featured_gadgets").array(),narrativeImpact:N("narrative_impact"),characterImpacts:Ce("character_impacts"),universeImpacts:N("universe_impacts"),culturalImpact:N("cultural_impact"),criticalReception:N("critical_reception"),commercialSuccess:N("commercial_success"),primarySource:N("primary_source").notNull(),sourceConsensusCount:ne("source_consensus_count").default(1),sourceIds:Ce("source_ids"),isVerified:Re("is_verified").default(!1),verifiedAt:se("verified_at"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_entity_arc_name").on(e.arcName),oe("idx_entity_arc_type").on(e.arcType),oe("idx_entity_arc_publisher").on(e.publisher),oe("idx_entity_arc_year").on(e.startYear),oe("idx_entity_arc_scope").on(e.arcScope)]),hme=Ve("entity_creator_contributions",{id:le("id").primaryKey().default(He`gen_random_uuid()`),creatorEntityId:le("creator_entity_id").notNull(),creatorName:N("creator_name").notNull(),workType:N("work_type").notNull(),workEntityId:le("work_entity_id"),workEntityName:N("work_entity_name"),workEntityType:N("work_entity_type"),creatorRole:N("creator_role").notNull(),isPrimaryCreator:Re("is_primary_creator").default(!1),isCoCreator:Re("is_co_creator").default(!1),comicTitle:N("comic_title"),issueRange:N("issue_range"),publicationYear:ne("publication_year"),publisher:N("publisher"),contributionSignificance:N("contribution_significance"),notableWorks:N("notable_works").array(),awards:N("awards").array(),collaborators:N("collaborators").array(),collaborationNotes:N("collaboration_notes"),primarySource:N("primary_source").notNull(),sourceConsensusCount:ne("source_consensus_count").default(1),sourceIds:Ce("source_ids"),isVerified:Re("is_verified").default(!1),verifiedAt:se("verified_at"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_creator_contrib_creator").on(e.creatorEntityId),oe("idx_creator_contrib_work").on(e.workEntityId),oe("idx_creator_contrib_role").on(e.creatorRole),oe("idx_creator_contrib_type").on(e.workType),oe("idx_creator_contrib_primary").on(e.isPrimaryCreator),oe("idx_creator_contrib_publisher").on(e.publisher)]),pme=Ve("entity_narrative_milestones",{id:le("id").primaryKey().default(He`gen_random_uuid()`),entityId:le("entity_id").notNull(),entityName:N("entity_name").notNull(),entityType:N("entity_type").notNull(),milestoneType:N("milestone_type").notNull(),milestoneSubtype:N("milestone_subtype"),milestoneName:N("milestone_name").notNull(),milestoneDescription:N("milestone_description"),occurredInComicId:le("occurred_in_comic_id"),occurredInComicTitle:N("occurred_in_comic_title").notNull(),occurredInIssue:N("occurred_in_issue"),occurredYear:ne("occurred_year"),occurredMonth:N("occurred_month"),coverImageUrl:N("cover_image_url"),isPermanent:Re("is_permanent").default(!0),wasReversed:Re("was_reversed").default(!1),reversedInComicTitle:N("reversed_in_comic_title"),reversedYear:ne("reversed_year"),characterImpact:N("character_impact"),powerChanges:N("power_changes"),relationshipChanges:N("relationship_changes"),relatedEntities:N("related_entities").array(),relatedStoryArcId:le("related_story_arc_id"),publisher:N("publisher"),universe:N("universe"),primarySource:N("primary_source").notNull(),sourceConsensusCount:ne("source_consensus_count").default(1),sourceIds:Ce("source_ids"),isVerified:Re("is_verified").default(!1),verifiedAt:se("verified_at"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_milestone_entity").on(e.entityId),oe("idx_milestone_type").on(e.milestoneType),oe("idx_milestone_year").on(e.occurredYear),oe("idx_milestone_permanent").on(e.isPermanent),oe("idx_milestone_reversed").on(e.wasReversed),oe("idx_milestone_publisher").on(e.publisher)]),mme=Ve("entity_appearance_order",{id:le("id").primaryKey().default(He`gen_random_uuid()`),entityId:le("entity_id").notNull(),entityName:N("entity_name").notNull(),entityType:N("entity_type").notNull(),appearanceNumber:ne("appearance_number").notNull(),appearanceOrdinal:N("appearance_ordinal"),comicId:le("comic_id"),comicTitle:N("comic_title").notNull(),issueNumber:N("issue_number"),publicationYear:ne("publication_year"),publicationMonth:N("publication_month"),publisher:N("publisher"),coverImageUrl:N("cover_image_url"),appearanceType:N("appearance_type"),appearanceSignificance:N("appearance_significance"),isKeyAppearance:Re("is_key_appearance").default(!1),relatedStoryArcId:le("related_story_arc_id"),relatedMilestoneId:le("related_milestone_id"),primarySource:N("primary_source").notNull(),sourceConsensusCount:ne("source_consensus_count").default(1),sourceIds:Ce("source_ids"),isVerified:Re("is_verified").default(!1),verifiedAt:se("verified_at"),createdAt:se("created_at").defaultNow(),updatedAt:se("updated_at").defaultNow()},e=>[oe("idx_appearance_order_entity").on(e.entityId),oe("idx_appearance_order_number").on(e.appearanceNumber),oe("idx_appearance_order_year").on(e.publicationYear),oe("idx_appearance_order_key").on(e.isKeyAppearance),oe("idx_appearance_order_entity_num").on(e.entityId,e.appearanceNumber)]);Ue(sme).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(ime).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(rme).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(nme).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(Gue).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(ame).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(ome).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(lme).omit({id:!0,createdAt:!0});Ue(cme).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(dme).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(ume).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(hme).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(pme).omit({id:!0,createdAt:!0,updatedAt:!0});Ue(mme).omit({id:!0,createdAt:!0,updatedAt:!0});function fme(){const{data:e,isLoading:t,error:i}=yt({queryKey:["/api/comic-covers/comic-of-the-day"],refetchInterval:36e5}),r=e==null?void 0:e.data;if(t||!r)return s.jsxs(Se,{className:"h-full !bg-[#1A1F2E] green-rimlight-hover",children:[s.jsxs(Be,{className:"pb-3 space-y-0",children:[s.jsxs("div",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt",marginBottom:"-4px"},children:[s.jsx(Us,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{children:"Comic of the Day"})]}),s.jsx("p",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:"Featured key issue with historical significance"})]}),s.jsx(Pe,{children:s.jsx("div",{className:"bg-[#252B3C] p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-32 aspect-[2/3] bg-muted rounded-lg animate-pulse"}),s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsx("div",{className:"h-6 bg-muted rounded animate-pulse w-3/4"}),s.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-1/2"}),s.jsx("div",{className:"h-8 bg-muted rounded animate-pulse w-1/3"})]})]})})})]});if(i)return s.jsxs(Se,{className:"h-full !bg-[#1A1F2E] green-rimlight-hover",children:[s.jsxs(Be,{className:"pb-3 space-y-0",children:[s.jsxs("div",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt",marginBottom:"-4px"},children:[s.jsx(Us,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{children:"Comic of the Day"})]}),s.jsx("p",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:"Featured key issue with historical significance"})]}),s.jsx(Pe,{children:s.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Failed to load featured comic. Please try again later."})})]});const a=(r.estimatedValue-r.printPrice)/r.printPrice*100;return s.jsxs(Se,{className:"h-full !bg-[#1A1F2E] green-rimlight-hover","data-testid":"widget-comic-of-the-day",children:[s.jsxs(Be,{className:"pb-3 space-y-0",children:[s.jsxs("div",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt",marginBottom:"-4px"},children:[s.jsx(Us,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{children:"Comic of the Day"})]}),s.jsx("p",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:"Featured key issue with historical significance"})]}),s.jsx(Pe,{children:s.jsxs("div",{className:"bg-[#252B3C] p-4 rounded-lg",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 mb-6 lg:items-stretch",children:[s.jsx("div",{className:"lg:w-2/5 flex",children:s.jsx(gt,{href:`/series/${encodeURIComponent(r.series)}`,"data-testid":"link-series-detail",className:"w-full",children:s.jsx("div",{className:"w-full h-full min-h-[400px] bg-black rounded-md border border-indigo-800/30 green-rimlight-hover cursor-pointer flex items-center justify-center",children:r.coverUrl?s.jsx("img",{src:r.coverUrl,alt:r.title,className:"w-full h-full object-contain",style:{padding:"1px",boxSizing:"border-box"},loading:"lazy","data-testid":"img-comic-of-the-day-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 rounded-md",children:s.jsx(Bh,{className:"w-12 h-12 text-primary/50"})})})})}),s.jsxs("div",{className:"lg:w-3/5 space-y-4 flex flex-col",children:[s.jsxs("div",{className:"space-y-3 pb-2",children:[s.jsxs("div",{children:[s.jsx(st,{className:"mb-2 bg-yellow-500 text-black",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:r.significance}),s.jsx("h3",{className:"text-2xl text-foreground line-clamp-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:r.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:[r.series," #",r.issueNumber]})]}),s.jsx("div",{className:"flex items-center gap-3 flex-wrap",children:r.onsaleDate&&s.jsxs(s.Fragment,{children:[s.jsx(st,{variant:"outline",className:"white-rimlight-hover overflow-visible cursor-default",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},"data-testid":"badge-publication-year",children:new Date(r.onsaleDate).getFullYear()}),s.jsxs(st,{variant:"outline",className:"white-rimlight-hover overflow-visible cursor-default",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},"data-testid":"badge-comic-age",children:[r.yearsOld," years old"]}),s.jsx(st,{variant:"outline",className:"white-rimlight-hover overflow-visible cursor-default",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},"data-testid":"badge-comic-era",children:b4(new Date(r.onsaleDate).getFullYear())})]})}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Print Price"}),s.jsxs("p",{className:"text-lg text-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:["$",r.printPrice.toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-green-500",children:[s.jsx(ns,{className:"w-4 h-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Estimated Value"}),s.jsxs("p",{className:"text-2xl",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:["$",r.estimatedValue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})]}),s.jsx(gt,{href:"/comic-of-day/historical","data-testid":"link-comic-of-day-historical",className:"block",children:s.jsxs("div",{className:"bg-primary/5 border-2 border-green-500 rounded-lg p-4 green-rimlight-hover cursor-pointer overflow-visible",children:[s.jsxs("h4",{className:"text-foreground flex items-center gap-2 mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:[s.jsx(QJ,{className:"w-4 h-4 text-amber-500"}),"Historical Significance"]}),s.jsx("p",{className:"text-foreground/80 leading-relaxed",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:r.historicalContext})]})}),r.description&&s.jsx(gt,{href:"/comic-of-day/about","data-testid":"link-comic-of-day-about",className:"block",children:s.jsxs("div",{className:"bg-primary/5 border-2 border-green-500 rounded-lg p-4 green-rimlight-hover cursor-pointer overflow-visible",children:[s.jsxs("h4",{className:"text-foreground flex items-center gap-2 mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:[s.jsx(fW,{className:"w-4 h-4 text-blue-500"}),"About This Issue"]}),s.jsx("p",{className:"text-foreground/80 leading-relaxed line-clamp-3",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:r.description})]})}),r.creators&&r.creators.length>0&&s.jsx(gt,{href:"/comic-of-day/creators","data-testid":"link-comic-of-day-creators",className:"block",children:s.jsxs("div",{className:"bg-primary/5 border-2 border-green-500 rounded-lg p-4 green-rimlight-hover cursor-pointer overflow-visible",children:[s.jsxs("h4",{className:"text-foreground flex items-center gap-2 mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:[s.jsx(xn,{className:"w-4 h-4 text-purple-500"}),"Creative Team"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.creators.map((o,u)=>s.jsxs(st,{variant:"outline",style:{fontFamily:"Hind, sans-serif",fontWeight:300,fontSize:"13pt"},children:[o.name," ",s.jsxs("span",{className:"text-muted-foreground ml-1",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["(",o.role,")"]})]},u))})]})})]})]}),s.jsxs("div",{className:"space-y-2 mt-6",children:[s.jsx("h4",{className:"text-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:"Quick Facts"}),s.jsx("div",{className:"border-2 border-orange-500 rounded-lg p-4 bg-orange-500/5 orange-rimlight-hover overflow-visible",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Us,{className:"w-4 h-4 text-orange-500 shrink-0 mt-0.5"}),s.jsxs(gt,{href:`/issue/${r.id}`,"data-testid":"link-quick-fact-value",className:"text-foreground hover-elevate cursor-pointer transition-all duration-200",style:{fontFamily:"Hind, sans-serif",fontWeight:300,fontSize:"12pt"},children:["Original cover price $",r.printPrice.toFixed(2)," — now worth $",r.estimatedValue.toLocaleString()," (",a.toFixed(0),"× ROI)"]})]}),r.onsaleDate&&s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Us,{className:"w-4 h-4 text-orange-500 shrink-0 mt-0.5"}),s.jsxs(gt,{href:`/issue/${r.id}`,"data-testid":"link-quick-fact-era",className:"text-foreground hover-elevate cursor-pointer transition-all duration-200",style:{fontFamily:"Hind, sans-serif",fontWeight:300,fontSize:"12pt"},children:["Published ",new Date(r.onsaleDate).toLocaleDateString("en-US",{month:"long",year:"numeric"})," during the ",b4(new Date(r.onsaleDate).getFullYear())]})]}),r.isFirstIssue&&s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Us,{className:"w-4 h-4 text-orange-500 shrink-0 mt-0.5"}),s.jsxs(gt,{href:`/issue/${r.id}`,"data-testid":"link-quick-fact-first-issue",className:"text-foreground hover-elevate cursor-pointer transition-all duration-200",style:{fontFamily:"Hind, sans-serif",fontWeight:300,fontSize:"12pt"},children:["Launched the entire ",r.series," franchise — foundational collector's item"]})]}),r.creators&&r.creators.length>0&&s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Us,{className:"w-4 h-4 text-orange-500 shrink-0 mt-0.5"}),s.jsxs(gt,{href:`/issue/${r.id}`,"data-testid":"link-quick-fact-creators",className:"text-foreground hover-elevate cursor-pointer transition-all duration-200",style:{fontFamily:"Hind, sans-serif",fontWeight:300,fontSize:"12pt"},children:[r.creators[0].name,"'s ",r.creators[0].role," work defined an entire generation of comic art"]})]}),r.pageCount>0&&s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Us,{className:"w-4 h-4 text-orange-500 shrink-0 mt-0.5"}),s.jsxs(gt,{href:`/issue/${r.id}`,"data-testid":"link-quick-fact-page-count",className:"text-foreground hover-elevate cursor-pointer transition-all duration-200",style:{fontFamily:"Hind, sans-serif",fontWeight:300,fontSize:"12pt"},children:[r.pageCount," pages packed with sequential art mastery — standard ",r.format||"comic"," format"]})]}),r.yearsOld>30&&s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Us,{className:"w-4 h-4 text-orange-500 shrink-0 mt-0.5"}),s.jsxs(gt,{href:`/issue/${r.id}`,"data-testid":"link-quick-fact-age",className:"text-foreground hover-elevate cursor-pointer transition-all duration-200",style:{fontFamily:"Hind, sans-serif",fontWeight:300,fontSize:"12pt"},children:[r.yearsOld," years old — survivors in high grade command exponential premiums"]})]})]})})]}),s.jsxs("div",{className:"flex gap-2 mt-6",children:[s.jsx(gt,{href:`/order-desk/${r.id}`,"data-testid":"link-order-desk",className:"flex-1",children:s.jsxs("div",{className:"blue-white-rimlight-hover rounded-lg p-3 cursor-pointer overflow-visible flex items-center justify-center gap-2 text-white",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},"data-testid":"button-trade-comic-of-day",children:[s.jsx(oo,{className:"w-4 h-4"}),"Trade Now"]})}),s.jsx(gt,{href:`/issue/${r.id}`,"data-testid":"link-learn-more",className:"flex-1",children:s.jsx("div",{className:"orange-white-rimlight-hover rounded-lg p-3 cursor-pointer overflow-visible flex items-center justify-center gap-2 text-white",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},"data-testid":"button-learn-more",children:"Learn More"})})]})]})})]})}function gme(){var a;const{data:e,isLoading:t}=yt({queryKey:["/api/comic-covers/key-issues?limit=6"],refetchInterval:3e5}),i=((a=e==null?void 0:e.data)==null?void 0:a.slice(0,6))||[],r=i.map((o,u)=>{const m=o.symbol||"UNKNOWN",x=o.estimatedValue||Math.random()*500+50,w=(Math.random()-.5)*20,A=w/x*100,E=o.significance||o.description||`Key issue from ${o.series}`;return{id:o.id,title:o.title,series:o.series,issueNumber:o.issueNumber,coverUrl:o.coverUrl,currentPrice:x,priceChange:w,priceChangePercent:A,symbol:m,relevance:E}});return t||i.length===0?s.jsxs("div",{className:"bg-[#1A1F2E] rounded-lg p-6 pink-rimlight-hover overflow-visible",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",style:{marginBottom:"-4px"},children:[s.jsx(Ci,{className:"w-4 h-4 text-pink-500"}),s.jsx("h3",{className:"text-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:"Comics Worth Watching"})]}),s.jsx("p",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:"Key issues and first appearances worth tracking"})]}),s.jsx("div",{className:"bg-[#252B3C] p-4 rounded-lg",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:[...Array(6)].map((o,u)=>s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"aspect-[2/3] bg-muted rounded-lg animate-pulse"}),s.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"})]},u))})})]}):s.jsxs("div",{className:"bg-[#1A1F2E] rounded-lg p-6 pink-rimlight-hover overflow-visible",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",style:{marginBottom:"-4px"},children:[s.jsx(Ci,{className:"w-4 h-4 text-pink-500"}),s.jsx("h3",{className:"text-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:"Comics Worth Watching"})]}),s.jsx("p",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:"Key issues and first appearances worth tracking"})]}),s.jsx("div",{className:"bg-[#252B3C] p-4 rounded-lg",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:r.map(o=>s.jsx(gt,{href:`/comic-bio/${o.id}`,"data-testid":`link-featured-comic-${o.id}`,children:s.jsxs("div",{className:"group cursor-pointer",children:[s.jsx("div",{className:"aspect-[2/3] bg-muted rounded-lg overflow-visible mb-3 pink-rimlight-hover active:brightness-125 transition-all",children:o.coverUrl?s.jsx("img",{src:o.coverUrl,alt:o.title,className:"w-full h-full object-cover rounded-lg",loading:"lazy"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground text-xs",children:"No Cover"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-foreground truncate",title:o.symbol,style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt",whiteSpace:"nowrap"},children:o.symbol}),s.jsx("div",{className:"text-muted-foreground line-clamp-2",title:o.relevance,style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:o.relevance}),s.jsxs("div",{className:"flex items-center gap-1",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:[o.priceChangePercent>=0?s.jsx(ns,{className:"w-3 h-3 text-green-500 shrink-0"}):s.jsx(vi,{className:"w-3 h-3 text-red-500 shrink-0"}),s.jsxs("span",{className:o.priceChangePercent>=0?"text-green-500":"text-red-500",children:["$",o.currentPrice.toFixed(2)]})]})]})]})},o.id))})})]})}var fE="Tabs",[xme,Rye]=Bn(fE,[Eg]),P9=Eg(),[yme,gE]=xme(fE),M9=V.forwardRef((e,t)=>{const{__scopeTabs:i,value:r,onValueChange:a,defaultValue:o,orientation:u="horizontal",dir:m,activationMode:x="automatic",...w}=e,A=Cg(m),[E,O]=Lc({prop:r,onChange:a,defaultProp:o});return s.jsx(yme,{scope:i,baseId:Ro(),value:E,onValueChange:O,orientation:u,dir:A,activationMode:x,children:s.jsx(as.div,{dir:A,"data-orientation":u,...w,ref:t})})});M9.displayName=fE;var E9="TabsList",I9=V.forwardRef((e,t)=>{const{__scopeTabs:i,loop:r=!0,...a}=e,o=gE(E9,i),u=P9(i);return s.jsx(cM,{asChild:!0,...u,orientation:o.orientation,dir:o.dir,loop:r,children:s.jsx(as.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});I9.displayName=E9;var L9="TabsTrigger",O9=V.forwardRef((e,t)=>{const{__scopeTabs:i,value:r,disabled:a=!1,...o}=e,u=gE(L9,i),m=P9(i),x=F9(u.baseId,r),w=z9(u.baseId,r),A=r===u.value;return s.jsx(dM,{asChild:!0,...m,focusable:!a,active:A,children:s.jsx(as.button,{type:"button",role:"tab","aria-selected":A,"aria-controls":w,"data-state":A?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:x,...o,ref:t,onMouseDown:Mt(e.onMouseDown,E=>{!a&&E.button===0&&E.ctrlKey===!1?u.onValueChange(r):E.preventDefault()}),onKeyDown:Mt(e.onKeyDown,E=>{[" ","Enter"].includes(E.key)&&u.onValueChange(r)}),onFocus:Mt(e.onFocus,()=>{const E=u.activationMode!=="manual";!A&&!a&&E&&u.onValueChange(r)})})})});O9.displayName=L9;var D9="TabsContent",R9=V.forwardRef((e,t)=>{const{__scopeTabs:i,value:r,forceMount:a,children:o,...u}=e,m=gE(D9,i),x=F9(m.baseId,r),w=z9(m.baseId,r),A=r===m.value,E=V.useRef(A);return V.useEffect(()=>{const O=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(O)},[]),s.jsx(vn,{present:a||A,children:({present:O})=>s.jsx(as.div,{"data-state":A?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":x,hidden:!O,id:w,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:E.current?"0s":void 0},children:O&&o})})});R9.displayName=D9;function F9(e,t){return`${e}-trigger-${t}`}function z9(e,t){return`${e}-content-${t}`}var vme=M9,B9=I9,W9=O9,H9=R9;const Ma=vme,Ea=V.forwardRef(({className:e,...t},i)=>s.jsx(B9,{ref:i,className:Ot("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ea.displayName=B9.displayName;const Ls=V.forwardRef(({className:e,...t},i)=>s.jsx(W9,{ref:i,className:Ot("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ls.displayName=W9.displayName;const qi=V.forwardRef(({className:e,...t},i)=>s.jsx(H9,{ref:i,className:Ot("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));qi.displayName=H9.displayName;function bme(){const e=[{symbol:"SPIDEY",name:"Spider-Man",price:102.45,change:8.9,changePercent:9.51,volume:"12.3M"},{symbol:"IRONM",name:"Iron Man",price:156.8,change:11.2,changePercent:7.69,volume:"8.7M"},{symbol:"WWOND",name:"Wonder Woman",price:89.3,change:5.4,changePercent:6.44,volume:"6.2M"}],t=[{symbol:"FLASH",name:"The Flash",price:67.2,change:-6.8,changePercent:-9.19,volume:"9.1M"},{symbol:"HULK",name:"The Hulk",price:94.5,change:-5.3,changePercent:-5.31,volume:"7.4M"},{symbol:"AQUAM",name:"Aquaman",price:54.1,change:-2.9,changePercent:-5.09,volume:"4.8M"}],i=[{symbol:"BATS",name:"Batman",price:187.6,change:2.3,changePercent:1.24,volume:"18.9M"},{symbol:"SUPES",name:"Superman",price:198.4,change:-1.1,changePercent:-.55,volume:"15.2M"},{symbol:"SPIDEY",name:"Spider-Man",price:102.45,change:8.9,changePercent:9.51,volume:"12.3M"}],r=u=>`$${u.toFixed(2)}`,a=u=>`${u>=0?"+":""}${u.toFixed(2)}`,o=({mover:u,type:m})=>s.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0","data-testid":`mover-${u.symbol.toLowerCase()}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"",children:u.symbol}),s.jsx("p",{className:"text-xs text-muted-foreground",children:u.name})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"",children:r(u.price)}),s.jsxs("div",{className:`flex items-center justify-end text-sm ${m==="active"?u.change>=0?"text-green-500":"text-red-500":m==="gainer"?"text-green-500":"text-red-500"}`,children:[u.change>=0?s.jsx(ns,{className:"w-3 h-3 mr-1"}):s.jsx(vi,{className:"w-3 h-3 mr-1"}),a(u.change)," (",u.changePercent.toFixed(2),"%)"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground ml-4 w-16 text-right",children:u.volume})]});return s.jsxs(Se,{"data-testid":"widget-market-movers",children:[s.jsx(Be,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx(Ze,{className:"text-lg",children:"Market Movers"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Top performers today"})]})})}),s.jsx(Pe,{children:s.jsxs(Ma,{defaultValue:"gainers",className:"w-full",children:[s.jsxs(Ea,{className:"w-full grid grid-cols-3",children:[s.jsxs(Ls,{value:"gainers","data-testid":"tab-gainers",children:[s.jsx(ns,{className:"w-4 h-4 mr-2"}),"Gainers"]}),s.jsxs(Ls,{value:"losers","data-testid":"tab-losers",children:[s.jsx(vi,{className:"w-4 h-4 mr-2"}),"Losers"]}),s.jsxs(Ls,{value:"active","data-testid":"tab-most-active",children:[s.jsx(Ta,{className:"w-4 h-4 mr-2"}),"Most Active"]})]}),s.jsx(qi,{value:"gainers",className:"mt-4 space-y-2",children:e.map(u=>s.jsx(o,{mover:u,type:"gainer"},u.symbol))}),s.jsx(qi,{value:"losers",className:"mt-4 space-y-2",children:t.map(u=>s.jsx(o,{mover:u,type:"loser"},u.symbol))}),s.jsx(qi,{value:"active",className:"mt-4 space-y-2",children:i.map(u=>s.jsx(o,{mover:u,type:"active"},u.symbol))})]})})]})}function wme(){const t="Greed",i="text-orange-500",r=[{name:"Market Momentum",value:72,trend:"up"},{name:"Stock Price Strength",value:65,trend:"up"},{name:"Market Breadth",value:58,trend:"down"},{name:"Put/Call Ratio",value:43,trend:"down"},{name:"VIX Level",value:38,trend:"up"},{name:"Safe Haven Demand",value:52,trend:"neutral"}];return s.jsxs(Se,{"data-testid":"widget-fear-greed",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ze,{className:"text-lg",children:"Fear & Greed Index"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Market sentiment gauge"})]}),s.jsx(st,{className:i,children:t})]})}),s.jsx(Pe,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-6 py-4",children:[s.jsxs("div",{className:"relative w-12 h-64 bg-muted rounded-full overflow-hidden border-2 border-border",children:[s.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-10 h-10 rounded-full bg-muted border-2 border-border -mb-5"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 transition-all duration-500",style:{height:"68%"},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-indigo-500 via-blue-500 via-yellow-500 via-orange-500 to-red-500"})}),s.jsx("div",{className:"absolute inset-0 flex flex-col justify-between py-2",children:[100,75,50,25,0].map(a=>s.jsx("div",{className:"w-full h-px bg-border"},a))})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("p",{className:`text-6xl  ${i}`,"data-testid":"text-fear-greed-score",children:68}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"out of 100"}),s.jsx("p",{className:`mt-2 text-xl  ${i}`,children:t})]}),s.jsxs("div",{className:"space-y-1 text-xs",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-red-500",children:"Extreme Greed"}),s.jsx("span",{className:"text-muted-foreground",children:"75-100"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-orange-500",children:"Greed"}),s.jsx("span",{className:"text-muted-foreground",children:"55-75"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-yellow-500",children:"Neutral"}),s.jsx("span",{className:"text-muted-foreground",children:"45-55"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-blue-500",children:"Fear"}),s.jsx("span",{className:"text-muted-foreground",children:"25-45"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-indigo-500",children:"Extreme Fear"}),s.jsx("span",{className:"text-muted-foreground",children:"0-25"})]})]})]})]}),s.jsxs("div",{className:"pt-4 border-t space-y-2",children:[s.jsx("p",{className:"text-sm  mb-3",children:"Contributing Indicators"}),r.map(a=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[a.trend==="up"&&s.jsx(ns,{className:"w-3 h-3 text-green-500"}),a.trend==="down"&&s.jsx(vi,{className:"w-3 h-3 text-red-500"}),a.trend==="neutral"&&s.jsx(XN,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:a.name})]}),s.jsx("span",{className:"",children:a.value})]},a.name))]})]})})]})}function _me(){const[e,t]=V.useState(null),{data:i=[],isLoading:r}=yt({queryKey:["/api/comic-assets/heat-map"],refetchInterval:1e4}),a=m=>{const x=Math.abs(m);return x>10?1:x>5?.8:x>2?.6:.4},o=m=>{const x=a(m.changePercent);return m.changePercent>0?`rgba(34, 197, 94, ${x})`:m.changePercent<0?`rgba(239, 68, 68, ${x})`:"rgba(156, 163, 175, 0.3)"},u=m=>Math.abs(m)>3?"text-white":"text-foreground";return r?s.jsxs(Se,{"data-testid":"widget-comic-heat-map",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(ns,{className:"w-5 h-5"}),"Comic Asset Heat Map"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:Array.from({length:12}).map((m,x)=>s.jsx("div",{className:"aspect-square bg-muted/50 rounded animate-pulse"},x))})})]}):s.jsxs(Se,{"data-testid":"widget-comic-heat-map",children:[s.jsxs(Be,{children:[s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(ns,{className:"w-5 h-5"}),"Comic Asset Heat Map"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"24-hour performance - size indicates trading volume"})]}),s.jsxs(Pe,{children:[s.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2 mb-4",children:i.map(m=>s.jsx("div",{className:"aspect-square rounded-md transition-all duration-200 cursor-pointer hover:scale-105 hover:shadow-lg flex flex-col items-center justify-center p-2",style:{backgroundColor:o(m),minHeight:"80px"},onMouseEnter:()=>t(m),onMouseLeave:()=>t(null),"data-testid":`heat-map-cell-${m.symbol}`,children:s.jsxs("div",{className:`text-center ${u(m.changePercent)}`,children:[s.jsx("div",{className:" text-xs mb-1",children:m.symbol}),s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[m.changePercent>0?s.jsx(ns,{className:"w-3 h-3"}):m.changePercent<0?s.jsx(vi,{className:"w-3 h-3"}):null,s.jsxs("span",{className:"text-sm ",children:[m.changePercent>=0?"+":"",m.changePercent.toFixed(1),"%"]})]})]})},m.symbol))}),e&&s.jsx("div",{className:"bg-card border border-border rounded-lg p-3 mt-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"",children:e.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:e.symbol})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-lg  ${e.changePercent>=0?"text-green-500":"text-red-500"}`,children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Vol: ",e.volume.toLocaleString()]})]})]})}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mt-4 pt-4 border-t border-border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"rgba(239, 68, 68, 0.8)"}}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Strong Loss"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"rgba(156, 163, 175, 0.3)"}}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Neutral"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"rgba(34, 197, 94, 0.8)"}}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Strong Gain"})]})]})]})]})}function Nme(){const{data:e=[],isLoading:t}=yt({queryKey:["/api/comic-assets/sentiment"],refetchInterval:15e3}),i=x=>{switch(x){case"bullish":return"text-green-500";case"bearish":return"text-red-500";default:return"text-muted-foreground"}},r=x=>{switch(x){case"bullish":return"default";case"bearish":return"destructive";default:return"secondary"}},a=x=>{switch(x){case"bullish":return s.jsx(ns,{className:"w-4 h-4"});case"bearish":return s.jsx(vi,{className:"w-4 h-4"});default:return s.jsx(XN,{className:"w-4 h-4"})}},o=x=>s.jsx("div",{className:"w-full bg-muted rounded-full h-1.5 mt-1",children:s.jsx("div",{className:"bg-primary h-1.5 rounded-full transition-all duration-300",style:{width:`${x}%`}})}),u=e.reduce((x,w)=>w.sentiment==="bullish"?x+1:w.sentiment==="bearish"?x-1:x,0),m=u>2?"Strongly Bullish":u>0?"Bullish":u<-2?"Strongly Bearish":u<0?"Bearish":"Neutral";return t?s.jsxs(Se,{"data-testid":"widget-comic-sentiment",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Ey,{className:"w-5 h-5"}),"Market Sentiment Analysis"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((x,w)=>s.jsx("div",{className:"h-16 bg-muted/50 rounded animate-pulse"},w))})})]}):s.jsxs(Se,{"data-testid":"widget-comic-sentiment",children:[s.jsxs(Be,{children:[s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Ey,{className:"w-5 h-5"}),"Market Sentiment Analysis"]}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"AI-powered sentiment tracking"}),s.jsx(st,{variant:r(u>0?"bullish":u<0?"bearish":"neutral"),children:m})]})]}),s.jsxs(Pe,{children:[s.jsx("div",{className:"space-y-4",children:e.map(x=>s.jsxs("div",{className:"p-3 rounded-lg border border-border hover-elevate transition-all","data-testid":`sentiment-item-${x.symbol}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"",children:x.symbol}),s.jsxs(st,{variant:r(x.sentiment),className:"flex items-center gap-1",children:[a(x.sentiment),x.sentiment.toUpperCase()]})]}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:x.name})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-2xl  ${i(x.sentiment)}`,children:[x.score>0?"+":"",x.score]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Sentiment Score"})]})]}),s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-1",children:[s.jsx("span",{children:"Confidence"}),s.jsxs("span",{children:[x.confidence,"%"]})]}),o(x.confidence)]}),x.indicators&&x.indicators.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:x.indicators.map((w,A)=>s.jsx(st,{variant:"outline",className:"text-xs",children:w},A))})]},x.symbol))}),e.length===0&&s.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No sentiment data available"})]})]})}function Vs({className:e,...t}){return s.jsx("div",{className:Ot("animate-pulse rounded-md bg-muted",e),...t})}function jme(){const{data:e,isLoading:t}=yt({queryKey:["/api/characters/trending"],refetchInterval:3e4});if(t)return s.jsxs(Se,{className:"bg-black/40 border-indigo-900/30","data-testid":"card-trending-characters-loading",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm  text-indigo-100 uppercase tracking-wider",children:"Trending Characters"})}),s.jsx(Pe,{className:"space-y-2",children:[...Array(6)].map((a,o)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vs,{className:"h-14 w-14 rounded-md"}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx(Vs,{className:"h-4 w-32"}),s.jsx(Vs,{className:"h-3 w-20"})]}),s.jsx(Vs,{className:"h-4 w-16"})]},o))})]});const i=a=>a?`$${parseFloat(a).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"—",r=a=>{if(!a)return null;const o=parseFloat(a);return{value:o,formatted:`${o>0?"+":""}${o.toFixed(2)}%`,isPositive:o>=0}};return s.jsxs(Se,{className:"bg-black/40 border-indigo-900/30 backdrop-blur-sm","data-testid":"card-trending-characters",children:[s.jsx(Be,{className:"pb-3 border-b border-indigo-900/30",children:s.jsxs(Ze,{className:"text-sm  text-indigo-100 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(zS,{className:"h-4 w-4"}),"Trending Characters"]})}),s.jsx(Pe,{className:"pt-4",children:s.jsx("div",{className:"space-y-3",children:e&&e.length>0?e.slice(0,8).map(a=>{const o=r(a.percentChange);return s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-md hover-elevate active-elevate-2 cursor-pointer","data-testid":`character-item-${a.symbol}`,children:[a.imageUrl?s.jsx("img",{src:a.imageUrl,alt:a.name,className:"h-14 w-14 rounded-md object-contain border border-indigo-900/30","data-testid":`img-character-${a.symbol}`}):s.jsx("div",{className:"h-14 w-14 rounded-md bg-gradient-to-br from-indigo-900/50 to-purple-900/50 flex items-center justify-center border border-indigo-900/30","data-testid":`avatar-fallback-${a.symbol}`,children:s.jsx(zS,{className:"h-7 w-7 text-indigo-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:" text-sm text-indigo-50 truncate","data-testid":`text-name-${a.symbol}`,children:a.name}),s.jsx("div",{className:"text-xs text-indigo-400 font-mono","data-testid":`text-symbol-${a.symbol}`,children:a.symbol})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm  text-indigo-100 font-mono","data-testid":`text-price-${a.symbol}`,children:i(a.price)}),o&&s.jsxs("div",{className:`flex items-center justify-end gap-1 text-xs font-mono ${o.isPositive?"text-green-400":"text-red-400"}`,"data-testid":`text-change-${a.symbol}`,children:[o.isPositive?s.jsx(ns,{className:"h-3 w-3"}):s.jsx(vi,{className:"h-3 w-3"}),o.formatted]})]})]},a.id)}):s.jsxs("div",{className:"text-center py-8 text-indigo-400/70","data-testid":"empty-state-characters",children:[s.jsx(zS,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No trending characters available"})]})})})]})}function kme(){const e=V.useRef(null),[t,i]=V.useState(0),{data:r,isLoading:a}=yt({queryKey:["/api/creators/spotlight"],refetchInterval:3e4});V.useEffect(()=>{const x=()=>{e.current&&i(e.current.scrollTop)},w=e.current;if(w)return w.addEventListener("scroll",x),()=>w.removeEventListener("scroll",x)},[]);const o=x=>x?x.role?x.role:x.roles&&Array.isArray(x.roles)?x.roles.join(", "):"Writer/Artist":"Creator",u=x=>x?x.notableWorks&&Array.isArray(x.notableWorks)?x.notableWorks.slice(0,3):x.notable_works?x.notable_works.slice(0,3):[]:[],m=x=>x&&(x.coverUrl||x.cover_url||x.iconicCoverUrl)||null;return a?s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-creator-spotlight-loading",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"relative p-4 border-b border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(ef,{className:"h-4 w-4"}),"Creator Showcase"]})}),s.jsx("div",{className:"relative p-6 space-y-4",children:[...Array(3)].map((x,w)=>s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Vs,{className:"h-32 w-24 rounded-md flex-shrink-0"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Vs,{className:"h-5 w-3/4"}),s.jsx(Vs,{className:"h-3 w-1/2"}),s.jsx(Vs,{className:"h-3 w-full"})]})]},w))})]}):!r||r.length===0?s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-creator-spotlight-empty",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"relative p-4 border-b border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(ef,{className:"h-4 w-4"}),"Creator Showcase"]})}),s.jsxs("div",{className:"relative p-12 flex flex-col items-center justify-center text-center",children:[s.jsx(ef,{className:"h-12 w-12 text-indigo-500/30 mb-4"}),s.jsx("p",{className:"text-indigo-300/60 text-sm font-light",children:"No creators in spotlight"})]})]}):s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-creator-showcase",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsxs("div",{className:"relative p-4 border-b border-indigo-900/30",children:[s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(ef,{className:"h-4 w-4"}),"Creator Showcase"]}),s.jsx("p",{className:"text-xs text-indigo-400/70 font-light mt-1",children:"Legendary Writers & Artists"})]}),s.jsx("div",{ref:e,className:"relative max-h-[600px] overflow-y-auto",children:s.jsx("div",{className:"p-6 space-y-6",children:r.slice(0,4).map((x,w)=>{var te;const A=o(x.metadata),E=u(x.metadata),O=m(x.metadata),G=t*.3-w*30;return s.jsxs("div",{className:"relative hover-elevate active-elevate-2 rounded-md overflow-hidden","data-testid":`creator-${w}`,children:[O&&s.jsx("div",{className:"absolute inset-0 opacity-15 pointer-events-none",style:{transform:`translateY(${G}px)`,transition:"transform 0.1s ease-out"},children:s.jsx("img",{src:O,alt:"",className:"w-full h-full object-contain scale-110 blur-sm"})}),s.jsxs("div",{className:"relative flex gap-4 p-4 bg-gradient-to-r from-[#1A1F2E]/95 to-[#252B3C]/90",children:[s.jsx("div",{className:"flex-shrink-0 relative z-10",children:x.imageUrl||O?s.jsx("img",{src:x.imageUrl||O,alt:x.name,className:"w-24 h-32 rounded-md object-contain border border-indigo-800/30 bg-black/50",style:{padding:"1px",boxSizing:"border-box"},"data-testid":`img-creator-${w}`}):s.jsx("div",{className:"w-24 h-32 rounded-md bg-indigo-950/30 border border-indigo-800/30 flex items-center justify-center",children:s.jsx(ef,{className:"h-10 w-10 text-indigo-500/30"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg text-indigo-100 mb-1","data-testid":`text-name-${w}`,children:x.name}),s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(xn,{className:"h-3 w-3 text-indigo-400/70"}),s.jsx("p",{className:"text-sm text-indigo-400 font-light",children:A})]})]}),x.price&&s.jsxs(st,{variant:"outline",className:"bg-indigo-950/30 border-indigo-800/30 text-indigo-300 text-xs","data-testid":`badge-price-${w}`,children:["$",x.price.toFixed(2)]})]}),E.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-indigo-400 uppercase tracking-wide mb-2 font-light",children:"Iconic Works"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:E.map((Q,J)=>s.jsx(st,{variant:"outline",className:"text-xs bg-purple-950/30 border-purple-800/30 text-purple-300","data-testid":`badge-work-${w}-${J}`,children:Q},J))})]}),x.description&&s.jsx("p",{className:"text-sm text-indigo-300/80 leading-relaxed font-light line-clamp-2",children:x.description}),x.volume!==null&&s.jsx("div",{className:"mt-3 pt-3 border-t border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center gap-4 text-xs text-indigo-400/70 font-light",children:[s.jsxs("span",{children:["Volume: $",((te=x.volume)==null?void 0:te.toLocaleString())||0]}),x.percentChange!==null&&s.jsxs("span",{className:x.percentChange>=0?"text-green-400":"text-red-400",children:[x.percentChange>=0?"+":"",x.percentChange.toFixed(2),"%"]})]})})]})]})]},x.id)})})})]})}function mT(e,[t,i]){return Math.min(i,Math.max(t,e))}var Sme=[" ","Enter","ArrowUp","ArrowDown"],Ame=[" ","Enter"],Rv="Select",[fj,gj,Cme]=qN(Rv),[Og,Fye]=Bn(Rv,[Cme,Mg]),xj=Mg(),[Tme,bu]=Og(Rv),[Pme,Mme]=Og(Rv),V9=e=>{const{__scopeSelect:t,children:i,open:r,defaultOpen:a,onOpenChange:o,value:u,defaultValue:m,onValueChange:x,dir:w,name:A,autoComplete:E,disabled:O,required:G,form:te}=e,Q=xj(t),[J,H]=V.useState(null),[W,Z]=V.useState(null),[pe,me]=V.useState(!1),we=Cg(w),[_e=!1,de]=Lc({prop:r,defaultProp:a,onChange:o}),[Ae,We]=Lc({prop:u,defaultProp:m,onChange:x}),tt=V.useRef(null),Xe=J?te||!!J.closest("form"):!0,[lt,Qe]=V.useState(new Set),wt=Array.from(lt).map(ot=>ot.props.value).join(";");return s.jsx(nM,{...Q,children:s.jsxs(Tme,{required:G,scope:t,trigger:J,onTriggerChange:H,valueNode:W,onValueNodeChange:Z,valueNodeHasChildren:pe,onValueNodeHasChildrenChange:me,contentId:Ro(),value:Ae,onValueChange:We,open:_e,onOpenChange:de,dir:we,triggerPointerDownPosRef:tt,disabled:O,children:[s.jsx(fj.Provider,{scope:t,children:s.jsx(Pme,{scope:e.__scopeSelect,onNativeOptionAdd:V.useCallback(ot=>{Qe(Tt=>new Set(Tt).add(ot))},[]),onNativeOptionRemove:V.useCallback(ot=>{Qe(Tt=>{const ve=new Set(Tt);return ve.delete(ot),ve})},[]),children:i})}),Xe?s.jsxs(mG,{"aria-hidden":!0,required:G,tabIndex:-1,name:A,autoComplete:E,value:Ae,onChange:ot=>We(ot.target.value),disabled:O,form:te,children:[Ae===void 0?s.jsx("option",{value:""}):null,Array.from(lt)]},wt):null]})})};V9.displayName=Rv;var $9="SelectTrigger",U9=V.forwardRef((e,t)=>{const{__scopeSelect:i,disabled:r=!1,...a}=e,o=xj(i),u=bu($9,i),m=u.disabled||r,x=Os(t,u.onTriggerChange),w=gj(i),A=V.useRef("touch"),[E,O,G]=fG(Q=>{const J=w().filter(Z=>!Z.disabled),H=J.find(Z=>Z.value===u.value),W=gG(J,Q,H);W!==void 0&&u.onValueChange(W.value)}),te=Q=>{m||(u.onOpenChange(!0),G()),Q&&(u.triggerPointerDownPosRef.current={x:Math.round(Q.pageX),y:Math.round(Q.pageY)})};return s.jsx(aM,{asChild:!0,...o,children:s.jsx(as.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:m,"data-disabled":m?"":void 0,"data-placeholder":pG(u.value)?"":void 0,...a,ref:x,onClick:Mt(a.onClick,Q=>{Q.currentTarget.focus(),A.current!=="mouse"&&te(Q)}),onPointerDown:Mt(a.onPointerDown,Q=>{A.current=Q.pointerType;const J=Q.target;J.hasPointerCapture(Q.pointerId)&&J.releasePointerCapture(Q.pointerId),Q.button===0&&Q.ctrlKey===!1&&Q.pointerType==="mouse"&&(te(Q),Q.preventDefault())}),onKeyDown:Mt(a.onKeyDown,Q=>{const J=E.current!=="";!(Q.ctrlKey||Q.altKey||Q.metaKey)&&Q.key.length===1&&O(Q.key),!(J&&Q.key===" ")&&Sme.includes(Q.key)&&(te(),Q.preventDefault())})})})});U9.displayName=$9;var G9="SelectValue",q9=V.forwardRef((e,t)=>{const{__scopeSelect:i,className:r,style:a,children:o,placeholder:u="",...m}=e,x=bu(G9,i),{onValueNodeHasChildrenChange:w}=x,A=o!==void 0,E=Os(t,x.onValueNodeChange);return br(()=>{w(A)},[w,A]),s.jsx(as.span,{...m,ref:E,style:{pointerEvents:"none"},children:pG(x.value)?s.jsx(s.Fragment,{children:u}):o})});q9.displayName=G9;var Eme="SelectIcon",K9=V.forwardRef((e,t)=>{const{__scopeSelect:i,children:r,...a}=e;return s.jsx(as.span,{"aria-hidden":!0,...a,ref:t,children:r||"▼"})});K9.displayName=Eme;var Ime="SelectPortal",Y9=e=>s.jsx(gv,{asChild:!0,...e});Y9.displayName=Ime;var ip="SelectContent",X9=V.forwardRef((e,t)=>{const i=bu(ip,e.__scopeSelect),[r,a]=V.useState();if(br(()=>{a(new DocumentFragment)},[]),!i.open){const o=r;return o?lp.createPortal(s.jsx(Z9,{scope:e.__scopeSelect,children:s.jsx(fj.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),o):null}return s.jsx(Q9,{...e,ref:t})});X9.displayName=ip;var ko=10,[Z9,wu]=Og(ip),Lme="SelectContentImpl",Ome=Qh("SelectContent.RemoveScroll"),Q9=V.forwardRef((e,t)=>{const{__scopeSelect:i,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:u,side:m,sideOffset:x,align:w,alignOffset:A,arrowPadding:E,collisionBoundary:O,collisionPadding:G,sticky:te,hideWhenDetached:Q,avoidCollisions:J,...H}=e,W=bu(ip,i),[Z,pe]=V.useState(null),[me,we]=V.useState(null),_e=Os(t,ct=>pe(ct)),[de,Ae]=V.useState(null),[We,tt]=V.useState(null),Xe=gj(i),[lt,Qe]=V.useState(!1),wt=V.useRef(!1);V.useEffect(()=>{if(Z)return uM(Z)},[Z]),YP();const ot=V.useCallback(ct=>{const[Ut,...qt]=Xe().map(ys=>ys.ref.current),[es]=qt.slice(-1),fs=document.activeElement;for(const ys of ct)if(ys===fs||(ys==null||ys.scrollIntoView({block:"nearest"}),ys===Ut&&me&&(me.scrollTop=0),ys===es&&me&&(me.scrollTop=me.scrollHeight),ys==null||ys.focus(),document.activeElement!==fs))return},[Xe,me]),Tt=V.useCallback(()=>ot([de,Z]),[ot,de,Z]);V.useEffect(()=>{lt&&Tt()},[lt,Tt]);const{onOpenChange:ve,triggerPointerDownPosRef:Je}=W;V.useEffect(()=>{if(Z){let ct={x:0,y:0};const Ut=es=>{var fs,ys;ct={x:Math.abs(Math.round(es.pageX)-(((fs=Je.current)==null?void 0:fs.x)??0)),y:Math.abs(Math.round(es.pageY)-(((ys=Je.current)==null?void 0:ys.y)??0))}},qt=es=>{ct.x<=10&&ct.y<=10?es.preventDefault():Z.contains(es.target)||ve(!1),document.removeEventListener("pointermove",Ut),Je.current=null};return Je.current!==null&&(document.addEventListener("pointermove",Ut),document.addEventListener("pointerup",qt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ut),document.removeEventListener("pointerup",qt,{capture:!0})}}},[Z,ve,Je]),V.useEffect(()=>{const ct=()=>ve(!1);return window.addEventListener("blur",ct),window.addEventListener("resize",ct),()=>{window.removeEventListener("blur",ct),window.removeEventListener("resize",ct)}},[ve]);const[mt,Rt]=fG(ct=>{const Ut=Xe().filter(fs=>!fs.disabled),qt=Ut.find(fs=>fs.ref.current===document.activeElement),es=gG(Ut,ct,qt);es&&setTimeout(()=>es.ref.current.focus())}),ts=V.useCallback((ct,Ut,qt)=>{const es=!wt.current&&!qt;(W.value!==void 0&&W.value===Ut||es)&&(Ae(ct),es&&(wt.current=!0))},[W.value]),pt=V.useCallback(()=>Z==null?void 0:Z.focus(),[Z]),Lt=V.useCallback((ct,Ut,qt)=>{const es=!wt.current&&!qt;(W.value!==void 0&&W.value===Ut||es)&&tt(ct)},[W.value]),Jt=r==="popper"?fT:J9,Bt=Jt===fT?{side:m,sideOffset:x,align:w,alignOffset:A,arrowPadding:E,collisionBoundary:O,collisionPadding:G,sticky:te,hideWhenDetached:Q,avoidCollisions:J}:{};return s.jsx(Z9,{scope:i,content:Z,viewport:me,onViewportChange:we,itemRefCallback:ts,selectedItem:de,onItemLeave:pt,itemTextRefCallback:Lt,focusSelectedItem:Tt,selectedItemText:We,position:r,isPositioned:lt,searchRef:mt,children:s.jsx(rj,{as:Ome,allowPinchZoom:!0,children:s.jsx(QN,{asChild:!0,trapped:W.open,onMountAutoFocus:ct=>{ct.preventDefault()},onUnmountAutoFocus:Mt(a,ct=>{var Ut;(Ut=W.trigger)==null||Ut.focus({preventScroll:!0}),ct.preventDefault()}),children:s.jsx(kg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:ct=>ct.preventDefault(),onDismiss:()=>W.onOpenChange(!1),children:s.jsx(Jt,{role:"listbox",id:W.contentId,"data-state":W.open?"open":"closed",dir:W.dir,onContextMenu:ct=>ct.preventDefault(),...H,...Bt,onPlaced:()=>Qe(!0),ref:_e,style:{display:"flex",flexDirection:"column",outline:"none",...H.style},onKeyDown:Mt(H.onKeyDown,ct=>{const Ut=ct.ctrlKey||ct.altKey||ct.metaKey;if(ct.key==="Tab"&&ct.preventDefault(),!Ut&&ct.key.length===1&&Rt(ct.key),["ArrowUp","ArrowDown","Home","End"].includes(ct.key)){let es=Xe().filter(fs=>!fs.disabled).map(fs=>fs.ref.current);if(["ArrowUp","End"].includes(ct.key)&&(es=es.slice().reverse()),["ArrowUp","ArrowDown"].includes(ct.key)){const fs=ct.target,ys=es.indexOf(fs);es=es.slice(ys+1)}setTimeout(()=>ot(es)),ct.preventDefault()}})})})})})})});Q9.displayName=Lme;var Dme="SelectItemAlignedPosition",J9=V.forwardRef((e,t)=>{const{__scopeSelect:i,onPlaced:r,...a}=e,o=bu(ip,i),u=wu(ip,i),[m,x]=V.useState(null),[w,A]=V.useState(null),E=Os(t,_e=>A(_e)),O=gj(i),G=V.useRef(!1),te=V.useRef(!0),{viewport:Q,selectedItem:J,selectedItemText:H,focusSelectedItem:W}=u,Z=V.useCallback(()=>{if(o.trigger&&o.valueNode&&m&&w&&Q&&J&&H){const _e=o.trigger.getBoundingClientRect(),de=w.getBoundingClientRect(),Ae=o.valueNode.getBoundingClientRect(),We=H.getBoundingClientRect();if(o.dir!=="rtl"){const fs=We.left-de.left,ys=Ae.left-fs,ft=_e.left-ys,Ks=_e.width+ft,Xi=Math.max(Ks,de.width),wr=window.innerWidth-ko,Ir=mT(ys,[ko,Math.max(ko,wr-Xi)]);m.style.minWidth=Ks+"px",m.style.left=Ir+"px"}else{const fs=de.right-We.right,ys=window.innerWidth-Ae.right-fs,ft=window.innerWidth-_e.right-ys,Ks=_e.width+ft,Xi=Math.max(Ks,de.width),wr=window.innerWidth-ko,Ir=mT(ys,[ko,Math.max(ko,wr-Xi)]);m.style.minWidth=Ks+"px",m.style.right=Ir+"px"}const tt=O(),Xe=window.innerHeight-ko*2,lt=Q.scrollHeight,Qe=window.getComputedStyle(w),wt=parseInt(Qe.borderTopWidth,10),ot=parseInt(Qe.paddingTop,10),Tt=parseInt(Qe.borderBottomWidth,10),ve=parseInt(Qe.paddingBottom,10),Je=wt+ot+lt+ve+Tt,mt=Math.min(J.offsetHeight*5,Je),Rt=window.getComputedStyle(Q),ts=parseInt(Rt.paddingTop,10),pt=parseInt(Rt.paddingBottom,10),Lt=_e.top+_e.height/2-ko,Jt=Xe-Lt,Bt=J.offsetHeight/2,ct=J.offsetTop+Bt,Ut=wt+ot+ct,qt=Je-Ut;if(Ut<=Lt){const fs=tt.length>0&&J===tt[tt.length-1].ref.current;m.style.bottom="0px";const ys=w.clientHeight-Q.offsetTop-Q.offsetHeight,ft=Math.max(Jt,Bt+(fs?pt:0)+ys+Tt),Ks=Ut+ft;m.style.height=Ks+"px"}else{const fs=tt.length>0&&J===tt[0].ref.current;m.style.top="0px";const ft=Math.max(Lt,wt+Q.offsetTop+(fs?ts:0)+Bt)+qt;m.style.height=ft+"px",Q.scrollTop=Ut-Lt+Q.offsetTop}m.style.margin=`${ko}px 0`,m.style.minHeight=mt+"px",m.style.maxHeight=Xe+"px",r==null||r(),requestAnimationFrame(()=>G.current=!0)}},[O,o.trigger,o.valueNode,m,w,Q,J,H,o.dir,r]);br(()=>Z(),[Z]);const[pe,me]=V.useState();br(()=>{w&&me(window.getComputedStyle(w).zIndex)},[w]);const we=V.useCallback(_e=>{_e&&te.current===!0&&(Z(),W==null||W(),te.current=!1)},[Z,W]);return s.jsx(Fme,{scope:i,contentWrapper:m,shouldExpandOnScrollRef:G,onScrollButtonChange:we,children:s.jsx("div",{ref:x,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:pe},children:s.jsx(as.div,{...a,ref:E,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});J9.displayName=Dme;var Rme="SelectPopperPosition",fT=V.forwardRef((e,t)=>{const{__scopeSelect:i,align:r="start",collisionPadding:a=ko,...o}=e,u=xj(i);return s.jsx(oM,{...u,...o,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fT.displayName=Rme;var[Fme,xE]=Og(ip,{}),gT="SelectViewport",eG=V.forwardRef((e,t)=>{const{__scopeSelect:i,nonce:r,...a}=e,o=wu(gT,i),u=xE(gT,i),m=Os(t,o.onViewportChange),x=V.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(fj.Slot,{scope:i,children:s.jsx(as.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:m,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Mt(a.onScroll,w=>{const A=w.currentTarget,{contentWrapper:E,shouldExpandOnScrollRef:O}=u;if(O!=null&&O.current&&E){const G=Math.abs(x.current-A.scrollTop);if(G>0){const te=window.innerHeight-ko*2,Q=parseFloat(E.style.minHeight),J=parseFloat(E.style.height),H=Math.max(Q,J);if(H<te){const W=H+G,Z=Math.min(te,W),pe=W-Z;E.style.height=Z+"px",E.style.bottom==="0px"&&(A.scrollTop=pe>0?pe:0,E.style.justifyContent="flex-end")}}}x.current=A.scrollTop})})})]})});eG.displayName=gT;var tG="SelectGroup",[zme,Bme]=Og(tG),Wme=V.forwardRef((e,t)=>{const{__scopeSelect:i,...r}=e,a=Ro();return s.jsx(zme,{scope:i,id:a,children:s.jsx(as.div,{role:"group","aria-labelledby":a,...r,ref:t})})});Wme.displayName=tG;var sG="SelectLabel",iG=V.forwardRef((e,t)=>{const{__scopeSelect:i,...r}=e,a=Bme(sG,i);return s.jsx(as.div,{id:a.id,...r,ref:t})});iG.displayName=sG;var gN="SelectItem",[Hme,rG]=Og(gN),nG=V.forwardRef((e,t)=>{const{__scopeSelect:i,value:r,disabled:a=!1,textValue:o,...u}=e,m=bu(gN,i),x=wu(gN,i),w=m.value===r,[A,E]=V.useState(o??""),[O,G]=V.useState(!1),te=Os(t,W=>{var Z;return(Z=x.itemRefCallback)==null?void 0:Z.call(x,W,r,a)}),Q=Ro(),J=V.useRef("touch"),H=()=>{a||(m.onValueChange(r),m.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Hme,{scope:i,value:r,disabled:a,textId:Q,isSelected:w,onItemTextChange:V.useCallback(W=>{E(Z=>Z||((W==null?void 0:W.textContent)??"").trim())},[]),children:s.jsx(fj.ItemSlot,{scope:i,value:r,disabled:a,textValue:A,children:s.jsx(as.div,{role:"option","aria-labelledby":Q,"data-highlighted":O?"":void 0,"aria-selected":w&&O,"data-state":w?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...u,ref:te,onFocus:Mt(u.onFocus,()=>G(!0)),onBlur:Mt(u.onBlur,()=>G(!1)),onClick:Mt(u.onClick,()=>{J.current!=="mouse"&&H()}),onPointerUp:Mt(u.onPointerUp,()=>{J.current==="mouse"&&H()}),onPointerDown:Mt(u.onPointerDown,W=>{J.current=W.pointerType}),onPointerMove:Mt(u.onPointerMove,W=>{var Z;J.current=W.pointerType,a?(Z=x.onItemLeave)==null||Z.call(x):J.current==="mouse"&&W.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Mt(u.onPointerLeave,W=>{var Z;W.currentTarget===document.activeElement&&((Z=x.onItemLeave)==null||Z.call(x))}),onKeyDown:Mt(u.onKeyDown,W=>{var pe;((pe=x.searchRef)==null?void 0:pe.current)!==""&&W.key===" "||(Ame.includes(W.key)&&H(),W.key===" "&&W.preventDefault())})})})})});nG.displayName=gN;var K0="SelectItemText",aG=V.forwardRef((e,t)=>{const{__scopeSelect:i,className:r,style:a,...o}=e,u=bu(K0,i),m=wu(K0,i),x=rG(K0,i),w=Mme(K0,i),[A,E]=V.useState(null),O=Os(t,H=>E(H),x.onItemTextChange,H=>{var W;return(W=m.itemTextRefCallback)==null?void 0:W.call(m,H,x.value,x.disabled)}),G=A==null?void 0:A.textContent,te=V.useMemo(()=>s.jsx("option",{value:x.value,disabled:x.disabled,children:G},x.value),[x.disabled,x.value,G]),{onNativeOptionAdd:Q,onNativeOptionRemove:J}=w;return br(()=>(Q(te),()=>J(te)),[Q,J,te]),s.jsxs(s.Fragment,{children:[s.jsx(as.span,{id:x.textId,...o,ref:O}),x.isSelected&&u.valueNode&&!u.valueNodeHasChildren?lp.createPortal(o.children,u.valueNode):null]})});aG.displayName=K0;var oG="SelectItemIndicator",lG=V.forwardRef((e,t)=>{const{__scopeSelect:i,...r}=e;return rG(oG,i).isSelected?s.jsx(as.span,{"aria-hidden":!0,...r,ref:t}):null});lG.displayName=oG;var xT="SelectScrollUpButton",cG=V.forwardRef((e,t)=>{const i=wu(xT,e.__scopeSelect),r=xE(xT,e.__scopeSelect),[a,o]=V.useState(!1),u=Os(t,r.onScrollButtonChange);return br(()=>{if(i.viewport&&i.isPositioned){let m=function(){const w=x.scrollTop>0;o(w)};const x=i.viewport;return m(),x.addEventListener("scroll",m),()=>x.removeEventListener("scroll",m)}},[i.viewport,i.isPositioned]),a?s.jsx(uG,{...e,ref:u,onAutoScroll:()=>{const{viewport:m,selectedItem:x}=i;m&&x&&(m.scrollTop=m.scrollTop-x.offsetHeight)}}):null});cG.displayName=xT;var yT="SelectScrollDownButton",dG=V.forwardRef((e,t)=>{const i=wu(yT,e.__scopeSelect),r=xE(yT,e.__scopeSelect),[a,o]=V.useState(!1),u=Os(t,r.onScrollButtonChange);return br(()=>{if(i.viewport&&i.isPositioned){let m=function(){const w=x.scrollHeight-x.clientHeight,A=Math.ceil(x.scrollTop)<w;o(A)};const x=i.viewport;return m(),x.addEventListener("scroll",m),()=>x.removeEventListener("scroll",m)}},[i.viewport,i.isPositioned]),a?s.jsx(uG,{...e,ref:u,onAutoScroll:()=>{const{viewport:m,selectedItem:x}=i;m&&x&&(m.scrollTop=m.scrollTop+x.offsetHeight)}}):null});dG.displayName=yT;var uG=V.forwardRef((e,t)=>{const{__scopeSelect:i,onAutoScroll:r,...a}=e,o=wu("SelectScrollButton",i),u=V.useRef(null),m=gj(i),x=V.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return V.useEffect(()=>()=>x(),[x]),br(()=>{var A;const w=m().find(E=>E.ref.current===document.activeElement);(A=w==null?void 0:w.ref.current)==null||A.scrollIntoView({block:"nearest"})},[m]),s.jsx(as.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Mt(a.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:Mt(a.onPointerMove,()=>{var w;(w=o.onItemLeave)==null||w.call(o),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:Mt(a.onPointerLeave,()=>{x()})})}),Vme="SelectSeparator",hG=V.forwardRef((e,t)=>{const{__scopeSelect:i,...r}=e;return s.jsx(as.div,{"aria-hidden":!0,...r,ref:t})});hG.displayName=Vme;var vT="SelectArrow",$me=V.forwardRef((e,t)=>{const{__scopeSelect:i,...r}=e,a=xj(i),o=bu(vT,i),u=wu(vT,i);return o.open&&u.position==="popper"?s.jsx(lM,{...a,...r,ref:t}):null});$me.displayName=vT;function pG(e){return e===""||e===void 0}var mG=V.forwardRef((e,t)=>{const{value:i,...r}=e,a=V.useRef(null),o=Os(t,a),u=mH(i);return V.useEffect(()=>{const m=a.current,x=window.HTMLSelectElement.prototype,A=Object.getOwnPropertyDescriptor(x,"value").set;if(u!==i&&A){const E=new Event("change",{bubbles:!0});A.call(m,i),m.dispatchEvent(E)}},[u,i]),s.jsx(xv,{asChild:!0,children:s.jsx("select",{...r,ref:o,defaultValue:i})})});mG.displayName="BubbleSelect";function fG(e){const t=Ri(e),i=V.useRef(""),r=V.useRef(0),a=V.useCallback(u=>{const m=i.current+u;t(m),function x(w){i.current=w,window.clearTimeout(r.current),w!==""&&(r.current=window.setTimeout(()=>x(""),1e3))}(m)},[t]),o=V.useCallback(()=>{i.current="",window.clearTimeout(r.current)},[]);return V.useEffect(()=>()=>window.clearTimeout(r.current),[]),[i,a,o]}function gG(e,t,i){const a=t.length>1&&Array.from(t).every(w=>w===t[0])?t[0]:t,o=i?e.indexOf(i):-1;let u=Ume(e,Math.max(o,0));a.length===1&&(u=u.filter(w=>w!==i));const x=u.find(w=>w.textValue.toLowerCase().startsWith(a.toLowerCase()));return x!==i?x:void 0}function Ume(e,t){return e.map((i,r)=>e[(t+r)%e.length])}var Gme=V9,xG=U9,qme=q9,Kme=K9,Yme=Y9,yG=X9,Xme=eG,vG=iG,bG=nG,Zme=aG,Qme=lG,wG=cG,_G=dG,NG=hG;const Hc=Gme,Vc=qme,Dl=V.forwardRef(({className:e,children:t,...i},r)=>s.jsxs(xG,{ref:r,className:Ot("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...i,children:[t,s.jsx(Kme,{asChild:!0,children:s.jsx(hW,{className:"h-4 w-4 opacity-50"})})]}));Dl.displayName=xG.displayName;const jG=V.forwardRef(({className:e,...t},i)=>s.jsx(wG,{ref:i,className:Ot("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx($J,{className:"h-4 w-4"})}));jG.displayName=wG.displayName;const kG=V.forwardRef(({className:e,...t},i)=>s.jsx(_G,{ref:i,className:Ot("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(hW,{className:"h-4 w-4"})}));kG.displayName=_G.displayName;const Rl=V.forwardRef(({className:e,children:t,position:i="popper",...r},a)=>s.jsx(Yme,{children:s.jsxs(yG,{ref:a,className:Ot("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",i==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:i,...r,children:[s.jsx(jG,{}),s.jsx(Xme,{className:Ot("p-1",i==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(kG,{})]})}));Rl.displayName=yG.displayName;const Jme=V.forwardRef(({className:e,...t},i)=>s.jsx(vG,{ref:i,className:Ot("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Jme.displayName=vG.displayName;const Si=V.forwardRef(({className:e,children:t,...i},r)=>s.jsxs(bG,{ref:r,className:Ot("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...i,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Qme,{children:s.jsx(uW,{className:"h-4 w-4"})})}),s.jsx(Zme,{children:t})]}));Si.displayName=bG.displayName;const efe=V.forwardRef(({className:e,...t},i)=>s.jsx(NG,{ref:i,className:Ot("-mx-1 my-1 h-px bg-muted",e),...t}));efe.displayName=NG.displayName;function tfe(){const[e,t]=V.useState("SPIDEY"),[i,r]=V.useState("2025-01-17"),{data:a,isLoading:o}=yt({queryKey:["/api/options/chain",e,i],refetchInterval:1e4}),u=[{strike:95,callBid:8.2,callAsk:8.4,callVolume:1250,callOI:5420,callDelta:.78,callGamma:.032,callTheta:-.15,callVega:.21,putBid:.85,putAsk:.95,putVolume:890,putOI:3210,putDelta:-.22,putGamma:.032,putTheta:-.08,putVega:.21},{strike:100,callBid:5.1,callAsk:5.3,callVolume:2340,callOI:8900,callDelta:.56,callGamma:.045,callTheta:-.18,callVega:.28,putBid:2.1,putAsk:2.25,putVolume:1980,putOI:6540,putDelta:-.44,putGamma:.045,putTheta:-.12,putVega:.28},{strike:105,callBid:2.8,callAsk:2.95,callVolume:1890,callOI:7200,callDelta:.35,callGamma:.048,callTheta:-.19,callVega:.32,putBid:4.9,putAsk:5.1,putVolume:1560,putOI:5800,putDelta:-.65,putGamma:.048,putTheta:-.14,putVega:.32},{strike:110,callBid:1.25,callAsk:1.4,callVolume:980,callOI:4300,callDelta:.18,callGamma:.038,callTheta:-.16,callVega:.26,putBid:8.3,putAsk:8.55,putVolume:750,putOI:3900,putDelta:-.82,putGamma:.038,putTheta:-.09,putVega:.26}],m=102.45,x=E=>`$${E.toFixed(2)}`,w=E=>E.toFixed(3),A=E=>E.toLocaleString();return s.jsxs(Se,{className:"col-span-full","data-testid":"widget-options-chain",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ze,{className:"text-lg",children:"Options Chain"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Live Greeks • Calls & Puts"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Asset:"}),s.jsxs(Hc,{value:e,onValueChange:t,children:[s.jsx(Dl,{className:"w-32",children:s.jsx(Vc,{})}),s.jsxs(Rl,{children:[s.jsx(Si,{value:"SPIDEY",children:"SPIDEY"}),s.jsx(Si,{value:"BATS",children:"BATS"}),s.jsx(Si,{value:"IRONM",children:"IRONM"}),s.jsx(Si,{value:"WWOND",children:"WWOND"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Expiry:"}),s.jsxs(Hc,{value:i,onValueChange:r,children:[s.jsx(Dl,{className:"w-36",children:s.jsx(Vc,{})}),s.jsxs(Rl,{children:[s.jsx(Si,{value:"2025-01-17",children:"Jan 17, 2025"}),s.jsx(Si,{value:"2025-02-21",children:"Feb 21, 2025"}),s.jsx(Si,{value:"2025-03-21",children:"Mar 21, 2025"}),s.jsx(Si,{value:"2025-06-20",children:"Jun 20, 2025"})]})]})]}),s.jsxs(st,{variant:"outline",className:"ml-2",children:["Spot: ",x(m)]})]})]})}),s.jsxs(Pe,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsxs("thead",{children:[s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{colSpan:5,className:"text-center py-2 text-green-500 ",children:"CALLS"}),s.jsx("th",{className:"py-2 px-3 text-center  bg-muted/30",children:"STRIKE"}),s.jsx("th",{colSpan:5,className:"text-center py-2 text-red-500 ",children:"PUTS"})]}),s.jsxs("tr",{className:"border-b text-xs text-muted-foreground",children:[s.jsx("th",{className:"text-right py-2 px-2",children:"Bid"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Ask"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Vol"}),s.jsx("th",{className:"text-right py-2 px-2",children:"OI"}),s.jsx("th",{className:"text-right py-2 px-2",children:"Greeks"}),s.jsx("th",{className:"text-center py-2 px-3 bg-muted/30",children:"Price"}),s.jsx("th",{className:"text-left py-2 px-2",children:"Greeks"}),s.jsx("th",{className:"text-left py-2 px-2",children:"OI"}),s.jsx("th",{className:"text-left py-2 px-2",children:"Vol"}),s.jsx("th",{className:"text-left py-2 px-2",children:"Ask"}),s.jsx("th",{className:"text-left py-2 px-2",children:"Bid"})]})]}),s.jsx("tbody",{children:o?s.jsx("tr",{children:s.jsx("td",{colSpan:11,className:"text-center py-8 text-muted-foreground",children:"Loading options chain..."})}):u.map((E,O)=>{const G=m>E.strike,te=m<E.strike,Q=Math.abs(m-E.strike)<3;return s.jsxs("tr",{className:`border-b hover-elevate transition-colors ${Q?"bg-indigo-500/5":""}`,children:[s.jsx("td",{className:`text-right py-2 px-2 ${G?"text-green-400":"text-muted-foreground"}`,children:x(E.callBid)}),s.jsx("td",{className:`text-right py-2 px-2 ${G?"text-green-400":"text-muted-foreground"}`,children:x(E.callAsk)}),s.jsx("td",{className:`text-right py-2 px-2 text-xs ${G?"text-green-400/70":"text-muted-foreground"}`,children:A(E.callVolume)}),s.jsx("td",{className:`text-right py-2 px-2 text-xs ${G?"text-green-400/70":"text-muted-foreground"}`,children:A(E.callOI)}),s.jsx("td",{className:"text-right py-2 px-2",children:s.jsxs("div",{className:"flex flex-col text-xs space-y-0.5",children:[s.jsxs("span",{className:G?"text-green-400":"text-muted-foreground",children:["Δ ",w(E.callDelta)," | Γ ",w(E.callGamma)]}),s.jsxs("span",{className:"text-muted-foreground/70",children:["Θ ",w(E.callTheta)," | V ",w(E.callVega)]})]})}),s.jsx("td",{className:`text-center py-2 px-3  bg-muted/30 ${Q?"text-indigo-400":"text-foreground"}`,children:x(E.strike)}),s.jsx("td",{className:"text-left py-2 px-2",children:s.jsxs("div",{className:"flex flex-col text-xs space-y-0.5",children:[s.jsxs("span",{className:te?"text-red-400":"text-muted-foreground",children:["Δ ",w(E.putDelta)," | Γ ",w(E.putGamma)]}),s.jsxs("span",{className:"text-muted-foreground/70",children:["Θ ",w(E.putTheta)," | V ",w(E.putVega)]})]})}),s.jsx("td",{className:`text-left py-2 px-2 text-xs ${te?"text-red-400/70":"text-muted-foreground"}`,children:A(E.putOI)}),s.jsx("td",{className:`text-left py-2 px-2 text-xs ${te?"text-red-400/70":"text-muted-foreground"}`,children:A(E.putVolume)}),s.jsx("td",{className:`text-left py-2 px-2 ${te?"text-red-400":"text-muted-foreground"}`,children:x(E.putAsk)}),s.jsx("td",{className:`text-left py-2 px-2 ${te?"text-red-400":"text-muted-foreground"}`,children:x(E.putBid)})]},O)})})]})}),s.jsxs("div",{className:"mt-4 pt-4 border-t flex items-center justify-between text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("span",{children:"Δ = Delta (Price Sensitivity)"}),s.jsx("span",{children:"Γ = Gamma (Delta Change)"}),s.jsx("span",{children:"Θ = Theta (Time Decay)"}),s.jsx("span",{children:"V = Vega (Volatility Sensitivity)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(st,{variant:"outline",className:"text-green-500 border-green-500/30",children:"ITM Calls"}),s.jsx(st,{variant:"outline",className:"text-red-500 border-red-500/30",children:"ITM Puts"}),s.jsx(st,{variant:"outline",className:"text-indigo-400 border-indigo-500/30",children:"ATM"})]})]})]})]})}function Jr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function sfe(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const z1=43200,w4=1440;let ife={};function rfe(){return ife}function _4(e){const t=Jr(e),i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return i.setUTCFullYear(t.getFullYear()),+e-+i}function h_(e,t){const i=Jr(e),r=Jr(t),a=i.getTime()-r.getTime();return a<0?-1:a>0?1:a}function nfe(e){return sfe(e,Date.now())}function afe(e,t){const i=Jr(e),r=Jr(t),a=i.getFullYear()-r.getFullYear(),o=i.getMonth()-r.getMonth();return a*12+o}function ofe(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function lfe(e,t){return+Jr(e)-+Jr(t)}function cfe(e){const t=Jr(e);return t.setHours(23,59,59,999),t}function dfe(e){const t=Jr(e),i=t.getMonth();return t.setFullYear(t.getFullYear(),i+1,0),t.setHours(23,59,59,999),t}function ufe(e){const t=Jr(e);return+cfe(t)==+dfe(t)}function hfe(e,t){const i=Jr(e),r=Jr(t),a=h_(i,r),o=Math.abs(afe(i,r));let u;if(o<1)u=0;else{i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-a*o);let m=h_(i,r)===-a;ufe(Jr(e))&&o===1&&h_(e,r)===1&&(m=!1),u=a*(o-Number(m))}return u===0?0:u}function pfe(e,t,i){const r=lfe(e,t)/1e3;return ofe(i==null?void 0:i.roundingMethod)(r)}const mfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ffe=(e,t,i)=>{let r;const a=mfe[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r};function gA(e){return(t={})=>{const i=t.width?String(t.width):e.defaultWidth;return e.formats[i]||e.formats[e.defaultWidth]}}const gfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yfe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vfe={date:gA({formats:gfe,defaultWidth:"full"}),time:gA({formats:xfe,defaultWidth:"full"}),dateTime:gA({formats:yfe,defaultWidth:"full"})},bfe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wfe=(e,t,i,r)=>bfe[e];function I0(e){return(t,i)=>{const r=i!=null&&i.context?String(i.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,m=i!=null&&i.width?String(i.width):u;a=e.formattingValues[m]||e.formattingValues[u]}else{const u=e.defaultWidth,m=i!=null&&i.width?String(i.width):e.defaultWidth;a=e.values[m]||e.values[u]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const _fe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Nfe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jfe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kfe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Afe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Cfe=(e,t)=>{const i=Number(e),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},Tfe={ordinalNumber:Cfe,era:I0({values:_fe,defaultWidth:"wide"}),quarter:I0({values:Nfe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:I0({values:jfe,defaultWidth:"wide"}),day:I0({values:kfe,defaultWidth:"wide"}),dayPeriod:I0({values:Sfe,defaultWidth:"wide",formattingValues:Afe,defaultFormattingWidth:"wide"})};function L0(e){return(t,i={})=>{const r=i.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const u=o[0],m=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],x=Array.isArray(m)?Mfe(m,E=>E.test(u)):Pfe(m,E=>E.test(u));let w;w=e.valueCallback?e.valueCallback(x):x,w=i.valueCallback?i.valueCallback(w):w;const A=t.slice(u.length);return{value:w,rest:A}}}function Pfe(e,t){for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return i}function Mfe(e,t){for(let i=0;i<e.length;i++)if(t(e[i]))return i}function Efe(e){return(t,i={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],o=t.match(e.parsePattern);if(!o)return null;let u=e.valueCallback?e.valueCallback(o[0]):o[0];u=i.valueCallback?i.valueCallback(u):u;const m=t.slice(a.length);return{value:u,rest:m}}}const Ife=/^(\d+)(th|st|nd|rd)?/i,Lfe=/\d+/i,Ofe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Dfe={any:[/^b/i,/^(a|c)/i]},Rfe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ffe={any:[/1/i,/2/i,/3/i,/4/i]},zfe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Bfe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wfe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hfe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vfe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$fe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ufe={ordinalNumber:Efe({matchPattern:Ife,parsePattern:Lfe,valueCallback:e=>parseInt(e,10)}),era:L0({matchPatterns:Ofe,defaultMatchWidth:"wide",parsePatterns:Dfe,defaultParseWidth:"any"}),quarter:L0({matchPatterns:Rfe,defaultMatchWidth:"wide",parsePatterns:Ffe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:L0({matchPatterns:zfe,defaultMatchWidth:"wide",parsePatterns:Bfe,defaultParseWidth:"any"}),day:L0({matchPatterns:Wfe,defaultMatchWidth:"wide",parsePatterns:Hfe,defaultParseWidth:"any"}),dayPeriod:L0({matchPatterns:Vfe,defaultMatchWidth:"any",parsePatterns:$fe,defaultParseWidth:"any"})},Gfe={code:"en-US",formatDistance:ffe,formatLong:vfe,formatRelative:wfe,localize:Tfe,match:Ufe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qfe(e,t,i){const r=rfe(),a=(i==null?void 0:i.locale)??r.locale??Gfe,o=2520,u=h_(e,t);if(isNaN(u))throw new RangeError("Invalid time value");const m=Object.assign({},i,{addSuffix:i==null?void 0:i.addSuffix,comparison:u});let x,w;u>0?(x=Jr(t),w=Jr(e)):(x=Jr(e),w=Jr(t));const A=pfe(w,x),E=(_4(w)-_4(x))/1e3,O=Math.round((A-E)/60);let G;if(O<2)return i!=null&&i.includeSeconds?A<5?a.formatDistance("lessThanXSeconds",5,m):A<10?a.formatDistance("lessThanXSeconds",10,m):A<20?a.formatDistance("lessThanXSeconds",20,m):A<40?a.formatDistance("halfAMinute",0,m):A<60?a.formatDistance("lessThanXMinutes",1,m):a.formatDistance("xMinutes",1,m):O===0?a.formatDistance("lessThanXMinutes",1,m):a.formatDistance("xMinutes",O,m);if(O<45)return a.formatDistance("xMinutes",O,m);if(O<90)return a.formatDistance("aboutXHours",1,m);if(O<w4){const te=Math.round(O/60);return a.formatDistance("aboutXHours",te,m)}else{if(O<o)return a.formatDistance("xDays",1,m);if(O<z1){const te=Math.round(O/w4);return a.formatDistance("xDays",te,m)}else if(O<z1*2)return G=Math.round(O/z1),a.formatDistance("aboutXMonths",G,m)}if(G=hfe(w,x),G<12){const te=Math.round(O/z1);return a.formatDistance("xMonths",te,m)}else{const te=G%12,Q=Math.trunc(G/12);return te<3?a.formatDistance("aboutXYears",Q,m):te<9?a.formatDistance("overXYears",Q,m):a.formatDistance("almostXYears",Q+1,m)}}function SG(e,t){return qfe(e,nfe(e),t)}function bT(){const{data:e,isLoading:t,error:i}=yt({queryKey:["/api/analytics/whale-activity"],refetchInterval:1e4}),r=a=>{switch(a){case"institutional":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"hedge_fund":return"bg-red-500/20 text-red-400 border-red-500/30";case"family_office":return"bg-blue-500/20 text-blue-400 border-blue-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return s.jsxs(Se,{className:"p-4 bg-black/40 border-indigo-900/30","data-testid":"widget-whale-tracker",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-cyan-500/20 flex items-center justify-center",children:s.jsx(KJ,{className:"w-4 h-4 text-cyan-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm  text-gray-100",children:"Whale Movement Tracker"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Large institutional position changes"})]})]})}),t?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(cp,{className:"w-6 h-6 animate-spin text-cyan-400"})}):i?s.jsx("div",{className:"flex items-center justify-center py-8 text-red-400 text-sm",children:"Failed to load whale activity"}):s.jsx("div",{className:"space-y-2",children:e==null?void 0:e.slice(0,10).map(a=>s.jsxs("div",{className:"p-3 rounded bg-black/20 border border-gray-800/50 hover-elevate","data-testid":`whale-activity-${a.id}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-mono text-cyan-400",children:a.symbol}),s.jsx(st,{variant:"secondary",className:`text-xs h-5 ${r(a.whaleCategory)}`,children:a.whaleCategory.replace(/_/g," ").toUpperCase()})]}),s.jsxs("div",{className:`flex items-center gap-1 ${a.tradeType==="buy"?"text-green-400":"text-red-400"}`,children:[a.tradeType==="buy"?s.jsx(ns,{className:"w-3 h-3"}):s.jsx(vi,{className:"w-3 h-3"}),s.jsx("span",{className:"text-xs  uppercase",children:a.tradeType})]})]}),s.jsx("p",{className:"text-xs text-gray-400 mb-2 truncate",children:a.assetName}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Volume"}),s.jsx("div",{className:"font-mono text-gray-100",children:a.volume.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Value"}),s.jsxs("div",{className:"font-mono text-gray-100",children:["$",(a.estimatedValue/1e6).toFixed(2),"M"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Impact"}),s.jsxs("div",{className:`font-mono ${a.priceImpact>=0?"text-green-400":"text-red-400"}`,children:[a.priceImpact>=0?"+":"",a.priceImpact.toFixed(2),"%"]})]})]}),s.jsx("div",{className:"mt-2 text-xs text-gray-500",children:SG(new Date(a.timestamp),{addSuffix:!0})})]},a.id))}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-800/50 flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Tracking $10M+ trades"}),s.jsxs("span",{className:"text-cyan-400 font-mono",children:[(e==null?void 0:e.length)||0," detected"]})]})]})}function Kfe(){const{data:e,isLoading:t}=yt({queryKey:["/api/institutional/order-flow"],refetchInterval:5e3}),i=o=>o>50?"bg-green-500/20 border-green-500/40":o>25?"bg-green-500/10 border-green-500/30":o>0?"bg-green-500/5 border-green-500/20":o>-25?"bg-red-500/5 border-red-500/20":o>-50?"bg-red-500/10 border-red-500/30":"bg-red-500/20 border-red-500/40",r=o=>o>0?"text-green-500":o<0?"text-red-500":"text-muted-foreground",a=o=>o>=1e6?`${(o/1e6).toFixed(1)}M`:o>=1e3?`${(o/1e3).toFixed(1)}K`:o.toString();return s.jsxs(Se,{className:"bg-black/40 border-indigo-500/20",children:[s.jsx(Be,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ze,{className:"text-sm font-mono uppercase tracking-wider text-indigo-300 flex items-center gap-2",children:[s.jsx(Ta,{className:"h-4 w-4"}),"Live Institutional Order Flow"]}),s.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:[(e==null?void 0:e.totalActivity)||0," trades • ",(e==null?void 0:e.timeWindow)||0,"s window"]})]})}),s.jsxs(Pe,{className:"space-y-1",children:[t?s.jsx("div",{className:"h-[400px] flex items-center justify-center",children:s.jsx("div",{className:"text-muted-foreground font-mono text-sm",children:"Loading order flow..."})}):e!=null&&e.data.length?s.jsxs("div",{className:"space-y-1 max-h-[400px] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-[2fr_1fr_1fr_1fr_1fr] gap-2 px-3 py-2 bg-black/60 border border-indigo-500/20 rounded font-mono text-xs text-muted-foreground sticky top-0",children:[s.jsx("div",{children:"ASSET"}),s.jsx("div",{className:"text-right",children:"PRESSURE"}),s.jsx("div",{className:"text-right",children:"NET FLOW"}),s.jsx("div",{className:"text-right",children:"BUY/SELL"}),s.jsx("div",{className:"text-right",children:"VOLUME"})]}),e.data.map(o=>s.jsxs("div",{"data-testid":`orderflow-${o.symbol}`,className:`grid grid-cols-[2fr_1fr_1fr_1fr_1fr] gap-2 px-3 py-2 border rounded transition-colors hover-elevate active-elevate-2 ${i(o.pressure)}`,children:[s.jsxs("div",{className:"flex flex-col justify-center min-w-0",children:[s.jsx("div",{className:"font-mono text-sm  text-foreground truncate","data-testid":`text-symbol-${o.symbol}`,children:o.symbol}),s.jsx("div",{className:"font-mono text-xs text-muted-foreground truncate","data-testid":`text-name-${o.assetId}`,children:o.name})]}),s.jsxs("div",{className:"flex items-center justify-end",children:[s.jsxs("div",{className:`font-mono text-sm  ${r(o.pressure)}`,"data-testid":`text-pressure-${o.assetId}`,children:[o.pressure>0?"+":"",o.pressure.toFixed(0),"%"]}),o.pressure>0?s.jsx(ns,{className:"h-3 w-3 ml-1 text-green-500"}):s.jsx(vi,{className:"h-3 w-3 ml-1 text-red-500"})]}),s.jsxs("div",{className:`font-mono text-sm text-right ${o.netFlow>=0?"text-green-500":"text-red-500"}`,"data-testid":`text-netflow-${o.assetId}`,children:[o.netFlow>=0?"+":"",a(o.netFlow)]}),s.jsxs("div",{className:"font-mono text-xs text-right text-muted-foreground space-y-0.5","data-testid":`text-orders-${o.assetId}`,children:[s.jsxs("div",{className:"text-green-500",children:[o.buyOrders," BUY"]}),s.jsxs("div",{className:"text-red-500",children:[o.sellOrders," SELL"]})]}),s.jsx("div",{className:"font-mono text-sm text-right text-foreground","data-testid":`text-volume-${o.assetId}`,children:a(o.totalVolume)})]},o.assetId))]}):s.jsx("div",{className:"h-[400px] flex items-center justify-center",children:s.jsx("div",{className:"text-muted-foreground font-mono text-sm",children:"No institutional activity detected"})}),e&&e.data.length>0&&s.jsx("div",{className:"pt-2 mt-2 border-t border-indigo-500/20",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:"ASSETS TRACKED"}),s.jsx("div",{className:"text-lg font-mono  text-foreground","data-testid":"text-assets-tracked",children:e.totalAssets})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:"BUY PRESSURE"}),s.jsx("div",{className:"text-lg font-mono  text-green-500","data-testid":"text-buy-pressure",children:e.data.filter(o=>o.pressure>0).length})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:"SELL PRESSURE"}),s.jsx("div",{className:"text-lg font-mono  text-red-500","data-testid":"text-sell-pressure",children:e.data.filter(o=>o.pressure<0).length})]})]})})]})]})}function Yfe(){const{data:e,isLoading:t}=yt({queryKey:["/api/growth/metrics"],refetchInterval:3e4}),i=a=>a>=1e6?`${(a/1e6).toFixed(1)}M`:a>=1e3?`${(a/1e3).toFixed(1)}K`:a.toString(),r=a=>a>0?"text-green-500":"text-muted-foreground";return s.jsxs(Se,{className:"bg-black/40 border-indigo-500/20",children:[s.jsx(Be,{className:"pb-3",children:s.jsxs(Ze,{className:"text-sm font-mono uppercase tracking-wider text-indigo-300 flex items-center gap-2",children:[s.jsx(ns,{className:"h-4 w-4"}),"Asset Growth Monitor"]})}),s.jsx(Pe,{className:"space-y-4",children:t?s.jsx("div",{className:"h-[200px] flex items-center justify-center",children:s.jsx("div",{className:"text-muted-foreground font-mono text-sm",children:"Loading metrics..."})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-xs text-muted-foreground font-mono uppercase",children:"Last Hour"}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-black/60 border border-indigo-500/20 rounded p-3","data-testid":"growth-assets-hour",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(j5,{className:"h-3 w-3 text-indigo-400"}),s.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:"ASSETS"})]}),s.jsxs("div",{className:`text-2xl font-mono  ${r((e==null?void 0:e.assetsLastHour)||0)}`,children:["+",i((e==null?void 0:e.assetsLastHour)||0)]})]}),s.jsxs("div",{className:"bg-black/60 border border-indigo-500/20 rounded p-3","data-testid":"growth-covers-hour",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(_5,{className:"h-3 w-3 text-purple-400"}),s.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:"COVERS"})]}),s.jsxs("div",{className:`text-2xl font-mono  ${r((e==null?void 0:e.coversLastHour)||0)}`,children:["+",i((e==null?void 0:e.coversLastHour)||0)]})]}),s.jsxs("div",{className:"bg-black/60 border border-indigo-500/20 rounded p-3","data-testid":"growth-prices-hour",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(oo,{className:"h-3 w-3 text-green-400"}),s.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:"PRICES"})]}),s.jsxs("div",{className:`text-2xl font-mono  ${r((e==null?void 0:e.pricesLastHour)||0)}`,children:["+",i((e==null?void 0:e.pricesLastHour)||0)]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-xs text-muted-foreground font-mono uppercase",children:"Last 24 Hours"}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-black/60 border border-green-500/20 rounded p-3","data-testid":"growth-assets-day",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(j5,{className:"h-3 w-3 text-indigo-400"}),s.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:"ASSETS"})]}),s.jsxs("div",{className:`text-2xl font-mono  ${r((e==null?void 0:e.assetsLastDay)||0)}`,children:["+",i((e==null?void 0:e.assetsLastDay)||0)]})]}),s.jsxs("div",{className:"bg-black/60 border border-green-500/20 rounded p-3","data-testid":"growth-covers-day",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(_5,{className:"h-3 w-3 text-purple-400"}),s.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:"COVERS"})]}),s.jsxs("div",{className:`text-2xl font-mono  ${r((e==null?void 0:e.coversLastDay)||0)}`,children:["+",i((e==null?void 0:e.coversLastDay)||0)]})]}),s.jsxs("div",{className:"bg-black/60 border border-green-500/20 rounded p-3","data-testid":"growth-prices-day",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(oo,{className:"h-3 w-3 text-green-400"}),s.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:"PRICES"})]}),s.jsxs("div",{className:`text-2xl font-mono  ${r((e==null?void 0:e.pricesLastDay)||0)}`,children:["+",i((e==null?void 0:e.pricesLastDay)||0)]})]})]})]}),s.jsx("div",{className:"pt-3 border-t border-indigo-500/20",children:s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground font-mono",children:[s.jsx("div",{children:"EXPANSION PIPELINE"}),s.jsx("div",{className:e&&(e.assetsLastHour>0||e.assetsLastDay>0)?"text-green-500":"text-yellow-500",children:e&&(e.assetsLastHour>0||e.assetsLastDay>0)?"● ACTIVE":"● IDLE"})]})})]})})]})}var yE="Avatar",[Xfe,zye]=Bn(yE),[Zfe,AG]=Xfe(yE),CG=V.forwardRef((e,t)=>{const{__scopeAvatar:i,...r}=e,[a,o]=V.useState("idle");return s.jsx(Zfe,{scope:i,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:s.jsx(as.span,{...r,ref:t})})});CG.displayName=yE;var TG="AvatarImage",PG=V.forwardRef((e,t)=>{const{__scopeAvatar:i,src:r,onLoadingStatusChange:a=()=>{},...o}=e,u=AG(TG,i),m=Qfe(r,o),x=Ri(w=>{a(w),u.onImageLoadingStatusChange(w)});return br(()=>{m!=="idle"&&x(m)},[m,x]),m==="loaded"?s.jsx(as.img,{...o,ref:t,src:r}):null});PG.displayName=TG;var MG="AvatarFallback",EG=V.forwardRef((e,t)=>{const{__scopeAvatar:i,delayMs:r,...a}=e,o=AG(MG,i),[u,m]=V.useState(r===void 0);return V.useEffect(()=>{if(r!==void 0){const x=window.setTimeout(()=>m(!0),r);return()=>window.clearTimeout(x)}},[r]),u&&o.imageLoadingStatus!=="loaded"?s.jsx(as.span,{...a,ref:t}):null});EG.displayName=MG;function N4(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Qfe(e,{referrerPolicy:t,crossOrigin:i}){const r=ege(),a=V.useRef(null),o=r?(a.current||(a.current=new window.Image),a.current):null,[u,m]=V.useState(()=>N4(o,e));return br(()=>{m(N4(o,e))},[o,e]),br(()=>{const x=E=>()=>{m(E)};if(!o)return;const w=x("loaded"),A=x("error");return o.addEventListener("load",w),o.addEventListener("error",A),t&&(o.referrerPolicy=t),typeof i=="string"&&(o.crossOrigin=i),()=>{o.removeEventListener("load",w),o.removeEventListener("error",A)}},[o,i,t]),u}function Jfe(){return()=>{}}function ege(){return V.useSyncExternalStore(Jfe,()=>!0,()=>!1)}var IG=CG,LG=PG,OG=EG;const sv=V.forwardRef(({className:e,...t},i)=>s.jsx(IG,{ref:i,className:Ot(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));sv.displayName=IG.displayName;const xN=V.forwardRef(({className:e,...t},i)=>s.jsx(LG,{ref:i,className:Ot("aspect-square h-full w-full",e),...t}));xN.displayName=LG.displayName;const iv=V.forwardRef(({className:e,...t},i)=>s.jsx(OG,{ref:i,className:Ot("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));iv.displayName=OG.displayName;function tge(){const{data:e,isLoading:t}=yt({queryKey:["/api/creators/influence"],refetchInterval:6e4}),i=e||[{id:"1",name:"Stan Lee",role:"Writer/Editor",influenceScore:98,notableWorks:["Spider-Man","X-Men","Fantastic Four","Iron Man"],activeAssets:247,marketImpact:8.2},{id:"2",name:"Jack Kirby",role:"Artist/Writer",influenceScore:97,notableWorks:["Captain America","X-Men","New Gods","Fantastic Four"],activeAssets:198,marketImpact:7.8},{id:"3",name:"Frank Miller",role:"Writer/Artist",influenceScore:94,notableWorks:["The Dark Knight Returns","Daredevil","Sin City","300"],activeAssets:156,marketImpact:6.5},{id:"4",name:"Alan Moore",role:"Writer",influenceScore:96,notableWorks:["Watchmen","V for Vendetta","Swamp Thing","From Hell"],activeAssets:142,marketImpact:7.1},{id:"5",name:"Todd McFarlane",role:"Artist/Writer",influenceScore:89,notableWorks:["Spawn","Spider-Man","The Amazing Spider-Man"],activeAssets:128,marketImpact:5.4},{id:"6",name:"Neil Gaiman",role:"Writer",influenceScore:92,notableWorks:["The Sandman","American Gods","Coraline"],activeAssets:115,marketImpact:6.8}],r=a=>a.split(" ").map(o=>o[0]).join("");return s.jsxs(Se,{className:"h-full","data-testid":"card-creator-influence",children:[s.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ze,{className:"text-sm ",children:"Creator Influence"}),s.jsx(Us,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Pe,{children:t?s.jsx("div",{className:"space-y-3",children:[1,2,3].map(a=>s.jsx("div",{className:"h-20 bg-muted/20 animate-pulse rounded"},a))}):s.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:i.map(a=>s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-md border hover-elevate active-elevate-2 cursor-pointer","data-testid":`creator-${a.name.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(sv,{className:"h-10 w-10",children:s.jsx(iv,{className:"text-xs  bg-primary/10 text-primary",children:r(a.name)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{children:[s.jsx("h4",{className:" text-sm truncate",children:a.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:a.role})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Us,{className:"h-3 w-3 text-yellow-500 fill-yellow-500"}),s.jsx("span",{className:" text-sm",children:a.influenceScore})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[a.notableWorks.slice(0,2).map(o=>s.jsx(st,{variant:"secondary",className:"text-xs py-0 px-1.5",children:o},o)),a.notableWorks.length>2&&s.jsxs(st,{variant:"outline",className:"text-xs py-0 px-1.5",children:["+",a.notableWorks.length-2]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[s.jsxs("span",{children:[a.activeAssets," assets"]}),s.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(ns,{className:"h-3 w-3"}),"+",a.marketImpact,"% impact"]})]})]})]},a.id))})})]})}function sge({entityName:e,covers:t,autoRotate:i=!0,rotationInterval:r=5e3,className:a}){const[o,u]=V.useState(0),[m,x]=V.useState(!1),[w,A]=V.useState(!1),[E,O]=V.useState(!1),[G,te]=V.useState(!1),[Q,J]=V.useState(new Set),H=V.useRef();if(!t||t.length===0)return s.jsxs(Se,{className:Ot("overflow-hidden",a),"data-testid":"widget-cover-gallery",children:[s.jsx(Be,{children:s.jsx(Ze,{className:"text-lg",children:e})}),s.jsx(Pe,{className:"flex items-center justify-center h-96",children:s.jsx("p",{className:"text-muted-foreground",children:"No covers available"})})]});const W=t[o],Z=m||w||E,pe=m||w||G;V.useEffect(()=>{(()=>{O("ontouchstart"in window||navigator.maxTouchPoints>0)})();const Ae=()=>O(!0);return window.addEventListener("touchstart",Ae,{once:!0}),()=>window.removeEventListener("touchstart",Ae)},[]),V.useEffect(()=>{if(!(!i||t.length<=1||pe))return H.current=setInterval(()=>{u(de=>(de+1)%t.length)},r),()=>{H.current&&clearInterval(H.current)}},[i,t.length,pe,r]),V.useEffect(()=>{if(t.length===0)return;const de=(o+1)%t.length,Ae=t[de];if(Ae&&!Q.has(Ae.url)){const We=new Image;We.src=Ae.url,We.onload=()=>{J(tt=>new Set(tt).add(Ae.url))}}},[o,t,Q]);const me=()=>{u(de=>(de-1+t.length)%t.length)},we=()=>{u(de=>(de+1)%t.length)},_e=de=>{J(Ae=>new Set(Ae).add(de))};return t.length===0?s.jsxs(Se,{className:Ot("hover-elevate",a),"data-testid":"widget-cover-gallery",children:[s.jsx(Be,{children:s.jsx(Ze,{className:"text-lg",children:"Cover Gallery"})}),s.jsx(Pe,{children:s.jsx("div",{className:"flex items-center justify-center h-96 text-muted-foreground",children:s.jsxs("p",{"data-testid":"text-no-covers",children:["No covers available for ",e]})})})]}):s.jsxs(Se,{className:Ot("hover-elevate relative overflow-hidden",a),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onFocus:()=>A(!0),onBlur:de=>{de.currentTarget.contains(de.relatedTarget)||A(!1)},onTouchStart:()=>te(!0),onTouchEnd:()=>te(!1),onTouchCancel:()=>te(!1),"data-testid":"widget-cover-gallery",children:[s.jsx(Be,{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ze,{className:"text-lg",children:"Cover Gallery"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:"text-sm text-muted-foreground","data-testid":"text-cover-count",children:[o+1," / ",t.length]})})]})}),s.jsxs(Pe,{className:"relative",children:[s.jsxs("div",{className:"relative aspect-[2/3] w-full max-w-md mx-auto",children:[s.jsx("img",{src:W.url,alt:W.title,className:Ot("w-full h-full object-contain rounded-md transition-opacity duration-300",Q.has(W.url)?"opacity-100":"opacity-0"),loading:"lazy",onLoad:()=>_e(W.url),"data-testid":`img-cover-${W.id}`}),!Q.has(W.url)&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted rounded-md",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),t.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(rt,{variant:"ghost",size:"icon",className:Ot("absolute left-2 top-1/2 -translate-y-1/2 bg-background/80 backdrop-blur-sm transition-opacity",Z?"opacity-100":"opacity-0 pointer-events-none"),onClick:me,"aria-label":"Previous cover",title:"Previous cover","data-testid":"button-cover-prev",children:s.jsx(bv,{className:"h-4 w-4"})}),s.jsx(rt,{variant:"ghost",size:"icon",className:Ot("absolute right-2 top-1/2 -translate-y-1/2 bg-background/80 backdrop-blur-sm transition-opacity",Z?"opacity-100":"opacity-0 pointer-events-none"),onClick:we,"aria-label":"Next cover",title:"Next cover","data-testid":"button-cover-next",children:s.jsx(Wo,{className:"h-4 w-4"})})]}),s.jsx(rt,{variant:"ghost",size:"icon",className:Ot("absolute top-2 right-2 bg-background/80 backdrop-blur-sm transition-opacity",Z?"opacity-100":"opacity-0 pointer-events-none"),"aria-label":"Maximize cover image",title:"Maximize cover image","data-testid":"button-cover-maximize",children:s.jsx(vW,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"mt-4 text-center space-y-1",children:[s.jsx("h3",{className:"","data-testid":"text-cover-title",children:W.title}),W.subtitle&&s.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-cover-subtitle",children:W.subtitle}),W.year&&s.jsx("p",{className:"text-xs text-muted-foreground","data-testid":"text-cover-year",children:W.year})]}),t.length>1&&s.jsx("div",{className:Ot("mt-4 flex gap-2 overflow-x-auto pb-2 transition-opacity",Z?"opacity-100":"opacity-50"),"data-testid":"container-thumbnail-strip",children:t.map((de,Ae)=>s.jsx("button",{onClick:()=>u(Ae),className:Ot("flex-shrink-0 w-16 h-24 rounded border-2 transition-all overflow-hidden hover-elevate active-elevate-2",o===Ae?"border-primary":"border-transparent opacity-60 hover:opacity-100"),"aria-label":`View ${de.title}`,title:de.title,"data-testid":`button-thumbnail-${de.id}`,children:s.jsx("img",{src:de.url,alt:de.title,className:"w-full h-full object-cover",loading:"lazy"})},de.id))})]})]})}function ige({className:e,characterId:t,showControls:i=!0}){const[r,a]=V.useState(0),[o,u]=V.useState(null),m=V.useRef(null),[x,w]=V.useState(0),{data:A=[],isLoading:E}=yt({queryKey:["/api/characters/trending"],refetchInterval:3e4});if(V.useEffect(()=>{const H=()=>{m.current&&w(m.current.scrollTop)},W=m.current;if(W)return W.addEventListener("scroll",H),()=>W.removeEventListener("scroll",H)},[]),E)return s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-character-loading",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"relative p-4 border-b border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(zr,{className:"h-4 w-4"}),"Character Dossier"]})}),s.jsx("div",{className:"relative p-6",children:s.jsxs("div",{className:"flex gap-6",children:[s.jsx(Vs,{className:"w-48 h-64 rounded-md flex-shrink-0"}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsx(Vs,{className:"h-8 w-3/4"}),s.jsx(Vs,{className:"h-4 w-1/2"}),s.jsx(Vs,{className:"h-24 w-full"})]})]})})]});if(!A.length)return s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-character-empty",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"relative p-4 border-b border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(zr,{className:"h-4 w-4"}),"Character Dossier"]})}),s.jsxs("div",{className:"relative p-12 flex flex-col items-center justify-center text-center",children:[s.jsx(zr,{className:"h-12 w-12 text-indigo-500/30 mb-4"}),s.jsx("p",{className:"text-indigo-300/60 text-sm font-light",children:"No characters available"})]})]});const O=A[r],G=o?A.find(H=>H.id===o):null,te=x*.3,Q=()=>{a(H=>(H+1)%A.length)},J=()=>{a(H=>(H-1+A.length)%A.length)};return s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-character-portrait",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsxs("div",{className:"relative p-4 border-b border-indigo-900/30 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(zr,{className:"h-4 w-4"}),"Character Dossier"]}),s.jsx("div",{className:"flex items-center gap-2",children:i&&A.length>1&&s.jsxs("div",{className:"flex gap-1",children:[s.jsx(rt,{size:"icon",variant:"ghost",onClick:J,className:"h-7 w-7","data-testid":"button-previous-character",children:s.jsx(bv,{className:"h-4 w-4"})}),s.jsx(rt,{size:"icon",variant:"ghost",onClick:Q,className:"h-7 w-7","data-testid":"button-next-character",children:s.jsx(Wo,{className:"h-4 w-4"})})]})})]}),s.jsxs("div",{ref:m,className:"relative max-h-[700px] overflow-y-auto",children:[O.imageUrl&&s.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{transform:`translateY(${te}px)`,transition:"transform 0.1s ease-out"},children:s.jsx("img",{src:O.imageUrl,alt:"",className:"w-full h-full object-contain scale-125 blur-sm"})}),s.jsxs("div",{className:"relative p-6 bg-gradient-to-b from-[#1A1F2E]/95 to-[#252B3C]/90",children:[s.jsxs("div",{className:"flex gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:O.imageUrl||O.thumbnailUrl?s.jsx("img",{src:O.imageUrl||O.thumbnailUrl,alt:O.name,className:"w-48 h-64 rounded-md object-contain border border-indigo-800/30 bg-black/50",style:{padding:"1px",boxSizing:"border-box"},"data-testid":"img-character-portrait"}):s.jsx("div",{className:"w-48 h-64 rounded-md bg-indigo-950/30 border border-indigo-800/30 flex items-center justify-center",children:s.jsx(zr,{className:"h-24 w-24 text-indigo-500/20"})})}),s.jsxs("div",{className:"flex-1 min-w-0 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl text-indigo-100 mb-2","data-testid":"text-character-name",children:O.name}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap mb-2",children:[O.characterType&&s.jsx(st,{variant:"outline",className:"bg-indigo-950/30 border-indigo-800/30 text-indigo-300",children:O.characterType}),O.symbol&&s.jsx(st,{variant:"outline",className:"bg-purple-950/30 border-purple-800/30 text-purple-300 font-mono",children:O.symbol}),O.publisher&&s.jsx(st,{variant:"outline",className:"bg-blue-950/30 border-blue-800/30 text-blue-300",children:O.publisher})]}),O.price&&s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsxs("span",{className:"text-lg text-indigo-100",children:["$",O.price.toFixed(2)]}),O.percentChange!==null&&O.percentChange!==void 0&&s.jsxs("span",{className:O.percentChange>=0?"text-green-400 flex items-center gap-1":"text-red-400 flex items-center gap-1",children:[O.percentChange>=0?s.jsx(ns,{className:"h-3 w-3"}):s.jsx(vi,{className:"h-3 w-3"}),Math.abs(O.percentChange).toFixed(2),"%"]})]})]}),(O.strength||O.speed||O.intelligence)&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-indigo-400 uppercase tracking-wide mb-2 font-light",children:"Power Stats"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[O.strength&&s.jsxs("div",{className:"bg-[#252B3C]/80 border border-indigo-800/30 rounded p-2",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx(Er,{className:"h-3 w-3 text-yellow-400"}),s.jsx("span",{className:"text-xs text-indigo-400/70",children:"Strength"})]}),s.jsxs("div",{className:"text-lg text-indigo-100",children:[O.strength,"/10"]})]}),O.speed&&s.jsxs("div",{className:"bg-[#252B3C]/80 border border-indigo-800/30 rounded p-2",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx(Dn,{className:"h-3 w-3 text-blue-400"}),s.jsx("span",{className:"text-xs text-indigo-400/70",children:"Speed"})]}),s.jsxs("div",{className:"text-lg text-indigo-100",children:[O.speed,"/10"]})]}),O.intelligence&&s.jsxs("div",{className:"bg-[#252B3C]/80 border border-indigo-800/30 rounded p-2",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx(Ey,{className:"h-3 w-3 text-purple-400"}),s.jsx("span",{className:"text-xs text-indigo-400/70",children:"Intelligence"})]}),s.jsxs("div",{className:"text-lg text-indigo-100",children:[O.intelligence,"/10"]})]})]})]}),O.powers&&O.powers.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-400 uppercase tracking-wide mb-2 font-light",children:[s.jsx(_v,{className:"h-3 w-3"}),"Powers & Abilities"]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:O.powers.map((H,W)=>s.jsx(st,{variant:"outline",className:"text-xs bg-purple-950/30 border-purple-800/30 text-purple-300","data-testid":`badge-power-${W}`,children:H},W))})]}),O.teams&&O.teams.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-indigo-400 uppercase tracking-wide mb-2 font-light",children:"Team Affiliations"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:O.teams.map((H,W)=>s.jsx(st,{variant:"outline",className:"text-xs bg-blue-950/30 border-blue-800/30 text-blue-300","data-testid":`badge-team-${W}`,children:H},W))})]})]})]}),O.keyIssues&&O.keyIssues.length>0&&s.jsxs("div",{className:"mt-6 pt-4 border-t border-indigo-900/30",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-400 uppercase tracking-wide mb-3 font-light",children:[s.jsx(Bh,{className:"h-3 w-3"}),"Key Issues"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:O.keyIssues.map((H,W)=>s.jsx("span",{className:"px-2 py-1 bg-indigo-900/30 border border-indigo-800/30 rounded text-xs text-indigo-300 font-mono","data-testid":`key-issue-${W}`,children:H},W))})]}),O.storyArcs&&O.storyArcs.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"text-xs text-indigo-400 uppercase tracking-wide mb-3 font-light",children:"Major Story Arcs"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:O.storyArcs.map((H,W)=>s.jsx(st,{variant:"outline",className:"text-xs bg-amber-950/30 border-amber-800/30 text-amber-300","data-testid":`badge-arc-${W}`,children:H},W))})]}),O.creators&&O.creators.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-400 uppercase tracking-wide mb-3 font-light",children:[s.jsx(xn,{className:"h-3 w-3"}),"Created By"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:O.creators.map((H,W)=>s.jsxs("span",{className:"text-sm text-indigo-300/80 font-light","data-testid":`creator-${W}`,children:[H.name," ",s.jsxs("span",{className:"text-indigo-400/60",children:["(",H.role,")"]})]},W))})]}),O.firstAppearance&&s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"text-xs text-indigo-400 uppercase tracking-wide mb-2 font-light",children:"First Appearance"}),s.jsx("p",{className:"text-sm text-indigo-300/80 font-light font-mono",children:O.firstAppearance})]}),A.length>1&&s.jsxs("div",{className:"mt-6 pt-4 border-t border-indigo-900/30",children:[s.jsx("div",{className:"text-xs text-indigo-400 uppercase tracking-wide mb-3 font-light",children:"Compare Stats With"}),s.jsxs(Hc,{value:o||"",onValueChange:H=>u(H||null),children:[s.jsx(Dl,{className:"w-full bg-[#252B3C] border-indigo-800/30",children:s.jsx(Vc,{placeholder:"Select character to compare..."})}),s.jsx(Rl,{children:A.filter(H=>H.id!==O.id).map(H=>s.jsx(Si,{value:H.id,children:H.name},H.id))})]}),G&&s.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-3",children:[O.strength&&G.strength&&s.jsxs("div",{className:"bg-[#252B3C]/80 border border-indigo-800/30 rounded p-3",children:[s.jsx("div",{className:"text-xs text-indigo-400/70 mb-2",children:"Strength"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-indigo-100",children:O.strength}),s.jsx("span",{className:"text-xs text-indigo-500",children:"vs"}),s.jsx("span",{className:`text-sm ${G.strength>O.strength?"text-red-400":"text-green-400"}`,children:G.strength})]})]}),O.speed&&G.speed&&s.jsxs("div",{className:"bg-[#252B3C]/80 border border-indigo-800/30 rounded p-3",children:[s.jsx("div",{className:"text-xs text-indigo-400/70 mb-2",children:"Speed"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-indigo-100",children:O.speed}),s.jsx("span",{className:"text-xs text-indigo-500",children:"vs"}),s.jsx("span",{className:`text-sm ${G.speed>O.speed?"text-red-400":"text-green-400"}`,children:G.speed})]})]}),O.intelligence&&G.intelligence&&s.jsxs("div",{className:"bg-[#252B3C]/80 border border-indigo-800/30 rounded p-3",children:[s.jsx("div",{className:"text-xs text-indigo-400/70 mb-2",children:"Intelligence"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-indigo-100",children:O.intelligence}),s.jsx("span",{className:"text-xs text-indigo-500",children:"vs"}),s.jsx("span",{className:`text-sm ${G.intelligence>O.intelligence?"text-red-400":"text-green-400"}`,children:G.intelligence})]})]})]})]})]})]})]})}function rge(){const e=V.useRef(null),[t,i]=V.useState(0),{data:r,isLoading:a}=yt({queryKey:["/api/timeline/key-moments"],refetchInterval:3e4});return V.useEffect(()=>{const o=()=>{e.current&&i(e.current.scrollTop)},u=e.current;if(u)return u.addEventListener("scroll",o),()=>u.removeEventListener("scroll",o)},[]),a?s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-timeline-loading",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"relative p-4 border-b border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(ia,{className:"h-4 w-4"}),"Key Moments Timeline"]})}),s.jsx("div",{className:"relative p-6 space-y-4",children:[...Array(4)].map((o,u)=>s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Vs,{className:"h-32 w-24 rounded-md flex-shrink-0"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Vs,{className:"h-5 w-3/4"}),s.jsx(Vs,{className:"h-3 w-1/2"}),s.jsx(Vs,{className:"h-3 w-full"})]})]},u))})]}):!r||r.length===0?s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-timeline-empty",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"relative p-4 border-b border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(ia,{className:"h-4 w-4"}),"Key Moments Timeline"]})}),s.jsxs("div",{className:"relative p-12 flex flex-col items-center justify-center text-center",children:[s.jsx(ia,{className:"h-12 w-12 text-indigo-500/30 mb-4"}),s.jsx("p",{className:"text-indigo-300/60 text-sm font-light",children:"No timeline data available"})]})]}):s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-timeline",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsxs("div",{className:"relative p-4 border-b border-indigo-900/30",children:[s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(ia,{className:"h-4 w-4"}),"Key Moments Timeline"]}),s.jsx("p",{className:"text-xs text-indigo-400/70 font-light mt-1",children:"Defining Moments in Comic History"})]}),s.jsx("div",{ref:e,className:"relative max-h-[600px] overflow-y-auto",children:s.jsx("div",{className:"p-6 space-y-6",children:r.map((o,u)=>{const m=t*.3-u*25;return s.jsxs("div",{className:"relative hover-elevate active-elevate-2 rounded-md overflow-hidden","data-testid":`timeline-panel-${u}`,children:[o.imageUrl&&s.jsx("div",{className:"absolute inset-0 opacity-15 pointer-events-none",style:{transform:`translateY(${m}px)`,transition:"transform 0.1s ease-out"},children:s.jsx("img",{src:o.imageUrl,alt:"",className:"w-full h-full object-contain scale-110 blur-sm"})}),s.jsxs("div",{className:"relative flex gap-4 p-4 bg-gradient-to-r from-[#1A1F2E]/95 to-[#252B3C]/90",children:[u<r.length-1&&s.jsx("div",{className:"absolute left-[58px] top-[140px] bottom-0 w-px bg-indigo-800/30"}),s.jsxs("div",{className:"flex-shrink-0 relative z-10",children:[s.jsx("div",{className:"absolute -left-2 top-16 w-3 h-3 rounded-full bg-indigo-500 border-2 border-[#1A1F2E] z-20"}),o.imageUrl?s.jsx("img",{src:o.imageUrl,alt:o.title,className:"w-24 h-32 rounded-md object-contain border border-indigo-800/30 bg-black/50",style:{padding:"1px",boxSizing:"border-box"},"data-testid":`img-panel-${u}`}):s.jsx("div",{className:"w-24 h-32 rounded-md bg-indigo-950/30 border border-indigo-800/30 flex items-center justify-center",children:s.jsx(ia,{className:"h-10 w-10 text-indigo-500/20"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-base text-indigo-100 mb-1","data-testid":`text-panel-title-${u}`,children:o.title}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-indigo-400/80 font-light mb-2",children:[s.jsx("span",{className:"font-mono",children:o.issue}),s.jsx("span",{className:"text-indigo-500/50",children:"•"}),s.jsx("span",{children:o.date})]})]}),o.entityName&&s.jsx(st,{variant:"outline",className:"bg-indigo-950/30 border-indigo-800/30 text-indigo-300 text-xs","data-testid":`badge-entity-${u}`,children:o.entityName})]}),(o.writer||o.artist||o.coverArtist)&&s.jsxs("div",{className:"flex items-center gap-3 mb-3 text-xs text-indigo-400/70 font-light",children:[s.jsx(xn,{className:"h-3 w-3"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.writer&&s.jsxs("span",{children:["Writer: ",o.writer]}),o.artist&&s.jsxs("span",{children:["Artist: ",o.artist]}),o.coverArtist&&s.jsxs("span",{children:["Cover: ",o.coverArtist]})]})]}),s.jsx("p",{className:"text-sm text-indigo-300/80 leading-relaxed mb-3 font-light",children:o.description}),o.significance&&s.jsx("div",{className:"pt-3 border-t border-indigo-900/30",children:s.jsxs("p",{className:"text-xs text-indigo-300/60 italic font-light",children:[s.jsx("span",{className:"text-indigo-400",children:"Significance:"})," ",o.significance]})})]})]})]},o.id)})})})]})}function nge(){const[e,t]=V.useState(0),{data:i,isLoading:r}=yt({queryKey:["/api/creators/showcase"],refetchInterval:3e4}),a=i&&i.length>0?i[e]:null,o=()=>{i&&t(m=>m===0?i.length-1:m-1)},u=()=>{i&&t(m=>m===i.length-1?0:m+1)};return r?s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-creator-showcase-loading",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"relative p-4 border-b border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(wc,{className:"h-4 w-4"}),"Creator Showcase"]})}),s.jsx("div",{className:"relative p-6",children:s.jsxs("div",{className:"flex gap-6",children:[s.jsx(Vs,{className:"h-64 w-48 rounded-md flex-shrink-0"}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsx(Vs,{className:"h-8 w-3/4"}),s.jsx(Vs,{className:"h-4 w-1/2"}),s.jsx(Vs,{className:"h-20 w-full"}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-6",children:[s.jsx(Vs,{className:"h-32 rounded-md"}),s.jsx(Vs,{className:"h-32 rounded-md"}),s.jsx(Vs,{className:"h-32 rounded-md"})]})]})]})})]}):a?s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-creator-showcase",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsxs("div",{className:"relative p-4 border-b border-indigo-900/30 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(wc,{className:"h-4 w-4"}),"Creator Showcase"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-indigo-400/60 font-light",children:[e+1," / ",(i==null?void 0:i.length)||0]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(rt,{size:"icon",variant:"ghost",onClick:o,className:"h-7 w-7","data-testid":"button-creator-prev",children:s.jsx(bv,{className:"h-4 w-4"})}),s.jsx(rt,{size:"icon",variant:"ghost",onClick:u,className:"h-7 w-7","data-testid":"button-creator-next",children:s.jsx(Wo,{className:"h-4 w-4"})})]})]})]}),s.jsx("div",{className:"relative p-6",children:s.jsxs("div",{className:"flex gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:a.imageUrl?s.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-48 h-64 object-cover rounded-md border border-indigo-800/30","data-testid":"img-creator-portrait"}):s.jsx("div",{className:"w-48 h-64 bg-indigo-950/30 rounded-md border border-indigo-800/30 flex items-center justify-center",children:s.jsx(wc,{className:"h-16 w-16 text-indigo-500/20"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h2",{className:"text-3xl  text-indigo-100 mb-2","data-testid":"text-creator-name",children:a.name}),s.jsx("p",{className:"text-indigo-400 text-sm mb-4 uppercase tracking-wide font-light",children:a.role}),s.jsx("p",{className:"text-indigo-300/70 text-sm leading-relaxed mb-6 font-light",children:a.bio}),a.awards&&a.awards.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-indigo-400 text-xs uppercase tracking-wide mb-2",children:[s.jsx(On,{className:"h-3 w-3"}),"Awards & Recognition"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.awards.slice(0,3).map((m,x)=>s.jsx("span",{className:"px-2 py-1 bg-indigo-900/30 border border-indigo-800/30 rounded text-xs text-indigo-300 font-light","data-testid":`badge-award-${x}`,children:m},x))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-indigo-400 text-xs uppercase tracking-wide mb-3 font-light",children:"Iconic Covers"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:a.iconicCovers.slice(0,3).map((m,x)=>s.jsxs("div",{className:"relative group hover-elevate active-elevate-2 rounded-md overflow-hidden","data-testid":`cover-${x}`,children:[s.jsx("img",{src:m.coverUrl,alt:m.title,className:"w-full aspect-[2/3] object-cover",loading:"lazy","data-testid":`img-cover-${x}`}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-2",children:[s.jsx("p",{className:"text-white text-xs  line-clamp-1",children:m.title}),s.jsx("p",{className:"text-indigo-300 text-xs font-light",children:m.year})]})})]},m.id))})]}),a.notableWorks&&a.notableWorks.length>0&&s.jsx("div",{className:"mt-4 pt-4 border-t border-indigo-900/30",children:s.jsxs("p",{className:"text-indigo-400/60 text-xs font-light italic",children:["Notable: ",a.notableWorks.slice(0,3).join(" • ")]})})]})]})})]}):s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-creator-showcase-empty",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"relative p-4 border-b border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(wc,{className:"h-4 w-4"}),"Creator Showcase"]})}),s.jsxs("div",{className:"relative p-12 flex flex-col items-center justify-center text-center",children:[s.jsx(wc,{className:"h-12 w-12 text-indigo-500/30 mb-4"}),s.jsx("p",{className:"text-indigo-300/60 text-sm font-light",children:"No creators in spotlight"})]})]})}function age(){const[e,t]=V.useState(0),i=V.useRef(null),[r,a]=V.useState(0),{data:o,isLoading:u}=yt({queryKey:["/api/story-arcs/explorer"],refetchInterval:3e4});V.useEffect(()=>{const E=()=>{i.current&&a(i.current.scrollTop)},O=i.current;if(O)return O.addEventListener("scroll",E),()=>O.removeEventListener("scroll",E)},[]);const m=o&&o.length>0?o[e]:null,x=()=>{o&&t(E=>E===0?o.length-1:E-1)},w=()=>{o&&t(E=>E===o.length-1?0:E+1)};if(u)return s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-story-arc-loading",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"relative p-4 border-b border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(Ci,{className:"h-4 w-4"}),"Story Arc Explorer"]})}),s.jsx("div",{className:"relative p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(Vs,{className:"h-8 w-2/3"}),s.jsx(Vs,{className:"h-4 w-1/3"}),s.jsx(Vs,{className:"h-40 w-full"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Vs,{className:"h-6 w-20"}),s.jsx(Vs,{className:"h-6 w-20"}),s.jsx(Vs,{className:"h-6 w-20"})]})]})})]});if(!m)return s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-story-arc-empty",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"relative p-4 border-b border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(Ci,{className:"h-4 w-4"}),"Story Arc Explorer"]})}),s.jsxs("div",{className:"relative p-12 flex flex-col items-center justify-center text-center",children:[s.jsx(Ci,{className:"h-12 w-12 text-indigo-500/30 mb-4"}),s.jsx("p",{className:"text-indigo-300/60 text-sm font-light",children:"No story arcs available"})]})]});const A=r*.3;return s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-story-arc-explorer",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsxs("div",{className:"relative p-4 border-b border-indigo-900/30 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(Ci,{className:"h-4 w-4"}),"Story Arc Explorer"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-indigo-400/60 font-light",children:[e+1," / ",(o==null?void 0:o.length)||0]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(rt,{size:"icon",variant:"ghost",onClick:x,className:"h-7 w-7","data-testid":"button-arc-prev",children:s.jsx(bv,{className:"h-4 w-4"})}),s.jsx(rt,{size:"icon",variant:"ghost",onClick:w,className:"h-7 w-7","data-testid":"button-arc-next",children:s.jsx(Wo,{className:"h-4 w-4"})})]})]})]}),s.jsxs("div",{ref:i,className:"relative max-h-[600px] overflow-y-auto",children:[m.coverImageUrl&&s.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{transform:`translateY(${A}px)`,transition:"transform 0.1s ease-out"},children:s.jsx("img",{src:m.coverImageUrl,alt:"",className:"w-full h-full object-contain scale-125 blur-sm"})}),s.jsx("div",{className:"relative p-6 bg-gradient-to-b from-[#1A1F2E]/95 to-[#252B3C]/90",children:s.jsxs("div",{className:"flex gap-6",children:[m.coverImageUrl&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:m.coverImageUrl,alt:m.title,className:"w-40 aspect-[2/3] object-contain rounded-md border border-indigo-800/30 bg-black/50","data-testid":"img-arc-cover"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"flex items-start justify-between gap-4 mb-3",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl text-indigo-100 mb-1","data-testid":"text-arc-title",children:m.title}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-indigo-400/80 font-light",children:[s.jsx("span",{children:m.publisher}),s.jsx("span",{className:"text-indigo-500/50",children:"•"}),s.jsx("span",{children:m.yearRange}),s.jsx("span",{className:"text-indigo-500/50",children:"•"}),s.jsxs("span",{children:[m.totalIssues," issues"]})]})]})}),(m.writer||m.artist||m.coverArtist)&&s.jsxs("div",{className:"flex items-center gap-3 mb-4 text-xs text-indigo-400/70 font-light",children:[s.jsx(xn,{className:"h-3 w-3"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[m.writer&&s.jsxs("span",{children:["Writer: ",m.writer]}),m.artist&&s.jsxs("span",{children:["Artist: ",m.artist]}),m.coverArtist&&s.jsxs("span",{children:["Cover: ",m.coverArtist]})]})]}),s.jsx("p",{className:"text-indigo-300/80 text-sm leading-relaxed mb-4 font-light",children:m.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[m.protagonists&&m.protagonists.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-indigo-400 uppercase tracking-wide mb-2 font-light",children:"Heroes"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:m.protagonists.map((E,O)=>s.jsx(st,{variant:"outline",className:"text-xs bg-indigo-950/30 border-indigo-800/30 text-indigo-300","data-testid":`badge-hero-${O}`,children:E},O))})]}),m.antagonists&&m.antagonists.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-indigo-400 uppercase tracking-wide mb-2 font-light",children:"Villains"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:m.antagonists.map((E,O)=>s.jsx(st,{variant:"outline",className:"text-xs bg-red-950/30 border-red-800/30 text-red-300","data-testid":`badge-villain-${O}`,children:E},O))})]})]}),m.keyIssues&&m.keyIssues.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-400 uppercase tracking-wide mb-2 font-light",children:[s.jsx(wv,{className:"h-3 w-3"}),"Key Issues"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:m.keyIssues.map((E,O)=>s.jsx("span",{className:"px-2 py-1 bg-indigo-900/30 border border-indigo-800/30 rounded text-xs text-indigo-300 font-mono","data-testid":`key-issue-${O}`,children:E},O))})]}),s.jsxs("div",{className:"pt-4 border-t border-indigo-900/30",children:[s.jsx("div",{className:"text-xs text-indigo-400 uppercase tracking-wide mb-2 font-light",children:"Impact"}),s.jsx("p",{className:"text-indigo-300/70 text-sm font-light italic",children:m.impact})]}),m.crossoverEvents&&m.crossoverEvents.length>0&&s.jsx("div",{className:"mt-3 pt-3 border-t border-indigo-900/30",children:s.jsxs("div",{className:"text-xs text-indigo-400/70 font-light",children:["Related: ",m.crossoverEvents.join(", ")]})})]})]})})]})]})}const oge=e=>{switch(e){case"death":return su;case"resurrection":return HP;case"costume_change":return wv;case"identity_change":return zr;case"power_evolution":return Er;default:return pn}},lge=e=>{switch(e){case"death":return{text:"text-red-400",bg:"bg-red-950/30",border:"border-red-500/60",glow:"shadow-red-500/20"};case"resurrection":return{text:"text-green-400",bg:"bg-green-950/30",border:"border-green-500/60",glow:"shadow-green-500/20"};case"costume_change":return{text:"text-purple-400",bg:"bg-purple-950/30",border:"border-purple-500/60",glow:"shadow-purple-500/20"};case"identity_change":return{text:"text-blue-400",bg:"bg-blue-950/30",border:"border-blue-500/60",glow:"shadow-blue-500/20"};case"power_evolution":return{text:"text-yellow-400",bg:"bg-yellow-950/30",border:"border-yellow-500/60",glow:"shadow-yellow-500/20"};default:return{text:"text-indigo-400",bg:"bg-indigo-950/30",border:"border-indigo-500/60",glow:"shadow-indigo-500/20"}}};function cge(){const{data:e,isLoading:t}=yt({queryKey:["/api/narrative/milestones"],refetchInterval:3e4});return t?s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-milestones-loading",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"relative p-4 border-b border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(pn,{className:"h-4 w-4"}),"Narrative Timeline"]})}),s.jsx("div",{className:"relative p-4",children:s.jsx("div",{className:"flex gap-4 overflow-x-hidden",children:[...Array(6)].map((i,r)=>s.jsx(Vs,{className:"h-48 w-80 flex-shrink-0 rounded-md"},r))})})]}):!e||e.length===0?s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-milestones-empty",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"relative p-4 border-b border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(pn,{className:"h-4 w-4"}),"Narrative Timeline"]})}),s.jsxs("div",{className:"relative p-12 flex flex-col items-center justify-center text-center",children:[s.jsx(pn,{className:"h-12 w-12 text-indigo-500/30 mb-4"}),s.jsx("p",{className:"text-indigo-300/60 text-sm font-light",children:"No narrative milestones tracked"})]})]}):s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-narrative-milestones",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"relative p-4 border-b border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(pn,{className:"h-4 w-4"}),"Narrative Timeline"]}),s.jsx("p",{className:"text-xs text-indigo-400/70 font-light mt-1",children:"Deaths • Resurrections • Transformations • Legacy Moments"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-400/50",children:[s.jsx(g5,{className:"h-3 w-3"}),s.jsx("span",{children:"Chronological Flow"})]})]})}),s.jsxs("div",{className:"relative p-4",children:[s.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-px bg-indigo-500/20 pointer-events-none",style:{transform:"translateY(-50%)"}}),s.jsx("div",{className:"flex gap-6 overflow-x-auto pb-2 -mx-2 px-2 scrollbar-hide relative",children:e.map((i,r)=>{const a=oge(i.milestoneType),o=lge(i.milestoneType);return s.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 relative","data-testid":`milestone-${r}`,children:[s.jsx("div",{className:`absolute top-[112px] left-1/2 -translate-x-1/2 w-3 h-3 rounded-full ${o.bg} ${o.border} border-2 z-10`}),s.jsxs("div",{className:`w-72 hover-elevate active-elevate-2 rounded-lg p-4 bg-[#252B3C]/90 border ${o.border} shadow-lg ${o.glow} transition-all duration-300 mb-6`,children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.characterImageUrl?s.jsx("img",{src:i.characterImageUrl,alt:i.characterName,className:"w-12 h-12 rounded-full object-cover border-2 border-indigo-500/50",style:{padding:"1px",boxSizing:"border-box"}}):s.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-950/50 border-2 border-indigo-500/50 flex items-center justify-center",children:s.jsx(a,{className:"h-6 w-6 text-indigo-500/50"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-light text-indigo-100 truncate",children:i.characterName}),s.jsxs(st,{variant:"outline",className:`${o.text} ${o.bg} ${o.border} text-xs font-light mt-1`,children:[s.jsx(a,{className:"h-3 w-3 mr-1"}),i.milestoneType.replace("_"," ")]})]})]}),i.coverUrl&&s.jsx("div",{className:"mb-3",children:s.jsx("img",{src:i.coverUrl,alt:i.title,className:"w-full h-32 object-cover rounded-md border border-indigo-800/30",style:{padding:"1px",boxSizing:"border-box"}})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:`text-base font-light ${o.text}`,children:i.title}),s.jsxs("p",{className:"text-xs text-indigo-300/70 italic line-clamp-2",children:['"',i.description,'"']}),s.jsxs("div",{className:"pt-2 border-t border-indigo-900/20 space-y-1 text-xs text-indigo-400/60",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:i.issueReference}),s.jsx("span",{children:i.year})]}),i.reversible!==void 0&&s.jsx("div",{className:`text-xs ${i.reversible?"text-orange-400/70":"text-green-400/70"}`,children:i.reversible?"⟳ Reversible":"⚡ Permanent"})]}),s.jsx("div",{className:"pt-2 border-t border-indigo-900/10",children:s.jsxs("p",{className:"text-xs text-indigo-300/60 font-light",children:[s.jsx("span",{className:"text-indigo-400/50",children:"Impact: "}),i.impact]})})]})]}),s.jsx("div",{className:"text-xs font-mono text-indigo-400/50 mt-2",children:i.year})]},i.id)})}),s.jsxs("div",{className:"absolute bottom-6 right-6 text-xs text-indigo-400/40 font-light flex items-center gap-1",children:[s.jsx("span",{children:"Scroll Timeline"}),s.jsx(g5,{className:"h-3 w-3"})]})]})]})}const dge=e=>{switch(e){case"first":return{text:"text-yellow-400",bg:"bg-yellow-950/30",border:"border-yellow-500/60",glow:"shadow-yellow-500/20"};case"second":return{text:"text-orange-400",bg:"bg-orange-950/30",border:"border-orange-500/60",glow:"shadow-orange-500/20"};case"key":return{text:"text-purple-400",bg:"bg-purple-950/30",border:"border-purple-500/60",glow:"shadow-purple-500/20"};default:return{text:"text-cyan-400",bg:"bg-cyan-950/30",border:"border-cyan-500/60",glow:"shadow-cyan-500/20"}}};function uge(){const{data:e,isLoading:t}=yt({queryKey:["/api/appearances/tracker"],refetchInterval:3e4});return t?s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-appearances-loading",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"relative p-4 border-b border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(Us,{className:"h-4 w-4"}),"Appearance Tracker"]})}),s.jsx("div",{className:"relative p-4",children:s.jsx("div",{className:"flex gap-4 overflow-x-hidden",children:[...Array(4)].map((i,r)=>s.jsx(Vs,{className:"h-64 w-72 flex-shrink-0 rounded-md"},r))})})]}):!e||e.length===0?s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-appearances-empty",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"relative p-4 border-b border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(Us,{className:"h-4 w-4"}),"Appearance Tracker"]})}),s.jsxs("div",{className:"relative p-12 flex flex-col items-center justify-center text-center",children:[s.jsx(Us,{className:"h-12 w-12 text-indigo-500/30 mb-4"}),s.jsx("p",{className:"text-indigo-300/60 text-sm font-light",children:"No appearances tracked"})]})]}):s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-appearance-tracker",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"relative p-4 border-b border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(Us,{className:"h-4 w-4"}),"Appearance Tracker"]}),s.jsx("p",{className:"text-xs text-indigo-400/70 font-light mt-1",children:"1st • 2nd • Key • Investment Potential"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-400/50",children:[s.jsx(wv,{className:"h-3 w-3"}),s.jsx("span",{children:"Parallax View"})]})]})}),s.jsxs("div",{className:"relative p-4",children:[s.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 -mx-2 px-2 scrollbar-hide",children:e.map((i,r)=>{const a=dge(i.appearanceType),o=i.priceChange24h>=0;return s.jsxs("div",{className:`flex-shrink-0 w-72 hover-elevate active-elevate-2 rounded-lg p-4 bg-[#252B3C]/80 border ${a.border} shadow-lg ${a.glow} transition-all duration-300`,"data-testid":`appearance-card-${r}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs(st,{variant:"outline",className:`${a.text} ${a.bg} ${a.border} text-xs font-light uppercase tracking-wider`,children:[i.appearanceType==="first"&&"1st Appearance",i.appearanceType==="second"&&"2nd Appearance",i.appearanceType==="key"&&"Key Appearance",i.appearanceType==="cameo"&&"Cameo"]}),s.jsxs("div",{className:`px-2 py-1 rounded-md ${i.investmentPotential==="high"?"bg-green-950/30 border border-green-500/40":i.investmentPotential==="medium"?"bg-yellow-950/30 border border-yellow-500/40":"bg-indigo-950/30 border border-indigo-500/40"}`,children:[i.investmentPotential==="high"&&s.jsx(ns,{className:"h-3 w-3 text-green-400"}),i.investmentPotential==="medium"&&s.jsx(oo,{className:"h-3 w-3 text-yellow-400"}),i.investmentPotential==="low"&&s.jsx(Ci,{className:"h-3 w-3 text-indigo-400"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.characterImageUrl?s.jsx("img",{src:i.characterImageUrl,alt:i.characterName,className:"w-12 h-12 rounded-full object-cover border-2 border-indigo-500/50",style:{padding:"1px",boxSizing:"border-box"}}):s.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-950/50 border-2 border-indigo-500/50 flex items-center justify-center",children:s.jsx(Us,{className:"h-6 w-6 text-indigo-500/50"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:`text-sm font-light ${a.text} truncate`,children:i.characterName}),s.jsxs("p",{className:"text-xs text-indigo-400/60",children:[i.publisher," • ",i.year]})]})]}),i.coverUrl?s.jsxs("div",{className:"relative mb-3",children:[s.jsx("img",{src:i.coverUrl,alt:`${i.comicTitle} ${i.issueNumber}`,className:"w-full aspect-[2/3] object-cover rounded-md border-2 border-indigo-800/30",style:{padding:"1px",boxSizing:"border-box"},"data-testid":`img-cover-${r}`}),s.jsx("div",{className:"absolute top-2 right-2 bg-black/80 backdrop-blur-sm rounded px-2 py-1",children:s.jsxs("span",{className:`text-xs font-light ${o?"text-green-400":"text-red-400"}`,children:[o?"+":"",i.priceChange24h.toFixed(1),"%"]})})]}):s.jsx("div",{className:"w-full aspect-[2/3] bg-indigo-950/30 rounded-md border-2 border-indigo-800/30 mb-3 flex items-center justify-center",children:s.jsx(Ci,{className:"h-12 w-12 text-indigo-500/30"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-light text-indigo-100 line-clamp-1",children:i.comicTitle}),s.jsxs("p",{className:"text-xs text-indigo-400/70 font-light",children:["Issue ",i.issueNumber]})]}),s.jsxs("p",{className:"text-xs text-indigo-300/70 italic font-light line-clamp-2",children:['"',i.significance,'"']}),s.jsxs("div",{className:"pt-2 border-t border-indigo-900/20 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(oo,{className:"h-3 w-3 text-indigo-400/70"}),s.jsx("span",{className:"text-sm text-indigo-100 font-mono font-light",children:i.estimatedValue})]}),s.jsx(st,{variant:"outline",className:`text-xs ${a.text} ${a.bg} ${a.border}`,children:i.investmentPotential.toUpperCase()})]})]})]},i.id)})}),s.jsx("div",{className:"absolute bottom-6 right-6 text-xs text-indigo-400/40 font-light",children:"Scroll →"})]})]})}const hge=e=>{switch(e){case"ally":return zr;case"enemy":return _v;case"teammate":return Zs;case"mentor":case"mentee":return Er;case"love_interest":return HP;default:return Zs}},pge=e=>{switch(e){case"ally":return{text:"text-blue-400",bg:"bg-blue-950/30",border:"border-blue-500/60",glow:"shadow-blue-500/20"};case"enemy":return{text:"text-red-400",bg:"bg-red-950/30",border:"border-red-500/60",glow:"shadow-red-500/20"};case"teammate":return{text:"text-green-400",bg:"bg-green-950/30",border:"border-green-500/60",glow:"shadow-green-500/20"};case"mentor":case"mentee":return{text:"text-purple-400",bg:"bg-purple-950/30",border:"border-purple-500/60",glow:"shadow-purple-500/20"};case"love_interest":return{text:"text-pink-400",bg:"bg-pink-950/30",border:"border-pink-500/60",glow:"shadow-pink-500/20"};default:return{text:"text-indigo-400",bg:"bg-indigo-950/30",border:"border-indigo-500/60",glow:"shadow-indigo-500/20"}}};function mge(){const{data:e,isLoading:t}=yt({queryKey:["/api/relationships/web"],refetchInterval:3e4});return t?s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-relationships-loading",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"relative p-4 border-b border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(Um,{className:"h-4 w-4"}),"Relationship Network"]})}),s.jsx("div",{className:"relative p-6 space-y-6",children:[...Array(2)].map((i,r)=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vs,{className:"h-20 w-20 rounded-full"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Vs,{className:"h-6 w-1/3"}),s.jsx(Vs,{className:"h-4 w-1/4"})]})]}),s.jsx("div",{className:"grid grid-cols-3 gap-3 pl-24",children:[...Array(3)].map((a,o)=>s.jsx(Vs,{className:"h-32 rounded-md"},o))})]},r))})]}):!e||e.length===0?s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-relationships-empty",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"relative p-4 border-b border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(Um,{className:"h-4 w-4"}),"Relationship Network"]})}),s.jsxs("div",{className:"relative p-12 flex flex-col items-center justify-center text-center",children:[s.jsx(Um,{className:"h-12 w-12 text-indigo-500/30 mb-4"}),s.jsx("p",{className:"text-indigo-300/60 text-sm font-light",children:"No relationships tracked"})]})]}):s.jsxs("div",{className:"relative bg-[#1A1F2E] border border-indigo-900/30 rounded-md overflow-hidden dashboard-rimlight-hover","data-testid":"widget-relationship-web",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('/newsprint-texture.png')] opacity-5 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/halftone-pattern.png')] opacity-10 mix-blend-overlay pointer-events-none"}),s.jsx("div",{className:"relative p-4 border-b border-indigo-900/30",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-indigo-100 font-light tracking-wider uppercase text-sm",children:[s.jsx(Um,{className:"h-4 w-4"}),"Relationship Network"]}),s.jsx("p",{className:"text-xs text-indigo-400/70 font-light mt-1",children:"Allies • Enemies • Teams • Mentors • Relationships"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-400/50",children:[s.jsx(ns,{className:"h-3 w-3"}),s.jsx("span",{children:"Network Intelligence"})]})]})}),s.jsx("div",{className:"relative p-6 space-y-10 max-h-[700px] overflow-y-auto",children:e.map((i,r)=>s.jsxs("div",{className:"relative","data-testid":`character-${i.characterId}`,children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"relative",children:i.imageUrl?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:i.imageUrl,alt:i.characterName,className:"w-20 h-20 rounded-full object-cover border-4 border-indigo-500/50 shadow-lg shadow-indigo-500/30",style:{padding:"2px",boxSizing:"border-box"},"data-testid":`img-center-${r}`}),s.jsx("div",{className:"absolute -bottom-2 -right-2 bg-indigo-500 rounded-full p-2 border-2 border-[#1A1F2E]",children:s.jsx(Um,{className:"h-3 w-3 text-white"})})]}):s.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-950/50 border-4 border-indigo-500/50 flex items-center justify-center shadow-lg",children:s.jsx(Zs,{className:"h-8 w-8 text-indigo-500/50"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-light text-indigo-100 tracking-wide mb-1","data-testid":`text-name-${r}`,children:i.characterName}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-indigo-400/70",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zs,{className:"h-3 w-3"}),s.jsxs("span",{children:[i.relationships.length," direct connection",i.relationships.length!==1?"s":""]})]}),i.totalConnections&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-indigo-500/30",children:"•"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Um,{className:"h-3 w-3"}),s.jsxs("span",{children:[i.totalConnections," network nodes"]})]})]}),i.networkInfluence&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-indigo-500/30",children:"•"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ns,{className:"h-3 w-3"}),s.jsxs("span",{children:[i.networkInfluence,"% influence"]})]})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pl-0 md:pl-24",children:i.relationships.map((a,o)=>{const u=hge(a.relationType),m=pge(a.relationType),x=a.strength/10*100;return s.jsxs("div",{className:`relative hover-elevate active-elevate-2 rounded-lg p-4 bg-[#252B3C]/80 border ${m.border} shadow-lg ${m.glow} transition-all duration-300`,"data-testid":`relationship-${r}-${o}`,children:[s.jsxs("div",{className:"absolute -left-12 top-1/2 -translate-y-1/2 hidden md:flex items-center gap-2",children:[s.jsx("div",{className:`h-px w-8 ${m.bg} ${m.border} border-t`}),s.jsx(u,{className:`h-4 w-4 ${m.text}`})]}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs(st,{variant:"outline",className:`${m.text} ${m.bg} ${m.border} text-xs font-light uppercase tracking-wider`,"data-testid":`badge-type-${r}-${o}`,children:[s.jsx(u,{className:"h-3 w-3 mr-1.5"}),a.relationType.replace("_"," ")]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-16 h-1.5 bg-indigo-950/50 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${m.bg} ${m.border} border-r transition-all duration-500`,style:{width:`${x}%`}})}),s.jsxs("span",{className:`text-xs ${m.text} font-light`,children:[a.strength,"/10"]})]})]}),s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.targetImageUrl?s.jsx("img",{src:a.targetImageUrl,alt:a.targetName,className:`w-16 h-16 rounded-lg object-cover border-2 ${m.border} flex-shrink-0`,style:{padding:"1px",boxSizing:"border-box"},"data-testid":`img-target-${r}-${o}`}):s.jsx("div",{className:`w-16 h-16 rounded-lg ${m.bg} border-2 ${m.border} flex items-center justify-center flex-shrink-0`,children:s.jsx(Zs,{className:`h-8 w-8 ${m.text}/30`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-base font-light ${m.text} truncate`,children:a.targetName}),s.jsxs("p",{className:"text-xs text-indigo-400/60 italic font-light line-clamp-2 mt-0.5",children:['"',a.description,'"']})]})]}),(a.firstMet||a.keyMoments)&&s.jsxs("div",{className:"pt-3 border-t border-indigo-900/20 space-y-2",children:[a.firstMet&&s.jsxs("div",{className:"text-xs",children:[s.jsx("span",{className:"text-indigo-400/50",children:"First Met: "}),s.jsx("span",{className:`${m.text} font-light`,children:a.firstMet})]}),a.keyMoments&&a.keyMoments.length>0&&s.jsxs("div",{className:"text-xs",children:[s.jsx("span",{className:"text-indigo-400/50",children:"Key Moments: "}),s.jsxs("span",{className:"text-indigo-300/80 font-light",children:[a.keyMoments.slice(0,2).join(", "),a.keyMoments.length>2&&"..."]})]})]})]},`${i.id}-${a.targetId}`)})}),r<e.length-1&&s.jsx("div",{className:"mt-10 border-t border-indigo-900/20"})]},i.id))}),s.jsx("div",{className:"relative px-6 py-4 border-t border-indigo-900/30 bg-[#252B3C]/30",children:s.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-indigo-400/50 font-light",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zr,{className:"h-3 w-3 text-blue-400"}),s.jsx("span",{children:"Allies"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_v,{className:"h-3 w-3 text-red-400"}),s.jsx("span",{children:"Enemies"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zs,{className:"h-3 w-3 text-green-400"}),s.jsx("span",{children:"Teams"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Er,{className:"h-3 w-3 text-purple-400"}),s.jsx("span",{children:"Mentors"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(HP,{className:"h-3 w-3 text-pink-400"}),s.jsx("span",{children:"Relationships"})]})]})})]})}function fge(){const{data:e,isLoading:t}=yt({queryKey:["/api/creators/collaborations"],refetchInterval:3e4});return t?s.jsxs(Se,{className:"p-6 bg-[#1A1F2E] border-zinc-800",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Zs,{className:"w-5 h-5 text-indigo-400"}),s.jsx("h3",{className:"text-lg text-indigo-100",children:"Creator Collaborations"})]}),s.jsx("div",{className:"text-zinc-500 text-sm",children:"Loading legendary partnerships..."})]}):!e||e.length===0?s.jsxs(Se,{className:"p-6 bg-[#1A1F2E] border-zinc-800",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Zs,{className:"w-5 h-5 text-indigo-400"}),s.jsx("h3",{className:"text-lg text-indigo-100",children:"Creator Collaborations"})]}),s.jsx("div",{className:"text-zinc-500 text-sm",children:"No creator collaborations available"})]}):s.jsxs(Se,{className:"p-6 bg-[#1A1F2E] border-zinc-800 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48cGF0dGVybiBpZD0iZ3JpZCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')]"}),s.jsxs("div",{className:"flex items-center gap-3 mb-6 relative",children:[s.jsx(Zs,{className:"w-5 h-5 text-indigo-400"}),s.jsx("h3",{className:"text-lg text-indigo-100",children:"Creator Collaborations"}),s.jsx("div",{className:"ml-auto text-xs text-zinc-500",children:"Legendary Partnerships"})]}),s.jsx("div",{className:"space-y-6 relative",children:e.map(i=>s.jsxs("div",{className:"border border-zinc-800 bg-black/30 p-4 hover-elevate transition-all duration-300","data-testid":`collaboration-${i.id}`,children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:"relative w-12 h-12 rounded-full overflow-hidden border-2 border-indigo-500/30",children:s.jsx("img",{src:i.creator1.imageUrl,alt:i.creator1.name,className:"w-full h-full object-cover",loading:"lazy"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-indigo-100","data-testid":`creator1-name-${i.id}`,children:i.creator1.name}),s.jsx("div",{className:"text-xs text-zinc-500",children:i.creator1.role})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-indigo-400",children:[s.jsx("div",{className:"w-8 h-px bg-indigo-500/30"}),s.jsx(Zs,{className:"w-4 h-4"}),s.jsx("div",{className:"w-8 h-px bg-indigo-500/30"})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-1 flex-row-reverse",children:[s.jsx("div",{className:"relative w-12 h-12 rounded-full overflow-hidden border-2 border-indigo-500/30",children:s.jsx("img",{src:i.creator2.imageUrl,alt:i.creator2.name,className:"w-full h-full object-cover",loading:"lazy"})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-indigo-100","data-testid":`creator2-name-${i.id}`,children:i.creator2.name}),s.jsx("div",{className:"text-xs text-zinc-500",children:i.creator2.role})]})]})]}),s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h4",{className:"text-base text-white mb-1","data-testid":`team-name-${i.id}`,children:i.teamName}),s.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-zinc-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ci,{className:"w-3 h-3"}),s.jsxs("span",{children:[i.runsCount," runs"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(On,{className:"w-3 h-3"}),s.jsxs("span",{children:[i.issuesCount," issues"]})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"text-xs text-zinc-400 mb-2",children:"Notable Works"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:i.notableWorks.map((r,a)=>s.jsxs("div",{className:"relative group","data-testid":`notable-work-${i.id}-${a}`,children:[s.jsx("div",{className:"aspect-[2/3] overflow-hidden border border-zinc-700",children:s.jsx("img",{src:r.coverUrl,alt:r.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"})}),s.jsxs("div",{className:"mt-1",children:[s.jsx("div",{className:"text-xs text-zinc-300 line-clamp-1",children:r.title}),s.jsx("div",{className:"text-xs text-zinc-600",children:r.year})]})]},a))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx(On,{className:"w-3 h-3 text-yellow-500"}),s.jsx("div",{className:"text-xs text-zinc-400",children:"Legacy"})]}),s.jsx("div",{className:"text-xs text-zinc-300","data-testid":`legacy-${i.id}`,children:i.legacy})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx(ns,{className:"w-3 h-3 text-green-500"}),s.jsx("div",{className:"text-xs text-zinc-400",children:"Market Impact"})]}),s.jsx("div",{className:"text-xs text-zinc-300","data-testid":`impact-${i.id}`,children:i.impact})]})]})]},i.id))})]})}const gge="#eeba30",xge="#ae0001";function Ym({className:e,onClick:t,children:i,to:r}){const a=s.jsx("div",{onClick:t,className:DP("rounded-2xl p-4 cursor-pointer transition-shadow","ring-2 ring-offset-2","ring-[var(--rim)] hover:ring-4","hover:shadow-[0_0_10px_rgba(238,186,48,0.35)]",e),style:{"--rim":gge,background:xge,color:"white"},children:i});return r?s.jsx(gt,{to:r,className:"block rounded-2xl",children:a}):a}const Xm=()=>null;function yge(){return s.jsxs(Se,{className:"!bg-[#1A1F2E] gold-rimlight-hover","data-testid":"widget-portfolio-outlook",children:[s.jsx("div",{className:"px-4 pt-4",children:s.jsx("span",{style:{fontWeight:300},children:"Portfolio Outlook"})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 p-4",children:[s.jsxs(Ym,{bgClass:"!bg-[#AE0001]",title:"Account Value",to:"/portfolio/account-value",children:[s.jsx("div",{className:"text-2xl font-semibold",children:"$123,456"}),s.jsx("div",{className:"text-xs text-white/60",children:"Total account value"}),s.jsx(Xm,{to:"/portfolio/account-value",label:"Details"})]}),s.jsxs(Ym,{bgClass:"!bg-[#AE0001]",title:"Day P/L",to:"/portfolio/pnl",children:[s.jsx("div",{className:"text-2xl font-semibold text-emerald-400",children:"+$1,234"}),s.jsx("div",{className:"text-xs text-white/60",children:"Today’s change"}),s.jsx(Xm,{to:"/portfolio/pnl",label:"View P/L"})]}),s.jsxs(Ym,{bgClass:"!bg-[#AE0001]",title:"Total Return",to:"/portfolio/returns",children:[s.jsx("div",{className:"text-2xl font-semibold",children:"+12.7%"}),s.jsx("div",{className:"text-xs text-white/60",children:"Since inception"}),s.jsx(Xm,{to:"/portfolio/returns",label:"Details"})]}),s.jsxs(Ym,{bgClass:"!bg-[#AE0001]",title:"Buying Power",to:"/portfolio/buying-power",children:[s.jsx("div",{className:"text-2xl font-semibold",children:"$18,900"}),s.jsx("div",{className:"text-xs text-white/60",children:"Available to trade"}),s.jsx(Xm,{to:"/portfolio/buying-power",label:"Manage"})]}),s.jsxs(Ym,{bgClass:"!bg-[#AE0001]",title:"Open Orders",to:"/portfolio/orders",children:[s.jsx("div",{className:"text-2xl font-semibold",children:"7"}),s.jsx("div",{className:"text-xs text-white/60",children:"Awaiting fill"}),s.jsx(Xm,{to:"/portfolio/orders",label:"Orders"})]}),s.jsxs(Ym,{bgClass:"!bg-[#AE0001]",title:"Positions",to:"/portfolio/positions",children:[s.jsx("div",{className:"text-2xl font-semibold",children:"12"}),s.jsx("div",{className:"text-xs text-white/60",children:"Active positions"}),s.jsx(Xm,{to:"/portfolio/positions",label:"Positions"})]})]})]})}function j4(){var u,m,x,w;const{user:e}=sn(),{data:t}=yt({queryKey:["/api/market/overview"],refetchInterval:3e4}),{data:i}=yt({queryKey:["/api/comic-covers/random?limit=8"],refetchInterval:6e4}),{data:r}=yt({queryKey:["/api/comic-covers/key-issues"],refetchInterval:6e4}),a=((u=i==null?void 0:i.data)==null?void 0:u.map(A=>{var E,O;return{id:A.id||Math.random().toString(),symbol:((O=(E=A.title)==null?void 0:E.split(" ")[0])==null?void 0:O.toUpperCase().substring(0,6))||"COMIC",name:A.title,coverUrl:A.coverUrl,currentPrice:A.estimatedValue||Math.random()*100+10,changePercent:Math.random()*10-5,change:Math.random()*10-5}}))||[],{data:o}=yt({queryKey:["/api/portfolios/user",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),refetchInterval:3e4});return o!=null&&o.totalValue,o!=null&&o.dayChange,o!=null&&o.dayChangePercent,o!=null&&o.cashBalance,(m=o==null?void 0:o.holdings)!=null&&m.length,t!=null&&t.totalVolume,(x=t==null?void 0:t.topGainers)==null||x[0],(w=t==null?void 0:t.topLosers)==null||w[0],s.jsxs("div",{className:"space-y-4 texture-newsprint",children:[s.jsx(yge,{}),s.jsx(fme,{}),s.jsx(gme,{}),s.jsx("div",{className:"bg-slate-800/20 p-3 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs(Se,{className:"bg-slate-700/30 border border-border",children:[s.jsx(Be,{className:"pb-3",children:s.jsxs(Ze,{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:300,fontSize:"20pt"},children:[s.jsx(ns,{className:"w-5 h-5 text-green-500"}),"Top Gainers"]})}),s.jsx(Pe,{className:"space-y-2",children:t!=null&&t.topGainers&&t.topGainers.length>0?t.topGainers.slice(0,5).map(A=>{var E,O;return s.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-800/50 rounded-md transition-colors cursor-pointer","data-testid":`gainer-${A.id}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-800 rounded-md overflow-hidden flex-shrink-0",children:A.coverUrl?s.jsx("img",{src:A.coverUrl,alt:A.name,className:"w-full h-full object-contain"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-gray-600",children:A.symbol.slice(0,2)})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-white",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:A.symbol}),s.jsx("p",{className:"text-xs text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:A.name})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm text-white",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",((E=A.currentPrice)==null?void 0:E.toFixed(2))??"0.00"]}),s.jsxs("p",{className:"text-xs text-green-500",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["+",((O=A.changePercent)==null?void 0:O.toFixed(2))??"0.00","%"]})]})]},A.id)}):s.jsx("p",{className:"text-sm text-gray-400 text-center py-4",children:"No data available"})})]}),s.jsxs(Se,{className:"bg-slate-700/30 border border-border",children:[s.jsx(Be,{className:"pb-3",children:s.jsxs(Ze,{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:300,fontSize:"20pt"},children:[s.jsx(vi,{className:"w-5 h-5 text-red-500"}),"Top Losers"]})}),s.jsx(Pe,{className:"space-y-2",children:t!=null&&t.topLosers&&t.topLosers.length>0?t.topLosers.slice(0,5).map(A=>{var E,O;return s.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-800/50 rounded-md transition-colors cursor-pointer","data-testid":`loser-${A.id}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-800 rounded-md overflow-hidden flex-shrink-0",children:A.coverUrl?s.jsx("img",{src:A.coverUrl,alt:A.name,className:"w-full h-full object-contain"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-gray-600",children:A.symbol.slice(0,2)})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-white",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:A.symbol}),s.jsx("p",{className:"text-xs text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:A.name})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm text-white",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",((E=A.currentPrice)==null?void 0:E.toFixed(2))??"0.00"]}),s.jsxs("p",{className:"text-xs text-red-500",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:[((O=A.changePercent)==null?void 0:O.toFixed(2))??"0.00","%"]})]})]},A.id)}):s.jsx("p",{className:"text-sm text-gray-400 text-center py-4",children:"No data available"})})]})]})}),a&&a.length>0&&s.jsxs(Se,{className:"bg-gradient-to-br from-gray-900 to-black border border-border",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ze,{style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Trending Comics"}),s.jsx(rt,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs(gt,{href:"/trading",children:[s.jsx($P,{className:"w-4 h-4 mr-2"}),"Start Trading"]})})]})}),s.jsx(Pe,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:a.map(A=>{var E,O;return s.jsxs("div",{className:"group p-3 bg-gray-800/50 hover:bg-gray-800 rounded-md cursor-pointer transition-colors","data-testid":`asset-${A.id}`,children:[s.jsx("div",{className:"aspect-square bg-gray-700 rounded-md mb-2 overflow-hidden",children:A.coverUrl?s.jsx("img",{src:A.coverUrl,alt:A.name,className:"w-full h-full object-contain group-hover:scale-105 transition-transform duration-200"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-xl  text-gray-600",children:A.symbol.slice(0,2)})}),s.jsx("p",{className:"text-sm  text-white truncate mb-1",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:A.symbol}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm  text-white",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",((E=A.currentPrice)==null?void 0:E.toFixed(2))??"0.00"]}),s.jsxs("span",{className:`text-xs ${(A.changePercent??0)>=0?"text-green-500":"text-red-500"}`,children:[(A.changePercent??0)>=0?"+":"",((O=A.changePercent)==null?void 0:O.toFixed(2))??"0.00","%"]})]})]},A.id)})})})]}),s.jsx(Se,{className:"bg-gradient-to-br from-gray-900 to-black border border-border",children:s.jsx(Pe,{className:"py-4",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(rt,{variant:"outline",size:"sm",asChild:!0,"data-testid":"button-browse-comics",children:s.jsxs(gt,{href:"/trading",children:[s.jsx(WP,{className:"w-4 h-4 mr-2"}),"Browse Comics"]})}),s.jsx(rt,{variant:"outline",size:"sm",asChild:!0,"data-testid":"button-portfolio",children:s.jsxs(gt,{href:"/portfolio",children:[s.jsx(wW,{className:"w-4 h-4 mr-2"}),"View Portfolio"]})}),s.jsx(rt,{variant:"outline",size:"sm",asChild:!0,"data-testid":"button-watchlist",children:s.jsxs(gt,{href:"/watchlist",children:[s.jsx(Us,{className:"w-4 h-4 mr-2"}),"Watchlist"]})}),s.jsx(rt,{variant:"outline",size:"sm",asChild:!0,"data-testid":"button-analytics",children:s.jsxs(gt,{href:"/analytics",children:[s.jsx(ns,{className:"w-4 h-4 mr-2"}),"Analytics"]})})]})})}),s.jsx("div",{className:"bg-slate-800/20 p-3 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsx(bme,{}),s.jsx(wme,{})]})}),s.jsx("div",{className:"bg-slate-800/20 p-3 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsx(Nme,{}),s.jsx(_me,{})]})}),s.jsx("div",{className:"bg-slate-800/20 p-3 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsx(ige,{}),(r==null?void 0:r.data)&&r.data.length>0&&s.jsx(sge,{entityName:"Key Issues Collection",covers:r.data.slice(0,10).map(A=>({id:A.id,url:A.coverUrl,title:A.title,subtitle:A.publisher,year:A.publicationYear}))})]})}),s.jsx("div",{className:"bg-slate-800/20 p-3 rounded-lg",children:s.jsx(rge,{})}),s.jsx("div",{className:"bg-slate-800/20 p-3 rounded-lg",children:s.jsx(nge,{})}),s.jsx("div",{className:"bg-slate-800/20 p-3 rounded-lg",children:s.jsx(age,{})}),s.jsx("div",{className:"bg-slate-800/20 p-3 rounded-lg",children:s.jsx(cge,{})}),s.jsx("div",{className:"bg-slate-800/20 p-3 rounded-lg",children:s.jsx(uge,{})}),s.jsx("div",{className:"bg-slate-800/20 p-3 rounded-lg",children:s.jsx(mge,{})}),s.jsx("div",{className:"bg-slate-800/20 p-3 rounded-lg",children:s.jsx(fge,{})}),s.jsx("div",{className:"bg-slate-800/20 p-3 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:[s.jsx(jme,{}),s.jsx(kme,{}),s.jsx(tge,{})]})}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsx(tfe,{})}),s.jsx("div",{className:"bg-slate-800/20 p-3 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsx(bT,{}),s.jsx(Kfe,{})]})}),s.jsx("div",{className:"bg-slate-800/20 p-3 rounded-lg",children:s.jsx(Yfe,{})}),s.jsx(Vce,{})]})}const ca=V.forwardRef(({className:e,type:t,...i},r)=>s.jsx("input",{type:t,className:Ot("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...i}));ca.displayName="Input";function vge(){const{user:e}=sn(),{toast:t}=bn(),[i,r]=V.useState(""),[a,o]=V.useState(null),[u,m]=V.useState("market"),[x,w]=V.useState("buy"),[A,E]=V.useState("1"),[O,G]=V.useState(""),{data:te,isLoading:Q}=yt({queryKey:["/api/market/overview"],select:me=>{var we;return((we=me.topGainers)==null?void 0:we.slice(0,12))||[]},refetchInterval:3e4}),{data:J,isLoading:H}=yt({queryKey:["/api/comic-covers/random"],select:me=>me.data||[],refetchInterval:6e4}),W=Gc({mutationFn:async me=>await gu("POST","/api/orders/execute",me),onSuccess:()=>{t({title:"Order Placed",description:`${x.toUpperCase()} order for ${A} shares submitted successfully.`}),la.invalidateQueries({queryKey:["/api/portfolios"]}),la.invalidateQueries({queryKey:["/api/portfolio"]}),E("1"),G("")},onError:me=>{t({title:"Order Failed",description:me.message||"Failed to place order. Please try again.",variant:"destructive"})}}),Z=()=>{if(!a||!e){t({title:"Cannot Place Order",description:"Please select an asset and ensure you're logged in.",variant:"destructive"});return}const me=parseInt(A);if(isNaN(me)||me<=0){t({title:"Invalid Quantity",description:"Please enter a valid quantity.",variant:"destructive"});return}const we={userId:e.id,assetId:a.id,symbol:a.symbol,side:x,orderType:u,quantity:me,price:u==="limit"?parseFloat(O):a.currentPrice};W.mutate(we)},pe=te==null?void 0:te.filter(me=>me.name.toLowerCase().includes(i.toLowerCase())||me.symbol.toLowerCase().includes(i.toLowerCase()));return s.jsx("div",{className:"min-h-screen bg-background","data-testid":"page-trading",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl ",style:{fontFamily:"Space Grotesk"},children:"Comic Trading Floor"}),s.jsx("p",{className:"text-muted-foreground mt-2",style:{fontFamily:"Hind",fontWeight:300},children:"Trade comic book assets with real market dynamics"})]}),s.jsxs(st,{variant:"default",className:"text-lg px-4 py-2",children:[s.jsx(Ta,{className:"h-4 w-4 mr-2"}),"Market Open"]})]}),s.jsxs(Se,{"data-testid":"card-featured-covers",children:[s.jsxs(Be,{children:[s.jsxs(Ze,{style:{fontFamily:"Space Grotesk"},children:[s.jsx(Ci,{className:"inline h-5 w-5 mr-2"}),"Featured Comics"]}),s.jsx(lo,{style:{fontFamily:"Hind",fontWeight:300},children:"Explore tradeable comic book assets"})]}),s.jsx(Pe,{children:H?s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[...Array(6)].map((me,we)=>s.jsx("div",{className:"aspect-[2/3] bg-muted animate-pulse rounded-md"},we))}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:J==null?void 0:J.slice(0,6).map(me=>s.jsx("div",{className:"group cursor-pointer hover-elevate active-elevate-2 rounded-md overflow-hidden","data-testid":`comic-cover-${me.id}`,children:s.jsxs("div",{className:"aspect-[2/3] relative",children:[s.jsx("img",{src:me.coverUrl,alt:me.title,className:"w-full h-full object-cover"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:[s.jsx("p",{className:"text-xs text-white  truncate",style:{fontFamily:"Hind",fontWeight:300},children:me.title}),s.jsxs("p",{className:"text-xs text-white/70",style:{fontFamily:"Hind",fontWeight:300},children:["$",me.estimatedValue.toLocaleString()]})]})]})},me.id))})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Se,{"data-testid":"card-asset-search",children:[s.jsx(Be,{children:s.jsxs(Ze,{style:{fontFamily:"Space Grotesk"},children:[s.jsx(bW,{className:"inline h-5 w-5 mr-2"}),"Search Assets"]})}),s.jsx(Pe,{children:s.jsx(ca,{type:"text",placeholder:"Search by name or symbol...",value:i,onChange:me=>r(me.target.value),className:"w-full","data-testid":"input-asset-search",style:{fontFamily:"Hind",fontWeight:300}})})]}),s.jsxs(Se,{"data-testid":"card-asset-list",children:[s.jsx(Be,{children:s.jsxs(Ze,{style:{fontFamily:"Space Grotesk"},children:[s.jsx(ns,{className:"inline h-5 w-5 mr-2"}),"Trending Assets"]})}),s.jsx(Pe,{children:Q?s.jsx("div",{className:"space-y-2",children:[...Array(5)].map((me,we)=>s.jsx("div",{className:"h-16 bg-muted animate-pulse rounded-md"},we))}):s.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:pe==null?void 0:pe.map(me=>s.jsx("div",{onClick:()=>o(me),className:`p-4 rounded-md cursor-pointer hover-elevate active-elevate-2 border ${(a==null?void 0:a.id)===me.id?"border-primary bg-accent":"border-border"}`,"data-testid":`asset-item-${me.symbol}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[me.imageUrl&&s.jsx("img",{src:me.imageUrl,alt:me.name,className:"w-12 h-12 object-cover rounded-md"}),s.jsxs("div",{children:[s.jsx("p",{className:"",style:{fontFamily:"Space Grotesk"},children:me.symbol}),s.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-[200px]",style:{fontFamily:"Hind",fontWeight:300},children:me.name})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"",style:{fontFamily:"Space Grotesk"},children:["$",me.currentPrice.toFixed(2)]}),s.jsxs("div",{className:"flex items-center gap-1",children:[me.dayChangePercent>=0?s.jsx(ns,{className:"h-4 w-4 text-green-500"}):s.jsx(vi,{className:"h-4 w-4 text-red-500"}),s.jsxs("span",{className:me.dayChangePercent>=0?"text-green-500":"text-red-500",style:{fontFamily:"Space Grotesk",fontSize:"0.875rem"},children:[me.dayChangePercent>=0?"+":"",me.dayChangePercent.toFixed(2),"%"]})]})]})]})},me.id))})})]})]}),s.jsx("div",{children:s.jsxs(Se,{"data-testid":"card-order-entry",children:[s.jsxs(Be,{children:[s.jsxs(Ze,{style:{fontFamily:"Space Grotesk"},children:[s.jsx(W_,{className:"inline h-5 w-5 mr-2"}),"Place Order"]}),s.jsx(lo,{style:{fontFamily:"Hind",fontWeight:300},children:a?`Trading ${a.symbol}`:"Select an asset to trade"})]}),s.jsxs(Pe,{className:"space-y-4",children:[a&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-accent rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.imageUrl&&s.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-16 h-16 object-cover rounded-md"}),s.jsxs("div",{children:[s.jsx("p",{className:" text-lg",style:{fontFamily:"Space Grotesk"},children:a.symbol}),s.jsx("p",{className:"text-sm text-muted-foreground",style:{fontFamily:"Hind",fontWeight:300},children:a.name})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{style:{fontFamily:"Hind",fontWeight:300},children:"Current Price:"}),s.jsxs("span",{className:" text-xl",style:{fontFamily:"Space Grotesk"},children:["$",a.currentPrice.toFixed(2)]})]})]}),s.jsx(Ma,{value:x,onValueChange:me=>w(me),children:s.jsxs(Ea,{className:"grid w-full grid-cols-2",children:[s.jsx(Ls,{value:"buy","data-testid":"tab-buy",style:{fontFamily:"Space Grotesk"},children:"Buy"}),s.jsx(Ls,{value:"sell","data-testid":"tab-sell",style:{fontFamily:"Space Grotesk"},children:"Sell"})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(li,{style:{fontFamily:"Hind",fontWeight:300},children:"Order Type"}),s.jsxs(Hc,{value:u,onValueChange:me=>m(me),children:[s.jsx(Dl,{"data-testid":"select-order-type",children:s.jsx(Vc,{})}),s.jsxs(Rl,{children:[s.jsx(Si,{value:"market",children:"Market Order"}),s.jsx(Si,{value:"limit",children:"Limit Order"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(li,{htmlFor:"quantity",style:{fontFamily:"Hind",fontWeight:300},children:"Quantity"}),s.jsx(ca,{id:"quantity",type:"number",min:"1",value:A,onChange:me=>E(me.target.value),"data-testid":"input-quantity",style:{fontFamily:"Hind",fontWeight:300}})]}),u==="limit"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(li,{htmlFor:"limitPrice",style:{fontFamily:"Hind",fontWeight:300},children:"Limit Price"}),s.jsx(ca,{id:"limitPrice",type:"number",step:"0.01",value:O,onChange:me=>G(me.target.value),placeholder:a.currentPrice.toFixed(2),"data-testid":"input-limit-price",style:{fontFamily:"Hind",fontWeight:300}})]}),s.jsx("div",{className:"p-4 bg-muted rounded-md space-y-2",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{style:{fontFamily:"Hind",fontWeight:300},children:"Estimated Total:"}),s.jsxs("span",{className:"",style:{fontFamily:"Space Grotesk"},children:["$",((u==="limit"&&O?parseFloat(O):a.currentPrice)*parseInt(A||"0")).toFixed(2)]})]})}),s.jsxs(rt,{onClick:Z,disabled:W.isPending||!A,className:"w-full",variant:x==="buy"?"default":"destructive","data-testid":"button-place-order",style:{fontFamily:"Space Grotesk"},children:[s.jsx(Dn,{className:"h-4 w-4 mr-2"}),W.isPending?"Placing Order...":`${x==="buy"?"Buy":"Sell"} ${A} Shares`]})]}),!a&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",style:{fontFamily:"Hind",fontWeight:300},children:[s.jsx(W_,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Select an asset from the list to start trading"})]})]})]})})]})]})})}const{createElement:gg,createContext:bge,createRef:Bye,forwardRef:DG,useCallback:Qn,useContext:RG,useEffect:Vh,useImperativeHandle:FG,useLayoutEffect:wge,useMemo:_ge,useRef:ta,useState:Ff}=TN,k4=TN[`useId${Math.random()}`.slice(0,5)],Nge=wge,yj=bge(null);yj.displayName="PanelGroupContext";const $h=Nge,jge=typeof k4=="function"?k4:()=>null;let kge=0;function vE(e=null){const t=jge(),i=ta(e||t||null);return i.current===null&&(i.current=""+kge++),e??i.current}function zG({children:e,className:t="",collapsedSize:i,collapsible:r,defaultSize:a,forwardedRef:o,id:u,maxSize:m,minSize:x,onCollapse:w,onExpand:A,onResize:E,order:O,style:G,tagName:te="div",...Q}){const J=RG(yj);if(J===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:H,expandPanel:W,getPanelSize:Z,getPanelStyle:pe,groupId:me,isPanelCollapsed:we,reevaluatePanelConstraints:_e,registerPanel:de,resizePanel:Ae,unregisterPanel:We}=J,tt=vE(u),Xe=ta({callbacks:{onCollapse:w,onExpand:A,onResize:E},constraints:{collapsedSize:i,collapsible:r,defaultSize:a,maxSize:m,minSize:x},id:tt,idIsFromProps:u!==void 0,order:O});ta({didLogMissingDefaultSizeWarning:!1}),$h(()=>{const{callbacks:Qe,constraints:wt}=Xe.current,ot={...wt};Xe.current.id=tt,Xe.current.idIsFromProps=u!==void 0,Xe.current.order=O,Qe.onCollapse=w,Qe.onExpand=A,Qe.onResize=E,wt.collapsedSize=i,wt.collapsible=r,wt.defaultSize=a,wt.maxSize=m,wt.minSize=x,(ot.collapsedSize!==wt.collapsedSize||ot.collapsible!==wt.collapsible||ot.maxSize!==wt.maxSize||ot.minSize!==wt.minSize)&&_e(Xe.current,ot)}),$h(()=>{const Qe=Xe.current;return de(Qe),()=>{We(Qe)}},[O,tt,de,We]),FG(o,()=>({collapse:()=>{H(Xe.current)},expand:Qe=>{W(Xe.current,Qe)},getId(){return tt},getSize(){return Z(Xe.current)},isCollapsed(){return we(Xe.current)},isExpanded(){return!we(Xe.current)},resize:Qe=>{Ae(Xe.current,Qe)}}),[H,W,Z,we,tt,Ae]);const lt=pe(Xe.current,a);return gg(te,{...Q,children:e,className:t,id:u,style:{...lt,...G},"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-group-id":me,"data-panel-id":tt,"data-panel-size":parseFloat(""+lt.flexGrow).toFixed(1)})}const BG=DG((e,t)=>gg(zG,{...e,forwardedRef:t}));zG.displayName="Panel";BG.displayName="forwardRef(Panel)";let wT=null,Th=null;function Sge(e,t){if(t){const i=(t&UG)!==0,r=(t&GG)!==0,a=(t&qG)!==0,o=(t&KG)!==0;if(i)return a?"se-resize":o?"ne-resize":"e-resize";if(r)return a?"sw-resize":o?"nw-resize":"w-resize";if(a)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Age(){Th!==null&&(document.head.removeChild(Th),wT=null,Th=null)}function xA(e,t){const i=Sge(e,t);wT!==i&&(wT=i,Th===null&&(Th=document.createElement("style"),document.head.appendChild(Th)),Th.innerHTML=`*{cursor: ${i}!important;}`)}function WG(e){return e.type==="keydown"}function HG(e){return e.type.startsWith("pointer")}function VG(e){return e.type.startsWith("mouse")}function vj(e){if(HG(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(VG(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Cge(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Tge(e,t,i){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Pge(e,t){if(e===t)throw new Error("Cannot compare node with itself");const i={a:C4(e),b:C4(t)};let r;for(;i.a.at(-1)===i.b.at(-1);)e=i.a.pop(),t=i.b.pop(),r=e;Ps(r,"Stacking order can only be calculated for elements with a common ancestor");const a={a:A4(S4(i.a)),b:A4(S4(i.b))};if(a.a===a.b){const o=r.childNodes,u={a:i.a.at(-1),b:i.b.at(-1)};let m=o.length;for(;m--;){const x=o[m];if(x===u.a)return 1;if(x===u.b)return-1}}return Math.sign(a.a-a.b)}const Mge=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Ege(e){var t;const i=getComputedStyle((t=$G(e))!==null&&t!==void 0?t:e).display;return i==="flex"||i==="inline-flex"}function Ige(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||Ege(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||Mge.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function S4(e){let t=e.length;for(;t--;){const i=e[t];if(Ps(i,"Missing node"),Ige(i))return i}return null}function A4(e){return e&&Number(getComputedStyle(e).zIndex)||0}function C4(e){const t=[];for(;e;)t.push(e),e=$G(e);return t}function $G(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const UG=1,GG=2,qG=4,KG=8,Lge=Cge()==="coarse";let zo=[],zf=!1,Md=new Map,bj=new Map;const rv=new Set;function Oge(e,t,i,r,a){var o;const{ownerDocument:u}=t,m={direction:i,element:t,hitAreaMargins:r,setResizeHandlerState:a},x=(o=Md.get(u))!==null&&o!==void 0?o:0;return Md.set(u,x+1),rv.add(m),yN(),function(){var A;bj.delete(e),rv.delete(m);const E=(A=Md.get(u))!==null&&A!==void 0?A:1;if(Md.set(u,E-1),yN(),E===1&&Md.delete(u),zo.includes(m)){const O=zo.indexOf(m);O>=0&&zo.splice(O,1),wE(),a("up",!0,null)}}}function T4(e){const{target:t}=e,{x:i,y:r}=vj(e);zf=!0,bE({target:t,x:i,y:r}),yN(),zo.length>0&&(vN("down",e),e.preventDefault(),e.stopPropagation())}function O0(e){const{x:t,y:i}=vj(e);if(zf&&e.buttons===0&&(zf=!1,vN("up",e)),!zf){const{target:r}=e;bE({target:r,x:t,y:i})}vN("move",e),wE(),zo.length>0&&e.preventDefault()}function Zm(e){const{target:t}=e,{x:i,y:r}=vj(e);bj.clear(),zf=!1,zo.length>0&&e.preventDefault(),vN("up",e),bE({target:t,x:i,y:r}),wE(),yN()}function bE({target:e,x:t,y:i}){zo.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),rv.forEach(a=>{const{element:o,hitAreaMargins:u}=a,m=o.getBoundingClientRect(),{bottom:x,left:w,right:A,top:E}=m,O=Lge?u.coarse:u.fine;if(t>=w-O&&t<=A+O&&i>=E-O&&i<=x+O){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&Pge(r,o)>0){let te=r,Q=!1;for(;te&&!te.contains(o);){if(Tge(te.getBoundingClientRect(),m)){Q=!0;break}te=te.parentElement}if(Q)return}zo.push(a)}})}function yA(e,t){bj.set(e,t)}function wE(){let e=!1,t=!1;zo.forEach(r=>{const{direction:a}=r;a==="horizontal"?e=!0:t=!0});let i=0;bj.forEach(r=>{i|=r}),e&&t?xA("intersection",i):e?xA("horizontal",i):t?xA("vertical",i):Age()}function yN(){Md.forEach((e,t)=>{const{body:i}=t;i.removeEventListener("contextmenu",Zm),i.removeEventListener("pointerdown",T4),i.removeEventListener("pointerleave",O0),i.removeEventListener("pointermove",O0)}),window.removeEventListener("pointerup",Zm),window.removeEventListener("pointercancel",Zm),rv.size>0&&(zf?(zo.length>0&&Md.forEach((e,t)=>{const{body:i}=t;e>0&&(i.addEventListener("contextmenu",Zm),i.addEventListener("pointerleave",O0),i.addEventListener("pointermove",O0))}),window.addEventListener("pointerup",Zm),window.addEventListener("pointercancel",Zm)):Md.forEach((e,t)=>{const{body:i}=t;e>0&&(i.addEventListener("pointerdown",T4,{capture:!0}),i.addEventListener("pointermove",O0))}))}function vN(e,t){rv.forEach(i=>{const{setResizeHandlerState:r}=i,a=zo.includes(i);r(e,a,t)})}function Dge(){const[e,t]=Ff(0);return Qn(()=>t(i=>i+1),[])}function Ps(e,t){if(!e)throw console.error(t),Error(t)}const _E=10;function rp(e,t,i=_E){return e.toFixed(i)===t.toFixed(i)?0:e>t?1:-1}function _c(e,t,i=_E){return rp(e,t,i)===0}function wa(e,t,i){return rp(e,t,i)===0}function Rge(e,t,i){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const a=e[r],o=t[r];if(!wa(a,o,i))return!1}return!0}function jf({panelConstraints:e,panelIndex:t,size:i}){const r=e[t];Ps(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:a=0,collapsible:o,maxSize:u=100,minSize:m=0}=r;if(rp(i,m)<0)if(o){const x=(a+m)/2;rp(i,x)<0?i=a:i=m}else i=m;return i=Math.min(u,i),i=parseFloat(i.toFixed(_E)),i}function Y0({delta:e,initialLayout:t,panelConstraints:i,pivotIndices:r,prevLayout:a,trigger:o}){if(wa(e,0))return t;const u=[...t],[m,x]=r;Ps(m!=null,"Invalid first pivot index"),Ps(x!=null,"Invalid second pivot index");let w=0;if(o==="keyboard"){{const E=e<0?x:m,O=i[E];Ps(O,`Panel constraints not found for index ${E}`);const{collapsedSize:G=0,collapsible:te,minSize:Q=0}=O;if(te){const J=t[E];if(Ps(J!=null,`Previous layout not found for panel index ${E}`),wa(J,G)){const H=Q-J;rp(H,Math.abs(e))>0&&(e=e<0?0-H:H)}}}{const E=e<0?m:x,O=i[E];Ps(O,`No panel constraints found for index ${E}`);const{collapsedSize:G=0,collapsible:te,minSize:Q=0}=O;if(te){const J=t[E];if(Ps(J!=null,`Previous layout not found for panel index ${E}`),wa(J,Q)){const H=J-G;rp(H,Math.abs(e))>0&&(e=e<0?0-H:H)}}}}{const E=e<0?1:-1;let O=e<0?x:m,G=0;for(;;){const Q=t[O];Ps(Q!=null,`Previous layout not found for panel index ${O}`);const H=jf({panelConstraints:i,panelIndex:O,size:100})-Q;if(G+=H,O+=E,O<0||O>=i.length)break}const te=Math.min(Math.abs(e),Math.abs(G));e=e<0?0-te:te}{let O=e<0?m:x;for(;O>=0&&O<i.length;){const G=Math.abs(e)-Math.abs(w),te=t[O];Ps(te!=null,`Previous layout not found for panel index ${O}`);const Q=te-G,J=jf({panelConstraints:i,panelIndex:O,size:Q});if(!wa(te,J)&&(w+=te-J,u[O]=J,w.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?O--:O++}}if(Rge(a,u))return a;{const E=e<0?x:m,O=t[E];Ps(O!=null,`Previous layout not found for panel index ${E}`);const G=O+w,te=jf({panelConstraints:i,panelIndex:E,size:G});if(u[E]=te,!wa(te,G)){let Q=G-te,H=e<0?x:m;for(;H>=0&&H<i.length;){const W=u[H];Ps(W!=null,`Previous layout not found for panel index ${H}`);const Z=W+Q,pe=jf({panelConstraints:i,panelIndex:H,size:Z});if(wa(W,pe)||(Q-=pe-W,u[H]=pe),wa(Q,0))break;e>0?H--:H++}}}const A=u.reduce((E,O)=>O+E,0);return wa(A,100)?u:a}function Fge({layout:e,panelsArray:t,pivotIndices:i}){let r=0,a=100,o=0,u=0;const m=i[0];Ps(m!=null,"No pivot index found"),t.forEach((E,O)=>{const{constraints:G}=E,{maxSize:te=100,minSize:Q=0}=G;O===m?(r=Q,a=te):(o+=Q,u+=te)});const x=Math.min(a,100-o),w=Math.max(r,100-u),A=e[m];return{valueMax:x,valueMin:w,valueNow:A}}function nv(e,t=document){return Array.from(t.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function YG(e,t,i=document){const a=nv(e,i).findIndex(o=>o.getAttribute("data-panel-resize-handle-id")===t);return a??null}function XG(e,t,i){const r=YG(e,t,i);return r!=null?[r,r+1]:[-1,-1]}function ZG(e,t=document){var i;if(t instanceof HTMLElement&&(t==null||(i=t.dataset)===null||i===void 0?void 0:i.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function wj(e,t=document){const i=t.querySelector(`[data-panel-resize-handle-id="${e}"]`);return i||null}function zge(e,t,i,r=document){var a,o,u,m;const x=wj(t,r),w=nv(e,r),A=x?w.indexOf(x):-1,E=(a=(o=i[A])===null||o===void 0?void 0:o.id)!==null&&a!==void 0?a:null,O=(u=(m=i[A+1])===null||m===void 0?void 0:m.id)!==null&&u!==void 0?u:null;return[E,O]}function Bge({committedValuesRef:e,eagerValuesRef:t,groupId:i,layout:r,panelDataArray:a,panelGroupElement:o,setLayout:u}){ta({didWarnAboutMissingResizeHandle:!1}),$h(()=>{if(!o)return;const m=nv(i,o);for(let x=0;x<a.length-1;x++){const{valueMax:w,valueMin:A,valueNow:E}=Fge({layout:r,panelsArray:a,pivotIndices:[x,x+1]}),O=m[x];if(O!=null){const G=a[x];Ps(G,`No panel data found for index "${x}"`),O.setAttribute("aria-controls",G.id),O.setAttribute("aria-valuemax",""+Math.round(w)),O.setAttribute("aria-valuemin",""+Math.round(A)),O.setAttribute("aria-valuenow",E!=null?""+Math.round(E):"")}}return()=>{m.forEach((x,w)=>{x.removeAttribute("aria-controls"),x.removeAttribute("aria-valuemax"),x.removeAttribute("aria-valuemin"),x.removeAttribute("aria-valuenow")})}},[i,r,a,o]),Vh(()=>{if(!o)return;const m=t.current;Ps(m,"Eager values not found");const{panelDataArray:x}=m,w=ZG(i,o);Ps(w!=null,`No group found for id "${i}"`);const A=nv(i,o);Ps(A,`No resize handles found for group id "${i}"`);const E=A.map(O=>{const G=O.getAttribute("data-panel-resize-handle-id");Ps(G,"Resize handle element has no handle id attribute");const[te,Q]=zge(i,G,x,o);if(te==null||Q==null)return()=>{};const J=H=>{if(!H.defaultPrevented)switch(H.key){case"Enter":{H.preventDefault();const W=x.findIndex(Z=>Z.id===te);if(W>=0){const Z=x[W];Ps(Z,`No panel data found for index ${W}`);const pe=r[W],{collapsedSize:me=0,collapsible:we,minSize:_e=0}=Z.constraints;if(pe!=null&&we){const de=Y0({delta:wa(pe,me)?_e-me:me-pe,initialLayout:r,panelConstraints:x.map(Ae=>Ae.constraints),pivotIndices:XG(i,G,o),prevLayout:r,trigger:"keyboard"});r!==de&&u(de)}}break}}};return O.addEventListener("keydown",J),()=>{O.removeEventListener("keydown",J)}});return()=>{E.forEach(O=>O())}},[o,e,t,i,r,a,u])}function P4(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function QG(e,t){const i=e==="horizontal",{x:r,y:a}=vj(t);return i?r:a}function Wge(e,t,i,r,a){const o=i==="horizontal",u=wj(t,a);Ps(u,`No resize handle element found for id "${t}"`);const m=u.getAttribute("data-panel-group-id");Ps(m,"Resize handle element has no group id attribute");let{initialCursorPosition:x}=r;const w=QG(i,e),A=ZG(m,a);Ps(A,`No group element found for id "${m}"`);const E=A.getBoundingClientRect(),O=o?E.width:E.height;return(w-x)/O*100}function Hge(e,t,i,r,a,o){if(WG(e)){const u=i==="horizontal";let m=0;e.shiftKey?m=100:a!=null?m=a:m=10;let x=0;switch(e.key){case"ArrowDown":x=u?0:m;break;case"ArrowLeft":x=u?-m:0;break;case"ArrowRight":x=u?m:0;break;case"ArrowUp":x=u?0:-m;break;case"End":x=100;break;case"Home":x=-100;break}return x}else return r==null?0:Wge(e,t,i,r,o)}function Vge({panelDataArray:e}){const t=Array(e.length),i=e.map(o=>o.constraints);let r=0,a=100;for(let o=0;o<e.length;o++){const u=i[o];Ps(u,`Panel constraints not found for index ${o}`);const{defaultSize:m}=u;m!=null&&(r++,t[o]=m,a-=m)}for(let o=0;o<e.length;o++){const u=i[o];Ps(u,`Panel constraints not found for index ${o}`);const{defaultSize:m}=u;if(m!=null)continue;const x=e.length-r,w=a/x;r++,t[o]=w,a-=w}return t}function Qm(e,t,i){t.forEach((r,a)=>{const o=e[a];Ps(o,`Panel data not found for index ${a}`);const{callbacks:u,constraints:m,id:x}=o,{collapsedSize:w=0,collapsible:A}=m,E=i[x];if(E==null||r!==E){i[x]=r;const{onCollapse:O,onExpand:G,onResize:te}=u;te&&te(r,E),A&&(O||G)&&(G&&(E==null||_c(E,w))&&!_c(r,w)&&G(),O&&(E==null||!_c(E,w))&&_c(r,w)&&O())}})}function B1(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!=t[i])return!1;return!0}function $ge({defaultSize:e,dragState:t,layout:i,panelData:r,panelIndex:a,precision:o=3}){const u=i[a];let m;return u==null?m=e!=null?e.toPrecision(o):"1":r.length===1?m="1":m=u.toPrecision(o),{flexBasis:0,flexGrow:m,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function Uge(e,t=10){let i=null;return(...a)=>{i!==null&&clearTimeout(i),i=setTimeout(()=>{e(...a)},t)}}function M4(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,i)=>{localStorage.setItem(t,i)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function JG(e){return`react-resizable-panels:${e}`}function eq(e){return e.map(t=>{const{constraints:i,id:r,idIsFromProps:a,order:o}=t;return a?r:o?`${o}:${JSON.stringify(i)}`:JSON.stringify(i)}).sort((t,i)=>t.localeCompare(i)).join(",")}function tq(e,t){try{const i=JG(e),r=t.getItem(i);if(r){const a=JSON.parse(r);if(typeof a=="object"&&a!=null)return a}}catch{}return null}function Gge(e,t,i){var r,a;const o=(r=tq(e,i))!==null&&r!==void 0?r:{},u=eq(t);return(a=o[u])!==null&&a!==void 0?a:null}function qge(e,t,i,r,a){var o;const u=JG(e),m=eq(t),x=(o=tq(e,a))!==null&&o!==void 0?o:{};x[m]={expandToSizes:Object.fromEntries(i.entries()),layout:r};try{a.setItem(u,JSON.stringify(x))}catch(w){console.error(w)}}function E4({layout:e,panelConstraints:t}){const i=[...e],r=i.reduce((o,u)=>o+u,0);if(i.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${i.map(o=>`${o}%`).join(", ")}`);if(!wa(r,100)&&i.length>0)for(let o=0;o<t.length;o++){const u=i[o];Ps(u!=null,`No layout data found for index ${o}`);const m=100/r*u;i[o]=m}let a=0;for(let o=0;o<t.length;o++){const u=i[o];Ps(u!=null,`No layout data found for index ${o}`);const m=jf({panelConstraints:t,panelIndex:o,size:u});u!=m&&(a+=u-m,i[o]=m)}if(!wa(a,0))for(let o=0;o<t.length;o++){const u=i[o];Ps(u!=null,`No layout data found for index ${o}`);const m=u+a,x=jf({panelConstraints:t,panelIndex:o,size:m});if(u!==x&&(a-=x-u,i[o]=x,wa(a,0)))break}return i}const Kge=100,X0={getItem:e=>(M4(X0),X0.getItem(e)),setItem:(e,t)=>{M4(X0),X0.setItem(e,t)}},I4={};function sq({autoSaveId:e=null,children:t,className:i="",direction:r,forwardedRef:a,id:o=null,onLayout:u=null,keyboardResizeBy:m=null,storage:x=X0,style:w,tagName:A="div",...E}){const O=vE(o),G=ta(null),[te,Q]=Ff(null),[J,H]=Ff([]),W=Dge(),Z=ta({}),pe=ta(new Map),me=ta(0),we=ta({autoSaveId:e,direction:r,dragState:te,id:O,keyboardResizeBy:m,onLayout:u,storage:x}),_e=ta({layout:J,panelDataArray:[],panelDataArrayChanged:!1});ta({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),FG(a,()=>({getId:()=>we.current.id,getLayout:()=>{const{layout:pt}=_e.current;return pt},setLayout:pt=>{const{onLayout:Lt}=we.current,{layout:Jt,panelDataArray:Bt}=_e.current,ct=E4({layout:pt,panelConstraints:Bt.map(Ut=>Ut.constraints)});P4(Jt,ct)||(H(ct),_e.current.layout=ct,Lt&&Lt(ct),Qm(Bt,ct,Z.current))}}),[]),$h(()=>{we.current.autoSaveId=e,we.current.direction=r,we.current.dragState=te,we.current.id=O,we.current.onLayout=u,we.current.storage=x}),Bge({committedValuesRef:we,eagerValuesRef:_e,groupId:O,layout:J,panelDataArray:_e.current.panelDataArray,setLayout:H,panelGroupElement:G.current}),Vh(()=>{const{panelDataArray:pt}=_e.current;if(e){if(J.length===0||J.length!==pt.length)return;let Lt=I4[e];Lt==null&&(Lt=Uge(qge,Kge),I4[e]=Lt);const Jt=[...pt],Bt=new Map(pe.current);Lt(e,Jt,Bt,J,x)}},[e,J,x]),Vh(()=>{});const de=Qn(pt=>{const{onLayout:Lt}=we.current,{layout:Jt,panelDataArray:Bt}=_e.current;if(pt.constraints.collapsible){const ct=Bt.map(fs=>fs.constraints),{collapsedSize:Ut=0,panelSize:qt,pivotIndices:es}=vh(Bt,pt,Jt);if(Ps(qt!=null,`Panel size not found for panel "${pt.id}"`),!_c(qt,Ut)){pe.current.set(pt.id,qt);const ys=rf(Bt,pt)===Bt.length-1?qt-Ut:Ut-qt,ft=Y0({delta:ys,initialLayout:Jt,panelConstraints:ct,pivotIndices:es,prevLayout:Jt,trigger:"imperative-api"});B1(Jt,ft)||(H(ft),_e.current.layout=ft,Lt&&Lt(ft),Qm(Bt,ft,Z.current))}}},[]),Ae=Qn((pt,Lt)=>{const{onLayout:Jt}=we.current,{layout:Bt,panelDataArray:ct}=_e.current;if(pt.constraints.collapsible){const Ut=ct.map(Ks=>Ks.constraints),{collapsedSize:qt=0,panelSize:es=0,minSize:fs=0,pivotIndices:ys}=vh(ct,pt,Bt),ft=Lt??fs;if(_c(es,qt)){const Ks=pe.current.get(pt.id),Xi=Ks!=null&&Ks>=ft?Ks:ft,Ir=rf(ct,pt)===ct.length-1?es-Xi:Xi-es,Ii=Y0({delta:Ir,initialLayout:Bt,panelConstraints:Ut,pivotIndices:ys,prevLayout:Bt,trigger:"imperative-api"});B1(Bt,Ii)||(H(Ii),_e.current.layout=Ii,Jt&&Jt(Ii),Qm(ct,Ii,Z.current))}}},[]),We=Qn(pt=>{const{layout:Lt,panelDataArray:Jt}=_e.current,{panelSize:Bt}=vh(Jt,pt,Lt);return Ps(Bt!=null,`Panel size not found for panel "${pt.id}"`),Bt},[]),tt=Qn((pt,Lt)=>{const{panelDataArray:Jt}=_e.current,Bt=rf(Jt,pt);return $ge({defaultSize:Lt,dragState:te,layout:J,panelData:Jt,panelIndex:Bt})},[te,J]),Xe=Qn(pt=>{const{layout:Lt,panelDataArray:Jt}=_e.current,{collapsedSize:Bt=0,collapsible:ct,panelSize:Ut}=vh(Jt,pt,Lt);return Ps(Ut!=null,`Panel size not found for panel "${pt.id}"`),ct===!0&&_c(Ut,Bt)},[]),lt=Qn(pt=>{const{layout:Lt,panelDataArray:Jt}=_e.current,{collapsedSize:Bt=0,collapsible:ct,panelSize:Ut}=vh(Jt,pt,Lt);return Ps(Ut!=null,`Panel size not found for panel "${pt.id}"`),!ct||rp(Ut,Bt)>0},[]),Qe=Qn(pt=>{const{panelDataArray:Lt}=_e.current;Lt.push(pt),Lt.sort((Jt,Bt)=>{const ct=Jt.order,Ut=Bt.order;return ct==null&&Ut==null?0:ct==null?-1:Ut==null?1:ct-Ut}),_e.current.panelDataArrayChanged=!0,W()},[W]);$h(()=>{if(_e.current.panelDataArrayChanged){_e.current.panelDataArrayChanged=!1;const{autoSaveId:pt,onLayout:Lt,storage:Jt}=we.current,{layout:Bt,panelDataArray:ct}=_e.current;let Ut=null;if(pt){const es=Gge(pt,ct,Jt);es&&(pe.current=new Map(Object.entries(es.expandToSizes)),Ut=es.layout)}Ut==null&&(Ut=Vge({panelDataArray:ct}));const qt=E4({layout:Ut,panelConstraints:ct.map(es=>es.constraints)});P4(Bt,qt)||(H(qt),_e.current.layout=qt,Lt&&Lt(qt),Qm(ct,qt,Z.current))}}),$h(()=>{const pt=_e.current;return()=>{pt.layout=[]}},[]);const wt=Qn(pt=>{let Lt=!1;const Jt=G.current;return Jt&&window.getComputedStyle(Jt,null).getPropertyValue("direction")==="rtl"&&(Lt=!0),function(ct){ct.preventDefault();const Ut=G.current;if(!Ut)return()=>null;const{direction:qt,dragState:es,id:fs,keyboardResizeBy:ys,onLayout:ft}=we.current,{layout:Ks,panelDataArray:Xi}=_e.current,{initialLayout:wr}=es??{},Ir=XG(fs,pt,Ut);let Ii=Hge(ct,pt,qt,es,ys,Ut);const pr=qt==="horizontal";pr&&Lt&&(Ii=-Ii);const Wl=Xi.map(Me=>Me.constraints),Hr=Y0({delta:Ii,initialLayout:wr??Ks,panelConstraints:Wl,pivotIndices:Ir,prevLayout:Ks,trigger:WG(ct)?"keyboard":"mouse-or-touch"}),Oe=!B1(Ks,Hr);(HG(ct)||VG(ct))&&me.current!=Ii&&(me.current=Ii,!Oe&&Ii!==0?pr?yA(pt,Ii<0?UG:GG):yA(pt,Ii<0?qG:KG):yA(pt,0)),Oe&&(H(Hr),_e.current.layout=Hr,ft&&ft(Hr),Qm(Xi,Hr,Z.current))}},[]),ot=Qn((pt,Lt)=>{const{onLayout:Jt}=we.current,{layout:Bt,panelDataArray:ct}=_e.current,Ut=ct.map(Ks=>Ks.constraints),{panelSize:qt,pivotIndices:es}=vh(ct,pt,Bt);Ps(qt!=null,`Panel size not found for panel "${pt.id}"`);const ys=rf(ct,pt)===ct.length-1?qt-Lt:Lt-qt,ft=Y0({delta:ys,initialLayout:Bt,panelConstraints:Ut,pivotIndices:es,prevLayout:Bt,trigger:"imperative-api"});B1(Bt,ft)||(H(ft),_e.current.layout=ft,Jt&&Jt(ft),Qm(ct,ft,Z.current))},[]),Tt=Qn((pt,Lt)=>{const{layout:Jt,panelDataArray:Bt}=_e.current,{collapsedSize:ct=0,collapsible:Ut}=Lt,{collapsedSize:qt=0,collapsible:es,maxSize:fs=100,minSize:ys=0}=pt.constraints,{panelSize:ft}=vh(Bt,pt,Jt);ft!=null&&(Ut&&es&&_c(ft,ct)?_c(ct,qt)||ot(pt,qt):ft<ys?ot(pt,ys):ft>fs&&ot(pt,fs))},[ot]),ve=Qn((pt,Lt)=>{const{direction:Jt}=we.current,{layout:Bt}=_e.current;if(!G.current)return;const ct=wj(pt,G.current);Ps(ct,`Drag handle element not found for id "${pt}"`);const Ut=QG(Jt,Lt);Q({dragHandleId:pt,dragHandleRect:ct.getBoundingClientRect(),initialCursorPosition:Ut,initialLayout:Bt})},[]),Je=Qn(()=>{Q(null)},[]),mt=Qn(pt=>{const{panelDataArray:Lt}=_e.current,Jt=rf(Lt,pt);Jt>=0&&(Lt.splice(Jt,1),delete Z.current[pt.id],_e.current.panelDataArrayChanged=!0,W())},[W]),Rt=_ge(()=>({collapsePanel:de,direction:r,dragState:te,expandPanel:Ae,getPanelSize:We,getPanelStyle:tt,groupId:O,isPanelCollapsed:Xe,isPanelExpanded:lt,reevaluatePanelConstraints:Tt,registerPanel:Qe,registerResizeHandle:wt,resizePanel:ot,startDragging:ve,stopDragging:Je,unregisterPanel:mt,panelGroupElement:G.current}),[de,te,r,Ae,We,tt,O,Xe,lt,Tt,Qe,wt,ot,ve,Je,mt]),ts={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return gg(yj.Provider,{value:Rt},gg(A,{...E,children:t,className:i,id:o,ref:G,style:{...ts,...w},"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":O}))}const iq=DG((e,t)=>gg(sq,{...e,forwardedRef:t}));sq.displayName="PanelGroup";iq.displayName="forwardRef(PanelGroup)";function rf(e,t){return e.findIndex(i=>i===t||i.id===t.id)}function vh(e,t,i){const r=rf(e,t),o=r===e.length-1?[r-1,r]:[r,r+1],u=i[r];return{...t.constraints,panelSize:u,pivotIndices:o}}function Yge({disabled:e,handleId:t,resizeHandler:i,panelGroupElement:r}){Vh(()=>{if(e||i==null||r==null)return;const a=wj(t,r);if(a==null)return;const o=u=>{if(!u.defaultPrevented)switch(u.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{u.preventDefault(),i(u);break}case"F6":{u.preventDefault();const m=a.getAttribute("data-panel-group-id");Ps(m,`No group element found for id "${m}"`);const x=nv(m,r),w=YG(m,t,r);Ps(w!==null,`No resize element found for id "${t}"`);const A=u.shiftKey?w>0?w-1:x.length-1:w+1<x.length?w+1:0;x[A].focus();break}}};return a.addEventListener("keydown",o),()=>{a.removeEventListener("keydown",o)}},[r,e,t,i])}function rq({children:e=null,className:t="",disabled:i=!1,hitAreaMargins:r,id:a,onBlur:o,onDragging:u,onFocus:m,style:x={},tabIndex:w=0,tagName:A="div",...E}){var O,G;const te=ta(null),Q=ta({onDragging:u});Vh(()=>{Q.current.onDragging=u});const J=RG(yj);if(J===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:H,groupId:W,registerResizeHandle:Z,startDragging:pe,stopDragging:me,panelGroupElement:we}=J,_e=vE(a),[de,Ae]=Ff("inactive"),[We,tt]=Ff(!1),[Xe,lt]=Ff(null),Qe=ta({state:de});$h(()=>{Qe.current.state=de}),Vh(()=>{if(i)lt(null);else{const ve=Z(_e);lt(()=>ve)}},[i,_e,Z]);const wt=(O=r==null?void 0:r.coarse)!==null&&O!==void 0?O:15,ot=(G=r==null?void 0:r.fine)!==null&&G!==void 0?G:5;return Vh(()=>{if(i||Xe==null)return;const ve=te.current;return Ps(ve,"Element ref not attached"),Oge(_e,ve,H,{coarse:wt,fine:ot},(mt,Rt,ts)=>{if(Rt)switch(mt){case"down":{Ae("drag"),Ps(ts,'Expected event to be defined for "down" action'),pe(_e,ts);const{onDragging:pt}=Q.current;pt&&pt(!0);break}case"move":{const{state:pt}=Qe.current;pt!=="drag"&&Ae("hover"),Ps(ts,'Expected event to be defined for "move" action'),Xe(ts);break}case"up":{Ae("hover"),me();const{onDragging:pt}=Q.current;pt&&pt(!1);break}}else Ae("inactive")})},[wt,H,i,ot,Z,_e,Xe,pe,me]),Yge({disabled:i,handleId:_e,resizeHandler:Xe,panelGroupElement:we}),gg(A,{...E,children:e,className:t,id:a,onBlur:()=>{tt(!1),o==null||o()},onFocus:()=>{tt(!0),m==null||m()},ref:te,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...x},tabIndex:w,"data-panel-group-direction":H,"data-panel-group-id":W,"data-resize-handle":"","data-resize-handle-active":de==="drag"?"pointer":We?"keyboard":void 0,"data-resize-handle-state":de,"data-panel-resize-handle-enabled":!i,"data-panel-resize-handle-id":_e})}rq.displayName="PanelResizeHandle";const Xge=({className:e,...t})=>s.jsx(iq,{className:Ot("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t}),vA=BG,L4=({withHandle:e,className:t,...i})=>s.jsx(rq,{className:Ot("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...i,children:e&&s.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:s.jsx(ZJ,{className:"h-2.5 w-2.5"})})});var nq={exports:{}};(function(e,t){(function(i,r){i._Highcharts=r(),e.exports=i._Highcharts})(typeof window>"u"?TT:window,()=>(()=>{var FI;let i,r,a,o,u,m;var x,w,A,E,O,G,te,Q,J,H,W,Z,pe,me,we,_e,de,Ae,We,tt,Xe,lt,Qe,wt,ot={};ot.d=(T,n)=>{for(var c in n)ot.o(n,c)&&!ot.o(T,c)&&Object.defineProperty(T,c,{enumerable:!0,get:n[c]})},ot.o=(T,n)=>Object.prototype.hasOwnProperty.call(T,n);var Tt={};ot.d(Tt,{default:()=>uY}),function(T){var n,c,d,p,g,y,b;T.SVG_NS="http://www.w3.org/2000/svg",T.product="Highcharts",T.version="12.4.0",T.win=typeof window<"u"?window:{},T.doc=T.win.document,T.svg=!!((d=(c=(n=T.doc)==null?void 0:n.createElementNS)==null?void 0:c.call(n,T.SVG_NS,"svg"))!=null&&d.createSVGRect),T.pageLang=(y=(g=(p=T.doc)==null?void 0:p.documentElement)==null?void 0:g.closest("[lang]"))==null?void 0:y.lang,T.userAgent=((b=T.win.navigator)==null?void 0:b.userAgent)||"",T.isChrome=T.win.chrome,T.isFirefox=T.userAgent.indexOf("Firefox")!==-1,T.isMS=/(edge|msie|trident)/i.test(T.userAgent)&&!T.win.opera,T.isSafari=!T.isChrome&&T.userAgent.indexOf("Safari")!==-1,T.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(T.userAgent),T.isWebKit=T.userAgent.indexOf("AppleWebKit")!==-1,T.deg2rad=2*Math.PI/360,T.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],T.noop=function(){},T.supportsPassiveEvents=function(){let j=!1;if(!T.isMS){let P=Object.defineProperty({},"passive",{get:function(){j=!0}});T.win.addEventListener&&T.win.removeEventListener&&(T.win.addEventListener("testPassive",T.noop,P),T.win.removeEventListener("testPassive",T.noop,P))}return j}(),T.charts=[],T.composed=[],T.dateFormats={},T.seriesTypes={},T.symbolSizes={},T.chartCount=0}(x||(x={}));let ve=x,{charts:Je,doc:mt,win:Rt}=ve;function ts(T,n,c,d){let p=n?"Highcharts error":"Highcharts warning";T===32&&(T=`${p}: Deprecated member`);let g=qt(T),y=g?`${p} #${T}: www.highcharts.com/errors/${T}/`:T.toString();if(d!==void 0){let b="";g&&(y+="?"),pr(d,function(j,P){b+=`
 - ${P}: ${j}`,g&&(y+=encodeURI(P)+"="+encodeURI(j))}),y+=b}Hr(ve,"displayError",{chart:c,code:T,message:y,params:d},function(){if(n)throw Error(y);Rt.console&&ts.messages.indexOf(y)===-1&&console.warn(y)}),ts.messages.push(y)}function pt(T,n){return parseInt(T,n||10)}function Lt(T){return typeof T=="string"}function Jt(T){let n=Object.prototype.toString.call(T);return n==="[object Array]"||n==="[object Array Iterator]"}function Bt(T,n){return!!T&&typeof T=="object"&&(!n||!Jt(T))}function ct(T){return Bt(T)&&typeof T.nodeType=="number"}function Ut(T){let n=T==null?void 0:T.constructor;return!!(Bt(T,!0)&&!ct(T)&&(n!=null&&n.name)&&n.name!=="Object")}function qt(T){return typeof T=="number"&&!isNaN(T)&&T<1/0&&T>-1/0}function es(T){return T!=null}function fs(T,n,c){let d,p=Lt(n)&&!es(c),g=(y,b)=>{es(y)?T.setAttribute(b,y):p?(d=T.getAttribute(b))||b!=="class"||(d=T.getAttribute(b+"Name")):T.removeAttribute(b)};return Lt(n)?g(c,n):pr(n,g),d}function ys(T){return Jt(T)?T:[T]}function ft(T,n){let c;for(c in T||(T={}),n)T[c]=n[c];return T}function Ks(){let T=arguments,n=T.length;for(let c=0;c<n;c++){let d=T[c];if(d!=null)return d}}function Xi(T,n){ft(T.style,n)}function wr(T){return Math.pow(10,Math.floor(Math.log(T)/Math.LN10))}function Ir(T,n){return T>1e14?T:parseFloat(T.toPrecision(n||14))}(ts||(ts={})).messages=[],Math.easeInOutSine=function(T){return-.5*(Math.cos(Math.PI*T)-1)};let Ii=Array.prototype.find?function(T,n){return T.find(n)}:function(T,n){let c,d=T.length;for(c=0;c<d;c++)if(n(T[c],c))return T[c]};function pr(T,n,c){for(let d in T)Object.hasOwnProperty.call(T,d)&&n.call(c||T[d],T[d],d,T)}function Wl(T,n,c){function d(y,b){let j=T.removeEventListener;j&&j.call(T,y,b,!1)}function p(y){let b,j;T.nodeName&&(n?(b={})[n]=!0:b=y,pr(b,function(P,L){if(y[L])for(j=y[L].length;j--;)d(L,y[L][j].fn)}))}let g=typeof T=="function"&&T.prototype||T;if(Object.hasOwnProperty.call(g,"hcEvents")){let y=g.hcEvents;if(n){let b=y[n]||[];c?(y[n]=b.filter(function(j){return c!==j.fn}),d(n,c)):(p(y),y[n]=[])}else p(y),delete g.hcEvents}}function Hr(T,n,c,d){if(c=c||{},(mt==null?void 0:mt.createEvent)&&(T.dispatchEvent||T.fireEvent&&T!==ve)){let p=mt.createEvent("Events");p.initEvent(n,!0,!0),c=ft(p,c),T.dispatchEvent?T.dispatchEvent(c):T.fireEvent(n,c)}else if(T.hcEvents){c.target||ft(c,{preventDefault:function(){c.defaultPrevented=!0},target:T,type:n});let p=[],g=T,y=!1;for(;g.hcEvents;)Object.hasOwnProperty.call(g,"hcEvents")&&g.hcEvents[n]&&(p.length&&(y=!0),p.unshift.apply(p,g.hcEvents[n])),g=Object.getPrototypeOf(g);y&&p.sort((b,j)=>b.order-j.order),p.forEach(b=>{b.fn.call(T,c)===!1&&c.preventDefault()})}d&&!c.defaultPrevented&&d.call(T,c)}let Oe=function(){let T=Math.random().toString(36).substring(2,9)+"-",n=0;return function(){return"highcharts-"+(i?"":T)+n++}}();Rt.jQuery&&(Rt.jQuery.fn.highcharts=function(){let T=[].slice.call(arguments);if(this[0])return T[0]?(new ve[Lt(T[0])?T.shift():"Chart"](this[0],T[0],T[1]),this):Je[fs(this[0],"data-highcharts-chart")]});let Me={addEvent:function(T,n,c,d={}){let p=typeof T=="function"&&T.prototype||T;Object.hasOwnProperty.call(p,"hcEvents")||(p.hcEvents={});let g=p.hcEvents;ve.Point&&T instanceof ve.Point&&T.series&&T.series.chart&&(T.series.chart.runTrackerClick=!0);let y=T.addEventListener;y&&y.call(T,n,c,!!ve.supportsPassiveEvents&&{passive:d.passive===void 0?n.indexOf("touch")!==-1:d.passive,capture:!1}),g[n]||(g[n]=[]);let b={fn:c,order:typeof d.order=="number"?d.order:1/0};return g[n].push(b),g[n].sort((j,P)=>j.order-P.order),function(){Wl(T,n,c)}},arrayMax:function(T){let n=T.length,c=T[0];for(;n--;)T[n]>c&&(c=T[n]);return c},arrayMin:function(T){let n=T.length,c=T[0];for(;n--;)T[n]<c&&(c=T[n]);return c},attr:fs,clamp:function(T,n,c){return T>n?T<c?T:c:n},clearTimeout:function(T){es(T)&&clearTimeout(T)},correctFloat:Ir,createElement:function(T,n,c,d,p){let g=mt.createElement(T);return n&&ft(g,n),p&&Xi(g,{padding:"0",border:"none",margin:"0"}),c&&Xi(g,c),d&&d.appendChild(g),g},crisp:function(T,n=0,c){let d=n%2/2,p=c?-1:1;return(Math.round(T*p-d)+d)*p},css:Xi,defined:es,destroyObjectProperties:function(T,n,c){pr(T,function(d,p){d!==n&&(d!=null&&d.destroy)&&d.destroy(),(d!=null&&d.destroy||!c)&&delete T[p]})},diffObjects:function(T,n,c,d){let p={};return function g(y,b,j,P){let L=c?b:y;pr(y,function(C,I){if(!P&&d&&d.indexOf(I)>-1&&b[I]){C=ys(C),j[I]=[];for(let D=0;D<Math.max(C.length,b[I].length);D++)b[I][D]&&(C[D]===void 0?j[I][D]=b[I][D]:(j[I][D]={},g(C[D],b[I][D],j[I][D],P+1)))}else Bt(C,!0)&&!C.nodeType?(j[I]=Jt(C)?[]:{},g(C,b[I]||{},j[I],P+1),Object.keys(j[I]).length===0&&(I!=="colorAxis"||P!==0)&&delete j[I]):(y[I]!==b[I]||I in y&&!(I in b))&&I!=="__proto__"&&I!=="constructor"&&(j[I]=L[I])})}(T,n,p,0),p},discardElement:function(T){var n;(n=T==null?void 0:T.parentElement)==null||n.removeChild(T)},erase:function(T,n){let c=T.length;for(;c--;)if(T[c]===n){T.splice(c,1);break}},error:ts,extend:ft,extendClass:function(T,n){let c=function(){};return c.prototype=new T,ft(c.prototype,n),c},find:Ii,fireEvent:Hr,getAlignFactor:(T="")=>({center:.5,right:1,middle:.5,bottom:1})[T]||0,getClosestDistance:function(T,n){let c,d,p,g=!n;return T.forEach(y=>{if(y.length>1)for(p=y.length-1;p>0;p--)(d=y[p]-y[p-1])<0&&!g?(n==null||n(),n=void 0):d&&(c===void 0||d<c)&&(c=d)}),c},getMagnitude:wr,getNestedProperty:function(T,n){let c=T.split(".");for(;c.length&&es(n);){let d=c.shift();if(d===void 0||d==="__proto__")return;if(d==="this"){let g;return Bt(n)&&(g=n["@this"]),g??n}let p=n[d.replace(/[\\'"]/g,"")];if(!es(p)||typeof p=="function"||typeof p.nodeType=="number"||p===Rt)return;n=p}return n},getStyle:function T(n,c,d){var y;let p;if(c==="width"){let b=Math.min(n.offsetWidth,n.scrollWidth),j=(y=n.getBoundingClientRect)==null?void 0:y.call(n).width;return j<b&&j>=b-1&&(b=Math.floor(j)),Math.max(0,b-(T(n,"padding-left",!0)||0)-(T(n,"padding-right",!0)||0))}if(c==="height")return Math.max(0,Math.min(n.offsetHeight,n.scrollHeight)-(T(n,"padding-top",!0)||0)-(T(n,"padding-bottom",!0)||0));let g=Rt.getComputedStyle(n,void 0);return g&&(p=g.getPropertyValue(c),Ks(d,c!=="opacity")&&(p=pt(p))),p},insertItem:function(T,n){let c,d=T.options.index,p=n.length;for(c=T.options.isInternal?p:0;c<p+1;c++)if(!n[c]||qt(d)&&d<Ks(n[c].options.index,n[c]._i)||n[c].options.isInternal){n.splice(c,0,T);break}return c},isArray:Jt,isClass:Ut,isDOMElement:ct,isFunction:function(T){return typeof T=="function"},isNumber:qt,isObject:Bt,isString:Lt,merge:function(T,...n){let c,d=[T,...n],p={},g=function(b,j){return typeof b!="object"&&(b={}),pr(j,function(P,L){L!=="__proto__"&&L!=="constructor"&&(!Bt(P,!0)||Ut(P)||ct(P)?b[L]=j[L]:b[L]=g(b[L]||{},P))}),b};T===!0&&(p=d[1],d=Array.prototype.slice.call(d,2));let y=d.length;for(c=0;c<y;c++)p=g(p,d[c]);return p},normalizeTickInterval:function(T,n,c,d,p){let g,y=T;c=Ks(c,wr(T));let b=T/c;for(!n&&(n=p?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],d===!1&&(c===1?n=n.filter(function(j){return j%1==0}):c<=.1&&(n=[1/c]))),g=0;g<n.length&&(y=n[g],(!p||!(y*c>=T))&&(p||!(b<=(n[g]+(n[g+1]||n[g]))/2)));g++);return Ir(y*c,-Math.round(Math.log(.001)/Math.LN10))},objectEach:pr,offset:function(T){let n=mt.documentElement,c=T.parentElement||T.parentNode?T.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:c.top+(Rt.pageYOffset||n.scrollTop)-(n.clientTop||0),left:c.left+(Rt.pageXOffset||n.scrollLeft)-(n.clientLeft||0),width:c.width,height:c.height}},pad:function(T,n,c){return Array((n||2)+1-String(T).replace("-","").length).join(c||"0")+T},pick:Ks,pInt:pt,pushUnique:function(T,n){return 0>T.indexOf(n)&&!!T.push(n)},relativeLength:function(T,n,c){return/%$/.test(T)?n*parseFloat(T)/100+(c||0):parseFloat(T)},removeEvent:Wl,replaceNested:function(T,...n){let c,d;do for(d of(c=T,n))T=T.replace(d[0],d[1]);while(T!==c);return T},splat:ys,stableSort:function(T,n){let c,d,p=T.length;for(d=0;d<p;d++)T[d].safeI=d;for(T.sort(function(g,y){return(c=n(g,y))===0?g.safeI-y.safeI:c}),d=0;d<p;d++)delete T[d].safeI},syncTimeout:function(T,n,c){return n>0?setTimeout(T,n,c):(T.call(0,c),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(T){return Lt(T)?T.substring(0,1).toUpperCase()+T.substring(1):String(T)},uniqueKey:Oe,useSerialIds:function(T){return i=Ks(T,i)},wrap:function(T,n,c){let d=T[n];T[n]=function(){let p=arguments,g=this;return c.apply(this,[function(){return d.apply(g,arguments.length?arguments:p)}].concat([].slice.call(arguments)))}}},{pageLang:nt,win:Ft}=ve,{defined:Et,error:St,extend:Gt,isNumber:Fs,isObject:bi,isString:Ti,merge:Dg,objectEach:fi,pad:rn,splat:Rg,timeUnits:qc,ucfirst:Fg}=Me,Hn=ve.isSafari&&Ft.Intl&&!Ft.Intl.DateTimeFormat.prototype.formatRange,zg=T=>T.main===void 0,Vn=class{constructor(T,n){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=Ft.Date,this.update(T),this.lang=n}update(T={}){this.dTLCache={},this.options=T=Dg(!0,this.options,T);let{timezoneOffset:n,useUTC:c,locale:d}=T;this.Date=T.Date||Ft.Date||Date;let p=T.timezone;Et(c)&&(p=c?"UTC":void 0),n&&n%60==0&&(p="Etc/GMT"+(n>0?"+":"")+n/60),this.variableTimezone=p!=="UTC"&&(p==null?void 0:p.indexOf("Etc/GMT"))!==0,this.timezone=p,this.lang&&d&&(this.lang.locale=d),["months","shortMonths","weekdays","shortWeekdays"].forEach(g=>{let y=/months/i.test(g),b=/short/.test(g),j={timeZone:"UTC"};j[y?"month":"weekday"]=b?"short":"long",this[g]=(y?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(P=>this.dateFormat(j,(y?31:1)*24*36e5*P))})}toParts(T){let[n,c,d,p,g,y,b]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},T,"es").split(/(?:, | |\/|:)/g);return[p,d-1,c,g,y,b,Math.floor(Number(T)||0)%1e3,"DLMXJVS".indexOf(n)].map(Number)}dateTimeFormat(T,n,c=this.options.locale||nt){let d=JSON.stringify(T)+c;Ti(T)&&(T=this.str2dtf(T));let p=this.dTLCache[d];if(!p){T.timeZone??(T.timeZone=this.timezone);try{p=new Intl.DateTimeFormat(c,T)}catch(g){/Invalid time zone/i.test(g.message)?(St(34),T.timeZone="UTC",p=new Intl.DateTimeFormat(c,T)):St(g.message,!1)}}return this.dTLCache[d]=p,(p==null?void 0:p.format(n))||""}str2dtf(T,n={}){let c={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(c).forEach(d=>{T.indexOf(d)!==-1&&Gt(n,c[d])}),n}makeTime(T,n,c=1,d=0,p,g,y){let b=this.Date.UTC(T,n,c,d,p||0,g||0,y||0);if(this.timezone!=="UTC"){let j=this.getTimezoneOffset(b);if(b+=j,[2,3,8,9,10,11].indexOf(n)!==-1&&(d<5||d>20)){let P=this.getTimezoneOffset(b);j!==P?b+=P-j:j-36e5!==this.getTimezoneOffset(b-36e5)||Hn||(b-=36e5)}}return b}parse(T){if(!Ti(T))return T??void 0;let n=(T=T.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(T),c=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(T);n||c||(T+="Z");let d=Date.parse(T);if(Fs(d))return d+(!n||c?this.getTimezoneOffset(d):0)}getTimezoneOffset(T){if(this.timezone!=="UTC"){let[n,c,d,p,g=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},T,"en").split(/(GMT|:)/).map(Number),y=-(60*(d+g/60)*6e4);if(Fs(y))return y}return 0}dateFormat(T,n,c){let d=this.lang;if(!Et(n)||isNaN(n))return(d==null?void 0:d.invalidDate)||"";if(Ti(T=T??"%Y-%m-%d %H:%M:%S")){let p,g=/%\[([a-zA-Z]+)\]/g;for(;p=g.exec(T);)T=T.replace(p[0],this.dateTimeFormat(p[1],n,d==null?void 0:d.locale))}if(Ti(T)&&T.indexOf("%")!==-1){let p=this,[g,y,b,j,P,L,C,I]=this.toParts(n),D=(d==null?void 0:d.weekdays)||this.weekdays,B=(d==null?void 0:d.shortWeekdays)||this.shortWeekdays,q=(d==null?void 0:d.months)||this.months,Y=(d==null?void 0:d.shortMonths)||this.shortMonths;fi(Gt({a:B?B[I]:D[I].substr(0,3),A:D[I],d:rn(b),e:rn(b,2," "),w:I,v:(d==null?void 0:d.weekFrom)??"",b:Y[y],B:q[y],m:rn(y+1),o:y+1,y:g.toString().substr(2,2),Y:g,H:rn(j),k:j,I:rn(j%12||12),l:j%12||12,M:rn(P),p:j<12?"AM":"PM",P:j<12?"am":"pm",S:rn(L),L:rn(C,3)},ve.dateFormats),function(X,ie){if(Ti(T))for(;T.indexOf("%"+ie)!==-1;)T=T.replace("%"+ie,typeof X=="function"?X.call(p,n):X)})}else if(bi(T)){let p=(this.getTimezoneOffset(n)||0)/36e5,g=this.timezone||"Etc/GMT"+(p>=0?"+":"")+p,{prefix:y="",suffix:b=""}=T;T=y+this.dateTimeFormat(Gt({timeZone:g},T),n)+b}return c?Fg(T):T}resolveDTLFormat(T){return bi(T,!0)?bi(T,!0)&&zg(T)?{main:T}:T:{main:(T=Rg(T))[0],from:T[1],to:T[2]}}getDateFormat(T,n,c,d){let p=this.dateFormat("%m-%d %H:%M:%S.%L",n),g="01-01 00:00:00.000",y={millisecond:15,second:12,minute:9,hour:6,day:3},b="millisecond",j=b;for(b in qc){if(T&&T===qc.week&&+this.dateFormat("%w",n)===c&&p.substr(6)===g.substr(6)){b="week";break}if(T&&qc[b]>T){b=j;break}if(y[b]&&p.substr(y[b])!==g.substr(y[b]))break;b!=="week"&&(j=b)}return this.resolveDTLFormat(d[b]).main}},{defined:zv,extend:_u,timeUnits:Fi}=Me,Bg=class extends Vn{getTimeTicks(T,n,c,d){let p=this,g=[],y={},{count:b=1,unitRange:j}=T,[P,L,C,I,D,B]=p.toParts(n),q=(n||0)%1e3,Y;if(d??(d=1),zv(n)){if(q=j>=Fi.second?0:b*Math.floor(q/b),j>=Fi.second&&(B=j>=Fi.minute?0:b*Math.floor(B/b)),j>=Fi.minute&&(D=j>=Fi.hour?0:b*Math.floor(D/b)),j>=Fi.hour&&(I=j>=Fi.day?0:b*Math.floor(I/b)),j>=Fi.day&&(C=j>=Fi.month?1:Math.max(1,b*Math.floor(C/b))),j>=Fi.month&&(L=j>=Fi.year?0:b*Math.floor(L/b)),j>=Fi.year&&(P-=P%b),j===Fi.week){b&&(n=p.makeTime(P,L,C,I,D,B,q));let ue=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},n,"es"),ye="DLMXJVS".indexOf(ue);C+=-ye+d+(ye<d?-7:0)}n=p.makeTime(P,L,C,I,D,B,q),p.variableTimezone&&zv(c)&&(Y=c-n>4*Fi.month||p.getTimezoneOffset(n)!==p.getTimezoneOffset(c));let X=n,ie=1;for(;X<c;)g.push(X),j===Fi.year?X=p.makeTime(P+ie*b,0):j===Fi.month?X=p.makeTime(P,L+ie*b):Y&&(j===Fi.day||j===Fi.week)?X=p.makeTime(P,L,C+ie*b*(j===Fi.day?1:7)):Y&&j===Fi.hour&&b>1?X=p.makeTime(P,L,C,I+ie*b):X+=j*b,ie++;g.push(X),j<=Fi.hour&&g.length<1e4&&g.forEach(ue=>{ue%18e5==0&&p.dateFormat("%H%M%S%L",ue)==="000000000"&&(y[ue]="day")})}return g.info=_u(T,{higherRanks:y,totalRange:j*b}),g}},{isTouchDevice:Vr}=ve,{fireEvent:Bv,merge:Wv}=Me,ua={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:T=>Math.sqrt(1-Math.pow(T-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:Vr?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},ui=new Bg(ua.time,ua.lang),zi={defaultOptions:ua,defaultTime:ui,getOptions:function(){return ua},setOptions:function(T){var n;return Bv(ve,"setOptions",{options:T}),Wv(!0,ua,T),T.time&&ui.update(ua.time),T.lang&&"locale"in T.lang&&ui.update({locale:T.lang.locale}),(n=T.lang)!=null&&n.chartTitle&&(ua.title={...ua.title,text:T.lang.chartTitle}),ua}},{win:Tj}=ve,{isNumber:Hl,isString:Pj,merge:$r,pInt:Ur,defined:Hv}=Me,Vv=(T,n,c)=>`color-mix(in srgb,${T},${n} ${100*c}%)`,Wg=T=>Pj(T)&&!!T&&T!=="none";class ri{static parse(n){return n?new ri(n):ri.None}constructor(n){let c,d,p,g;this.rgba=[NaN,NaN,NaN,NaN],this.input=n;let y=ve.Color;if(y&&y!==ri)return new y(n);if(typeof n=="object"&&n.stops!==void 0)this.stops=n.stops.map(b=>new ri(b[1]));else if(typeof n=="string")for(this.input=n=ri.names[n.toLowerCase()]||n,p=ri.parsers.length;p--&&!d;)(c=(g=ri.parsers[p]).regex.exec(n))&&(d=g.parse(c));d&&(this.rgba=d)}get(n){let c=this.input,d=this.rgba;if(this.output)return this.output;if(typeof c=="object"&&this.stops!==void 0){let p=$r(c);return p.stops=[].slice.call(p.stops),this.stops.forEach((g,y)=>{p.stops[y]=[p.stops[y][0],g.get(n)]}),p}return d&&Hl(d[0])?n!=="rgb"&&(n||d[3]!==1)?n==="a"?`${d[3]}`:"rgba("+d.join(",")+")":"rgb("+d[0]+","+d[1]+","+d[2]+")":c}brighten(n){let c=this.rgba;if(this.stops)this.stops.forEach(function(d){d.brighten(n)});else if(Hl(n)&&n!==0)if(Hl(c[0]))for(let d=0;d<3;d++)c[d]+=Ur(255*n),c[d]<0&&(c[d]=0),c[d]>255&&(c[d]=255);else ri.useColorMix&&Wg(this.input)&&(this.output=Vv(this.input,n>0?"white":"black",Math.abs(n)));return this}setOpacity(n){return this.rgba[3]=n,this}tweenTo(n,c){let d=this.rgba,p=n.rgba;if(!Hl(d[0])||!Hl(p[0]))return ri.useColorMix&&Wg(this.input)&&Wg(n.input)&&c<.99?Vv(this.input,n.input,c):n.input||"none";let g=p[3]!==1||d[3]!==1,y=(j,P)=>j+(d[P]-j)*(1-c),b=p.slice(0,3).map(y).map(Math.round);return g&&b.push(y(p[3],3)),(g?"rgba(":"rgb(")+b.join(",")+")"}}ri.names={white:"#ffffff",black:"#000000"},ri.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(T){return[Ur(T[1]),Ur(T[2]),Ur(T[3]),parseFloat(T[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(T){return[Ur(T[1]),Ur(T[2]),Ur(T[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(T){return[Ur(T[1]+T[1],16),Ur(T[2]+T[2],16),Ur(T[3]+T[3],16),Hv(T[4])?Ur(T[4]+T[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(T){return[Ur(T[1],16),Ur(T[2],16),Ur(T[3],16),Hv(T[4])?Ur(T[4],16)/255:1]}}],ri.useColorMix=(FI=Tj.CSS)==null?void 0:FI.supports("color","color-mix(in srgb,red,blue 9%)"),ri.None=new ri("");let{parse:Hg}=ri,{win:Mj}=ve,{isNumber:Vg,objectEach:$g}=Me;class Lr{constructor(n,c,d){this.pos=NaN,this.options=c,this.elem=n,this.prop=d}dSetter(){let n=this.paths,c=n==null?void 0:n[0],d=n==null?void 0:n[1],p=this.now||0,g=[];if(p!==1&&c&&d)if(c.length===d.length&&p<1)for(let y=0;y<d.length;y++){let b=c[y],j=d[y],P=[];for(let L=0;L<j.length;L++){let C=b[L],I=j[L];Vg(C)&&Vg(I)&&(j[0]!=="A"||L!==4&&L!==5)?P[L]=C+p*(I-C):P[L]=I}g.push(P)}else g=d;else g=this.toD||[];this.elem.attr("d",g,void 0,!0)}update(){let n=this.elem,c=this.prop,d=this.now,p=this.options.step;this[c+"Setter"]?this[c+"Setter"]():n.attr?n.element&&n.attr(c,d,null,!0):n.style[c]=d+this.unit,p&&p.call(n,d,this)}run(n,c,d){let p=this,g=p.options,y=function(P){return!y.stopped&&p.step(P)},b=Mj.requestAnimationFrame||function(P){setTimeout(P,13)},j=function(){for(let P=0;P<Lr.timers.length;P++)Lr.timers[P]()||Lr.timers.splice(P--,1);Lr.timers.length&&b(j)};n!==c||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=n,this.end=c,this.unit=d,this.now=this.start,this.pos=0,y.elem=this.elem,y.prop=this.prop,y()&&Lr.timers.push(y)===1&&b(j)):(delete g.curAnim[this.prop],g.complete&&Object.keys(g.curAnim).length===0&&g.complete.call(this.elem))}step(n){let c,d,p=+new Date,g=this.options,y=this.elem,b=g.complete,j=g.duration,P=g.curAnim;return y.attr&&!y.element?c=!1:n||p>=j+this.startTime?(this.now=this.end,this.pos=1,this.update(),P[this.prop]=!0,d=!0,$g(P,function(L){L!==!0&&(d=!1)}),d&&b&&b.call(y),c=!1):(this.pos=g.easing((p-this.startTime)/j),this.now=this.start+(this.end-this.start)*this.pos,this.update(),c=!0),c}initPath(n,c,d){let p=n.startX,g=n.endX,y=d.slice(),b=n.isArea,j=b?2:1,P=c&&d.length>c.length&&d.hasStackedCliffs,L,C,I,D,B=c==null?void 0:c.slice();if(!B||P)return[y,y];function q(X,ie){for(;X.length<C;){let ue=X[0],ye=ie[C-X.length];if(ye&&ue[0]==="M"&&(ye[0]==="C"?X[0]=["C",ue[1],ue[2],ue[1],ue[2],ue[1],ue[2]]:X[0]=["L",ue[1],ue[2]]),X.unshift(ue),b){let xe=X.pop();X.push(X[X.length-1],xe)}}}function Y(X){for(;X.length<C;){let ie=X[Math.floor(X.length/j)-1].slice();if(ie[0]==="C"&&(ie[1]=ie[5],ie[2]=ie[6]),b){let ue=X[Math.floor(X.length/j)].slice();X.splice(X.length/2,0,ie,ue)}else X.push(ie)}}if(p&&g&&g.length){for(I=0;I<p.length;I++)if(p[I]===g[0]){L=I;break}else if(p[0]===g[g.length-p.length+I]){L=I,D=!0;break}else if(p[p.length-1]===g[g.length-p.length+I]){L=p.length-I;break}L===void 0&&(B=[])}return B.length&&Vg(L)&&(C=y.length+L*j,D?(q(B,y),Y(y)):(q(y,B),Y(B))),[B,y]}fillSetter(){Lr.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,Hg(this.start).tweenTo(Hg(this.end),this.pos),void 0,!0)}}Lr.timers=[];let{defined:_r,getStyle:$v,isArray:Ej,isNumber:Ij,isObject:Ug,merge:Uv,objectEach:Gv,pick:Lj}=Me;function pp(T){return Ug(T)?Uv({duration:500,defer:0},T):{duration:500*!!T,defer:0}}function Gg(T,n){let c=Lr.timers.length;for(;c--;)Lr.timers[c].elem!==T||n&&n!==Lr.timers[c].prop||(Lr.timers[c].stopped=!0)}let Nr={animate:function(T,n,c){let d,p="",g,y,b;Ug(c)||(b=arguments,c={duration:b[2],easing:b[3],complete:b[4]}),Ij(c.duration)||(c.duration=400),c.easing=typeof c.easing=="function"?c.easing:Math[c.easing]||Math.easeInOutSine,c.curAnim=Uv(n),Gv(n,function(j,P){Gg(T,P),y=new Lr(T,c,P),g=void 0,P==="d"&&Ej(n.d)?(y.paths=y.initPath(T,T.pathArray,n.d),y.toD=n.d,d=0,g=1):T.attr?d=T.attr(P):(d=parseFloat($v(T,P))||0,P!=="opacity"&&(p="px")),g||(g=j),typeof g=="string"&&g.match("px")&&(g=g.replace(/px/g,"")),y.run(d,g,p)})},animObject:pp,getDeferredAnimation:function(T,n,c){let d=pp(n),p=c?[c]:T.series,g=0,y=0;return p.forEach(b=>{let j=pp(b.options.animation);g=Ug(n)&&_r(n.defer)?d.defer:Math.max(g,j.duration+j.defer),y=Math.min(d.duration,j.duration)}),T.renderer.forExport&&(g=0),{defer:Math.max(0,g-y),duration:Math.min(g,y)}},setAnimation:function(T,n){n.renderer.globalAnimation=Lj(T,n.options.chart.animation,!0)},stop:Gg},{SVG_NS:mp,win:fp}=ve,{attr:Oj,createElement:gi,css:qv,error:qg,isFunction:Dj,isString:Kv,objectEach:Yv,splat:Rj}=Me,{trustedTypes:gp}=fp,xp=gp&&Dj(gp.createPolicy)&&gp.createPolicy("highcharts",{createHTML:T=>T}),Fj=xp?xp.createHTML(""):"";class xi{static filterUserAttributes(n){return Yv(n,(c,d)=>{let p=!0;xi.allowedAttributes.indexOf(d)===-1&&(p=!1),["background","dynsrc","href","lowsrc","src"].indexOf(d)!==-1&&(p=Kv(c)&&xi.allowedReferences.some(g=>c.indexOf(g)===0)),p||(qg(33,!1,void 0,{"Invalid attribute in config":`${d}`}),delete n[d]),Kv(c)&&n[d]&&(n[d]=c.replace(/</g,"&lt;"))}),n}static parseStyle(n){return n.split(";").reduce((c,d)=>{let p=d.split(":").map(y=>y.trim()),g=p.shift();return g&&p.length&&(c[g.replace(/-([a-z])/g,y=>y[1].toUpperCase())]=p.join(":")),c},{})}static setElementHTML(n,c){n.innerHTML=xi.emptyHTML,c&&new xi(c).addToDOM(n)}constructor(n){this.nodes=typeof n=="string"?this.parseMarkup(n):n}addToDOM(n){return function c(d,p){let g;return Rj(d).forEach(function(y){let b,j=y.tagName,P=y.textContent?ve.doc.createTextNode(y.textContent):void 0,L=xi.bypassHTMLFiltering;if(j)if(j==="#text")b=P;else if(xi.allowedTags.indexOf(j)!==-1||L){let C=j==="svg"?mp:p.namespaceURI||mp,I=ve.doc.createElementNS(C,j),D=y.attributes||{};Yv(y,function(B,q){q!=="tagName"&&q!=="attributes"&&q!=="children"&&q!=="style"&&q!=="textContent"&&(D[q]=B)}),Oj(I,L?D:xi.filterUserAttributes(D)),y.style&&qv(I,y.style),P&&I.appendChild(P),c(y.children||[],I),b=I}else qg(33,!1,void 0,{"Invalid tagName in config":j});b&&p.appendChild(b),g=b}),g}(this.nodes,n)}parseMarkup(n){let c,d=[];n=n.trim().replace(/ style=(["'])/g," data-style=$1");try{c=new DOMParser().parseFromString(xp?xp.createHTML(n):n,"text/html")}catch{}if(!c){let g=gi("div");g.innerHTML=n,c={body:g}}let p=(g,y)=>{let b=g.nodeName.toLowerCase(),j={tagName:b};b==="#text"&&(j.textContent=g.textContent||"");let P=g.attributes;if(P){let L={};[].forEach.call(P,C=>{C.name==="data-style"?j.style=xi.parseStyle(C.value):L[C.name]=C.value}),j.attributes=L}if(g.childNodes.length){let L=[];[].forEach.call(g.childNodes,C=>{p(C,L)}),L.length&&(j.children=L)}y.push(j)};return[].forEach.call(c.body.childNodes,g=>p(g,d)),d}}xi.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],xi.allowedReferences=["https://","http://","mailto:","/","../","./","#"],xi.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],xi.emptyHTML=Fj,xi.bypassHTMLFiltering=!1;let{defaultOptions:Xv,defaultTime:Nu}=zi,{pageLang:Zv}=ve,{extend:Qv,getNestedProperty:yp,isArray:Jv,isNumber:wn,isObject:ju,isString:zj,pick:Bj,ucfirst:Wj}=Me,Kc={add:(T,n)=>T+n,divide:(T,n)=>n!==0?T/n:"",eq:(T,n)=>T==n,each:function(T){let n=arguments[arguments.length-1];return!!Jv(T)&&T.map((c,d)=>vp(n.body,Qv(ju(c)?c:{"@this":c},{"@index":d,"@first":d===0,"@last":d===T.length-1}))).join("")},ge:(T,n)=>T>=n,gt:(T,n)=>T>n,if:T=>!!T,le:(T,n)=>T<=n,lt:(T,n)=>T<n,multiply:(T,n)=>T*n,ne:(T,n)=>T!=n,subtract:(T,n)=>T-n,ucfirst:Wj,unless:T=>!T},ku={},eb=T=>/^["'].+["']$/.test(T);function vp(T="",n,c){var Y;let d=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'’= #\(\)]+)\}/g,p=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,g=[],y=/f$/,b=/\.(\d)/,j=((Y=c==null?void 0:c.options)==null?void 0:Y.lang)||Xv.lang,P=(c==null?void 0:c.time)||Nu,L=(c==null?void 0:c.numberFormatter)||Kg.bind(c),C=(X="")=>{let ie;return X==="true"||X!=="false"&&((ie=Number(X)).toString()===X?ie:eb(X)?X.slice(1,-1):yp(X,n))},I,D,B=0,q;for(;(I=d.exec(T))!==null;){let X=I,ie=p.exec(I[1]);ie&&(I=ie,q=!0),D!=null&&D.isBlock||(D={ctx:n,expression:I[1],find:I[0],isBlock:I[1].charAt(0)==="#",start:I.index,startInner:I.index+I[0].length,length:I[0].length});let ue=(D.isBlock?X:I)[1].split(" ")[0].replace("#","");Kc[ue]&&(D.isBlock&&ue===D.fn&&B++,D.fn||(D.fn=ue));let ye=I[1]==="else";if(D.isBlock&&D.fn&&(I[1]===`/${D.fn}`||ye))if(B)!ye&&B--;else{let xe=D.startInner,be=T.substr(xe,I.index-xe);D.body===void 0?(D.body=be,D.startInner=I.index+I[0].length):D.elseBody=be,D.find+=be+I[0],ye||(g.push(D),D=void 0)}else D.isBlock||g.push(D);if(ie&&!(D!=null&&D.isBlock))break}return g.forEach(X=>{let ie,ue,{body:ye,elseBody:xe,expression:be,fn:je}=X;if(je){let Ne=[X],ke=[],De=be.length,Le=0,Ke;for(ue=0;ue<=De;ue++){let Ye=be.charAt(ue);Ke||Ye!=='"'&&Ye!=="'"?Ke===Ye&&(Ke=""):Ke=Ye,Ke||Ye!==" "&&ue!==De||(ke.push(be.substr(Le,ue-Le)),Le=ue+1)}for(ue=Kc[je].length;ue--;)Ne.unshift(C(ke[ue+1]));ie=Kc[je].apply(n,Ne),X.isBlock&&typeof ie=="boolean"&&(ie=vp(ie?ye:xe,n,c))}else{let Ne=eb(be)?[be]:be.split(":"),ke=(ie=C(Ne.shift()||""))%1!=0;if(typeof ie=="number"&&(Ne.length||ke)){let De=Ne.join(":");if(y.test(De)||ke){let Le=parseInt((De.match(b)||["","-1"])[1],10);ie!==null&&(ie=L(ie,Le,j.decimalPoint,De.indexOf(",")>-1?j.thousandsSep:""))}else ie=P.dateFormat(De,ie)}p.lastIndex=0,p.test(X.find)&&zj(ie)&&(ie=`"${ie}"`)}T=T.replace(X.find,Bj(ie,""))}),q?vp(T,n,c):T}function Kg(T,n,c,d){var q;n*=1;let p,g,[y,b]=(T=+T||0).toString().split("e").map(Number),j=((q=this==null?void 0:this.options)==null?void 0:q.lang)||Xv.lang,P=(T.toString().split(".")[1]||"").split("e")[0].length,L=n,C={};c??(c=j.decimalPoint),d??(d=j.thousandsSep),n===-1?n=Math.min(P,20):wn(n)?n&&b<0&&((g=n+b)>=0?(y=+y.toExponential(g).split("e")[0],n=g):(y=Math.floor(y),T=n<20?+(y*Math.pow(10,b)).toFixed(n):0,b=0)):n=2,b&&(n??(n=2),T=y),wn(n)&&n>=0&&(C.minimumFractionDigits=n,C.maximumFractionDigits=n),d===""&&(C.useGrouping=!1);let I=d||c,D=I?"en":(this==null?void 0:this.locale)||j.locale||Zv,B=JSON.stringify(C)+D;return p=(ku[B]??(ku[B]=new Intl.NumberFormat(D,C))).format(T),I&&(p=p.replace(/([,\.])/g,"_$1").replace(/_\,/g,d??",").replace("_.",c??".")),(n||+p!=0)&&(!(b<0)||L)||(p="0"),b&&+p!=0&&(p+="e"+(b<0?"":"+")+b),p}let Or={dateFormat:function(T,n,c){return Nu.dateFormat(T,n,c)},format:vp,helpers:Kc,numberFormat:Kg};(function(T){let n;T.rendererTypes={},T.getRendererType=function(c=n){return T.rendererTypes[c]||T.rendererTypes[n]},T.registerRendererType=function(c,d,p){T.rendererTypes[c]=d,(!n||p)&&(n=c,ve.Renderer=d)}})(w||(w={}));let $n=w,{clamp:Hj,pick:bp,pushUnique:Vj,stableSort:Yg}=Me;(A||(A={})).distribute=function T(n,c,d){let p=n,g=p.reducedLen||c,y=(ue,ye)=>ue.target-ye.target,b=[],j=n.length,P=[],L=b.push,C,I,D,B=!0,q,Y,X=0,ie;for(C=j;C--;)X+=n[C].size;if(X>g){for(Yg(n,(ue,ye)=>(ye.rank||0)-(ue.rank||0)),D=(ie=n[0].rank===n[n.length-1].rank)?j/2:-1,I=ie?D:j-1;D&&X>g;)q=n[C=Math.floor(I)],Vj(P,C)&&(X-=q.size),I+=D,ie&&I>=n.length&&(D/=2,I=D);P.sort((ue,ye)=>ye-ue).forEach(ue=>L.apply(b,n.splice(ue,1)))}for(Yg(n,y),n=n.map(ue=>({size:ue.size,targets:[ue.target],align:bp(ue.align,.5)}));B;){for(C=n.length;C--;)q=n[C],Y=(Math.min.apply(0,q.targets)+Math.max.apply(0,q.targets))/2,q.pos=Hj(Y-q.size*q.align,0,c-q.size);for(C=n.length,B=!1;C--;)C>0&&n[C-1].pos+n[C-1].size>n[C].pos&&(n[C-1].size+=n[C].size,n[C-1].targets=n[C-1].targets.concat(n[C].targets),n[C-1].align=.5,n[C-1].pos+n[C-1].size>c&&(n[C-1].pos=c-n[C-1].size),n.splice(C,1),B=!0)}return L.apply(p,b),C=0,n.some(ue=>{let ye=0;return(ue.targets||[]).some(()=>(p[C].pos=ue.pos+ye,d!==void 0&&Math.abs(p[C].pos-p[C].target)>d?(p.slice(0,C+1).forEach(xe=>delete xe.pos),p.reducedLen=(p.reducedLen||c)-.1*c,p.reducedLen>.1*c&&T(p,c,d),!0):(ye+=p[C].size,C++,!1)))}),Yg(p,y),p};let Su=A,{animate:Xg,animObject:$j,stop:Au}=Nr,{deg2rad:Zg,doc:Gr,svg:Uj,SVG_NS:Go,win:Qg,isFirefox:Jg}=ve,{addEvent:tb,attr:wp,createElement:Gj,crisp:_p,css:ex,defined:Un,erase:Yc,extend:_n,fireEvent:Xc,getAlignFactor:tx,isArray:sb,isFunction:ib,isNumber:rb,isObject:rr,isString:ha,merge:Np,objectEach:Zc,pick:Oa,pInt:qo,pushUnique:qj,replaceNested:jp,syncTimeout:nb,uniqueKey:Ko}=Me;class Zi{_defaultGetter(n){let c=Oa(this[n+"Value"],this[n],this.element?this.element.getAttribute(n):null,0);return/^-?[\d\.]+$/.test(c)&&(c=parseFloat(c)),c}_defaultSetter(n,c,d){d.setAttribute(c,n)}add(n){let c,d=this.renderer,p=this.element;return n&&(this.parentGroup=n),this.textStr!==void 0&&this.element.nodeName==="text"&&d.buildText(this),this.added=!0,(!n||n.handleZ||this.zIndex)&&(c=this.zIndexSetter()),c||(n?n.element:d.box).appendChild(p),this.onAdd&&this.onAdd(),this}addClass(n,c){let d=c?"":this.attr("class")||"";return(n=(n||"").split(/ /g).reduce(function(p,g){return d.indexOf(g)===-1&&p.push(g),p},d?[d]:[]).join(" "))!==d&&this.attr("class",n),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(n,c,d,p=!0){let g=this.renderer,y=g.alignedObjects,b=!!n;n?(this.alignOptions=n,this.alignByTranslate=c,this.alignTo=d):(n=this.alignOptions||{},c=this.alignByTranslate,d=this.alignTo);let j=!d||ha(d)?d||"renderer":void 0;j&&(b&&qj(y,this),d=void 0);let P=Oa(d,g[j],g),L=(P.x||0)+(n.x||0)+((P.width||0)-(n.width||0))*tx(n.align),C=(P.y||0)+(n.y||0)+((P.height||0)-(n.height||0))*tx(n.verticalAlign),I={"text-align":n==null?void 0:n.align};return I[c?"translateX":"x"]=Math.round(L),I[c?"translateY":"y"]=Math.round(C),p&&(this[this.placed?"animate":"attr"](I),this.placed=!0),this.alignAttr=I,this}alignSetter(n){let c={left:"start",center:"middle",right:"end"};c[n]&&(this.alignValue=n,this.element.setAttribute("text-anchor",c[n]))}animate(n,c,d){let p=$j(Oa(c,this.renderer.globalAnimation,!0)),g=p.defer;return Gr.hidden&&(p.duration=0),p.duration!==0?(d&&(p.complete=d),nb(()=>{this.element&&Xg(this,n,p)},g)):(this.attr(n,void 0,d||p.complete),Zc(n,function(y,b){p.step&&p.step.call(this,y,{prop:b,pos:1,elem:this})},this)),this}applyTextOutline(n){let c=this.element;n.indexOf("contrast")!==-1&&(n=n.replace(/contrast/g,this.renderer.getContrast(c.style.fill)));let d=n.indexOf(" "),p=n.substring(d+1),g=n.substring(0,d);if(g&&g!=="none"&&ve.svg){this.fakeTS=!0,g=g.replace(/(^[\d\.]+)(.*?)$/g,function(L,C,I){return 2*Number(C)+I}),this.removeTextOutline();let y=Gr.createElementNS(Go,"tspan");wp(y,{class:"highcharts-text-outline",fill:p,stroke:p,"stroke-width":g,"stroke-linejoin":"round"});let b=c.querySelector("textPath")||c;[].forEach.call(b.childNodes,L=>{let C=L.cloneNode(!0);C.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(I=>C.removeAttribute(I)),y.appendChild(C)});let j=0;[].forEach.call(b.querySelectorAll("text tspan"),L=>{j+=Number(L.getAttribute("dy"))});let P=Gr.createElementNS(Go,"tspan");P.textContent="​",wp(P,{x:Number(c.getAttribute("x")),dy:-j}),y.appendChild(P),b.insertBefore(y,b.firstChild)}}attr(n,c,d,p){let{element:g}=this,y=Zi.symbolCustomAttribs,b,j,P=this,L;return typeof n=="string"&&c!==void 0&&(b=n,(n={})[b]=c),typeof n=="string"?P=(this[n+"Getter"]||this._defaultGetter).call(this,n,g):(Zc(n,function(C,I){L=!1,p||Au(this,I),this.symbolName&&y.indexOf(I)!==-1&&(j||(this.symbolAttr(n),j=!0),L=!0),this.rotation&&(I==="x"||I==="y")&&(this.doTransform=!0),L||(this[I+"Setter"]||this._defaultSetter).call(this,C,I,g)},this),this.afterSetters()),d&&d.call(this),P}clip(n){if(n&&!n.clipPath){let c=Ko()+"-",d=this.renderer.createElement("clipPath").attr({id:c}).add(this.renderer.defs);_n(n,{clipPath:d,id:c,count:0}),n.add(d)}return this.attr("clip-path",n?`url(${this.renderer.url}#${n.id})`:"none")}crisp(n,c){c=Math.round(c||n.strokeWidth||0);let d=n.x||this.x||0,p=n.y||this.y||0,g=(n.width||this.width||0)+d,y=(n.height||this.height||0)+p,b=_p(d,c),j=_p(p,c);return _n(n,{x:b,y:j,width:_p(g,c)-b,height:_p(y,c)-j}),Un(n.strokeWidth)&&(n.strokeWidth=c),n}complexColor(n,c,d){let p=this.renderer,g,y,b,j,P,L,C,I,D,B,q=[],Y;Xc(this.renderer,"complexColor",{args:arguments},function(){if(n.radialGradient?y="radialGradient":n.linearGradient&&(y="linearGradient"),y){if(b=n[y],P=p.gradients,L=n.stops,D=d.radialReference,sb(b)&&(n[y]=b={x1:b[0],y1:b[1],x2:b[2],y2:b[3],gradientUnits:"userSpaceOnUse"}),y==="radialGradient"&&D&&!Un(b.gradientUnits)&&(j=b,b=Np(b,p.getRadialAttr(D,j),{gradientUnits:"userSpaceOnUse"})),Zc(b,function(X,ie){ie!=="id"&&q.push(ie,X)}),Zc(L,function(X){q.push(X)}),P[q=q.join(",")])B=P[q].attr("id");else{b.id=B=Ko();let X=P[q]=p.createElement(y).attr(b).add(p.defs);X.radAttr=j,X.stops=[],L.forEach(function(ie){ie[1].indexOf("rgba")===0?(C=(g=ri.parse(ie[1])).get("rgb"),I=g.get("a")):(C=ie[1],I=1);let ue=p.createElement("stop").attr({offset:ie[0],"stop-color":C,"stop-opacity":I}).add(X);X.stops.push(ue)})}Y="url("+p.url+"#"+B+")",d.setAttribute(c,Y),d.gradient=q,n.toString=function(){return Y}}})}css(n){let c=this.styles,d={},p=this.element,g,y=!c;if(c&&Zc(n,function(b,j){c&&c[j]!==b&&(d[j]=b,y=!0)}),y){c&&(n=_n(c,d)),n.width===null||n.width==="auto"?delete this.textWidth:p.nodeName.toLowerCase()==="text"&&n.width&&(g=this.textWidth=qo(n.width)),_n(this.styles,n),g&&!Uj&&this.renderer.forExport&&delete n.width;let b=Jg&&n.fontSize||null;b&&(rb(b)||/^\d+$/.test(b))&&(n.fontSize+="px");let j=Np(n);p.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(P=>j&&delete j[P]),j.color&&(j.fill=j.color,delete j.color)),ex(p,j)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),n.textOutline&&this.applyTextOutline(n.textOutline)),this}dashstyleSetter(n){let c,d=this["stroke-width"];if(d==="inherit"&&(d=1),n){let p=(n=n.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(c=p.length;c--;)p[c]=""+qo(p[c])*Oa(d,NaN);n=p.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",n)}}destroy(){let n=this,c=n.element||{},d=n.renderer,p=c.ownerSVGElement,g=c.nodeName==="SPAN"&&n.parentGroup||void 0,y,b;if(c.onclick=c.onmouseout=c.onmouseover=c.onmousemove=c.point=null,Au(n),n.clipPath&&p){let j=n.clipPath;[].forEach.call(p.querySelectorAll("[clip-path],[CLIP-PATH]"),function(P){P.getAttribute("clip-path").indexOf(j.element.id)>-1&&P.removeAttribute("clip-path")}),n.clipPath=j.destroy()}if(n.stops){for(b=0;b<n.stops.length;b++)n.stops[b].destroy();n.stops.length=0,n.stops=void 0}for(n.safeRemoveChild(c);g!=null&&g.div&&g.div.childNodes.length===0;)y=g.parentGroup,n.safeRemoveChild(g.div),delete g.div,g=y;n.alignOptions&&Yc(d.alignedObjects,n),Zc(n,(j,P)=>{var L,C,I;(((L=n[P])==null?void 0:L.parentGroup)===n||["connector","foreignObject"].indexOf(P)!==-1)&&((I=(C=n[P])==null?void 0:C.destroy)==null||I.call(C)),delete n[P]})}dSetter(n,c,d){sb(n)&&(typeof n[0]=="string"&&(n=this.renderer.pathToSegments(n)),this.pathArray=n,n=n.reduce((p,g,y)=>g!=null&&g.join?(y?p+" ":"")+g.join(" "):(g||"").toString(),"")),/(NaN| {2}|^$)/.test(n)&&(n="M 0 0"),this[c]!==n&&(d.setAttribute(c,n),this[c]=n)}fillSetter(n,c,d){typeof n=="string"?d.setAttribute(c,n):n&&this.complexColor(n,c,d)}hrefSetter(n,c,d){d.setAttributeNS("http://www.w3.org/1999/xlink",c,n)}getBBox(n,c){let d,p,g,y,{alignValue:b,element:j,renderer:P,styles:L,textStr:C}=this,{cache:I,cacheKeys:D}=P,B=j.namespaceURI===this.SVG_NS,q=Oa(c,this.rotation,0),Y=P.styledMode?j&&Zi.prototype.getStyle.call(j,"font-size"):L.fontSize;if(Un(C)&&((y=C.toString()).indexOf("<")===-1&&(y=y.replace(/\d/g,"0")),y+=["",P.rootFontSize,Y,q,this.textWidth,b,L.lineClamp,L.textOverflow,L.fontWeight].join(",")),y&&!n&&(d=I[y]),!d||d.polygon){if(B||P.forExport){try{g=this.fakeTS&&function(ie){let ue=j.querySelector(".highcharts-text-outline");ue&&ex(ue,{display:ie})},ib(g)&&g("none"),d=j.getBBox?_n({},j.getBBox()):{width:j.offsetWidth,height:j.offsetHeight,x:0,y:0},ib(g)&&g("")}catch{}(!d||d.width<0)&&(d={x:0,y:0,width:0,height:0})}else d=this.htmlGetBBox();p=d.height,B&&(d.height=p={"11px,17":14,"13px,20":16}[`${Y||""},${Math.round(p)}`]||p),q&&(d=this.getRotatedBox(d,q));let X={bBox:d};Xc(this,"afterGetBBox",X),d=X.bBox}if(y&&(C===""||d.height>0)){for(;D.length>250;)delete I[D.shift()];I[y]||D.push(y),I[y]=d}return d}getRotatedBox(n,c){let{x:d,y:p,width:g,height:y}=n,{alignValue:b,translateY:j,rotationOriginX:P=0,rotationOriginY:L=0}=this,C=tx(b),I=Number(this.element.getAttribute("y")||0)-(j?0:p),D=c*Zg,B=(c-90)*Zg,q=Math.cos(D),Y=Math.sin(D),X=g*q,ie=g*Y,ue=Math.cos(B),ye=Math.sin(B),[[xe,be],[je,Ne]]=[P,L].map(Zt=>[Zt-Zt*q,Zt*Y]),ke=d+C*(g-X)+xe+Ne+I*ue,De=ke+X,Le=De-y*ue,Ke=Le-X,Ye=p+I-C*ie-be+je+I*ye,bt=Ye+ie,et=bt-y*ye,ut=et-ie,xt=Math.min(ke,De,Le,Ke),kt=Math.min(Ye,bt,et,ut),Ct=Math.max(ke,De,Le,Ke)-xt,It=Math.max(Ye,bt,et,ut)-kt;return{x:xt,y:kt,width:Ct,height:It,polygon:[[ke,Ye],[De,bt],[Le,et],[Ke,ut]]}}getStyle(n){return Qg.getComputedStyle(this.element||this,"").getPropertyValue(n)}hasClass(n){return(""+this.attr("class")).split(" ").indexOf(n)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(n,c){this.onEvents={},this.opacity=1,this.SVG_NS=Go,this.element=c==="span"||c==="body"?Gj(c):Gr.createElementNS(this.SVG_NS,c),this.renderer=n,this.styles={},Xc(this,"afterInit")}on(n,c){let{onEvents:d}=this;return d[n]&&d[n](),d[n]=tb(this.element,n,c),this}opacitySetter(n,c,d){let p=Number(Number(n).toFixed(3));this.opacity=p,d.setAttribute(c,p)}reAlign(){var n;(n=this.alignOptions)!=null&&n.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(n){return this.attr("class",(""+this.attr("class")).replace(ha(n)?RegExp(`(^| )${n}( |$)`):n," ").replace(/ +/g," ").trim())}removeTextOutline(){let n=this.element.querySelector("tspan.highcharts-text-outline");n&&this.safeRemoveChild(n)}safeRemoveChild(n){let c=n.parentNode;c&&c.removeChild(n)}setRadialReference(n){let c=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=n,c!=null&&c.radAttr&&c.animate(this.renderer.getRadialAttr(n,c.radAttr)),this}shadow(n){var g;let{renderer:c}=this,d=Np(((g=this.parentGroup)==null?void 0:g.rotation)===90?{offsetX:-1,offsetY:-1}:{},rr(n)?n:{}),p=c.shadowDefinition(d);return this.attr({filter:n?`url(${c.url}#${p})`:"none"})}show(n=!0){return this.attr({visibility:n?"inherit":"visible"})}"stroke-widthSetter"(n,c,d){this[c]=n,d.setAttribute(c,n)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let n=this.getStyle("stroke-width"),c=0,d;return/px$/.test(n)?c=qo(n):n!==""&&(wp(d=Gr.createElementNS(Go,"rect"),{width:n,"stroke-width":0}),this.element.parentNode.appendChild(d),c=d.getBBox().width,d.parentNode.removeChild(d)),c}symbolAttr(n){let c=this;Zi.symbolCustomAttribs.forEach(function(d){c[d]=Oa(n[d],c[d])}),c.attr({d:c.renderer.symbols[c.symbolName](c.x,c.y,c.width,c.height,c)})}textSetter(n){n!==this.textStr&&(delete this.textPxLength,this.textStr=n,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(n){let c=this.element,d=c.getElementsByTagName("title")[0]||Gr.createElementNS(this.SVG_NS,"title");c.insertBefore?c.insertBefore(d,c.firstChild):c.appendChild(d),d.textContent=jp(Oa(n,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let n=this.element;return n.parentNode.appendChild(n),this}translate(n,c){return this.attr({translateX:n,translateY:c})}updateTransform(n="transform"){let{element:c,foreignObject:d,matrix:p,padding:g,rotation:y=0,rotationOriginX:b,rotationOriginY:j,scaleX:P,scaleY:L,text:C,translateX:I=0,translateY:D=0}=this,B=["translate("+I+","+D+")"];Un(p)&&B.push("matrix("+p.join(",")+")"),y&&(B.push("rotate("+y+" "+(b??c.getAttribute("x")??this.x??0)+" "+(j??c.getAttribute("y")??this.y??0)+")"),(C==null?void 0:C.element.tagName)!=="SPAN"||C!=null&&C.foreignObject||C.attr({rotation:y,rotationOriginX:(b||0)-g,rotationOriginY:(j||0)-g})),(Un(P)||Un(L))&&B.push("scale("+Oa(P,1)+" "+Oa(L,1)+")"),B.length&&!(C||this).textPath&&((d==null?void 0:d.element)||c).setAttribute(n,B.join(" "))}visibilitySetter(n,c,d){n==="inherit"?d.removeAttribute(c):this[c]!==n&&d.setAttribute(c,n),this[c]=n}xGetter(n){return this.element.nodeName==="circle"&&(n==="x"?n="cx":n==="y"&&(n="cy")),this._defaultGetter(n)}zIndexSetter(n,c){let d=this.renderer,p=this.parentGroup,g=(p||d).element||d.box,y=this.element,b=g===d.box,j,P,L,C=!1,I,D=this.added,B;if(Un(n)?(y.setAttribute("data-z-index",n),n*=1,this[c]===n&&(D=!1)):Un(this[c])&&y.removeAttribute("data-z-index"),this[c]=n,D){for((n=this.zIndex)&&p&&(p.handleZ=!0),B=(j=g.childNodes).length-1;B>=0&&!C;B--)I=!Un(L=(P=j[B]).getAttribute("data-z-index")),P!==y&&(n<0&&I&&!b&&!B?(g.insertBefore(y,j[B]),C=!0):(qo(L)<=n||I&&(!Un(n)||n>=0))&&(g.insertBefore(y,j[B+1]),C=!0));C||(g.insertBefore(y,j[3*!!b]),C=!0)}return C}}Zi.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],Zi.prototype.strokeSetter=Zi.prototype.fillSetter,Zi.prototype.yGetter=Zi.prototype.xGetter,Zi.prototype.matrixSetter=Zi.prototype.rotationOriginXSetter=Zi.prototype.rotationOriginYSetter=Zi.prototype.rotationSetter=Zi.prototype.scaleXSetter=Zi.prototype.scaleYSetter=Zi.prototype.translateXSetter=Zi.prototype.translateYSetter=Zi.prototype.verticalAlignSetter=function(T,n){this[n]=T,this.doTransform=!0};let Gn=Zi,{defined:Qc,extend:ab,getAlignFactor:sx,isNumber:Vl,merge:ob,pick:Jc,removeEvent:lb}=Me;class Yo extends Gn{constructor(n,c,d,p,g,y,b,j,P,L){let C;super(n,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=c,this.x=d,this.y=p,this.anchorX=y,this.anchorY=b,this.baseline=P,this.className=L,this.addClass(L==="button"?"highcharts-no-tooltip":"highcharts-label"),L&&this.addClass("highcharts-"+L),this.text=n.text(void 0,0,0,j).attr({zIndex:1}),typeof g=="string"&&((C=/^url\((.*?)\)$/.test(g))||this.renderer.symbols[g])&&(this.symbolKey=g),this.bBox=Yo.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=n.styledMode||C,this.deferredAttr={},this.alignFactor=0}alignSetter(n){let c=sx(n);this.textAlign=n,c!==this.alignFactor&&(this.alignFactor=c,this.bBox&&Vl(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(n,c){this.anchorX=n,this.boxAttr(c,Math.round(n)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(n,c){this.anchorY=n,this.boxAttr(c,n-this.ySetting)}boxAttr(n,c){this.box?this.box.attr(n,c):this.deferredAttr[n]=c}css(n){if(n){let c={};n=ob(n),Yo.textProps.forEach(d=>{n[d]!==void 0&&(c[d]=n[d],delete n[d])}),this.text.css(c),"fontSize"in c||"fontWeight"in c?this.updateTextPadding():("width"in c||"textOverflow"in c)&&this.updateBoxSize()}return Gn.prototype.css.call(this,n)}destroy(){lb(this.element,"mouseenter"),lb(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Gn.prototype.destroy.call(this)}fillSetter(n,c){n&&(this.needsBox=!0),this.fill=n,this.boxAttr(c,n)}getBBox(n,c){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:d,height:p=0,translateX:g=0,translateY:y=0,width:b=0}=this,j=Jc(this.paddingLeft,d),P=c??(this.rotation||0),L={width:b,height:p,x:g+this.bBox.x-j,y:y+this.bBox.y-d+this.baselineOffset};return P&&(L=this.getRotatedBox(L,P)),L}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(n){this.heightSetting=n,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Jc(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&Qc(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(n,c){Vl(n)?n!==this[c]&&(this[c]=n,this.updateTextPadding()):this[c]=void 0}rSetter(n,c){this.boxAttr(c,n)}strokeSetter(n,c){this.stroke=n,this.boxAttr(c,n)}"stroke-widthSetter"(n,c){n&&(this.needsBox=!0),this["stroke-width"]=n,this.boxAttr(c,n)}"text-alignSetter"(n){this.textAlign=this["text-align"]=n,this.updateTextPadding()}textSetter(n){n!==void 0&&this.text.attr({text:n}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let n,c=this.text,d={},p=this.padding,g=this.bBox=(!Vl(this.widthSetting)||!Vl(this.heightSetting)||this.textAlign)&&Qc(c.textStr)?c.getBBox(void 0,0):Yo.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||g.height||0)+2*p;let y=this.renderer.fontMetrics(c);if(this.baselineOffset=p+Math.min((this.text.firstLineMetrics||y).b,g.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-y.h)/2),this.needsBox&&!c.textPath){if(!this.box){let b=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();b.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),b.add(this)}d.x=n=this.getCrispAdjust(),d.y=(this.baseline?-this.baselineOffset:0)+n,d.width=Math.round(this.width),d.height=Math.round(this.height),this.box.attr(ab(d,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let n=this.text,c=n.styles.textAlign||this.textAlign;if(!n.textPath){this.updateBoxSize();let d=this.baseline?0:this.baselineOffset,p=(this.paddingLeft??this.padding)+sx(c)*(this.widthSetting??this.bBox.width);(p!==n.x||d!==n.y)&&(n.attr({align:c,x:p}),d!==void 0&&n.attr("y",d)),n.x=p,n.y=d}}widthSetter(n){this.widthSetting=Vl(n)?n:void 0,this.doUpdate=!0}getPaddedWidth(){let n=this.padding,c=Jc(this.paddingLeft,n),d=Jc(this.paddingRight,n);return(this.widthSetting||this.bBox.width||0)+c+d}xSetter(n){this.x=n,this.alignFactor&&(n-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(n),this.attr("translateX",this.xSetting)}ySetter(n){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(n),this.attr("translateY",this.ySetting)}}Yo.emptyBBox={width:0,height:0,x:0,y:0},Yo.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:kp,isNumber:Kj,pick:Cu}=Me;function cb(T,n,c,d,p){let g=[];if(p){let y=p.start||0,b=p.end||0,j=Cu(p.r,c),P=Cu(p.r,d||c),L=2e-4/(p.borderRadius?1:Math.max(j,1)),C=Math.abs(b-y-2*Math.PI)<L;C&&(y=Math.PI/2,b=2.5*Math.PI-L);let I=p.innerR,D=Cu(p.open,C),B=Math.cos(y),q=Math.sin(y),Y=Math.cos(b),X=Math.sin(b),ie=Cu(p.longArc,b-y-Math.PI<L?0:1),ue=["A",j,P,0,ie,Cu(p.clockwise,1),T+j*Y,n+P*X];ue.params={start:y,end:b,cx:T,cy:n},g.push(["M",T+j*B,n+P*q],ue),kp(I)&&((ue=["A",I,I,0,ie,kp(p.clockwise)?1-p.clockwise:0,T+I*B,n+I*q]).params={start:b,end:y,cx:T,cy:n},g.push(D?["M",T+I*Y,n+I*X]:["L",T+I*Y,n+I*X],ue)),D||g.push(["Z"])}return g}function db(T,n,c,d,p){return p!=null&&p.r?ix(T,n,c,d,p):[["M",T,n],["L",T+c,n],["L",T+c,n+d],["L",T,n+d],["Z"]]}function ix(T,n,c,d,p){let g=(p==null?void 0:p.r)||0;return[["M",T+g,n],["L",T+c-g,n],["A",g,g,0,0,1,T+c,n+g],["L",T+c,n+d-g],["A",g,g,0,0,1,T+c-g,n+d],["L",T+g,n+d],["A",g,g,0,0,1,T,n+d-g],["L",T,n+g],["A",g,g,0,0,1,T+g,n],["Z"]]}let Tu={arc:cb,callout:function(T,n,c,d,p){let g=Math.min((p==null?void 0:p.r)||0,c,d),y=g+6,b=p==null?void 0:p.anchorX,j=(p==null?void 0:p.anchorY)||0,P=ix(T,n,c,d,{r:g});if(!Kj(b)||b<c&&b>0&&j<d&&j>0)return P;if(T+b>c-y)if(j>n+y&&j<n+d-y)P.splice(3,1,["L",T+c,j-6],["L",T+c+6,j],["L",T+c,j+6],["L",T+c,n+d-g]);else if(b<c){let L=j<n+y,C=L?n:n+d;P.splice(L?2:5,0,["L",b,j],["L",T+c-g,C])}else P.splice(3,1,["L",T+c,d/2],["L",b,j],["L",T+c,d/2],["L",T+c,n+d-g]);else if(T+b<y)if(j>n+y&&j<n+d-y)P.splice(7,1,["L",T,j+6],["L",T-6,j],["L",T,j-6],["L",T,n+g]);else if(b>0){let L=j<n+y,C=L?n:n+d;P.splice(L?1:6,0,["L",b,j],["L",T+g,C])}else P.splice(7,1,["L",T,d/2],["L",b,j],["L",T,d/2],["L",T,n+g]);else j>d&&b<c-y?P.splice(5,1,["L",b+6,n+d],["L",b,n+d+6],["L",b-6,n+d],["L",T+g,n+d]):j<0&&b>y&&P.splice(1,1,["L",b-6,n],["L",b,n-6],["L",b+6,n],["L",c-g,n]);return P},circle:function(T,n,c,d){return cb(T+c/2,n+d/2,c/2,d/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(T,n,c,d){return[["M",T+c/2,n],["L",T+c,n+d/2],["L",T+c/2,n+d],["L",T,n+d/2],["Z"]]},rect:db,roundedRect:ix,square:db,triangle:function(T,n,c,d){return[["M",T+c/2,n],["L",T+c,n+d],["L",T,n+d],["Z"]]},"triangle-down":function(T,n,c,d){return[["M",T,n],["L",T+c,n],["L",T+c/2,n+d],["Z"]]}},{doc:rx,SVG_NS:Yj,win:ub}=ve,{attr:Sp,extend:ed,fireEvent:hb,isString:pb,objectEach:Xj,pick:Zj}=Me,nx=(T,n)=>T.substring(0,n)+"…",ax=class{constructor(T){let n=T.styles;this.renderer=T.renderer,this.svgElement=T,this.width=T.textWidth,this.textLineHeight=n==null?void 0:n.lineHeight,this.textOutline=n==null?void 0:n.textOutline,this.ellipsis=(n==null?void 0:n.textOverflow)==="ellipsis",this.lineClamp=n==null?void 0:n.lineClamp,this.noWrap=(n==null?void 0:n.whiteSpace)==="nowrap"}buildSVG(){let T=this.svgElement,n=T.element,c=T.renderer,d=Zj(T.textStr,"").toString(),p=d.indexOf("<")!==-1,g=n.childNodes,y=!T.added&&c.box,b=[d,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,T.getStyle("font-size"),T.styles.lineClamp,this.width].join(",");if(b!==T.textCache){T.textCache=b,delete T.actualWidth;for(let j=g.length;j--;)n.removeChild(g[j]);if(p||this.ellipsis||this.width||T.textPath||d.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(d))){if(d!==""){y&&y.appendChild(n);let j=new xi(d);this.modifyTree(j.nodes),j.addToDOM(n),this.modifyDOM(),this.ellipsis&&(n.textContent||"").indexOf("…")!==-1&&T.attr("title",this.unescapeEntities(T.textStr||"",["&lt;","&gt;"])),y&&y.removeChild(n)}}else n.appendChild(rx.createTextNode(this.unescapeEntities(d)));pb(this.textOutline)&&T.applyTextOutline&&T.applyTextOutline(this.textOutline)}}modifyDOM(){let T,n=this.svgElement,c=Sp(n.element,"x");for(n.firstLineMetrics=void 0;(T=n.element.firstChild)&&/^[\s\u200B]*$/.test(T.textContent||" ");)n.element.removeChild(T);[].forEach.call(n.element.querySelectorAll("tspan.highcharts-br"),(y,b)=>{y.nextSibling&&y.previousSibling&&(b===0&&y.previousSibling.nodeType===1&&(n.firstLineMetrics=n.renderer.fontMetrics(y.previousSibling)),Sp(y,{dy:this.getLineHeight(y.nextSibling),x:c}))});let d=this.width||0;if(!d)return;let p=(y,b)=>{var q;let j=y.textContent||"",P=j.replace(/([^\^])-/g,"$1- ").split(" "),L=!this.noWrap&&(P.length>1||n.element.childNodes.length>1),C=this.getLineHeight(b),I=Math.max(0,d-.8*C),D=0,B=n.actualWidth;if(L){let Y=[],X=[];for(;b.firstChild&&b.firstChild!==y;)X.push(b.firstChild),b.removeChild(b.firstChild);for(;P.length;)if(P.length&&!this.noWrap&&D>0&&(Y.push(y.textContent||""),y.textContent=P.join(" ").replace(/- /g,"-")),this.truncate(y,void 0,P,D===0&&B||0,d,I,(ie,ue)=>P.slice(0,ue).join(" ").replace(/- /g,"-")),B=n.actualWidth,D++,this.lineClamp&&D>=this.lineClamp){P.length&&(this.truncate(y,y.textContent||"",void 0,0,d,I,nx),y.textContent=((q=y.textContent)==null?void 0:q.replace("…",""))+"…");break}X.forEach(ie=>{b.insertBefore(ie,y)}),Y.forEach(ie=>{b.insertBefore(rx.createTextNode(ie),y);let ue=rx.createElementNS(Yj,"tspan");ue.textContent="​",Sp(ue,{dy:C,x:c}),b.insertBefore(ue,y)})}else this.ellipsis&&j&&this.truncate(y,j,void 0,0,d,I,nx)},g=y=>{[].slice.call(y.childNodes).forEach(b=>{b.nodeType===ub.Node.TEXT_NODE?p(b,y):(b.className.baseVal.indexOf("highcharts-br")!==-1&&(n.actualWidth=0),g(b))})};g(n.element)}getLineHeight(T){let n=T.nodeType===ub.Node.TEXT_NODE?T.parentElement:T;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(n||this.svgElement.element).h}modifyTree(T){let n=(c,d)=>{let{attributes:p={},children:g,style:y={},tagName:b}=c,j=this.renderer.styledMode;if(b==="b"||b==="strong"?j?p.class="highcharts-strong":y.fontWeight="bold":(b==="i"||b==="em")&&(j?p.class="highcharts-emphasized":y.fontStyle="italic"),y!=null&&y.color&&(y.fill=y.color),b==="br"){p.class="highcharts-br",c.textContent="​";let P=T[d+1];P!=null&&P.textContent&&(P.textContent=P.textContent.replace(/^ +/gm,""))}else b==="a"&&g&&g.some(P=>P.tagName==="#text")&&(c.children=[{children:g,tagName:"tspan"}]);b!=="#text"&&b!=="a"&&(c.tagName="tspan"),ed(c,{attributes:p,style:y}),g&&g.filter(P=>P.tagName!=="#text").forEach(n)};T.forEach(n),hb(this.svgElement,"afterModifyTree",{nodes:T})}truncate(T,n,c,d,p,g,y){let b,j,P=this.svgElement,{rotation:L}=P,C=[],I=c&&!d?1:0,D=(n||c||"").length,B=D;c||(p=g);let q=function(Y,X){let ie=X||Y,ue=T.parentNode;if(ue&&C[ie]===void 0&&ue.getSubStringLength)try{C[ie]=d+ue.getSubStringLength(0,c?ie+1:ie)}catch{}return C[ie]};if(P.rotation=0,d+(j=q(T.textContent.length))>p){for(;I<=D;)B=Math.ceil((I+D)/2),c&&(b=y(c,B)),j=q(B,b&&b.length-1),I===D?I=D+1:j>p?D=B-1:I=B;D===0?T.textContent="":n&&D===n.length-1||(T.textContent=b||y(n||c,B)),this.ellipsis&&j>p&&this.truncate(T,T.textContent||"",void 0,0,p,g,nx)}c&&c.splice(0,B),P.actualWidth=j,P.rotation=L}unescapeEntities(T,n){return Xj(this.renderer.escapes,function(c,d){n&&n.indexOf(c)!==-1||(T=T.toString().replace(RegExp(c,"g"),d))}),T}},{defaultOptions:ox}=zi,{charts:Ap,deg2rad:Pu,doc:td,isFirefox:lx,isMS:Mu,isWebKit:$l,noop:Qj,SVG_NS:Ul,symbolSizes:cx,win:uo}=ve,{addEvent:Xo,attr:Cp,createElement:dx,crisp:Tp,css:Pp,defined:Gl,destroyObjectProperties:Jj,extend:Da,isArray:ek,isNumber:ql,isObject:Eu,isString:Zo,merge:ux,pick:Mp,pInt:tk,replaceNested:sk,uniqueKey:Ep}=Me;class Iu{constructor(n,c,d,p,g,y,b){let j,P;this.x=0,this.y=0;let L=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),C=L.element;b||L.css(this.getStyle(p||{})),n.appendChild(C),Cp(n,"dir","ltr"),n.innerHTML.indexOf("xmlns")===-1&&Cp(C,"xmlns",this.SVG_NS),this.box=C,this.boxWrapper=L,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(td.createTextNode("Created with Highcharts 12.4.0")),this.defs=this.createElement("defs").add(),this.allowHTML=y,this.forExport=g,this.styledMode=b,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=L.getStyle("font-size"),this.setSize(c,d,!1),lx&&n.getBoundingClientRect&&((j=function(){Pp(n,{left:0,top:0}),P=n.getBoundingClientRect(),Pp(n,{left:Math.ceil(P.left)-P.left+"px",top:Math.ceil(P.top)-P.top+"px"})})(),this.unSubPixelFix=Xo(uo,"resize",j))}definition(n){return new xi([n]).addToDOM(this.defs.element)}getReferenceURL(){if((lx||$l)&&td.getElementsByTagName("base").length){if(!Gl(r)){let n=Ep(),c=new xi([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:n},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${n})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(td.body);Pp(c,{position:"fixed",top:0,left:0,zIndex:9e5});let d=td.elementFromPoint(6,6);r=(d==null?void 0:d.id)==="hitme",td.body.removeChild(c)}if(r)return sk(uo.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(n){return this.style=Da({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},n),this.style}setStyle(n){this.boxWrapper.css(this.getStyle(n))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let n=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),Jj(this.gradients||{}),this.gradients=null,this.defs=n.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(n){return new this.Element(this,n)}getRadialAttr(n,c){return{cx:n[0]-n[2]/2+(c.cx||0)*n[2],cy:n[1]-n[2]/2+(c.cy||0)*n[2],r:(c.r||0)*n[2]}}shadowDefinition(n){let c=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(n).map(p=>`${p}-${n[p]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),d=ux({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},n);return this.defs.element.querySelector(`#${c}`)||this.definition({tagName:"filter",attributes:{id:c,filterUnits:d.filterUnits},children:this.getShadowFilterContent(d)}),c}getShadowFilterContent(n){return[{tagName:"feDropShadow",attributes:{dx:n.offsetX,dy:n.offsetY,"flood-color":n.color,"flood-opacity":Math.min(5*n.opacity,1),stdDeviation:n.width/2}}]}buildText(n){new ax(n).buildSVG()}getContrast(n){if(n==="transparent")return"#000000";let c=ri.parse(n).rgba,d=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(ql(c[0])||!ri.useColorMix){let p=c.map(y=>{let b=y/255;return b<=.04?b/12.92:Math.pow((b+.055)/1.055,2.4)}),g=.2126*p[0]+.7152*p[1]+.0722*p[2];return 1.05/(g+.05)>(g+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+n+" srgb"+d+d+d+")"}button(n,c,d,p,g={},y,b,j,P,L){let C=this.label(n,c,d,P,void 0,void 0,L,void 0,"button"),I=this.styledMode,D=arguments,B=0;g=ux(ox.global.buttonTheme,g),I&&(delete g.fill,delete g.stroke,delete g["stroke-width"]);let q=g.states||{},Y=g.style||{};delete g.states,delete g.style;let X=[xi.filterUserAttributes(g)],ie=[Y];return I||["hover","select","disabled"].forEach((ue,ye)=>{X.push(ux(X[0],xi.filterUserAttributes(D[ye+5]||q[ue]||{}))),ie.push(X[ye+1].style),delete X[ye+1].style}),Xo(C.element,Mu?"mouseover":"mouseenter",function(){B!==3&&C.setState(1)}),Xo(C.element,Mu?"mouseout":"mouseleave",function(){B!==3&&C.setState(B)}),C.setState=(ue=0)=>{if(ue!==1&&(C.state=B=ue),C.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][ue]),!I){C.attr(X[ue]);let ye=ie[ue];Eu(ye)&&C.css(ye)}},C.attr(X[0]),!I&&(C.css(Da({cursor:"default"},Y)),L&&C.text.css({pointerEvents:"none"})),C.on("touchstart",ue=>ue.stopPropagation()).on("click",function(ue){B!==3&&(p==null||p.call(C,ue))})}crispLine(n,c){let[d,p]=n;return Gl(d[1])&&d[1]===p[1]&&(d[1]=p[1]=Tp(d[1],c)),Gl(d[2])&&d[2]===p[2]&&(d[2]=p[2]=Tp(d[2],c)),n}path(n){let c=this.styledMode?{}:{fill:"none"};return ek(n)?c.d=n:Eu(n)&&Da(c,n),this.createElement("path").attr(c)}circle(n,c,d){let p=Eu(n)?n:n===void 0?{}:{x:n,y:c,r:d},g=this.createElement("circle");return g.xSetter=g.ySetter=function(y,b,j){j.setAttribute("c"+b,y)},g.attr(p)}arc(n,c,d,p,g,y){let b;Eu(n)?(c=(b=n).y,d=b.r,p=b.innerR,g=b.start,y=b.end,n=b.x):b={innerR:p,start:g,end:y};let j=this.symbol("arc",n,c,d,d,b);return j.r=d,j}rect(n,c,d,p,g,y){let b=Eu(n)?n:n===void 0?{}:{x:n,y:c,r:g,width:Math.max(d||0,0),height:Math.max(p||0,0)},j=this.createElement("rect");return this.styledMode||(y!==void 0&&(b["stroke-width"]=y,Da(b,j.crisp(b))),b.fill="none"),j.rSetter=function(P,L,C){j.r=P,Cp(C,{rx:P,ry:P})},j.rGetter=function(){return j.r||0},j.attr(b)}roundedRect(n){return this.symbol("roundedRect").attr(n)}setSize(n,c,d){this.width=n,this.height=c,this.boxWrapper.animate({width:n,height:c},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Mp(d,!0)?void 0:0}),this.alignElements()}g(n){let c=this.createElement("g");return n?c.attr({class:"highcharts-"+n}):c}image(n,c,d,p,g,y){let b={preserveAspectRatio:"none"};ql(c)&&(b.x=c),ql(d)&&(b.y=d),ql(p)&&(b.width=p),ql(g)&&(b.height=g);let j=this.createElement("image").attr(b),P=function(L){j.attr({href:n}),y.call(j,L)};if(y){j.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let L=new uo.Image;Xo(L,"load",P),L.src=n,L.complete&&P({})}else j.attr({href:n});return j}symbol(n,c,d,p,g,y){var Y,X;let b,j,P,L,C=this,I=/^url\((.*?)\)$/,D=I.test(n),B=!D&&(this.symbols[n]?n:"circle"),q=B&&this.symbols[B];if(q)typeof c=="number"&&(j=q.call(this.symbols,c||0,d||0,p||0,g||0,y)),b=this.path(j),C.styledMode||b.attr("fill","none"),Da(b,{symbolName:B||void 0,x:c,y:d,width:p,height:g}),y&&Da(b,y);else if(D){P=n.match(I)[1];let ie=b=this.image(P);ie.imgwidth=Mp(y==null?void 0:y.width,(Y=cx[P])==null?void 0:Y.width),ie.imgheight=Mp(y==null?void 0:y.height,(X=cx[P])==null?void 0:X.height),L=ue=>ue.attr({width:ue.width,height:ue.height}),["width","height"].forEach(ue=>{ie[`${ue}Setter`]=function(ye,xe){this[xe]=ye;let{alignByTranslate:be,element:je,width:Ne,height:ke,imgwidth:De,imgheight:Le}=this,Ke=xe==="width"?De:Le,Ye=1;y&&y.backgroundSize==="within"&&Ne&&ke&&De&&Le?(Ye=Math.min(Ne/De,ke/Le),Cp(je,{width:Math.round(De*Ye),height:Math.round(Le*Ye)})):je&&Ke&&je.setAttribute(xe,Ke),!be&&De&&Le&&this.translate(((Ne||0)-De*Ye)/2,((ke||0)-Le*Ye)/2)}}),Gl(c)&&ie.attr({x:c,y:d}),ie.isImg=!0,ie.symbolUrl=n,Gl(ie.imgwidth)&&Gl(ie.imgheight)?L(ie):(ie.attr({width:0,height:0}),dx("img",{onload:function(){let ue=Ap[C.chartIndex];this.width===0&&(Pp(this,{position:"absolute",top:"-999em"}),td.body.appendChild(this)),cx[P]={width:this.width,height:this.height},ie.imgwidth=this.width,ie.imgheight=this.height,ie.element&&L(ie),this.parentNode&&this.parentNode.removeChild(this),C.imgCount--,C.imgCount||!ue||ue.hasLoaded||ue.onload()},src:P}),this.imgCount++)}return b}clipRect(n,c,d,p){return this.rect(n,c,d,p,0)}text(n,c,d,p){let g={};if(p&&(this.allowHTML||!this.forExport))return this.html(n,c,d);g.x=Math.round(c||0),d&&(g.y=Math.round(d)),Gl(n)&&(g.text=n);let y=this.createElement("text").attr(g);return p&&(!this.forExport||this.allowHTML)||(y.xSetter=function(b,j,P){let L=P.getElementsByTagName("tspan"),C=P.getAttribute(j);for(let I=0,D;I<L.length;I++)(D=L[I]).getAttribute(j)===C&&D.setAttribute(j,b);P.setAttribute(j,b)}),y}fontMetrics(n){let c=ql(n)?n:tk(Gn.prototype.getStyle.call(n,"font-size")||0),d=c<24?c+3:Math.round(1.2*c),p=Math.round(.8*d);return{h:d,b:p,f:c}}rotCorr(n,c,d){let p=n;return c&&d&&(p=Math.max(p*Math.cos(c*Pu),4)),{x:-n/3*Math.sin(c*Pu),y:p}}pathToSegments(n){let c=[],d=[],p={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let g=0;g<n.length;g++)Zo(d[0])&&ql(n[g])&&d.length===p[d[0].toUpperCase()]&&n.splice(g,0,d[0].replace("M","L").replace("m","l")),typeof n[g]=="string"&&(d.length&&c.push(d.slice(0)),d.length=0),d.push(n[g]);return c.push(d.slice(0)),c}label(n,c,d,p,g,y,b,j,P){return new Yo(this,n,c,d,p,g,y,b,j,P)}alignElements(){this.alignedObjects.forEach(n=>n.align())}}Da(Iu.prototype,{Element:Gn,SVG_NS:Ul,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Tu,draw:Qj}),$n.registerRendererType("svg",Iu,!0);let{composed:ik,isFirefox:mb}=ve,{attr:rk,css:Nn,createElement:Kl,defined:fb,extend:nk,getAlignFactor:ak,isNumber:Ip,pInt:ok,pushUnique:Lp}=Me;function Op(T,n,c){var p;let d=(p=this.div)==null?void 0:p.style;Gn.prototype[`${n}Setter`].call(this,T,n,c),d&&(c.style[n]=d[n]=T)}let lk=(T,n)=>{var c;if(!T.div){let d=rk(T.element,"class"),p=T.css,g=Kl("div",d?{className:d}:void 0,{position:"absolute",left:`${T.translateX||0}px`,top:`${T.translateY||0}px`,...T.styles,display:T.display,opacity:T.opacity,visibility:T.visibility},((c=T.parentGroup)==null?void 0:c.div)||n);T.classSetter=(y,b,j)=>{j.setAttribute("class",y),g.className=y},T.translateXSetter=T.translateYSetter=(y,b)=>{T[b]=y,g.style[b==="translateX"?"left":"top"]=`${y}px`,T.doTransform=!0},T.scaleXSetter=T.scaleYSetter=(y,b)=>{T[b]=y,T.doTransform=!0},T.opacitySetter=T.visibilitySetter=Op,T.css=y=>(p.call(T,y),y.cursor&&(g.style.cursor=y.cursor),y.pointerEvents&&(g.style.pointerEvents=y.pointerEvents),T),T.on=function(){return Gn.prototype.on.apply({element:g,onEvents:T.onEvents},arguments),T},T.div=g}return T.div};class ho extends Gn{static compose(n){Lp(ik,this.compose)&&(n.prototype.html=function(c,d,p){return new ho(this,"span").attr({text:c,x:Math.round(d),y:Math.round(p)})})}constructor(n,c){super(n,c),ho.useForeignObject?this.foreignObject=n.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...n.styledMode?{}:{fontFamily:n.style.fontFamily,fontSize:n.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(n,c,d){this.xCorr=-n*d,this.yCorr=-c}css(n){let c,{element:d}=this,p=d.tagName==="SPAN"&&n&&"width"in n,g=p&&n.width;return p&&(delete n.width,this.textWidth=ok(g)||void 0,c=!0),(n==null?void 0:n.textOverflow)==="ellipsis"&&(n.overflow="hidden",n.whiteSpace="nowrap"),n!=null&&n.lineClamp&&(n.display="-webkit-box",n.WebkitLineClamp=n.lineClamp,n.WebkitBoxOrient="vertical",n.overflow="hidden"),Ip(Number(n==null?void 0:n.fontSize))&&(n.fontSize+="px"),nk(this.styles,n),Nn(d,n),c&&this.updateTransform(),this}htmlGetBBox(){let{element:n}=this;return{x:n.offsetLeft,y:n.offsetTop,width:n.offsetWidth,height:n.offsetHeight}}updateTransform(){var ie;if(!this.added){this.alignOnAdd=!0;return}let{element:n,foreignObject:c,oldTextWidth:d,renderer:p,rotation:g,rotationOriginX:y,rotationOriginY:b,scaleX:j,scaleY:P,styles:{display:L="inline-block",whiteSpace:C},textAlign:I="left",textWidth:D,translateX:B=0,translateY:q=0,x:Y=0,y:X=0}=this;if(c||Nn(n,{marginLeft:`${B}px`,marginTop:`${q}px`}),n.tagName==="SPAN"){let ue,ye=[g,I,n.innerHTML,D,this.textAlign].join(","),xe=-(((ie=this.parentGroup)==null?void 0:ie.padding)*1)||0;if(D!==d){let ke=this.textPxLength?this.textPxLength:(Nn(n,{width:"",whiteSpace:C||"nowrap"}),n.offsetWidth),De=D||0,Le=!p.styledMode&&n.style.textOverflow===""&&n.style.webkitLineClamp;(De>d||ke>De||Le)&&(/[\-\s\u00AD]/.test(n.textContent||n.innerText)||n.style.textOverflow==="ellipsis")&&(Nn(n,{width:(g||j||ke>De||Le)&&Ip(D)?D+"px":"auto",display:L,whiteSpace:C||"normal"}),this.oldTextWidth=D)}c&&(Nn(n,{display:"inline-block",verticalAlign:"top"}),c.attr({width:p.width,height:p.height})),ye!==this.cTT&&(ue=p.fontMetrics(n).b,fb(g)&&!c&&(g!==(this.oldRotation||0)||I!==this.oldAlign)&&Nn(n,{transform:`rotate(${g}deg)`,transformOrigin:`${xe}% ${xe}px`}),this.getSpanCorrection(!fb(g)&&!this.textWidth&&this.textPxLength||n.offsetWidth,ue,ak(I)));let{xCorr:be=0,yCorr:je=0}=this,Ne={left:`${Y+be}px`,top:`${X+je}px`,textAlign:I,transformOrigin:`${(y??Y)-be-Y-xe}px ${(b??X)-je-X-xe}px`};(j||P)&&(Ne.transform=`scale(${j??1},${P??1})`),c?(super.updateTransform(),Ip(Y)&&Ip(X)?(c.attr({x:Y+be,y:X+je,width:n.offsetWidth+3,height:n.offsetHeight,"transform-origin":n.getAttribute("transform-origin")||"0 0"}),Nn(n,{display:L,textAlign:I})):mb&&c.attr({width:0,height:0})):Nn(n,Ne),this.cTT=ye,this.oldRotation=g,this.oldAlign=I}}add(n){let{foreignObject:c,renderer:d}=this,p=d.box.parentNode,g=[];if(c)c.add(n),super.add(d.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(c));else{let y;if(this.parentGroup=n,n&&!(y=n.div)){let b=n;for(;b;)g.push(b),b=b.parentGroup;for(let j of g.reverse())y=lk(j,p)}(y||p).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(n){n!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,xi.setElementHTML(this.element,n??""),this.textStr=n,this.doTransform=!0)}alignSetter(n){this.alignValue=this.textAlign=n,this.doTransform=!0}xSetter(n,c){this[c]=n,this.doTransform=!0}}let po=ho.prototype;po.visibilitySetter=po.opacitySetter=Op,po.ySetter=po.rotationSetter=po.rotationOriginXSetter=po.rotationOriginYSetter=po.xSetter,function(T){T.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},T.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:n}=this.axis.chart;return n(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(E||(E={}));let ck=E,{addEvent:gb,isFunction:Lu,objectEach:dk,removeEvent:Dp}=Me;(O||(O={})).registerEventOptions=function(T,n){T.eventOptions=T.eventOptions||{},dk(n.events,function(c,d){T.eventOptions[d]!==c&&(T.eventOptions[d]&&(Dp(T,d,T.eventOptions[d]),delete T.eventOptions[d]),Lu(c)&&(T.eventOptions[d]=c,gb(T,d,c,{order:0})))})};let Rp=O,{deg2rad:hx}=ve,{clamp:Ra,correctFloat:mo,defined:px,destroyObjectProperties:xb,extend:yb,fireEvent:Yl,getAlignFactor:uk,isNumber:Fp,merge:vb,objectEach:hk,pick:qn}=Me,mr=class{constructor(T,n,c,d,p){this.isNew=!0,this.isNewLabel=!0,this.axis=T,this.pos=n,this.type=c||"",this.parameters=p||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,Yl(this,"init"),c||d||this.addLabel()}addLabel(){var je,Ne;let T=this,n=T.axis,c=n.options,d=n.chart,p=n.categories,g=n.logarithmic,y=n.names,b=T.pos,j=qn((je=T.options)==null?void 0:je.labels,c.labels),P=n.tickPositions,L=b===P[0],C=b===P[P.length-1],I=(!j.step||j.step===1)&&n.tickInterval===1,D=P.info,B=T.label,q,Y,X,ie=this.parameters.category||(p?qn(p[b],y[b],b):b);g&&Fp(ie)&&(ie=mo(g.lin2log(ie))),n.dateTime&&(D?q=(Y=d.time.resolveDTLFormat(c.dateTimeLabelFormats[!((Ne=c.grid)!=null&&Ne.enabled)&&D.higherRanks[b]||D.unitName])).main:Fp(ie)&&(q=n.dateTime.getXDateFormat(ie,c.dateTimeLabelFormats||{}))),T.isFirst=L,T.isLast=C;let ue={axis:n,chart:d,dateTimeLabelFormat:q,isFirst:L,isLast:C,pos:b,tick:T,tickPositionInfo:D,value:ie};Yl(this,"labelFormat",ue);let ye=ke=>j.formatter?j.formatter.call(ke,ke):j.format?(ke.text=n.defaultLabelFormatter.call(ke),Or.format(j.format,ke,d)):n.defaultLabelFormatter.call(ke),xe=ye.call(ue,ue),be=Y==null?void 0:Y.list;be?T.shortenLabel=function(){for(X=0;X<be.length;X++)if(yb(ue,{dateTimeLabelFormat:be[X]}),B.attr({text:ye.call(ue,ue)}),B.getBBox().width<n.getSlotWidth(T)-2*(j.padding||0))return;B.attr({text:""})}:T.shortenLabel=void 0,I&&n._addedPlotLB&&T.moveLabel(xe,j),px(B)||T.movedLabel?B&&B.textStr!==xe&&!I&&(!B.textWidth||j.style.width||B.styles.width||B.css({width:null}),B.attr({text:xe}),B.textPxLength=B.getBBox().width):(T.label=B=T.createLabel(xe,j),T.rotation=0)}createLabel(T,n,c){let d=this.axis,{renderer:p,styledMode:g}=d.chart,y=n.style.whiteSpace,b=px(T)&&n.enabled?p.text(T,c==null?void 0:c.x,c==null?void 0:c.y,n.useHTML).add(d.labelGroup):void 0;return b&&(g||b.css(vb(n.style)),b.textPxLength=b.getBBox().width,!g&&y&&b.css({whiteSpace:y})),b}destroy(){xb(this,this.axis)}getPosition(T,n,c,d){let p=this.axis,g=p.chart,y=d&&g.oldChartHeight||g.chartHeight,b={x:T?mo(p.translate(n+c,void 0,void 0,d)+p.transB):p.left+p.offset+(p.opposite?(d&&g.oldChartWidth||g.chartWidth)-p.right-p.left:0),y:T?y-p.bottom+p.offset-(p.opposite?p.height:0):mo(y-p.translate(n+c,void 0,void 0,d)-p.transB)};return b.y=Ra(b.y,-1e9,1e9),Yl(this,"afterGetPosition",{pos:b}),b}getLabelPosition(T,n,c,d,p,g,y,b){let j,P,L=this.axis,C=L.transA,I=L.isLinked&&L.linkedParent?L.linkedParent.reversed:L.reversed,D=L.staggerLines,B=L.tickRotCorr||{x:0,y:0},q=d||L.reserveSpaceDefault?0:-L.labelOffset*(L.labelAlign==="center"?.5:1),Y=p.distance,X={};return j=L.side===0?c.rotation?-Y:-c.getBBox().height:L.side===2?B.y+Y:Math.cos(c.rotation*hx)*(B.y-c.getBBox(!1,0).height/2),px(p.y)&&(j=L.side===0&&L.horiz?p.y+j:p.y),T=T+qn(p.x,[0,1,0,-1][L.side]*Y)+q+B.x-(g&&d?g*C*(I?-1:1):0),n=n+j-(g&&!d?g*C*(I?1:-1):0),D&&(P=y/(b||1)%D,L.opposite&&(P=D-P-1),n+=P*(L.labelOffset/D)),X.x=T,X.y=Math.round(n),Yl(this,"afterGetLabelPosition",{pos:X,tickmarkOffset:g,index:y}),X}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(T,n,c,d,p=!1,g){return g.crispLine([["M",T,n],["L",T+(p?0:-c),n+(p?c:0)]],d)}handleOverflow(T){var Y;let n=this.axis,c=n.options.labels,d=T.x,p=n.chart.chartWidth,g=n.chart.spacing,y=qn(n.labelLeft,Math.min(n.pos,g[3])),b=qn(n.labelRight,Math.max(n.isRadial?0:n.pos+n.len,p-g[1])),j=this.label,P=this.rotation,L=uk(n.labelAlign||j.attr("align")),C=j.getBBox().width,I=n.getSlotWidth(this),D=I,B=1,q;P||c.overflow!=="justify"?P<0&&d-L*C<y?q=Math.round(d/Math.cos(P*hx)-y):P>0&&d+L*C>b&&(q=Math.round((p-d)/Math.cos(P*hx))):(d-L*C<y?D=T.x+D*(1-L)-y:d+(1-L)*C>b&&(D=b-T.x+D*L,B=-1),(D=Math.min(I,D))<I&&n.labelAlign==="center"&&(T.x+=B*(I-D-L*(I-Math.min(C,D)))),(C>D||n.autoRotation&&((Y=j==null?void 0:j.styles)!=null&&Y.width))&&(q=D)),q&&j&&(this.shortenLabel?this.shortenLabel():j.css(yb({},{width:Math.floor(q)+"px",lineClamp:+!n.isRadial})))}moveLabel(T,n){let c=this,d=c.label,p=c.axis,g=!1,y;d&&d.textStr===T?(c.movedLabel=d,g=!0,delete c.label):hk(p.ticks,function(b){g||b.isNew||b===c||!b.label||b.label.textStr!==T||(c.movedLabel=b.label,g=!0,b.labelPos=c.movedLabel.xy,delete b.label)}),!g&&(c.labelPos||d)&&(y=c.labelPos||d.xy,c.movedLabel=c.createLabel(T,n,y),c.movedLabel&&c.movedLabel.attr({opacity:0}))}render(T,n,c){var B;let d=this.axis,p=d.horiz,g=this.pos,y=qn(this.tickmarkOffset,d.tickmarkOffset),b=this.getPosition(p,g,y,n),j=b.x,P=b.y,L=d.pos,C=L+d.len,I=p?j:P,D=qn(c,(B=this.label)==null?void 0:B.newOpacity,1);!d.chart.polar&&(mo(I)<L||I>C)&&(c=0),c??(c=1),this.isActive=!0,this.renderGridLine(n,c),this.renderMark(b,c),this.renderLabel(b,n,D,T),this.isNew=!1,Yl(this,"afterRender")}renderGridLine(T,n){let c=this.axis,d=c.options,p={},g=this.pos,y=this.type,b=qn(this.tickmarkOffset,c.tickmarkOffset),j=c.chart.renderer,P=this.gridLine,L,C=d.gridLineWidth,I=d.gridLineColor,D=d.gridLineDashStyle;this.type==="minor"&&(C=d.minorGridLineWidth,I=d.minorGridLineColor,D=d.minorGridLineDashStyle),P||(c.chart.styledMode||(p.stroke=I,p["stroke-width"]=C||0,p.dashstyle=D),y||(p.zIndex=1),T&&(n=0),this.gridLine=P=j.path().attr(p).addClass("highcharts-"+(y?y+"-":"")+"grid-line").add(c.gridGroup)),P&&(L=c.getPlotLinePath({value:g+b,lineWidth:P.strokeWidth(),force:"pass",old:T,acrossPanes:!1}))&&P[T||this.isNew?"attr":"animate"]({d:L,opacity:n})}renderMark(T,n){let c=this.axis,d=c.options,p=c.chart.renderer,g=this.type,y=c.tickSize(g?g+"Tick":"tick"),b=T.x,j=T.y,P=qn(d[g!=="minor"?"tickWidth":"minorTickWidth"],!g&&c.isXAxis?1:0),L=d[g!=="minor"?"tickColor":"minorTickColor"],C=this.mark,I=!C;y&&(c.opposite&&(y[0]=-y[0]),!C&&(this.mark=C=p.path().addClass("highcharts-"+(g?g+"-":"")+"tick").add(c.axisGroup),c.chart.styledMode||C.attr({stroke:L,"stroke-width":P})),C[I?"attr":"animate"]({d:this.getMarkPath(b,j,y[0],C.strokeWidth(),c.horiz,p),opacity:n}))}renderLabel(T,n,c,d){let p=this.axis,g=p.horiz,y=p.options,b=this.label,j=y.labels,P=j.step,L=qn(this.tickmarkOffset,p.tickmarkOffset),C=T.x,I=T.y,D=!0;b&&Fp(C)&&(b.xy=T=this.getLabelPosition(C,I,b,g,j,L,d,P),(!this.isFirst||this.isLast||y.showFirstLabel)&&(!this.isLast||this.isFirst||y.showLastLabel)?!g||j.step||j.rotation||n||c===0||this.handleOverflow(T):D=!1,P&&d%P&&(D=!1),D&&Fp(T.y)?(T.opacity=c,b[this.isNewLabel?"attr":"animate"](T).show(!0),this.isNewLabel=!1):(b.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let T=this.label,n=this.axis;T&&!this.isNew&&(T.animate({opacity:0},void 0,T.destroy),delete this.label),n.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:ei}=Nr,{xAxis:bb,yAxis:wb}=ck,{defaultOptions:Ou}=zi,{registerEventOptions:zp}=Rp,{deg2rad:wi}=ve,{arrayMax:mx,arrayMin:pk,clamp:Bp,correctFloat:Ht,defined:Qs,destroyObjectProperties:Wp,erase:_b,error:sd,extend:vs,fireEvent:ni,getClosestDistance:Nb,insertItem:mk,isArray:jb,isNumber:rs,isString:Xl,merge:Hp,normalizeTickInterval:fk,objectEach:Vp,pick:bs,relativeLength:$p,removeEvent:kb,splat:gk,syncTimeout:xk}=Me,Sb=(T,n)=>fk(n,void 0,void 0,bs(T.options.allowDecimals,n<.5||T.tickAmount!==void 0),!!T.tickAmount);vs(Ou,{xAxis:bb,yAxis:Hp(bb,wb)});class fo{constructor(n,c,d){this.init(n,c,d)}init(n,c,d=this.coll){let p=d==="xAxis",g=this.isZAxis||(n.inverted?!p:p);this.chart=n,this.horiz=g,this.isXAxis=p,this.coll=d,ni(this,"init",{userOptions:c}),this.opposite=bs(c.opposite,this.opposite),this.side=bs(c.side,this.side,g?2*!this.opposite:this.opposite?1:3),this.setOptions(c);let y=this.options,b=y.labels;this.type??(this.type=y.type||"linear"),this.uniqueNames??(this.uniqueNames=y.uniqueNames??!0),ni(this,"afterSetType"),this.userOptions=c,this.minPixelPadding=0,this.reversed=bs(y.reversed,this.reversed),this.visible=y.visible,this.zoomEnabled=y.zoomEnabled,this.hasNames=this.type==="category"||y.categories===!0,this.categories=jb(y.categories)&&y.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=Qs(y.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=y.minRange||y.maxZoom,this.range=y.range,this.offset=y.offset||0,this.max=void 0,this.min=void 0;let j=bs(y.crosshair,gk(n.options.tooltip.crosshairs)[+!p]);this.crosshair=j===!0?{}:j,n.axes.indexOf(this)===-1&&(p?n.axes.splice(n.xAxis.length,0,this):n.axes.push(this),mk(this,n[this.coll])),n.orderItems(this.coll),this.series=this.series||[],n.inverted&&!this.isZAxis&&p&&!Qs(this.reversed)&&(this.reversed=!0),this.labelRotation=rs(b.rotation)?b.rotation:void 0,zp(this,y),ni(this,"afterInit")}setOptions(n){let c=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=Hp(c,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},Ou[this.coll],n),ni(this,"afterSetOptions",{userOptions:n})}defaultLabelFormatter(){let n=this.axis,{numberFormatter:c}=this.chart,d=rs(this.value)?this.value:NaN,p=n.chart.time,g=n.categories,y=this.dateTimeLabelFormat,b=Ou.lang,j=b.numericSymbols,P=b.numericSymbolMagnitude||1e3,L=n.logarithmic?Math.abs(d):n.tickInterval,C=j==null?void 0:j.length,I,D;if(g)D=`${this.value}`;else if(y)D=p.dateFormat(y,d,!0);else if(C&&j&&L>=1e3)for(;C--&&D===void 0;)L>=(I=Math.pow(P,C+1))&&10*d%I==0&&j[C]!==null&&d!==0&&(D=c(d/I,-1)+j[C]);return D===void 0&&(D=Math.abs(d)>=1e4?c(d,-1):c(d,-1,void 0,"")),D}getSeriesExtremes(){let n,c=this;ni(this,"getSeriesExtremes",null,function(){c.hasVisibleSeries=!1,c.dataMin=c.dataMax=c.threshold=void 0,c.softThreshold=!c.isXAxis,c.series.forEach(d=>{if(d.reserveSpace()){let p=d.options,g,y=p.threshold,b,j;if(c.hasVisibleSeries=!0,c.positiveValuesOnly&&0>=(y||0)&&(y=void 0),c.isXAxis)(g=d.getColumn("x")).length&&(g=c.logarithmic?g.filter(P=>P>0):g,b=(n=d.getXExtremes(g)).min,j=n.max,rs(b)||b instanceof Date||(g=g.filter(rs),b=(n=d.getXExtremes(g)).min,j=n.max),g.length&&(c.dataMin=Math.min(bs(c.dataMin,b),b),c.dataMax=Math.max(bs(c.dataMax,j),j)));else{let P=d.applyExtremes();rs(P.dataMin)&&(b=P.dataMin,c.dataMin=Math.min(bs(c.dataMin,b),b)),rs(P.dataMax)&&(j=P.dataMax,c.dataMax=Math.max(bs(c.dataMax,j),j)),Qs(y)&&(c.threshold=y),(!p.softThreshold||c.positiveValuesOnly)&&(c.softThreshold=!1)}}})}),ni(this,"afterGetSeriesExtremes")}translate(n,c,d,p,g,y){var q;let b=this.linkedParent||this,j=p&&b.old?b.old.min:b.min;if(!rs(j))return NaN;let P=b.minPixelPadding,L=(b.isOrdinal||((q=b.brokenAxis)==null?void 0:q.hasBreaks)||b.logarithmic&&g)&&!!b.lin2val,C=1,I=0,D=p&&b.old?b.old.transA:b.transA,B=0;return D||(D=b.transA),d&&(C*=-1,I=b.len),b.reversed&&(C*=-1,I-=C*(b.sector||b.len)),c?(B=(n=n*C+I-P)/D+j,L&&(B=b.lin2val(B))):(L&&(n=b.val2lin(n)),B=C*(n-j)*D+I+C*P+(rs(y)?D*y:0),b.isRadial||(B=Ht(B))),B}toPixels(n,c){var d;return this.translate(((d=this.chart)==null?void 0:d.time.parse(n))??NaN,!1,!this.horiz,void 0,!0)+(c?0:this.pos)}toValue(n,c){return this.translate(n-(c?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(n){let c=this,d=c.chart,p=c.left,g=c.top,y=n.old,b=n.value,j=n.lineWidth,P=y&&d.oldChartHeight||d.chartHeight,L=y&&d.oldChartWidth||d.chartWidth,C=c.transB,I=n.translatedValue,D=n.force,B,q,Y,X,ie;function ue(xe,be,je){return D!=="pass"&&(xe<be||xe>je)&&(D?xe=Bp(xe,be,je):ie=!0),xe}let ye={value:b,lineWidth:j,old:y,force:D,acrossPanes:n.acrossPanes,translatedValue:I};return ni(this,"getPlotLinePath",ye,function(xe){B=Y=(I=Bp(I=bs(I,c.translate(b,void 0,void 0,y)),-1e9,1e9))+C,q=X=P-I-C,rs(I)?c.horiz?(q=g,X=P-c.bottom+(c.options.isInternal?0:d.scrollablePixelsY||0),B=Y=ue(B,p,p+c.width)):(B=p,Y=L-c.right+(d.scrollablePixelsX||0),q=X=ue(q,g,g+c.height)):(ie=!0,D=!1),xe.path=ie&&!D?void 0:d.renderer.crispLine([["M",B,q],["L",Y,X]],j||1)}),ye.path}getLinearTickPositions(n,c,d){let p,g,y,b=Ht(Math.floor(c/n)*n),j=Ht(Math.ceil(d/n)*n),P=[];if(Ht(b+n)===b&&(y=20),this.single)return[c];for(p=b;p<=j&&(P.push(p),(p=Ht(p+n,y))!==g);)g=p;return P}getMinorTickInterval(){let{minorTicks:n,minorTickInterval:c}=this.options;return n===!0?bs(c,"auto"):n!==!1?c:void 0}getMinorTickPositions(){var L;let n=this.options,c=this.tickPositions,d=this.minorTickInterval,p=this.pointRangePadding||0,g=(this.min||0)-p,y=(this.max||0)+p,b=(L=this.brokenAxis)!=null&&L.hasBreaks?this.brokenAxis.unitLength:y-g,j=[],P;if(b&&b/d<this.len/3){let C=this.logarithmic;if(C)this.paddedTicks.forEach(function(I,D,B){D&&j.push.apply(j,C.getLogTickPositions(d,B[D-1],B[D],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")j=j.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(d),g,y,n.startOfWeek));else for(P=g+(c[0]-g)%d;P<=y&&P!==j[0];P+=d)j.push(P)}return j.length!==0&&this.trimTicks(j),j}adjustForMinRange(){let n=this.options,c=this.logarithmic,d=this.chart.time,{max:p,min:g,minRange:y}=this,b,j,P,L;this.isXAxis&&y===void 0&&!c&&(y=Qs(n.min)||Qs(n.max)||Qs(n.floor)||Qs(n.ceiling)?null:Math.min(5*(Nb(this.series.map(C=>{let I=C.getColumn("x");return C.xIncrement?I.slice(0,2):I}))||0),this.dataMax-this.dataMin)),rs(p)&&rs(g)&&rs(y)&&p-g<y&&(j=this.dataMax-this.dataMin>=y,b=(y-p+g)/2,P=[g-b,d.parse(n.min)??g-b],j&&(P[2]=c?c.log2lin(this.dataMin):this.dataMin),L=[(g=mx(P))+y,d.parse(n.max)??g+y],j&&(L[2]=c?c.log2lin(this.dataMax):this.dataMax),(p=pk(L))-g<y&&(P[0]=p-y,P[1]=d.parse(n.min)??p-y,g=mx(P))),this.minRange=y,this.min=g,this.max=p}getClosest(){let n,c;if(this.categories)c=1;else{let d=[];this.series.forEach(function(p){let g=p.closestPointRange,y=p.getColumn("x");y.length===1?d.push(y[0]):p.sorted&&Qs(g)&&p.reserveSpace()&&(c=Qs(c)?Math.min(c,g):g)}),d.length&&(d.sort((p,g)=>p-g),n=Nb([d]))}return n&&c?Math.min(n,c):n||c}nameToX(n){let c=jb(this.options.categories),d=c?this.categories:this.names,p=n.options.x,g;return n.series.requireSorting=!1,Qs(p)||(p=this.uniqueNames&&d?c?d.indexOf(n.name):bs(d.keys[n.name],-1):n.series.autoIncrement()),p===-1?!c&&d&&(g=d.length):rs(p)&&(g=p),g!==void 0?(this.names[g]=n.name,this.names.keys[n.name]=g):n.x&&(g=n.x),g}updateNames(){let n=this,c=this.names;c.length>0&&(Object.keys(c.keys).forEach(function(d){delete c.keys[d]}),c.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(d=>{d.xIncrement=null,(!d.points||d.isDirtyData)&&(n.max=Math.max(n.max||0,d.dataTable.rowCount-1),d.processData(),d.generatePoints());let p=d.getColumn("x").slice();d.data.forEach((g,y)=>{let b=p[y];g!=null&&g.options&&g.name!==void 0&&(b=n.nameToX(g))!==void 0&&b!==g.x&&(p[y]=g.x=b)}),d.dataTable.setColumn("x",p)}))}setAxisTranslation(){var I;let n=this,c=n.max-n.min,d=n.linkedParent,p=!!n.categories,g=n.isXAxis,y=n.axisPointRange||0,b,j=0,P=0,L,C=n.transA;(g||p||y)&&(b=n.getClosest(),d?(j=d.minPointOffset,P=d.pointRangePadding):n.series.forEach(function(D){let B=p?1:g?bs(D.options.pointRange,b,0):n.axisPointRange||0,q=D.options.pointPlacement;if(y=Math.max(y,B),!n.single||p){let Y=D.is("xrange")?!g:g;j=Math.max(j,Y&&Xl(q)?0:B/2),P=Math.max(P,Y&&q==="on"?0:B)}}),L=(I=n.ordinal)!=null&&I.slope&&b?n.ordinal.slope/b:1,n.minPointOffset=j*=L,n.pointRangePadding=P*=L,n.pointRange=Math.min(y,n.single&&p?1:c),g&&(n.closestPointRange=b)),n.translationSlope=n.transA=C=n.staticScale||n.len/(c+P||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=C*j,ni(this,"afterSetAxisTranslation")}minFromRange(){let{max:n,min:c}=this;return rs(n)&&rs(c)&&n-c||void 0}setTickInterval(n){var et,ut,xt,kt;let{categories:c,chart:d,dataMax:p,dataMin:g,dateTime:y,isXAxis:b,logarithmic:j,options:P,softThreshold:L}=this,C=d.time,I=rs(this.threshold)?this.threshold:void 0,D=this.minRange||0,{ceiling:B,floor:q,linkedTo:Y,softMax:X,softMin:ie}=P,ue=rs(Y)&&((et=d[this.coll])==null?void 0:et[Y]),ye=P.tickPixelInterval,xe=P.maxPadding,be=P.minPadding,je=0,Ne,ke=rs(P.tickInterval)&&P.tickInterval>=0?P.tickInterval:void 0,De,Le,Ke,Ye;if(y||c||ue||this.getTickAmount(),Ke=bs(this.userMin,C.parse(P.min)),Ye=bs(this.userMax,C.parse(P.max)),ue?(this.linkedParent=ue,Ne=ue.getExtremes(),this.min=bs(Ne.min,Ne.dataMin),this.max=bs(Ne.max,Ne.dataMax),this.type!==ue.type&&sd(11,!0,d)):(L&&Qs(I)&&rs(p)&&rs(g)&&(g>=I?(De=I,be=0):p<=I&&(Le=I,xe=0)),this.min=bs(Ke,De,g),this.max=bs(Ye,Le,p)),rs(this.max)&&rs(this.min)&&(j&&(this.positiveValuesOnly&&!n&&0>=Math.min(this.min,bs(g,this.min))&&sd(10,!0,d),this.min=Ht(j.log2lin(this.min),16),this.max=Ht(j.log2lin(this.max),16)),this.range&&rs(g)&&(this.userMin=this.min=Ke=Math.max(g,this.minFromRange()||0),this.userMax=Ye=this.max,this.range=void 0)),ni(this,"foundExtremes"),this.adjustForMinRange(),rs(this.min)&&rs(this.max)){if(!rs(this.userMin)&&rs(ie)&&ie<this.min&&(this.min=Ke=ie),!rs(this.userMax)&&rs(X)&&X>this.max&&(this.max=Ye=X),c||this.axisPointRange||(ut=this.stacking)!=null&&ut.usePercentage||ue||(je=this.max-this.min)&&(!Qs(Ke)&&be&&(this.min-=je*be),!Qs(Ye)&&xe&&(this.max+=je*xe)),!rs(this.userMin)&&rs(q)&&(this.min=Math.max(this.min,q)),!rs(this.userMax)&&rs(B)&&(this.max=Math.min(this.max,B)),L&&rs(g)&&rs(p)){let Ct=I||0;!Qs(Ke)&&this.min<Ct&&g>=Ct?this.min=P.minRange?Math.min(Ct,this.max-D):Ct:!Qs(Ye)&&this.max>Ct&&p<=Ct&&(this.max=P.minRange?Math.max(Ct,this.min+D):Ct)}!d.polar&&this.min>this.max&&(Qs(P.min)?this.max=this.min:Qs(P.max)&&(this.min=this.max)),je=this.max-this.min}if(this.min!==this.max&&rs(this.min)&&rs(this.max)?ue&&!ke&&ye===ue.options.tickPixelInterval?this.tickInterval=ke=ue.tickInterval:this.tickInterval=bs(ke,this.tickAmount?je/Math.max(this.tickAmount-1,1):void 0,c?1:je*ye/Math.max(this.len,ye)):this.tickInterval=1,b&&!n){let Ct=this.min!==((xt=this.old)==null?void 0:xt.min)||this.max!==((kt=this.old)==null?void 0:kt.max);this.series.forEach(function(It){var Zt;It.forceCrop=(Zt=It.forceCropping)==null?void 0:Zt.call(It),It.processData(Ct)}),ni(this,"postProcessData",{hasExtremesChanged:Ct})}this.setAxisTranslation(),ni(this,"initialAxisTranslation"),this.pointRange&&!ke&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let bt=bs(P.minTickInterval,y&&!this.series.some(Ct=>!Ct.sorted)?this.closestPointRange:0);!ke&&bt&&this.tickInterval<bt&&(this.tickInterval=bt),y||j||ke||(this.tickInterval=Sb(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var L,C;let n=this.options,c=n.tickPositions,d=n.tickPositioner,p=this.getMinorTickInterval(),g=!this.isPanning,y=g&&n.startOnTick,b=g&&n.endOnTick,j=[],P;if(this.tickmarkOffset=this.categories&&n.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&Qs(this.min)&&!this.tickAmount&&(this.min%1==0||n.allowDecimals!==!1),c)j=c.slice();else if(rs(this.min)&&rs(this.max)){if(!((L=this.ordinal)!=null&&L.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))j=[this.min,this.max],sd(19,!1,this.chart);else if(this.dateTime)j=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,(C=this.ordinal)==null?void 0:C.positions,this.closestPointRange,!0);else if(this.logarithmic)j=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let I=this.tickInterval,D=I;for(;D<=2*I&&(j=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&j.length>this.tickAmount);)this.tickInterval=Sb(this,D*=1.1)}j.length>this.len&&(j=[j[0],j[j.length-1]])[0]===j[1]&&(j.length=1),d&&(this.tickPositions=j,(P=d.apply(this,[this.min,this.max]))&&(j=P))}this.tickPositions=j,this.minorTickInterval=p==="auto"&&this.tickInterval?this.tickInterval/n.minorTicksPerMajor:p,this.paddedTicks=j.slice(0),this.trimTicks(j,y,b),!this.isLinked&&rs(this.min)&&rs(this.max)&&(this.single&&j.length<2&&!this.categories&&!this.series.some(I=>I.is("heatmap")&&I.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),c||P||this.adjustTickAmount()),ni(this,"afterSetTickPositions")}trimTicks(n,c,d){let p=n[0],g=n[n.length-1],y=!this.isOrdinal&&this.minPointOffset||0;if(ni(this,"trimTicks"),!this.isLinked||!this.grid){if(c&&p!==-1/0)this.min=p;else for(;this.min-y>n[0];)n.shift();if(d)this.max=g;else for(;this.max+y<n[n.length-1];)n.pop();n.length===0&&Qs(p)&&!this.options.tickPositions&&n.push((g+p)/2)}}alignToOthers(){let n,c=this,d=c.chart,p=[this],g=c.options,y=d.options.chart,b=this.coll==="yAxis"&&y.alignThresholds,j=[];if(c.thresholdAlignment=void 0,(y.alignTicks!==!1&&g.alignTicks||b)&&g.startOnTick!==!1&&g.endOnTick!==!1&&!c.logarithmic){let P=C=>{let{horiz:I,options:D}=C;return[I?D.left:D.top,D.width,D.height,D.pane].join(",")},L=P(this);d[this.coll].forEach(function(C){let{series:I}=C;I.length&&I.some(D=>D.visible)&&C!==c&&P(C)===L&&(n=!0,p.push(C))})}if(n&&b){p.forEach(L=>{let C=L.getThresholdAlignment(c);rs(C)&&j.push(C)});let P=j.length>1?j.reduce((L,C)=>L+=C,0)/j.length:void 0;p.forEach(L=>{L.thresholdAlignment=P})}return n}getThresholdAlignment(n){if((!rs(this.dataMin)||this!==n&&this.series.some(c=>c.isDirty||c.isDirtyData))&&this.getSeriesExtremes(),rs(this.threshold)){let c=Bp((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(c=1-c),c}}getTickAmount(){let n=this.options,c=n.tickPixelInterval,d=n.tickAmount;Qs(n.tickInterval)||d||!(this.len<c)||this.isRadial||this.logarithmic||!n.startOnTick||!n.endOnTick||(d=2),!d&&this.alignToOthers()&&(d=Math.ceil(this.len/c)+1),d<4&&(this.finalTickAmt=d,d=5),this.tickAmount=d}adjustTickAmount(){let n=this,{finalTickAmt:c,max:d,min:p,options:g,tickPositions:y,tickAmount:b,thresholdAlignment:j}=n,P=y==null?void 0:y.length,L=bs(n.threshold,n.softThreshold?0:null),C,I,D=n.tickInterval,B,q=()=>y.push(Ht(y[y.length-1]+D)),Y=()=>y.unshift(Ht(y[0]-D));if(rs(j)&&(B=j<.5?Math.ceil(j*(b-1)):Math.floor(j*(b-1)),g.reversed&&(B=b-1-B)),n.hasData()&&rs(p)&&rs(d)){let X=()=>{n.transA*=(P-1)/(b-1),n.min=g.startOnTick?y[0]:Math.min(p,y[0]),n.max=g.endOnTick?y[y.length-1]:Math.max(d,y[y.length-1])};if(rs(B)&&rs(n.threshold)){for(;y[B]!==L||y.length!==b||y[0]>p||y[y.length-1]<d;){for(y.length=0,y.push(n.threshold);y.length<b;)y[B]===void 0||y[B]>n.threshold?Y():q();if(D>8*n.tickInterval)break;D*=2}X()}else if(P<b){for(;y.length<b;)y.length%2||p===L?q():Y();X()}if(Qs(c)){for(I=C=y.length;I--;)(c===3&&I%2==1||c<=2&&I>0&&I<C-1)&&y.splice(I,1);n.finalTickAmt=void 0}}}setScale(){var y,b,j,P,L;let{coll:n,stacking:c}=this,d=!1,p=!1;this.series.forEach(C=>{var I;d=d||C.isDirtyData||C.isDirty,p=p||((I=C.xAxis)==null?void 0:I.isDirty)||!1}),this.setAxisSize();let g=this.len!==((y=this.old)==null?void 0:y.len);g||d||p||this.isLinked||this.forceRedraw||this.userMin!==((b=this.old)==null?void 0:b.userMin)||this.userMax!==((j=this.old)==null?void 0:j.userMax)||this.alignToOthers()?(c&&n==="yAxis"&&c.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),c&&n==="xAxis"&&c.buildStacks(),this.isDirty||(this.isDirty=g||this.min!==((P=this.old)==null?void 0:P.min)||this.max!==((L=this.old)==null?void 0:L.max))):c&&c.cleanStacks(),d&&delete this.allExtremes,ni(this,"afterSetScale")}setExtremes(n,c,d=!0,p,g){let y=this.chart;this.series.forEach(b=>{delete b.kdTree}),n=y.time.parse(n),c=y.time.parse(c),ni(this,"setExtremes",g=vs(g,{min:n,max:c}),b=>{this.userMin=b.min,this.userMax=b.max,this.eventArgs=b,d&&y.redraw(p)})}setAxisSize(){let n=this.chart,c=this.options,d=c.offsets||[0,0,0,0],p=this.horiz,g=this.width=Math.round($p(bs(c.width,n.plotWidth-d[3]+d[1]),n.plotWidth)),y=this.height=Math.round($p(bs(c.height,n.plotHeight-d[0]+d[2]),n.plotHeight)),b=this.top=Math.round($p(bs(c.top,n.plotTop+d[0]),n.plotHeight,n.plotTop)),j=this.left=Math.round($p(bs(c.left,n.plotLeft+d[3]),n.plotWidth,n.plotLeft));this.bottom=n.chartHeight-y-b,this.right=n.chartWidth-g-j,this.len=Math.max(p?g:y,0),this.pos=p?j:b}getExtremes(){let n=this.logarithmic;return{min:n?Ht(n.lin2log(this.min)):this.min,max:n?Ht(n.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(n){let c=this.logarithmic,d=c?c.lin2log(this.min):this.min,p=c?c.lin2log(this.max):this.max;return n===null||n===-1/0?n=d:n===1/0?n=p:d>n?n=d:p<n&&(n=p),this.translate(n,0,1,0,1)}autoLabelAlign(n){let c=(bs(n,0)-90*this.side+720)%360,d={align:"center"};return ni(this,"autoLabelAlign",d,function(p){c>15&&c<165?p.align="right":c>195&&c<345&&(p.align="left")}),d.align}tickSize(n){let c=this.options,d=bs(c[n==="tick"?"tickWidth":"minorTickWidth"],n==="tick"&&this.isXAxis&&!this.categories?1:0),p=c[n==="tick"?"tickLength":"minorTickLength"],g;d&&p&&(c[n+"Position"]==="inside"&&(p=-p),g=[p,d]);let y={tickSize:g};return ni(this,"afterTickSize",y),y.tickSize}labelMetrics(){let n=this.chart.renderer,c=this.ticks,d=c[Object.keys(c)[0]]||{};return this.chart.renderer.fontMetrics(d.label||d.movedLabel||n.box)}unsquish(){let n=this.options.labels,c=n.padding||0,d=this.horiz,p=this.tickInterval,g=this.len/((+!!this.categories+this.max-this.min)/p),y=n.rotation,b=Ht(.8*this.labelMetrics().h),j=Math.max(this.max-this.min,0),P=function(B){let q=(B+2*c)/(g||1);return(q=q>1?Math.ceil(q):1)*p>j&&B!==1/0&&g!==1/0&&j&&(q=Math.ceil(j/p)),Ht(q*p)},L=p,C,I=Number.MAX_VALUE,D;if(d){if(!n.staggerLines&&(rs(y)?D=[y]:g<n.autoRotationLimit&&(D=n.autoRotation)),D){let B,q;for(let Y of D)(Y===y||Y&&Y>=-90&&Y<=90)&&(q=(B=P(Math.abs(b/Math.sin(wi*Y))))+Math.abs(Y/360))<I&&(I=q,C=Y,L=B)}}else L=P(.75*b);return this.autoRotation=D,this.labelRotation=bs(C,rs(y)?y:0),n.step?p:L}getSlotWidth(n){let c=this.chart,d=this.horiz,p=this.options.labels,g=Math.max(this.tickPositions.length-!this.categories,1),y=c.margin[3];if(n&&rs(n.slotWidth))return n.slotWidth;if(d&&p.step<2&&!this.isRadial)return p.rotation?0:(this.staggerLines||1)*this.len/g;if(!d){let b=p.style.width;if(b!==void 0)return parseInt(String(b),10);if(!this.opposite&&y)return y-c.spacing[3]}return .33*c.chartWidth}renderUnsquish(){let n=this.chart,c=n.renderer,d=this.tickPositions,p=this.ticks,g=this.options.labels,y=g.style,b=this.horiz,j=this.getSlotWidth(),P=Math.max(1,Math.round(j-(b?2*(g.padding||0):g.distance||0))),L={},C=this.labelMetrics(),I=y.lineClamp,D,B=I??(Math.floor(this.len/(d.length*C.h))||1),q=0;Xl(g.rotation)||(L.rotation=g.rotation||0),d.forEach(function(Y){var ue;let X=p[Y];X.movedLabel&&X.replaceMovedLabel();let ie=((ue=X.label)==null?void 0:ue.textPxLength)||0;ie>q&&(q=ie)}),this.maxLabelLength=q,this.autoRotation?q>P&&q>C.h?L.rotation=this.labelRotation:this.labelRotation=0:j&&(D=P),L.rotation&&(D=q>.5*n.chartHeight?.33*n.chartHeight:q,I||(B=1)),this.labelAlign=g.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(L.align=this.labelAlign),d.forEach(function(Y){let X=p[Y],ie=X==null?void 0:X.label,ue=y.width,ye={};ie&&(ie.attr(L),X.shortenLabel?X.shortenLabel():D&&!ue&&y.whiteSpace!=="nowrap"&&(D<(ie.textPxLength||0)||ie.element.tagName==="SPAN")?ie.css(vs(ye,{width:`${D}px`,lineClamp:B})):!ie.styles.width||ye.width||ue||ie.css({width:"auto"}),X.rotation=L.rotation)},this),this.tickRotCorr=c.rotCorr(C.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(n){return n.hasData()})||this.options.showEmpty&&Qs(this.min)&&Qs(this.max)}addTitle(n){let c,d=this.chart.renderer,p=this.horiz,g=this.opposite,y=this.options.title,b=this.chart.styledMode;this.axisTitle||((c=y.textAlign)||(c=(p?{low:"left",middle:"center",high:"right"}:{low:g?"right":"left",middle:"center",high:g?"left":"right"})[y.align]),this.axisTitle=d.text(y.text||"",0,0,y.useHTML).attr({zIndex:7,rotation:y.rotation||0,align:c}).addClass("highcharts-axis-title"),b||this.axisTitle.css(Hp(y.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),b||y.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[n?"show":"hide"](n)}generateTick(n){let c=this.ticks;c[n]?c[n].addLabel():c[n]=new mr(this,n)}createGroups(){let{axisParent:n,chart:c,coll:d,options:p}=this,g=c.renderer,y=(b,j,P)=>g.g(b).attr({zIndex:P}).addClass(`highcharts-${d.toLowerCase()}${j} `+(this.isRadial?`highcharts-radial-axis${j} `:"")+(p.className||"")).add(n);this.axisGroup||(this.gridGroup=y("grid","-grid",p.gridZIndex),this.axisGroup=y("axis","",p.zIndex),this.labelGroup=y("axis-labels","-labels",p.labels.zIndex))}getOffset(){let n=this,{chart:c,horiz:d,options:p,side:g,ticks:y,tickPositions:b,coll:j}=n,P=c.inverted&&!n.isZAxis?[1,0,3,2][g]:g,L=n.hasData(),C=p.title,I=p.labels,D=rs(p.crossing),B=c.axisOffset,q=c.clipOffset,Y=[-1,1,1,-1][g],X,ie=0,ue,ye=0,xe=0,be,je;if(n.showAxis=X=L||p.showEmpty,n.staggerLines=n.horiz&&I.staggerLines||void 0,n.createGroups(),L||n.isLinked?(b.forEach(function(Ne){n.generateTick(Ne)}),n.renderUnsquish(),n.reserveSpaceDefault=g===0||g===2||{1:"left",3:"right"}[g]===n.labelAlign,bs(I.reserveSpace,!D&&null,n.labelAlign==="center"||null,n.reserveSpaceDefault)&&b.forEach(function(Ne){xe=Math.max(y[Ne].getLabelSize(),xe)}),n.staggerLines&&(xe*=n.staggerLines),n.labelOffset=xe*(n.opposite?-1:1)):Vp(y,function(Ne,ke){Ne.destroy(),delete y[ke]}),C!=null&&C.text&&C.enabled!==!1&&(n.addTitle(X),X&&!D&&C.reserveSpace!==!1&&(n.titleOffset=ie=n.axisTitle.getBBox()[d?"height":"width"],ye=Qs(ue=C.offset)?0:bs(C.margin,d?5:10))),n.renderLine(),n.offset=Y*bs(p.offset,B[g]?B[g]+(p.margin||0):0),n.tickRotCorr=n.tickRotCorr||{x:0,y:0},je=g===0?-n.labelMetrics().h:g===2?n.tickRotCorr.y:0,be=Math.abs(xe)+ye,xe&&(be-=je,be+=Y*(d?bs(I.y,n.tickRotCorr.y+Y*I.distance):bs(I.x,Y*I.distance))),n.axisTitleMargin=bs(ue,be),n.getMaxLabelDimensions&&(n.maxLabelDimensions=n.getMaxLabelDimensions(y,b)),j!=="colorAxis"&&q){let Ne=this.tickSize("tick");B[g]=Math.max(B[g],(n.axisTitleMargin||0)+ie+Y*n.offset,be,b!=null&&b.length&&Ne?Ne[0]+Y*n.offset:0);let ke=!n.axisLine||p.offset?0:n.axisLine.strokeWidth()/2;q[P]=Math.max(q[P],ke)}ni(this,"afterGetOffset")}getLinePath(n){let c=this.chart,d=this.opposite,p=this.offset,g=this.horiz,y=this.left+(d?this.width:0)+p,b=c.chartHeight-this.bottom-(d?this.height:0)+p;return d&&(n*=-1),c.renderer.crispLine([["M",g?this.left:y,g?b:this.top],["L",g?c.chartWidth-this.right:y,g?b:c.chartHeight-this.bottom]],n)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(n){let c=this.horiz,d=this.left,p=this.top,g=this.len,y=this.options.title,b=c?d:p,j=this.opposite,P=this.offset,L=y.x,C=y.y,I=this.chart.renderer.fontMetrics(n),D=n?Math.max(n.getBBox(!1,0).height-I.h-1,0):0,B={low:b+(c?0:g),middle:b+g/2,high:b+(c?g:0)}[y.align],q=(c?p+this.height:d)+(c?1:-1)*(j?-1:1)*(this.axisTitleMargin||0)+[-D,D,I.f,-D][this.side],Y={x:c?B+L:q+(j?this.width:0)+P+L,y:c?q+C-(j?this.height:0)+P:B+C};return ni(this,"afterGetTitlePosition",{titlePosition:Y}),Y}renderMinorTick(n,c){let d=this.minorTicks;d[n]||(d[n]=new mr(this,n,"minor")),c&&d[n].isNew&&d[n].render(null,!0),d[n].render(null,!1,1)}renderTick(n,c,d){var y;let p=this.isLinked,g=this.ticks;(!p||n>=this.min&&n<=this.max||(y=this.grid)!=null&&y.isColumn)&&(g[n]||(g[n]=new mr(this,n)),d&&g[n].isNew&&g[n].render(c,!0,-1),g[n].render(c))}render(){let n,c,d=this,p=d.chart,g=d.logarithmic,y=p.renderer,b=d.options,j=d.isLinked,P=d.tickPositions,L=d.axisTitle,C=d.ticks,I=d.minorTicks,D=d.alternateBands,B=b.stackLabels,q=b.alternateGridColor,Y=b.crossing,X=d.tickmarkOffset,ie=d.axisLine,ue=d.showAxis,ye=ei(y.globalAnimation);if(d.labelEdge.length=0,d.overlap=!1,[C,I,D].forEach(function(xe){Vp(xe,function(be){be.isActive=!1})}),rs(Y)){let xe=this.isXAxis?p.yAxis[0]:p.xAxis[0],be=[1,-1,-1,1][this.side];if(xe){let je=xe.toPixels(Y,!0);d.horiz&&(je=xe.len-je),d.offset=be*je}}if(d.hasData()||j){let xe=d.chart.hasRendered&&d.old&&rs(d.old.min);d.minorTickInterval&&!d.categories&&d.getMinorTickPositions().forEach(function(be){d.renderMinorTick(be,xe)}),P.length&&(P.forEach(function(be,je){d.renderTick(be,je,xe)}),X&&(d.min===0||d.single)&&(C[-1]||(C[-1]=new mr(d,-1,null,!0)),C[-1].render(-1))),q&&P.forEach(function(be,je){c=P[je+1]!==void 0?P[je+1]+X:d.max-X,je%2==0&&be<d.max&&c<=d.max+(p.polar?-X:X)&&(D[be]||(D[be]=new ve.PlotLineOrBand(d,{})),n=be+X,D[be].options={from:g?g.lin2log(n):n,to:g?g.lin2log(c):c,color:q,className:"highcharts-alternate-grid"},D[be].render(),D[be].isActive=!0)}),d._addedPlotLB||(d._addedPlotLB=!0,(b.plotLines||[]).concat(b.plotBands||[]).forEach(function(be){d.addPlotBandOrLine(be)}))}[C,I,D].forEach(function(xe){let be=[],je=ye.duration;Vp(xe,function(Ne,ke){Ne.isActive||(Ne.render(ke,!1,0),Ne.isActive=!1,be.push(ke))}),xk(function(){let Ne=be.length;for(;Ne--;)xe[be[Ne]]&&!xe[be[Ne]].isActive&&(xe[be[Ne]].destroy(),delete xe[be[Ne]])},xe!==D&&p.hasRendered&&je?je:0)}),ie&&(ie[ie.isPlaced?"animate":"attr"]({d:this.getLinePath(ie.strokeWidth())}),ie.isPlaced=!0,ie[ue?"show":"hide"](ue)),L&&ue&&(L[L.isNew?"attr":"animate"](d.getTitlePosition(L)),L.isNew=!1),B!=null&&B.enabled&&d.stacking&&d.stacking.renderStackTotals(),d.old={len:d.len,max:d.max,min:d.min,transA:d.transA,userMax:d.userMax,userMin:d.userMin},d.isDirty=!1,ni(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(n){n.render()})),this.series.forEach(function(n){n.isDirty=!0})}getKeepProps(){return this.keepProps||fo.keepProps}destroy(n){let c=this,d=c.plotLinesAndBands,p=this.eventOptions;if(ni(this,"destroy",{keepEvents:n}),n||kb(c),[c.ticks,c.minorTicks,c.alternateBands].forEach(function(g){Wp(g)}),d){let g=d.length;for(;g--;)d[g].destroy()}for(let g in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(y){c[y]&&(c[y]=c[y].destroy())}),c.plotLinesAndBandsGroups)c.plotLinesAndBandsGroups[g]=c.plotLinesAndBandsGroups[g].destroy();Vp(c,function(g,y){c.getKeepProps().indexOf(y)===-1&&delete c[y]}),this.eventOptions=p}drawCrosshair(n,c){var C;let d=this.crosshair,p=(d==null?void 0:d.snap)??!0,g=this.chart,y,b,j,P=this.cross,L;if(ni(this,"drawCrosshair",{e:n,point:c}),n||(n=(C=this.cross)==null?void 0:C.e),d&&(Qs(c)||!p)!==!1){if(p?Qs(c)&&(b=bs(this.coll!=="colorAxis"?c.crosshairPos:null,this.isXAxis?c.plotX:this.len-c.plotY)):b=n&&(this.horiz?n.chartX-this.pos:this.len-n.chartY+this.pos),Qs(b)&&(L={value:c&&(this.isXAxis?c.x:bs(c.stackY,c.y)),translatedValue:b},g.polar&&vs(L,{isCrosshair:!0,chartX:n==null?void 0:n.chartX,chartY:n==null?void 0:n.chartY,point:c}),y=this.getPlotLinePath(L)||null),!Qs(y))return void this.hideCrosshair();j=this.categories&&!this.isRadial,P||(this.cross=P=g.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(j?"category ":"thin ")+(d.className||"")).attr({zIndex:bs(d.zIndex,2)}).add(),!g.styledMode&&(P.attr({stroke:d.color||(j?ri.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":bs(d.width,1)}).css({"pointer-events":"none"}),d.dashStyle&&P.attr({dashstyle:d.dashStyle}))),P.show().attr({d:y}),j&&!d.width&&P.attr({"stroke-width":this.transA}),this.cross.e=n}else this.hideCrosshair();ni(this,"afterDrawCrosshair",{e:n,point:c})}hideCrosshair(){this.cross&&this.cross.hide(),ni(this,"afterHideCrosshair")}update(n,c){let d=this.chart;n=Hp(this.userOptions,n),this.destroy(!0),this.init(d,n),d.isDirtyBox=!0,bs(c,!0)&&d.redraw()}remove(n){let c=this.chart,d=this.coll,p=this.series,g=p.length;for(;g--;)p[g]&&p[g].remove(!1);_b(c.axes,this),_b(c[d]||[],this),c.orderItems(d),this.destroy(),c.isDirtyBox=!0,bs(n,!0)&&c.redraw()}setTitle(n,c){this.update({title:n},c)}setCategories(n,c){this.update({categories:n},c)}}fo.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:yk,getMagnitude:Ab,normalizeTickInterval:vk,timeUnits:Up}=Me;(function(T){function n(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function c(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new d(this))}T.compose=function(p){return p.keepProps.includes("dateTime")||(p.keepProps.push("dateTime"),p.prototype.getTimeTicks=n,yk(p,"afterSetType",c)),p};class d{constructor(g){this.axis=g}normalizeTimeTickInterval(g,y){let b=y||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],j=b[b.length-1],P=Up[j[0]],L=j[1],C;for(C=0;C<b.length&&(P=Up[(j=b[C])[0]],L=j[1],!b[C+1]||!(g<=(P*L[L.length-1]+Up[b[C+1][0]])/2));C++);P===Up.year&&g<5*P&&(L=[1,2,5]);let I=vk(g/P,L,j[0]==="year"?Math.max(Ab(g/P),1):1);return{unitRange:P,count:I,unitName:j[0]}}getXDateFormat(g,y){let{axis:b}=this,j=b.chart.time;return b.closestPointRange?j.getDateFormat(b.closestPointRange,g,b.options.startOfWeek,y)||j.resolveDTLFormat(y.year).main:j.resolveDTLFormat(y.day).main}}T.Additions=d})(G||(G={}));let fx=G,{addEvent:gx,normalizeTickInterval:Fa,pick:bk}=Me;(function(T){function n(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new d(this))}function c(){let p=this.logarithmic;p&&(this.lin2val=function(g){return p.lin2log(g)},this.val2lin=function(g){return p.log2lin(g)})}T.compose=function(p){return p.keepProps.includes("logarithmic")||(p.keepProps.push("logarithmic"),gx(p,"afterSetType",n),gx(p,"afterInit",c)),p};class d{constructor(g){this.axis=g}getLogTickPositions(g,y,b,j){let P=this.axis,L=P.len,C=P.options,I=[];if(j||(this.minorAutoInterval=void 0),g>=.5)g=Math.round(g),I=P.getLinearTickPositions(g,y,b);else if(g>=.08){let D,B,q,Y,X,ie,ue,ye=Math.floor(y);for(D=g>.3?[1,2,4]:g>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],B=ye;B<b+1&&!ue;B++)for(q=0,Y=D.length;q<Y&&!ue;q++)(X=this.log2lin(this.lin2log(B)*D[q]))>y&&(!j||ie<=b)&&ie!==void 0&&I.push(ie),ie>b&&(ue=!0),ie=X}else{let D=this.lin2log(y),B=this.lin2log(b),q=j?P.getMinorTickInterval():C.tickInterval,Y=C.tickPixelInterval/(j?5:1),X=j?L/P.tickPositions.length:L;g=Fa(g=bk(q==="auto"?null:q,this.minorAutoInterval,(B-D)*Y/(X||1))),I=P.getLinearTickPositions(g,D,B).map(this.log2lin),j||(this.minorAutoInterval=g/5)}return j||(P.tickInterval=g),I}lin2log(g){return Math.pow(10,g)}log2lin(g){return Math.log(g)/Math.LN10}}T.Additions=d})(te||(te={}));let wk=te,{erase:_k,extend:Cb,isNumber:Tb}=Me;(function(T){let n;function c(P){return this.addPlotBandOrLine(P,"plotBands")}function d(P,L){let C=this.userOptions,I=new n(this,P);if(this.visible&&(I=I.render()),I){if(this._addedPlotLB||(this._addedPlotLB=!0,(C.plotLines||[]).concat(C.plotBands||[]).forEach(D=>{this.addPlotBandOrLine(D)})),L){let D=C[L]||[];D.push(P),C[L]=D}this.plotLinesAndBands.push(I)}return I}function p(P){return this.addPlotBandOrLine(P,"plotLines")}function g(P,L,C){C=C||this.options;let I=this.getPlotLinePath({value:L,force:!0,acrossPanes:C.acrossPanes}),D=[],B=this.horiz,q=!Tb(this.min)||!Tb(this.max)||P<this.min&&L<this.min||P>this.max&&L>this.max,Y=this.getPlotLinePath({value:P,force:!0,acrossPanes:C.acrossPanes}),X,ie=1,ue;if(Y&&I)for(q&&(ue=Y.toString()===I.toString(),ie=0),X=0;X<Y.length;X+=2){let ye=Y[X],xe=Y[X+1],be=I[X],je=I[X+1];(ye[0]==="M"||ye[0]==="L")&&(xe[0]==="M"||xe[0]==="L")&&(be[0]==="M"||be[0]==="L")&&(je[0]==="M"||je[0]==="L")&&(B&&be[1]===ye[1]?(be[1]+=ie,je[1]+=ie):B||be[2]!==ye[2]||(be[2]+=ie,je[2]+=ie),D.push(["M",ye[1],ye[2]],["L",xe[1],xe[2]],["L",je[1],je[2]],["L",be[1],be[2]],["Z"])),D.isFlat=ue}return D}function y(P){this.removePlotBandOrLine(P)}function b(P){let L=this.plotLinesAndBands,C=this.options,I=this.userOptions;if(L){let D=L.length;for(;D--;)L[D].id===P&&L[D].destroy();[C.plotLines||[],I.plotLines||[],C.plotBands||[],I.plotBands||[]].forEach(function(B){var q;for(D=B.length;D--;)((q=B[D])==null?void 0:q.id)===P&&_k(B,B[D])})}}function j(P){this.removePlotBandOrLine(P)}T.compose=function(P,L){let C=L.prototype;return C.addPlotBand||(n=P,Cb(C,{addPlotBand:c,addPlotLine:p,addPlotBandOrLine:d,getPlotBandPath:g,removePlotBand:y,removePlotLine:j,removePlotBandOrLine:b})),L}})(Q||(Q={}));let Nk=Q,{addEvent:Gp,arrayMax:Pb,arrayMin:xx,defined:za,destroyObjectProperties:jk,erase:Mb,fireEvent:kk,merge:Eb,objectEach:Sk,pick:id}=Me;class Du{static compose(n,c){return Gp(n,"afterInit",function(){this.labelCollectors.push(()=>{var p;let d=[];for(let g of this.axes)for(let{label:y,options:b}of g.plotLinesAndBands)y&&!((p=b==null?void 0:b.label)!=null&&p.allowOverlap)&&d.push(y);return d})}),Nk.compose(Du,c)}constructor(n,c){this.axis=n,this.options=c,this.id=c.id}render(){kk(this,"render");let{axis:n,options:c}=this,{horiz:d,logarithmic:p}=n,{color:g,events:y,zIndex:b=0}=c,{renderer:j,time:P}=n.chart,L={},C=P.parse(c.to),I=P.parse(c.from),D=P.parse(c.value),B=c.borderWidth,q=c.label,{label:Y,svgElem:X}=this,ie=[],ue,ye=za(I)&&za(C),xe=za(D),be=!X,je={class:"highcharts-plot-"+(ye?"band ":"line ")+(c.className||"")},Ne=ye?"bands":"lines";if(!n.chart.styledMode&&(xe?(je.stroke=g||"#999999",je["stroke-width"]=id(c.width,1),c.dashStyle&&(je.dashstyle=c.dashStyle)):ye&&(je.fill=g||"#e6e9ff",B&&(je.stroke=c.borderColor,je["stroke-width"]=B))),L.zIndex=b,Ne+="-"+b,(ue=n.plotLinesAndBandsGroups[Ne])||(n.plotLinesAndBandsGroups[Ne]=ue=j.g("plot-"+Ne).attr(L).add()),X||(this.svgElem=X=j.path().attr(je).add(ue)),za(D))ie=n.getPlotLinePath({value:(p==null?void 0:p.log2lin(D))??D,lineWidth:X.strokeWidth(),acrossPanes:c.acrossPanes});else{if(!(za(I)&&za(C)))return;ie=n.getPlotBandPath((p==null?void 0:p.log2lin(I))??I,(p==null?void 0:p.log2lin(C))??C,c)}return!this.eventsAdded&&y&&(Sk(y,(ke,De)=>{X==null||X.on(De,Le=>{y[De].apply(this,[Le])})}),this.eventsAdded=!0),(be||!X.d)&&(ie!=null&&ie.length)?X.attr({d:ie}):X&&(ie?(X.show(),X.animate({d:ie})):X.d&&(X.hide(),Y&&(this.label=Y=Y.destroy()))),q&&(za(q.text)||za(q.formatter))&&(ie!=null&&ie.length)&&n.width>0&&n.height>0&&!ie.isFlat?(q=Eb({align:d&&ye?"center":void 0,x:d?!ye&&4:10,verticalAlign:!d&&ye?"middle":void 0,y:d?ye?16:10:ye?6:-4,rotation:d&&!ye?90:0,...ye?{inside:!0}:{}},q),this.renderLabel(q,ie,ye,b)):Y&&Y.hide(),this}renderLabel(n,c,d,p){var B,q,Y;let g=this.axis,y=g.chart.renderer,b=n.inside,j=this.label;j||(this.label=j=y.text(this.getLabelText(n),0,0,n.useHTML).attr({align:n.textAlign||n.align,rotation:n.rotation,class:"highcharts-plot-"+(d?"band":"line")+"-label "+(n.className||""),zIndex:p}),g.chart.styledMode||j.css(Eb({color:(q=(B=g.chart.options.title)==null?void 0:B.style)==null?void 0:q.color,fontSize:"0.8em",textOverflow:d&&!b?"":"ellipsis"},n.style)),j.add());let P=c.xBounds||[c[0][1],c[1][1],d?c[2][1]:c[0][1]],L=c.yBounds||[c[0][2],c[1][2],d?c[2][2]:c[0][2]],C=xx(P),I=xx(L),D=Pb(P)-C;j.align(n,!1,{x:C,y:I,width:D,height:Pb(L)-I}),j.alignAttr.y-=y.fontMetrics(j).b,(!j.alignValue||j.alignValue==="left"||za(b))&&j.css({width:(((Y=n.style)==null?void 0:Y.width)||(d&&b?D:j.rotation===90?g.height-(j.alignAttr.y-g.top):(n.clip?g.width:g.chart.chartWidth)-(j.alignAttr.x-g.left)))+"px"}),j.show(!0)}getLabelText(n){return za(n.formatter)?n.formatter.call(this):n.text}destroy(){Mb(this.axis.plotLinesAndBands,this),delete this.axis,jk(this)}}let{animObject:Ak}=Nr,{format:Ib}=Or,{composed:yx,dateFormats:Lb,doc:Ob,isSafari:Ck}=ve,{distribute:Tk}=Su,{addEvent:vx,clamp:rd,css:Zl,discardElement:Pk,extend:bx,fireEvent:wx,getAlignFactor:qp,isArray:Db,isNumber:Mk,isObject:Ek,isString:_x,merge:Ik,pick:nd,pushUnique:Lk,splat:ad,syncTimeout:Nx}=Me;class jx{constructor(n,c,d){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=n,this.init(n,c),this.pointer=d}bodyFormatter(n){return n.map(c=>{let d=c.series.tooltipOptions,p=c.formatPrefix||"point";return(d[p+"Formatter"]||c.tooltipFormatter).call(c,d[p+"Format"]||"")})}cleanSplit(n){this.chart.series.forEach(function(c){let d=c==null?void 0:c.tt;d&&(!d.isActive||n?c.tt=d.destroy():d.isActive=!1)})}defaultFormatter(n){let c,d=this.points||ad(this);return(c=(c=[n.headerFooterFormatter(d[0])]).concat(n.bodyFormatter(d))).push(n.headerFooterFormatter(d[0],!0)),c}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),Pk(this.container)),Me.clearTimeout(this.hideTimer)}getAnchor(n,c){var L;let d,{chart:p,pointer:g}=this,y=p.inverted,b=p.plotTop,j=p.plotLeft;if(n=ad(n),(L=n[0].series)!=null&&L.yAxis&&!n[0].series.yAxis.options.reversedStacks&&(n=n.slice().reverse()),this.followPointer&&c)c.chartX===void 0&&(c=g.normalize(c)),d=[c.chartX-j,c.chartY-b];else if(n[0].tooltipPos)d=n[0].tooltipPos;else{let C=0,I=0;n.forEach(function(D){let B=D.pos(!0);B&&(C+=B[0],I+=B[1])}),C/=n.length,I/=n.length,this.shared&&n.length>1&&c&&(y?C=c.chartX:I=c.chartY),d=[C-j,I-b]}let P={point:n[0],ret:d};return wx(this,"getAnchor",P),P.ret.map(Math.round)}getClassName(n,c,d){let p=this.options,g=n.series,y=g.options;return[p.className,"highcharts-label",d&&"highcharts-tooltip-header",c?"highcharts-tooltip-box":"highcharts-tooltip",!d&&"highcharts-color-"+nd(n.colorIndex,g.colorIndex),y==null?void 0:y.className].filter(_x).join(" ")}getLabel({anchorX:n,anchorY:c}={anchorX:0,anchorY:0}){let d=this,p=this.chart.styledMode,g=this.options,y=this.split&&this.allowShared,b=this.container,j=this.chart.renderer;if(this.label){let P=!this.label.hasClass("highcharts-label");(!y&&P||y&&!P)&&this.destroy()}if(!this.label){if(this.outside){let P=this.chart,L=P.options.chart.style,C=$n.getRendererType();this.container=b=ve.doc.createElement("div"),b.className="highcharts-tooltip-container "+(P.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),Zl(b,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,((L==null?void 0:L.zIndex)||0)+3)}),this.renderer=j=new C(b,0,0,L,void 0,void 0,j.styledMode)}if(y?this.label=j.g("tooltip"):(this.label=j.label("",n,c,g.shape||"callout",void 0,void 0,g.useHTML,void 0,"tooltip").attr({padding:g.padding,r:g.borderRadius}),p||this.label.attr({fill:g.backgroundColor,"stroke-width":g.borderWidth||0}).css(g.style).css({pointerEvents:g.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),d.outside){let P=this.label;[P.xSetter,P.ySetter].forEach((L,C)=>{P[C?"ySetter":"xSetter"]=I=>{L.call(P,d.distance),P[C?"y":"x"]=I,b&&(b.style[C?"top":"left"]=`${I}px`)}})}this.label.attr({zIndex:8}).shadow(g.shadow??!g.fixed).add()}return b&&!b.parentElement&&ve.doc.body.appendChild(b),this.label}getPlayingField(){let{body:n,documentElement:c}=Ob,{chart:d,distance:p,outside:g}=this;return{width:g?Math.max(n.scrollWidth,c.scrollWidth,n.offsetWidth,c.offsetWidth,c.clientWidth)-2*p-2:d.chartWidth,height:g?Math.max(n.scrollHeight,c.scrollHeight,n.offsetHeight,c.offsetHeight,c.clientHeight):d.chartHeight}}getPosition(n,c,d){var et,ut;let{distance:p,chart:g,outside:y,pointer:b}=this,{inverted:j,plotLeft:P,plotTop:L,polar:C}=g,{plotX:I=0,plotY:D=0}=d,B={},q=j&&d.h||0,{height:Y,width:X}=this.getPlayingField(),ie=b.getChartPosition(),ue=xt=>xt*ie.scaleX,ye=xt=>xt*ie.scaleY,xe=xt=>{let kt=xt==="x";return[xt,kt?X:Y,kt?n:c].concat(y?[kt?ue(n):ye(c),kt?ie.left-p+ue(I+P):ie.top-p+ye(D+L),0,kt?X:Y]:[kt?n:c,kt?I+P:D+L,kt?P:L,kt?P+g.plotWidth:L+g.plotHeight])},be=xe("y"),je=xe("x"),Ne,ke=!!d.negative;!C&&((ut=(et=g.hoverSeries)==null?void 0:et.yAxis)!=null&&ut.reversed)&&(ke=!ke);let De=!this.followPointer&&nd(d.ttBelow,!C&&!j===ke),Le=function(xt,kt,Ct,It,Zt,Ys,us){let ps=y?xt==="y"?ye(p):ue(p):p,ls=(Ct-It)/2,ss=It<Zt-p,Js=Zt+p+It<kt,Ws=Zt-ps-Ct+ls,ti=Zt+ps-ls;if(De&&Js)B[xt]=ti;else if(!De&&ss)B[xt]=Ws;else if(ss)B[xt]=Math.min(us-It,Ws-q<0?Ws:Ws-q);else{if(!Js)return B[xt]=0,!1;B[xt]=Math.max(Ys,ti+q+Ct>kt?ti:ti+q)}},Ke=function(xt,kt,Ct,It,Zt){if(Zt<p||Zt>kt-p)return!1;Zt<Ct/2?B[xt]=1:Zt>kt-It/2?B[xt]=kt-It-2:B[xt]=Zt-Ct/2},Ye=function(xt){[be,je]=[je,be],Ne=xt},bt=()=>{Le.apply(0,be)!==!1?Ke.apply(0,je)!==!1||Ne||(Ye(!0),bt()):Ne?B.x=B.y=0:(Ye(!0),bt())};return(j&&!C||this.len>1)&&Ye(),bt(),B}getFixedPosition(n,c,d){var I;let p=d.series,{chart:g,options:y,split:b}=this,j=y.position,P=j.relativeTo,L=y.shared||(I=p==null?void 0:p.yAxis)!=null&&I.isRadial&&(P==="pane"||!P)?"plotBox":P,C=L==="chart"?g.renderer:g[L]||g.getClipBox(p,!0);return{x:C.x+(C.width-n)*qp(j.align)+j.x,y:C.y+(C.height-c)*qp(j.verticalAlign)+(!b&&j.y||0)}}hide(n){let c=this;Me.clearTimeout(this.hideTimer),n=nd(n,this.options.hideDelay),this.isHidden||(this.hideTimer=Nx(function(){let d=c.getLabel();c.getLabel().animate({opacity:0},{duration:n&&150,complete:()=>{d.hide(),c.container&&c.container.remove()}}),c.isHidden=!0},n))}init(n,c){this.chart=n,this.options=c,this.crosshairs=[],this.isHidden=!0,this.split=c.split&&!n.inverted&&!n.polar,this.shared=c.shared||this.split,this.outside=nd(c.outside,!!(n.scrollablePixelsX||n.scrollablePixelsY))}shouldStickOnContact(n){return!!(!this.followPointer&&this.options.stickOnContact&&(!n||this.pointer.inClass(n.target,"highcharts-tooltip")))}move(n,c,d,p){let{followPointer:g,options:y}=this,b=Ak(!g&&!this.isHidden&&!y.fixed&&y.animation),j=g||(this.len||0)>1,P={x:n,y:c};j?P.anchorX=P.anchorY=NaN:(P.anchorX=d,P.anchorY=p),b.step=()=>this.drawTracker(),this.getLabel().animate(P,b)}refresh(n,c){let{chart:d,options:p,pointer:g,shared:y}=this,b=ad(n),j=b[0],P=p.format,L=p.formatter||this.defaultFormatter,C=d.styledMode,I=this.allowShared;if(!p.enabled||!j.series)return;Me.clearTimeout(this.hideTimer),this.allowShared=!(!Db(n)&&n.series&&n.series.noSharedTooltip),I=I&&!this.allowShared,this.followPointer=!this.split&&j.series.tooltipOptions.followPointer;let D=this.getAnchor(n,c),B=D[0],q=D[1];y&&this.allowShared&&(g.applyInactiveState(b),b.forEach(ie=>ie.setState("hover")),j.points=b),this.len=b.length;let Y=_x(P)?Ib(P,j,d):L.call(j,this);j.points=void 0;let X=j.series;if(this.distance=nd(X.tooltipOptions.distance,16),Y===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(Y,b);else{let ie=B,ue=q;if(c&&g.isDirectTouch&&(ie=c.chartX-d.plotLeft,ue=c.chartY-d.plotTop),!(d.polar||X.options.clip===!1||b.some(ye=>g.isDirectTouch||ye.series.shouldShowTooltip(ie,ue))))return void this.hide();{let ye=this.getLabel(I&&this.tt||{});(!p.style.width||C)&&ye.css({width:(this.outside?this.getPlayingField():d.spacingBox).width+"px"}),ye.attr({class:this.getClassName(j),text:Y&&Y.join?Y.join(""):Y}),this.outside&&ye.attr({x:rd(ye.x||0,0,this.getPlayingField().width-(ye.width||0)-1)}),C||ye.attr({stroke:p.borderColor||j.color||X.color||"#666666"}),this.updatePosition({plotX:B,plotY:q,negative:j.negative,ttBelow:j.ttBelow,series:X,h:D[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}wx(this,"refresh")}renderSplit(n,c){var Zt,Ys;let d=this,{chart:p,chart:{chartWidth:g,chartHeight:y,plotHeight:b,plotLeft:j,plotTop:P,scrollablePixelsY:L=0,scrollablePixelsX:C,styledMode:I},distance:D,options:B,options:{fixed:q,position:Y,positioner:X},pointer:ie}=d,{scrollLeft:ue=0,scrollTop:ye=0}=((Zt=p.scrollablePlotArea)==null?void 0:Zt.scrollingContainer)||{},xe=d.outside&&typeof C!="number"?Ob.documentElement.getBoundingClientRect():{left:ue,right:ue+g,top:ye,bottom:ye+y},be=d.getLabel(),je=this.renderer||p.renderer,Ne=!!((Ys=p.xAxis[0])!=null&&Ys.opposite),{left:ke,top:De}=ie.getChartPosition(),Le=X||q,Ke=P+ye,Ye=0,bt=b-L,et=function(us,ps,ls,ss=[0,0],Js=!0){let Ws,ti;if(ls.isHeader)ti=Ne?0:bt,Ws=rd(ss[0]-us/2,xe.left,xe.right-us-(d.outside?ke:0));else if(q&&ls){let Sr=d.getFixedPosition(us,ps,ls);Ws=Sr.x,ti=Sr.y-Ke}else ti=ss[1]-Ke,Ws=rd(Ws=Js?ss[0]-us-D:ss[0]+D,Js?Ws:xe.left,xe.right);return{x:Ws,y:ti}};_x(n)&&(n=[!1,n]);let ut=n.slice(0,c.length+1).reduce(function(us,ps,ls){if(ps!==!1&&ps!==""){let ss=c[ls-1]||{isHeader:!0,plotX:c[0].plotX,plotY:b,series:{}},Js=ss.isHeader,Ws=Js?d:ss.series,ti=Ws.tt=function(Rr,ki,y0){let bd=Rr,{isHeader:xh,series:v0}=ki,_o=v0.tooltipOptions||B;if(!bd){let Vm={padding:_o.padding,r:_o.borderRadius};I||(Vm.fill=_o.backgroundColor,Vm["stroke-width"]=_o.borderWidth??(q&&!xh?0:1)),bd=je.label("",0,0,_o[xh?"headerShape":"shape"]||(q&&!xh?"rect":"callout"),void 0,void 0,_o.useHTML).addClass(d.getClassName(ki,!0,xh)).attr(Vm).add(be)}return bd.isActive=!0,bd.attr({text:y0}),I||bd.css(_o.style).attr({stroke:_o.borderColor||ki.color||v0.color||"#333333"}),bd}(Ws.tt,ss,ps.toString()),Sr=ti.getBBox(),hc=Sr.width+ti.strokeWidth();Js&&(Ye=Sr.height,bt+=Ye,Ne&&(Ke-=Ye));let{anchorX:qa,anchorY:Xr}=function(Rr){let ki,y0,{isHeader:bd,plotX:xh=0,plotY:v0=0,series:_o}=Rr;if(bd)ki=Math.max(j+xh,j),y0=P+b/2;else{let{xAxis:Vm,yAxis:zI}=_o;ki=Vm.pos+rd(xh,-D,Vm.len+D),_o.shouldShowTooltip(0,zI.pos-P+v0,{ignoreX:!0})&&(y0=zI.pos+v0)}return{anchorX:ki=rd(ki,xe.left-D,xe.right+D),anchorY:y0}}(ss);if(typeof Xr=="number"){let Rr=Sr.height+1,ki=(X||et).call(d,hc,Rr,ss,[qa,Xr]);us.push({align:Le?0:void 0,anchorX:qa,anchorY:Xr,boxWidth:hc,point:ss,rank:nd(ki.rank,+!!Js),size:Rr,target:ki.y,tt:ti,x:ki.x})}else ti.isActive=!1}return us},[]);!Le&&ut.some(us=>{let{outside:ps}=d,ls=(ps?ke:0)+us.anchorX;return ls<xe.left&&ls+us.boxWidth<xe.right||ls<ke-xe.left+us.boxWidth&&xe.right-ls>ls})&&(ut=ut.map(us=>{let{x:ps,y:ls}=et.call(this,us.boxWidth,us.size,us.point,[us.anchorX,us.anchorY],!1);return bx(us,{target:ls,x:ps})})),d.cleanSplit(),Tk(ut,bt);let xt={left:ke,right:ke};ut.forEach(function(us){let{x:ps,boxWidth:ls,isHeader:ss}=us;!ss&&(d.outside&&ke+ps<xt.left&&(xt.left=ke+ps),!ss&&d.outside&&xt.left+ls>xt.right&&(xt.right=ke+ps))}),ut.forEach(function(us){let{x:ps,anchorX:ls,anchorY:ss,pos:Js,point:{isHeader:Ws}}=us,ti={visibility:Js===void 0?"hidden":"inherit",x:ps,y:(Js||0)+Ke+(q&&Y.y||0),anchorX:ls,anchorY:ss};if(d.outside&&ps<ls){let Sr=ke-xt.left;Sr>0&&(Ws||(ti.x=ps+Sr,ti.anchorX=ls+Sr),Ws&&(ti.x=(xt.right-xt.left)/2,ti.anchorX=ls+Sr))}us.tt.attr(ti)});let{container:kt,outside:Ct,renderer:It}=d;if(Ct&&kt&&It){let{width:us,height:ps,x:ls,y:ss}=be.getBBox();It.setSize(us+ls,ps+ss,!1),kt.style.left=xt.left+"px",kt.style.top=De+"px"}Ck&&be.attr({opacity:be.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let n=this.chart,c=this.label,d=this.shared?n.hoverPoints:n.hoverPoint;if(!c||!d)return;let p={x:0,y:0,width:0,height:0},g=this.getAnchor(d),y=c.getBBox();g[0]+=n.plotLeft-(c.translateX||0),g[1]+=n.plotTop-(c.translateY||0),p.x=Math.min(0,g[0]),p.y=Math.min(0,g[1]),p.width=g[0]<0?Math.max(Math.abs(g[0]),y.width-g[0]):Math.max(Math.abs(g[0]),y.width),p.height=g[1]<0?Math.max(Math.abs(g[1]),y.height-Math.abs(g[1])):Math.max(Math.abs(g[1]),y.height),this.tracker?this.tracker.attr(p):(this.tracker=c.renderer.rect(p).addClass("highcharts-tracker").add(c),n.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(n){return n.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(n,c){let d=n.series,p=d.tooltipOptions,g=d.xAxis,y=g==null?void 0:g.dateTime,b={isFooter:c,point:n},j=p.xDateFormat||"",P=p[c?"footerFormat":"headerFormat"];return wx(this,"headerFormatter",b,function(L){if(y&&!j&&Mk(n.key)&&(j=y.getXDateFormat(n.key,p.dateTimeLabelFormats)),y&&j){if(Ek(j)){let C=j;Lb[0]=I=>d.chart.time.dateFormat(C,I),j="%0"}(n.tooltipDateKeys||["key"]).forEach(C=>{P=P.replace(RegExp("point\\."+C+"([ \\)}])"),`(point.${C}:${j})$1`)})}d.chart.styledMode&&(P=this.styledModeFormat(P)),L.text=Ib(P,n,this.chart)}),b.text||""}update(n){this.destroy(),this.init(this.chart,Ik(!0,this.options,n))}updatePosition(n){var xe;let{chart:c,container:d,distance:p,options:g,pointer:y,renderer:b}=this,{height:j=0,width:P=0}=this.getLabel(),{fixed:L,positioner:C}=g,{left:I,top:D,scaleX:B,scaleY:q}=y.getChartPosition(),Y=(C||L&&this.getFixedPosition||this.getPosition).call(this,P,j,n),X=ve.doc,ie=(n.plotX||0)+c.plotLeft,ue=(n.plotY||0)+c.plotTop,ye;if(b&&d){if(C||L){let{scrollLeft:be=0,scrollTop:je=0}=((xe=c.scrollablePlotArea)==null?void 0:xe.scrollingContainer)||{};Y.x+=be+I-p,Y.y+=je+D-p}ye=(g.borderWidth||0)+2*p+2,b.setSize(rd(P+ye,0,X.documentElement.clientWidth)-1,j+ye,!1),(B!==1||q!==1)&&(Zl(d,{transform:`scale(${B}, ${q})`}),ie*=B,ue*=q),ie+=I-Y.x,ue+=D-Y.y}this.move(Math.round(Y.x),Math.round(Y.y||0),ie,ue)}}(function(T){T.compose=function(n){Lk(yx,"Core.Tooltip")&&vx(n,"afterInit",function(){let c=this.chart;c.options.tooltip&&(c.tooltip=new T(c,c.options.tooltip,this))})}})(jx||(jx={}));let Rb=jx,{animObject:Ok}=Nr,{defaultOptions:Qo}=zi,{format:Kp}=Or,{addEvent:Fb,crisp:Jo,erase:Dk,extend:Ru,fireEvent:kx,getNestedProperty:Fu,isArray:el,isFunction:Rk,isNumber:Ba,isObject:Yp,merge:zb,pick:nr,syncTimeout:Fk,removeEvent:Xp,uniqueKey:Sx}=Me;class od{animateBeforeDestroy(){let n=this,c={x:n.startXPos,opacity:0},d=n.getGraphicalProps();d.singular.forEach(function(p){n[p]=n[p].animate(p==="dataLabel"?{x:n[p].startXPos,y:n[p].startYPos,opacity:0}:c)}),d.plural.forEach(function(p){n[p].forEach(function(g){g.element&&g.animate(Ru({x:n.startXPos},g.startYPos?{x:g.startXPos,y:g.startYPos}:{}))})})}applyOptions(n,c){let d=this.series,p=d.options.pointValKey||d.pointValKey;return Ru(this,n=od.prototype.optionsToObject.call(this,n)),this.options=this.options?Ru(this.options,n):n,n.group&&delete this.group,n.dataLabels&&delete this.dataLabels,p&&(this.y=od.prototype.getNestedProperty.call(this,p)),this.selected&&(this.state="select"),"name"in this&&c===void 0&&d.xAxis&&d.xAxis.hasNames&&(this.x=d.xAxis.nameToX(this)),this.x===void 0&&d?this.x=c??d.autoIncrement():Ba(n.x)&&d.options.relativeXValue?this.x=d.autoIncrement(n.x):typeof this.x=="string"&&(c??(c=d.chart.time.parse(this.x)),Ba(c)&&(this.x=c)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let n=this,c=n.series,d=c.chart,p=c.options.dataSorting,g=d.hoverPoints,y=Ok(n.series.chart.renderer.globalAnimation),b=()=>{for(let j in(n.graphic||n.graphics||n.dataLabel||n.dataLabels)&&(Xp(n),n.destroyElements()),n)delete n[j]};n.legendItem&&d.legend.destroyItem(n),g&&(n.setState(),Dk(g,n),g.length||(d.hoverPoints=null)),n===d.hoverPoint&&n.onMouseOut(),p!=null&&p.enabled?(this.animateBeforeDestroy(),Fk(b,y.duration)):b(),d.pointCount--}this.destroyed=!0}destroyElements(n){let c=this,d=c.getGraphicalProps(n);d.singular.forEach(function(p){c[p]=c[p].destroy()}),d.plural.forEach(function(p){c[p].forEach(function(g){g!=null&&g.element&&g.destroy()}),delete c[p]})}firePointEvent(n,c,d){let p=this,g=this.series.options;p.manageEvent(n),n==="click"&&g.allowPointSelect&&(d=function(y){!p.destroyed&&p.select&&p.select(null,y.ctrlKey||y.metaKey||y.shiftKey)}),kx(p,n,c,d)}getClassName(){var n;return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+((n=this.zone)!=null&&n.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(n){let c,d,p=this,g=[],y={singular:[],plural:[]};for((n=n||{graphic:1,dataLabel:1}).graphic&&g.push("graphic","connector"),n.dataLabel&&g.push("dataLabel","dataLabelPath","dataLabelUpper"),d=g.length;d--;)p[c=g[d]]&&y.singular.push(c);return["graphic","dataLabel"].forEach(function(b){let j=b+"s";n[b]&&p[j]&&y.plural.push(j)}),y}getNestedProperty(n){if(n)return n.indexOf("custom.")===0?Fu(n,this.options):this[n]}getZone(){let n=this.series,c=n.zones,d=n.zoneAxis||"y",p,g=0;for(p=c[0];this[d]>=p.value;)p=c[++g];return this.nonZonedColor||(this.nonZonedColor=this.color),p!=null&&p.color&&!this.options.color?this.color=p.color:this.color=this.nonZonedColor,p}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(n,c,d){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=n,this.applyOptions(c,d),this.id??(this.id=Sx()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=n.options.nullInteraction),n.chart.pointCount++,kx(this,"afterInit")}isValid(){return(Ba(this.x)||this.x instanceof Date)&&Ba(this.y)}optionsToObject(n){var L;let c=this.series,d=c.options.keys,p=d||c.pointArrayMap||["y"],g=p.length,y={},b,j=0,P=0;if(Ba(n)||n===null)y[p[0]]=n;else if(el(n))for(!d&&n.length>g&&((b=typeof n[0])=="string"?(L=c.xAxis)!=null&&L.dateTime?y.x=c.chart.time.parse(n[0]):y.name=n[0]:b==="number"&&(y.x=n[0]),j++);P<g;)d&&n[j]===void 0||(p[P].indexOf(".")>0?od.prototype.setNestedProperty(y,n[j],p[P]):y[p[P]]=n[j]),j++,P++;else typeof n=="object"&&(y=n,n.dataLabels&&(c.hasDataLabels=()=>!0),n.marker&&(c._hasPointMarkers=!0));return y}pos(n,c=this.plotY){if(!this.destroyed){let{plotX:d,series:p}=this,{chart:g,xAxis:y,yAxis:b}=p,j=0,P=0;if(Ba(d)&&Ba(c))return n&&(j=y?y.pos:g.plotLeft,P=b?b.pos:g.plotTop),g.inverted&&y&&b?[b.len-c+P,y.len-d+j]:[d+j,c+P]}}resolveColor(){let n=this.series,c=n.chart.options.chart,d=n.chart.styledMode,p,g,y=c.colorCount,b;delete this.nonZonedColor,n.options.colorByPoint?(d||(p=(g=n.options.colors||n.chart.options.colors)[n.colorCounter],y=g.length),b=n.colorCounter,n.colorCounter++,n.colorCounter===y&&(n.colorCounter=0)):(d||(p=n.color),b=n.colorIndex),this.colorIndex=nr(this.options.colorIndex,b),this.color=nr(this.options.color,p)}setNestedProperty(n,c,d){return d.split(".").reduce(function(p,g,y,b){let j=b.length-1===y;return p[g]=j?c:Yp(p[g],!0)?p[g]:{},p[g]},n),n}shouldDraw(){return!this.isNull}tooltipFormatter(n){var j;let{chart:c,pointArrayMap:d=["y"],tooltipOptions:p}=this.series,{valueDecimals:g="",valuePrefix:y="",valueSuffix:b=""}=p;return c.styledMode&&(n=((j=c.tooltip)==null?void 0:j.styledModeFormat(n))||n),d.forEach(P=>{P="{point."+P,(y||b)&&(n=n.replace(RegExp(P+"}","g"),y+P+"}"+b)),n=n.replace(RegExp(P+"}","g"),P+":,."+g+"f}")}),Kp(n,this,c)}update(n,c,d,p){let g,y=this,b=y.series,j=y.graphic,P=b.chart,L=b.options;function C(){y.applyOptions(n);let I=j&&y.hasMockGraphic,D=y.y===null?!I:I;j&&D&&(y.graphic=j.destroy(),delete y.hasMockGraphic),Yp(n,!0)&&(j!=null&&j.element&&n&&n.marker&&n.marker.symbol!==void 0&&(y.graphic=j.destroy()),n!=null&&n.dataLabels&&y.dataLabel&&(y.dataLabel=y.dataLabel.destroy())),g=y.index;let B={};for(let q of b.dataColumnKeys())B[q]=y[q];b.dataTable.setRow(B,g),L.data[g]=Yp(L.data[g],!0)||Yp(n,!0)?y.options:nr(n,L.data[g]),b.isDirty=b.isDirtyData=!0,!b.fixedBox&&b.hasCartesianSeries&&(P.isDirtyBox=!0),L.legendType==="point"&&(P.isDirtyLegend=!0),c&&P.redraw(d)}c=nr(c,!0),p===!1?C():y.firePointEvent("update",{options:n},C)}remove(n,c){this.series.removePoint(this.series.data.indexOf(this),n,c)}select(n,c){let d=this,p=d.series,g=p.chart;n=nr(n,!d.selected),this.selectedStaging=n,d.firePointEvent(n?"select":"unselect",{accumulate:c},function(){d.selected=d.options.selected=n,p.options.data[p.data.indexOf(d)]=d.options,d.setState(n&&"select"),c||g.getSelectedPoints().forEach(function(y){let b=y.series;y.selected&&y!==d&&(y.selected=y.options.selected=!1,b.options.data[b.data.indexOf(y)]=y.options,y.setState(g.hoverPoints&&b.options.inactiveOtherPoints?"inactive":""),y.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(n){let{inverted:c,pointer:d}=this.series.chart;d&&(n=n?d.normalize(n):d.getChartCoordinatesFromPoint(this,c),d.runPointActions(n,this))}onMouseOut(){let n=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(n.hoverPoints||[]).forEach(function(c){c.setState()}),n.hoverPoints=n.hoverPoint=null}manageEvent(n){var p,g,y,b,j,P,L;let c=zb(this.series.options.point,this.options),d=(p=c.events)==null?void 0:p[n];Rk(d)&&(!((g=this.hcEvents)!=null&&g[n])||((b=(y=this.hcEvents)==null?void 0:y[n])==null?void 0:b.map(C=>C.fn).indexOf(d))===-1)?((j=this.importedUserEvent)==null||j.call(this),this.importedUserEvent=Fb(this,n,d),this.hcEvents&&(this.hcEvents[n].userEvent=!0)):this.importedUserEvent&&!d&&((P=this.hcEvents)!=null&&P[n])&&((L=this.hcEvents)!=null&&L[n].userEvent)&&(Xp(this,n),delete this.hcEvents[n],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(n,c){var be,je;let d=this.series,p=this.state,g=d.options.states[n||"normal"]||{},y=Qo.plotOptions[d.type].marker&&d.options.marker,b=y&&y.enabled===!1,j=((be=y==null?void 0:y.states)==null?void 0:be[n||"normal"])||{},P=j.enabled===!1,L=this.marker||{},C=d.chart,I=y&&d.markerAttribs,D=d.halo,B,q,Y,X=d.stateMarkerGraphic,ie;if((n=n||"")===this.state&&!c||this.selected&&n!=="select"||g.enabled===!1||n&&(P||b&&j.enabled===!1)||n&&L.states&&L.states[n]&&L.states[n].enabled===!1)return;if(this.state=n,I&&(B=d.markerAttribs(this,n)),this.graphic&&!this.hasMockGraphic){if(p&&this.graphic.removeClass("highcharts-point-"+p),n&&this.graphic.addClass("highcharts-point-"+n),!C.styledMode){q=d.pointAttribs(this,n),Y=nr(C.options.chart.animation,g.animation);let Ne=q.opacity;d.options.inactiveOtherPoints&&Ba(Ne)&&(this.dataLabels||[]).forEach(function(ke){ke&&!ke.hasClass("highcharts-data-label-hidden")&&(ke.animate({opacity:Ne},Y),ke.connector&&ke.connector.animate({opacity:Ne},Y))}),this.graphic.animate(q,Y)}B&&this.graphic.animate(B,nr(C.options.chart.animation,j.animation,y.animation)),X&&X.hide()}else n&&j&&(ie=L.symbol||d.symbol,X&&X.currentSymbol!==ie&&(X=X.destroy()),B&&(X?X[c?"animate":"attr"]({x:B.x,y:B.y}):ie&&(d.stateMarkerGraphic=X=C.renderer.symbol(ie,B.x,B.y,B.width,B.height,zb(y,j)).add(d.markerGroup),X.currentSymbol=ie)),!C.styledMode&&X&&this.state!=="inactive"&&X.attr(d.pointAttribs(this,n))),X&&(X[n&&this.isInside?"show":"hide"](),X.element.point=this,X.addClass(this.getClassName(),!0));let ue=g.halo,ye=this.graphic||X,xe=(ye==null?void 0:ye.visibility)||"inherit";ue!=null&&ue.size&&ye&&xe!=="hidden"&&!this.isCluster?(D||(d.halo=D=C.renderer.path().add(ye.parentGroup)),D.show()[c?"animate":"attr"]({d:this.haloPath(ue.size)}),D.attr({class:"highcharts-halo highcharts-color-"+nr(this.colorIndex,d.colorIndex)+(this.className?" "+this.className:""),visibility:xe,zIndex:-1}),D.point=this,C.styledMode||D.attr(Ru({fill:this.color||d.color,"fill-opacity":ue.opacity},xi.filterUserAttributes(ue.attributes||{})))):(je=D==null?void 0:D.point)!=null&&je.haloPath&&!D.point.destroyed&&D.animate({d:D.point.haloPath(0)},null,D.hide),kx(this,"afterSetState",{state:n})}haloPath(n){let c=this.pos();return c?this.series.chart.renderer.symbols.circle(Jo(c[0],1)-n,c[1]-n,2*n,2*n):[]}}let Dr=od,{parse:Zp}=ri,{charts:ld,composed:zk,isTouchDevice:Bk}=ve,{addEvent:Bi,attr:Wk,css:Qp,extend:Wi,find:Ax,fireEvent:tl,isNumber:zu,isObject:cd,objectEach:Bu,offset:Wu,pick:jn,pushUnique:Hk,splat:Bb}=Me;class Qi{applyInactiveState(n=[]){var d,p;let c=[];for(let g of(n.forEach(y=>{let b=y.series;c.push(b),b.linkedParent&&c.push(b.linkedParent),b.linkedSeries&&c.push.apply(c,b.linkedSeries),b.navigatorSeries&&c.push(b.navigatorSeries),b.boosted&&b.markerGroup&&c.push.apply(c,this.chart.series.filter(j=>j.markerGroup===b.markerGroup))}),this.chart.series)){let y=g.options;((p=(d=y.states)==null?void 0:d.inactive)==null?void 0:p.enabled)!==!1&&(c.indexOf(g)===-1?g.setState("inactive",!0):y.inactiveOtherPoints&&g.setAllPointsToState("inactive"))}}destroy(){let n=this;this.eventsToUnbind.forEach(c=>c()),this.eventsToUnbind=[],!ve.chartCount&&(Qi.unbindDocumentMouseUp.forEach(c=>c.unbind()),Qi.unbindDocumentMouseUp.length=0,Qi.unbindDocumentTouchEnd&&(Qi.unbindDocumentTouchEnd=Qi.unbindDocumentTouchEnd())),clearInterval(n.tooltipTimeout),Bu(n,function(c,d){n[d]=void 0})}getSelectionMarkerAttrs(n,c){let d={args:{chartX:n,chartY:c},attrs:{},shapeType:"rect"};return tl(this,"getSelectionMarkerAttrs",d,p=>{let g,{chart:y,zoomHor:b,zoomVert:j}=this,{mouseDownX:P=0,mouseDownY:L=0}=y,C=p.attrs;C.x=y.plotLeft,C.y=y.plotTop,C.width=b?1:y.plotWidth,C.height=j?1:y.plotHeight,b&&(C.width=Math.max(1,Math.abs(g=n-P)),C.x=(g>0?0:g)+P),j&&(C.height=Math.max(1,Math.abs(g=c-L)),C.y=(g>0?0:g)+L)}),d}drag(n){let{chart:c}=this,{mouseDownX:d=0,mouseDownY:p=0}=c,{panning:g,panKey:y,selectionMarkerFill:b}=c.options.chart,j=c.plotLeft,P=c.plotTop,L=c.plotWidth,C=c.plotHeight,I=cd(g)?g.enabled:g,D=y&&n[`${y}Key`],B=n.chartX,q=n.chartY,Y,X=this.selectionMarker;if((!X||!X.touch)&&(B<j?B=j:B>j+L&&(B=j+L),q<P?q=P:q>P+C&&(q=P+C),this.hasDragged=Math.sqrt(Math.pow(d-B,2)+Math.pow(p-q,2)),this.hasDragged>10)){Y=c.isInsidePlot(d-j,p-P,{visiblePlotOnly:!0});let{shapeType:ie,attrs:ue}=this.getSelectionMarkerAttrs(B,q);this.hasZoom&&Y&&!D&&!X&&(this.selectionMarker=X=c.renderer[ie](),X.attr({class:"highcharts-selection-marker",zIndex:7}).add(),c.styledMode||X.attr({fill:b||Zp("#334eff").setOpacity(.25).get()})),X&&X.attr(ue),Y&&!X&&I&&c.pan(n,g)}}dragStart(n){let c=this.chart;c.mouseIsDown=n.type,c.cancelClick=!1,c.mouseDownX=n.chartX,c.mouseDownY=n.chartY}getSelectionBox(n){let c={args:{marker:n},result:n.getBBox()};return tl(this,"getSelectionBox",c),c.result}drop(n){let c,{chart:d,selectionMarker:p}=this;for(let g of d.axes)g.isPanning&&(g.isPanning=!1,(g.options.startOnTick||g.options.endOnTick||g.series.some(y=>y.boosted))&&(g.forceRedraw=!0,g.setExtremes(g.userMin,g.userMax,!1),c=!0));if(c&&d.redraw(),p&&n){if(this.hasDragged){let g=this.getSelectionBox(p);d.transform({axes:d.axes.filter(y=>y.zoomEnabled&&(y.coll==="xAxis"&&this.zoomX||y.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:n,xAxis:[],yAxis:[],...g},from:g})}zu(d.index)&&(this.selectionMarker=p.destroy())}d&&zu(d.index)&&(Qp(d.container,{cursor:d._cursor}),d.cancelClick=this.hasDragged>10,d.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(n,c,d){let p;return n.forEach(function(g){let y=!(g.noSharedTooltip&&c)&&0>g.options.findNearestPointBy.indexOf("y"),b=g.searchPoint(d,y);cd(b,!0)&&b.series&&(!cd(p,!0)||function(j,P){var D,B;let L=j.distX-P.distX,C=j.dist-P.dist,I=((D=P.series.group)==null?void 0:D.zIndex)-((B=j.series.group)==null?void 0:B.zIndex);return L!==0&&c?L:C!==0?C:I!==0?I:j.series.index>P.series.index?-1:1}(p,b)>0)&&(p=b)}),p}getChartCoordinatesFromPoint(n,c){let{xAxis:d,yAxis:p}=n.series,g=n.shapeArgs;if(d&&p){let y=n.clientX??n.plotX??0,b=n.plotY||0;return n.isNode&&g&&zu(g.x)&&zu(g.y)&&(y=g.x,b=g.y),c?{chartX:p.len+p.pos-b,chartY:d.len+d.pos-y}:{chartX:y+d.pos,chartY:b+p.pos}}if(g!=null&&g.x&&g.y)return{chartX:g.x,chartY:g.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:n}=this.chart,c=Wu(n);this.chartPosition={left:c.left,top:c.top,scaleX:1,scaleY:1};let{offsetHeight:d,offsetWidth:p}=n;return p>2&&d>2&&(this.chartPosition.scaleX=c.width/p,this.chartPosition.scaleY=c.height/d),this.chartPosition}getCoordinates(n){let c={xAxis:[],yAxis:[]};for(let d of this.chart.axes)c[d.isXAxis?"xAxis":"yAxis"].push({axis:d,value:d.toValue(n[d.horiz?"chartX":"chartY"])});return c}getHoverData(n,c,d,p,g,y){let b=[],j=function(D){return D.visible&&!(!g&&D.directTouch)&&jn(D.options.enableMouseTracking,!0)},P=c,L,C={chartX:y?y.chartX:void 0,chartY:y?y.chartY:void 0,shared:g};tl(this,"beforeGetHoverData",C),L=P&&!P.stickyTracking?[P]:d.filter(D=>D.stickyTracking&&(C.filter||j)(D));let I=p&&n||!y?n:this.findNearestKDPoint(L,g,y);return P=I==null?void 0:I.series,I&&(g&&!P.noSharedTooltip?(L=d.filter(function(D){return C.filter?C.filter(D):j(D)&&!D.noSharedTooltip})).forEach(function(D){var Y;let B=(Y=D.options)==null?void 0:Y.nullInteraction,q=Ax(D.points,function(X){return X.x===I.x&&(!X.isNull||!!B)});cd(q)&&(D.boosted&&D.boost&&(q=D.boost.getPoint(q)),b.push(q))}):b.push(I)),tl(this,"afterGetHoverData",C={hoverPoint:I}),{hoverPoint:C.hoverPoint,hoverSeries:P,hoverPoints:b}}getPointFromEvent(n){let c=n.target,d;for(;c&&!d;)d=c.point,c=c.parentNode;return d}onTrackerMouseOut(n){let c=this.chart,d=n.relatedTarget,p=c.hoverSeries;this.isDirectTouch=!1,!p||!d||p.stickyTracking||this.inClass(d,"highcharts-tooltip")||this.inClass(d,"highcharts-series-"+p.index)&&this.inClass(d,"highcharts-tracker")||p.onMouseOut()}inClass(n,c){let d=n,p;for(;d;){if(p=Wk(d,"class")){if(p.indexOf(c)!==-1)return!0;if(p.indexOf("highcharts-container")!==-1)return!1}d=d.parentElement}}constructor(n,c){var d;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=c,this.chart=n,this.runChartClick=!!((d=c.chart.events)!=null&&d.click),this.pinchDown=[],this.setDOMEvents(),tl(this,"afterInit")}normalize(n,c){let d=n.touches,p=d?d.length?d.item(0):jn(d.changedTouches,n.changedTouches)[0]:n;c||(c=this.getChartPosition());let g=p.pageX-c.left,y=p.pageY-c.top;return Wi(n,{chartX:Math.round(g/=c.scaleX),chartY:Math.round(y/=c.scaleY)})}onContainerClick(n){let c=this.chart,d=c.hoverPoint,p=this.normalize(n),g=c.plotLeft,y=c.plotTop;!c.cancelClick&&(d&&this.inClass(p.target,"highcharts-tracker")?(tl(d.series,"click",Wi(p,{point:d})),c.hoverPoint&&d.firePointEvent("click",p)):(Wi(p,this.getCoordinates(p)),c.isInsidePlot(p.chartX-g,p.chartY-y,{visiblePlotOnly:!0})&&tl(c,"click",p)))}onContainerMouseDown(n){var d;let c=(1&(n.buttons||n.button))==1;n=this.normalize(n),ve.isFirefox&&n.button!==0&&this.onContainerMouseMove(n),(n.button===void 0||c)&&(this.zoomOption(n),c&&((d=n.preventDefault)==null||d.call(n)),this.dragStart(n))}onContainerMouseLeave(n){let{pointer:c}=ld[jn(Qi.hoverChartIndex,-1)]||{};n=this.normalize(n),this.onContainerMouseMove(n),c&&!this.inClass(n.relatedTarget,"highcharts-tooltip")&&(c.reset(),c.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(n){var g;let c=this.chart,d=c.tooltip,p=this.normalize(n);this.setHoverChartIndex(n),(c.mouseIsDown==="mousedown"||this.touchSelect(p))&&this.drag(p),!((g=c.exporting)!=null&&g.openMenu)&&(this.inClass(p.target,"highcharts-tracker")||c.isInsidePlot(p.chartX-c.plotLeft,p.chartY-c.plotTop,{visiblePlotOnly:!0}))&&!(d!=null&&d.shouldStickOnContact(p))&&(this.inClass(p.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(p))}onDocumentTouchEnd(n){this.onDocumentMouseUp(n)}onContainerTouchMove(n){this.touchSelect(n)?this.onContainerMouseMove(n):this.touch(n)}onContainerTouchStart(n){this.touchSelect(n)?this.onContainerMouseDown(n):(this.zoomOption(n),this.touch(n,!0))}onDocumentMouseMove(n){let c=this.chart,d=c.tooltip,p=this.chartPosition,g=this.normalize(n,p);!p||c.isInsidePlot(g.chartX-c.plotLeft,g.chartY-c.plotTop,{visiblePlotOnly:!0})||d!=null&&d.shouldStickOnContact(g)||g.target!==c.container.ownerDocument&&this.inClass(g.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(n){var c,d,p;n!=null&&n.touches&&this.hasPinchMoved&&((c=n==null?void 0:n.preventDefault)==null||c.call(n)),(p=(d=ld[jn(Qi.hoverChartIndex,-1)])==null?void 0:d.pointer)==null||p.drop(n)}pinch(n){let c=this,{chart:d,hasZoom:p,lastTouches:g}=c,y=[].map.call(n.touches||[],C=>c.normalize(C)),b=y.length,j=b===1&&(c.inClass(n.target,"highcharts-tracker")&&d.runTrackerClick||c.runChartClick),P=d.tooltip,L=b===1&&jn(P==null?void 0:P.options.followTouchMove,!0);b>1?c.initiated=!0:L&&(c.initiated=!1),p&&c.initiated&&!j&&n.cancelable!==!1&&n.preventDefault(),n.type==="touchstart"?(c.pinchDown=y,c.res=!0,d.mouseDownX=n.chartX):L?this.runPointActions(c.normalize(n)):g&&(tl(d,"touchpan",{originalEvent:n,touches:y},()=>{let C=I=>{let D=I[0],B=I[1]||D;return{x:D.chartX,y:D.chartY,width:B.chartX-D.chartX,height:B.chartY-D.chartY}};d.transform({axes:d.axes.filter(I=>I.zoomEnabled&&(this.zoomHor&&I.horiz||this.zoomVert&&!I.horiz)),to:C(y),from:C(g),trigger:n.type})}),c.res&&(c.res=!1,this.reset(!1,0))),c.lastTouches=y}reset(n,c){let d=this.chart,p=d.hoverSeries,g=d.hoverPoint,y=d.hoverPoints,b=d.tooltip,j=b!=null&&b.shared?y:g;n&&j&&Bb(j).forEach(function(P){P.series.isCartesian&&P.plotX===void 0&&(n=!1)}),n?b&&j&&Bb(j).length&&(b.refresh(j),b.shared&&y?y.forEach(function(P){P.setState(P.state,!0),P.series.isCartesian&&(P.series.xAxis.crosshair&&P.series.xAxis.drawCrosshair(null,P),P.series.yAxis.crosshair&&P.series.yAxis.drawCrosshair(null,P))}):g&&(g.setState(g.state,!0),d.axes.forEach(function(P){P.crosshair&&g.series[P.coll]===P&&P.drawCrosshair(null,g)}))):(g&&g.onMouseOut(),y&&y.forEach(function(P){P.setState()}),p&&p.onMouseOut(),b&&b.hide(c),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),d.axes.forEach(function(P){P.hideCrosshair()}),d.hoverPoints=d.hoverPoint=void 0)}runPointActions(n,c,d){var q;let p=this.chart,g=p.series,y=(q=p.tooltip)!=null&&q.options.enabled?p.tooltip:void 0,b=!!y&&y.shared,j=c||p.hoverPoint,P=(j==null?void 0:j.series)||p.hoverSeries,L=(!n||n.type!=="touchmove")&&(!!c||(P==null?void 0:P.directTouch)&&this.isDirectTouch),C=this.getHoverData(j,P,g,L,b,n);j=C.hoverPoint,P=C.hoverSeries;let I=C.hoverPoints,D=(P==null?void 0:P.tooltipOptions.followPointer)&&!P.tooltipOptions.split,B=b&&P&&!P.noSharedTooltip;if(j&&(d||j!==p.hoverPoint||y!=null&&y.isHidden)){if((p.hoverPoints||[]).forEach(function(Y){I.indexOf(Y)===-1&&Y.setState()}),p.hoverSeries!==P&&P.onMouseOver(),this.applyInactiveState(I),(I||[]).forEach(function(Y){Y.setState("hover")}),p.hoverPoint&&p.hoverPoint.firePointEvent("mouseOut"),!j.series)return;p.hoverPoints=I,p.hoverPoint=j,j.firePointEvent("mouseOver",void 0,()=>{y&&j&&y.refresh(B?I:j,n)})}else if(D&&y&&!y.isHidden){let Y=y.getAnchor([{}],n);p.isInsidePlot(Y[0],Y[1],{visiblePlotOnly:!0})&&y.updatePosition({plotX:Y[0],plotY:Y[1]})}this.unDocMouseMove||(this.unDocMouseMove=Bi(p.container.ownerDocument,"mousemove",Y=>{var X,ie;return(ie=(X=ld[Qi.hoverChartIndex??-1])==null?void 0:X.pointer)==null?void 0:ie.onDocumentMouseMove(Y)}),this.eventsToUnbind.push(this.unDocMouseMove)),p.axes.forEach(function(Y){var ue;let X,ie=((ue=Y.crosshair)==null?void 0:ue.snap)??!0;ie&&((X=p.hoverPoint)&&X.series[Y.coll]===Y||(X=Ax(I,ye=>{var xe;return((xe=ye.series)==null?void 0:xe[Y.coll])===Y}))),X||!ie?Y.drawCrosshair(n,X):Y.hideCrosshair()})}setDOMEvents(){let n=this.chart.container,c=n.ownerDocument;n.onmousedown=this.onContainerMouseDown.bind(this),n.onmousemove=this.onContainerMouseMove.bind(this),n.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(Bi(n,"mouseenter",this.onContainerMouseEnter.bind(this)),Bi(n,"mouseleave",this.onContainerMouseLeave.bind(this))),Qi.unbindDocumentMouseUp.some(p=>p.doc===c)||Qi.unbindDocumentMouseUp.push({doc:c,unbind:Bi(c,"mouseup",this.onDocumentMouseUp.bind(this))});let d=this.chart.renderTo.parentElement;for(;d&&d.tagName!=="BODY";)this.eventsToUnbind.push(Bi(d,"scroll",()=>{delete this.chartPosition})),d=d.parentElement;this.eventsToUnbind.push(Bi(n,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),Bi(n,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Qi.unbindDocumentTouchEnd||(Qi.unbindDocumentTouchEnd=Bi(c,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),Bi(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var g,y;if(!Bk)return;let n=this.pointerCaptureEventsToUnbind,c=this.chart,d=c.container,p=jn((g=c.options.tooltip)==null?void 0:g.followTouchMove,!0)&&c.series.some(b=>b.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&p?(n.push(Bi(d,"pointerdown",b=>{var j,P;(j=b.target)!=null&&j.hasPointerCapture(b.pointerId)&&((P=b.target)==null||P.releasePointerCapture(b.pointerId))}),Bi(d,"pointermove",b=>{var j,P;(P=(j=c.pointer)==null?void 0:j.getPointFromEvent(b))==null||P.onMouseOver(b)})),c.styledMode||Qp(d,{"touch-action":"none"}),d.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!p&&(n.forEach(b=>b()),n.length=0,c.styledMode||Qp(d,{"touch-action":jn((y=c.options.chart.style)==null?void 0:y["touch-action"],"manipulation")}),d.className=d.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(n){var p;let c=this.chart,d=ve.charts[jn(Qi.hoverChartIndex,-1)];if(d&&d!==c){let g={relatedTarget:c.container};n&&!(n!=null&&n.relatedTarget)&&Object.assign({},n,g),(p=d.pointer)==null||p.onContainerMouseLeave(n||g)}d!=null&&d.mouseIsDown||(Qi.hoverChartIndex=c.index)}touch(n,c){var y;let d,{chart:p,pinchDown:g=[]}=this;this.setHoverChartIndex(),(n=this.normalize(n)).touches.length===1?p.isInsidePlot(n.chartX-p.plotLeft,n.chartY-p.plotTop,{visiblePlotOnly:!0})&&!((y=p.exporting)!=null&&y.openMenu)?(c&&this.runPointActions(n),n.type==="touchmove"&&(this.hasPinchMoved=d=!!g[0]&&Math.pow(g[0].chartX-n.chartX,2)+Math.pow(g[0].chartY-n.chartY,2)>=16),jn(d,!0)&&this.pinch(n)):c&&this.reset():n.touches.length===2&&this.pinch(n)}touchSelect(n){return!!(this.chart.zooming.singleTouch&&n.touches&&n.touches.length===1)}zoomOption(n){let c=this.chart,d=c.inverted,p=c.zooming.type||"",g,y;/touch/.test(n.type)&&(p=jn(c.zooming.pinchType,p)),this.zoomX=g=/x/.test(p),this.zoomY=y=/y/.test(p),this.zoomHor=g&&!d||y&&d,this.zoomVert=y&&!d||g&&d,this.hasZoom=g||y}}Qi.unbindDocumentMouseUp=[],function(T){T.compose=function(n){Hk(zk,"Core.Pointer")&&Bi(n,"beforeRender",function(){this.pointer=new T(this,this.options)})}}(Qi||(Qi={}));let Cx=Qi;(function(T){T.setLength=function(n,c,d){return Array.isArray(n)?(n.length=c,n):n[d?"subarray":"slice"](0,c)},T.splice=function(n,c,d,p,g=[]){if(Array.isArray(n))return Array.isArray(g)||(g=Array.from(g)),{removed:n.splice(c,d,...g),array:n};let y=Object.getPrototypeOf(n).constructor,b=n[p?"subarray":"slice"](c,c+d),j=new y(n.length-d+g.length);return j.set(n.subarray(0,c),0),j.set(g,c),j.set(n.subarray(c+d),c+g.length),{removed:b,array:j}}})(J||(J={}));let{setLength:Wb,splice:Hb}=J,{fireEvent:Tx,objectEach:Hu,uniqueKey:ai}=Me,Ql=class{constructor(T={}){this.autoId=!T.id,this.columns={},this.id=T.id||ai(),this.modified=this,this.rowCount=0,this.versionTag=ai();let n=0;Hu(T.columns||{},(c,d)=>{this.columns[d]=c.slice(),n=Math.max(n,c.length)}),this.applyRowCount(n)}applyRowCount(T){this.rowCount=T,Hu(this.columns,(n,c)=>{n.length!==T&&(this.columns[c]=Wb(n,T))})}deleteRows(T,n=1){if(n>0&&T<this.rowCount){let c=0;Hu(this.columns,(d,p)=>{this.columns[p]=Hb(d,T,n).array,c=d.length}),this.rowCount=c}Tx(this,"afterDeleteRows",{rowIndex:T,rowCount:n}),this.versionTag=ai()}getColumn(T,n){return this.columns[T]}getColumns(T,n){return(T||Object.keys(this.columns)).reduce((c,d)=>(c[d]=this.columns[d],c),{})}getRow(T,n){return(n||Object.keys(this.columns)).map(c=>{var d;return(d=this.columns[c])==null?void 0:d[T]})}setColumn(T,n=[],c=0,d){this.setColumns({[T]:n},c,d)}setColumns(T,n,c){let d=this.rowCount;Hu(T,(p,g)=>{this.columns[g]=p.slice(),d=p.length}),this.applyRowCount(d),c!=null&&c.silent||(Tx(this,"afterSetColumns"),this.versionTag=ai())}setRow(T,n=this.rowCount,c,d){let{columns:p}=this,g=c?this.rowCount+1:n+1;Hu(T,(y,b)=>{let j=p[b]||(d==null?void 0:d.addColumns)!==!1&&Array(g);j&&(c?j=Hb(j,n,0,!0,[y]).array:j[n]=y,p[b]=j)}),g>this.rowCount&&this.applyRowCount(g),d!=null&&d.silent||(Tx(this,"afterSetRows"),this.versionTag=ai())}},{extend:Vk,merge:Jp,pick:Vb}=Me;(function(T){function n(c,d,p){var ye,xe;let g=this.legendItem=this.legendItem||{},{chart:y,options:b}=this,{baseline:j=0,symbolWidth:P,symbolHeight:L}=c,C=this.symbol||"circle",I=L/2,D=y.renderer,B=g.group,q=j-Math.round((((ye=c.fontMetrics)==null?void 0:ye.b)||L)*(p?.4:.3)),Y={},X,ie=b.marker,ue=0;if(y.styledMode||(Y["stroke-width"]=Math.min(b.lineWidth||0,24),b.dashStyle?Y.dashstyle=b.dashStyle:b.linecap!=="square"&&(Y["stroke-linecap"]="round")),g.line=D.path().addClass("highcharts-graph").attr(Y).add(B),p&&(g.area=D.path().addClass("highcharts-area").add(B)),Y["stroke-linecap"]&&(ue=Math.min(g.line.strokeWidth(),P)/2),P){let be=[["M",ue,q],["L",P-ue,q]];g.line.attr({d:be}),(xe=g.area)==null||xe.attr({d:[...be,["L",P-ue,j],["L",ue,j]]})}if(ie&&ie.enabled!==!1&&P){let be=Math.min(Vb(ie.radius,I),I);C.indexOf("url")===0&&(ie=Jp(ie,{width:L,height:L}),be=0),g.symbol=X=D.symbol(C,P/2-be,q-be,2*be,2*be,Vk({context:"legend"},ie)).addClass("highcharts-point").add(B),X.isMarker=!0}}T.areaMarker=function(c,d){n.call(this,c,d,!0)},T.lineMarker=n,T.rectangle=function(c,d){let p=d.legendItem||{},g=c.options,y=c.symbolHeight,b=g.squareSymbol,j=b?y:c.symbolWidth;p.symbol=this.chart.renderer.rect(b?(c.symbolWidth-y)/2:0,c.baseline-y+1,j,y,Vb(c.options.symbolRadius,y/2)).addClass("highcharts-point").attr({zIndex:3}).add(p.group)}})(H||(H={}));let $b=H,{defaultOptions:Ub}=zi,{extend:dd,extendClass:$k,merge:Px}=Me;(function(T){function n(c,d){let p=Ub.plotOptions||{},g=d.defaultOptions,y=d.prototype;return y.type=c,y.pointClass||(y.pointClass=Dr),!T.seriesTypes[c]&&(g&&(p[c]=g),T.seriesTypes[c]=d,!0)}T.seriesTypes=ve.seriesTypes,T.registerSeriesType=n,T.seriesType=function(c,d,p,g,y){let b=Ub.plotOptions||{};if(d=d||"",b[c]=Px(b[d],p),delete T.seriesTypes[c],n(c,$k(T.seriesTypes[d]||Kr,g)),T.seriesTypes[c].prototype.type=c,y){class j extends Dr{}dd(j.prototype,y),T.seriesTypes[c].prototype.pointClass=j}return T.seriesTypes[c]}})(W||(W={}));let Es=W,{animObject:Mx,setAnimation:Gb}=Nr,{defaultOptions:em}=zi,{registerEventOptions:Ji}=Rp,{svg:Uk,win:Gk}=ve,{seriesTypes:Jl}=Es,{format:tm}=Or,{arrayMax:sl,arrayMin:qb,clamp:yi,correctFloat:Kb,crisp:Yb,defined:Hi,destroyObjectProperties:Xb,diffObjects:ar,erase:Zb,error:il,extend:rl,find:_i,fireEvent:Ni,getClosestDistance:Qb,getNestedProperty:Kn,insertItem:qr,isArray:Jb,isNumber:or,isString:ew,merge:Vu,objectEach:sm,pick:ji,removeEvent:qk,syncTimeout:$u}=Me;class pa{constructor(){this.zoneAxis="y"}init(n,c){var j,P,L;let d;Ni(this,"init",{options:c}),this.dataTable??(this.dataTable=new Ql);let p=n.series;this.eventsToUnbind=[],this.chart=n,this.options=this.setOptions(c);let g=this.options,y=g.visible!==!1;this.linkedSeries=[],this.bindAxes(),rl(this,{name:g.name,state:"",visible:y,selected:g.selected===!0}),Ji(this,g);let b=g.events;(b!=null&&b.click||(P=(j=g.point)==null?void 0:j.events)!=null&&P.click||g.allowPointSelect)&&(n.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(n.hasCartesianSeries=!0),p.length&&(d=p[p.length-1]),this._i=ji(d==null?void 0:d._i,-1)+1,this.opacity=this.options.opacity,n.orderItems("series",qr(this,p)),(L=g.dataSorting)!=null&&L.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(g.data,!1),Ni(this,"afterInit")}is(n){return Jl[n]&&this instanceof Jl[n]}bindAxes(){let n,c=this,d=c.options,p=c.chart;Ni(this,"bindAxes",null,function(){(c.axisTypes||[]).forEach(function(g){(p[g]||[]).forEach(function(y){n=y.options,(ji(d[g],0)===y.index||d[g]!==void 0&&d[g]===n.id)&&(qr(c,y.series),c[g]=y,y.isDirty=!0)}),c[g]||c.optionalAxis===g||il(18,!0,p)})}),Ni(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(n,c){let d=n.marker,p=c.marker||{};return d&&(p.enabled&&!d.enabled||p.symbol!==d.symbol||p.height!==d.height||p.width!==d.width)}autoIncrement(n){let c,d=this.options,{pointIntervalUnit:p,relativeXValue:g}=this.options,y=this.chart.time,b=this.xIncrement??y.parse(d.pointStart)??0;if(this.pointInterval=c=ji(this.pointInterval,d.pointInterval,1),g&&or(n)&&(c*=n),p){let j=y.toParts(b);p==="day"?j[2]+=c:p==="month"?j[1]+=c:p==="year"&&(j[0]+=c),c=y.makeTime.apply(y,j)-b}return g&&or(n)?b+c:(this.xIncrement=b+c,b)}setDataSortingOptions(){let n=this.options;rl(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Hi(n.pointRange)||(n.pointRange=1)}setOptions(n){var Y,X;let c,d=this.chart,p=d.options.plotOptions,g=d.userOptions||{},y=Vu(n),b=d.styledMode,j={plotOptions:p,userOptions:y};Ni(this,"setOptions",j);let P=j.plotOptions[this.type],L=g.plotOptions||{},C=L.series||{},I=em.plotOptions[this.type]||{},D=L[this.type]||{};P.dataLabels=this.mergeArrays(I.dataLabels,P.dataLabels),this.userOptions=j.userOptions;let B=Vu(P,p.series,D,y);this.tooltipOptions=Vu(em.tooltip,(Y=em.plotOptions.series)==null?void 0:Y.tooltip,I==null?void 0:I.tooltip,d.userOptions.tooltip,(X=L.series)==null?void 0:X.tooltip,D.tooltip,y.tooltip),this.stickyTracking=ji(y.stickyTracking,D.stickyTracking,C.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||B.stickyTracking),P.marker===null&&delete B.marker,this.zoneAxis=B.zoneAxis||"y";let q=this.zones=(B.zones||[]).map(ie=>({...ie}));return(B.negativeColor||B.negativeFillColor)&&!B.zones&&(c={value:B[this.zoneAxis+"Threshold"]||B.threshold||0,className:"highcharts-negative"},b||(c.color=B.negativeColor,c.fillColor=B.negativeFillColor),q.push(c)),q.length&&Hi(q[q.length-1].value)&&q.push(b?{}:{color:this.color,fillColor:this.fillColor}),Ni(this,"afterSetOptions",{options:B}),B}getName(){return this.options.name??tm(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(n,c,d){let p,g,y=this.chart,b=`${n}Index`,j=`${n}Counter`,P=(d==null?void 0:d.length)||y.options.chart.colorCount;!c&&(Hi(g=ji(n==="color"?this.options.colorIndex:void 0,this[b]))?p=g:(y.series.length||(y[j]=0),p=y[j]%P,y[j]+=1),d&&(c=d[p])),p!==void 0&&(this[b]=p),this[n]=c}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||em.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let n=this.options.marker;this.getCyclic("symbol",n.symbol,this.chart.options.symbols)}getColumn(n,c){return(c?this.dataTable.modified:this.dataTable).getColumn(n,!0)||[]}findPointIndex(n,c){var C;let d,p,g,{id:y,x:b}=n,j=this.points,P=this.options.dataSorting,L=this.cropStart||0;if(y){let I=this.chart.get(y);I instanceof Dr&&(d=I)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let I=D=>!D.touched&&D.index===n.index;if(P!=null&&P.matchByName?I=D=>!D.touched&&D.name===n.name:this.options.relativeXValue&&(I=D=>!D.touched&&D.options.x===n.x),!(d=_i(j,I)))return}return d&&(g=d==null?void 0:d.index)!==void 0&&(p=!0),g===void 0&&or(b)&&(g=this.getColumn("x").indexOf(b,c)),g!==-1&&g!==void 0&&this.cropped&&(g=g>=L?g-L:g),!p&&or(g)&&((C=j[g])!=null&&C.touched)&&(g=void 0),g}updateData(n,c){var q;let{options:d,requireSorting:p}=this,g=d.dataSorting,y=this.points,b=[],j=n.length===y.length,P,L,C,I,D=!0;if(this.xIncrement=null,n.forEach((Y,X)=>{var be;let ie,ue=Hi(Y)&&this.pointClass.prototype.optionsToObject.call({series:this},Y)||{},{id:ye,x:xe}=ue;ye||or(xe)?((ie=this.findPointIndex(ue,I))===-1||ie===void 0?b.push(Y):y[ie]&&Y!==((be=d.data)==null?void 0:be[ie])?(y[ie].update(Y,!1,void 0,!1),y[ie].touched=!0,p&&(I=ie+1)):y[ie]&&(y[ie].touched=!0),(!j||X!==ie||g!=null&&g.enabled||this.hasDerivedData)&&(P=!0)):b.push(Y)},this),P)for(L=y.length;L--;)(C=y[L])&&!C.touched&&((q=C.remove)==null||q.call(C,!1,c));else j&&!(g!=null&&g.enabled)?(n.forEach((Y,X)=>{Y===y[X].y||y[X].destroyed||y[X].update(Y,!1,void 0,!1)}),b.length=0):D=!1;if(y.forEach(Y=>{Y&&(Y.touched=!1)}),!D)return!1;b.forEach(Y=>{this.addPoint(Y,!1,void 0,void 0,!1)},this);let B=this.getColumn("x");return this.xIncrement===null&&B.length&&(this.xIncrement=sl(B),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(n,c=!0,d,p){var je,Ne;let g=this.points,y=(g==null?void 0:g.length)||0,b=this.options,j=this.chart,P=b.dataSorting,L=this.xAxis,C=b.turboThreshold,I=this.dataTable,D=this.dataColumnKeys(),B=this.pointValKey||"y",q=(this.pointArrayMap||[]).length,Y=b.keys,X,ie,ue=0,ye=1,xe;j.options.chart.allowMutatingData||(b.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,xe=Vu(!0,n));let be=(n=xe||n||[]).length;if(P!=null&&P.enabled&&(n=this.sortData(n)),j.options.chart.allowMutatingData&&p!==!1&&be&&y&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(ie=this.updateData(n,d)),!ie){this.xIncrement=null,this.colorCounter=0;let ke=C&&!b.relativeXValue&&be>C;if(ke){let De=this.getFirstValidPoint(n),Le=this.getFirstValidPoint(n,be-1,-1),Ke=Ye=>!!(Jb(Ye)&&(Y||or(Ye[0])));if(or(De)&&or(Le)){let Ye=[],bt=[];for(let et of n)Ye.push(this.autoIncrement()),bt.push(et);I.setColumns({x:Ye,[B]:bt})}else if(Ke(De)&&Ke(Le))if(q){let Ye=+(De.length===q),bt=Array(D.length).fill(0).map(()=>[]);for(let et of n){Ye&&bt[0].push(this.autoIncrement());for(let ut=Ye;ut<=q;ut++)(je=bt[ut])==null||je.push(et[ut-Ye])}I.setColumns(D.reduce((et,ut,xt)=>(et[ut]=bt[xt],et),{}))}else{Y&&(ue=Y.indexOf("x"),ye=Y.indexOf("y"),ue=ue>=0?ue:0,ye=ye>=0?ye:1),De.length===1&&(ye=0);let Ye=[],bt=[];if(ue===ye)for(let et of n)Ye.push(this.autoIncrement()),bt.push(et[ye]);else for(let et of n)Ye.push(et[ue]),bt.push(et[ye]);I.setColumns({x:Ye,[B]:bt})}else ke=!1}if(!ke){let De=D.reduce((Le,Ke)=>(Le[Ke]=[],Le),{});for(X=0;X<be;X++){let Le=this.pointClass.prototype.applyOptions.apply({series:this},[n[X]]);for(let Ke of D)De[Ke][X]=Le[Ke]}I.setColumns(De)}for(ew(this.getColumn("y")[0])&&il(14,!0,j),this.data=[],this.options.data=this.userOptions.data=n,X=y;X--;)(Ne=g[X])==null||Ne.destroy();L&&(L.minRange=L.userMinRange),this.isDirty=j.isDirtyBox=!0,this.isDirtyData=!!g,d=!1}b.legendType==="point"&&(this.processData(),this.generatePoints()),c&&j.redraw(d)}sortData(n){let c=this,d=c.options.dataSorting.sortKey||"y",p=function(g,y){return Hi(y)&&g.pointClass.prototype.optionsToObject.call({series:g},y)||{}};return n.forEach(function(g,y){n[y]=p(c,g),n[y].index=y},this),n.concat().sort((g,y)=>{let b=Kn(d,g),j=Kn(d,y);return j<b?-1:+(j>b)}).forEach(function(g,y){g.x=y},this),c.linkedSeries&&c.linkedSeries.forEach(function(g){var j;let y=g.options,b=y.data;!((j=y.dataSorting)!=null&&j.enabled)&&b&&(b.forEach(function(P,L){b[L]=p(g,P),n[L]&&(b[L].x=n[L].x,b[L].index=L)}),g.setData(b,!1))}),n}getProcessedData(n){let c=this,{dataTable:d,isCartesian:p,options:g,xAxis:y}=c,b=g.cropThreshold,j=n||c.getExtremesFromAll,P=y==null?void 0:y.logarithmic,L=d.rowCount,C,I,D=0,B,q,Y,X=c.getColumn("x"),ie=d,ue=!1;return y&&(q=(B=y.getExtremes()).min,Y=B.max,ue=!!(y.categories&&!y.names.length),p&&c.sorted&&!j&&(!b||L>b||c.forceCrop)&&(X[L-1]<q||X[0]>Y?ie=new Ql:c.getColumn(c.pointValKey||"y").length&&(X[0]<q||X[L-1]>Y)&&(ie=(C=this.cropData(d,q,Y)).modified,D=C.start,I=!0))),X=ie.getColumn("x")||[],{modified:ie,cropped:I,cropStart:D,closestPointRange:Qb([P?X.map(P.log2lin):X],()=>c.requireSorting&&!ue&&il(15,!1,c.chart))}}processData(n){let c=this.xAxis,d=this.dataTable;if(this.isCartesian&&!this.isDirty&&!c.isDirty&&!this.yAxis.isDirty&&!n)return!1;let p=this.getProcessedData();d.modified=p.modified,this.cropped=p.cropped,this.cropStart=p.cropStart,this.closestPointRange=this.basePointRange=p.closestPointRange,Ni(this,"afterProcessData")}cropData(n,c,d){let p=n.getColumn("x",!0)||[],g=p.length,y={},b,j,P=0,L=g;for(b=0;b<g;b++)if(p[b]>=c){P=Math.max(0,b-1);break}for(j=b;j<g;j++)if(p[j]>d){L=j+1;break}for(let C of this.dataColumnKeys()){let I=n.getColumn(C,!0);I&&(y[C]=I.slice(P,L))}return{modified:new Ql({columns:y}),start:P,end:L}}generatePoints(){var xe,be,je;let n=this.options,c=this.processedData||n.data,d=this.dataTable.modified,p=this.getColumn("x",!0),g=this.pointClass,y=d.rowCount,b=this.cropStart||0,j=this.hasGroupedData,P=n.keys,L=[],C=(xe=n.dataGrouping)!=null&&xe.groupAll?b:0,I=(be=this.xAxis)==null?void 0:be.categories,D=this.pointArrayMap||["y"],B=this.dataColumnKeys(),q,Y,X,ie,ue=this.data,ye;if(!ue&&!j){let Ne=[];Ne.length=(c==null?void 0:c.length)||0,ue=this.data=Ne}for(P&&j&&(this.options.keys=!1),ie=0;ie<y;ie++)Y=b+ie,j?((X=new g(this,d.getRow(ie,B)||[])).dataGroup=this.groupMap[C+ie],(je=X.dataGroup)!=null&&je.options&&(X.options=X.dataGroup.options,rl(X,X.dataGroup.options),delete X.dataLabels)):(X=ue[Y],ye=c?c[Y]:d.getRow(ie,D),X||ye===void 0||(ue[Y]=X=new g(this,ye,p[ie]))),X&&(X.index=j?C+ie:Y,L[ie]=X,X.category=(I==null?void 0:I[X.x])??X.x,X.key=X.name??X.category);if(this.options.keys=P,ue&&(y!==(q=ue.length)||j))for(ie=0;ie<q;ie++)ie!==b||j||(ie+=y),ue[ie]&&(ue[ie].destroyElements(),ue[ie].plotX=void 0);this.data=ue,this.points=L,Ni(this,"afterGeneratePoints")}getXExtremes(n){return{min:qb(n),max:sl(n)}}getExtremes(n,c){var xe;let{xAxis:d,yAxis:p}=this,g=c||this.getExtremesFromAll||this.options.getExtremesFromAll,y=g&&this.cropped?this.dataTable:this.dataTable.modified,b=y.rowCount,j=n||this.stackedYData,P=j?[j]:((xe=this.keysAffectYAxis||this.pointArrayMap||["y"])==null?void 0:xe.map(be=>y.getColumn(be,!0)||[]))||[],L=this.getColumn("x",!0),C=[],I=this.requireSorting&&!this.is("column")?1:0,D=!!p&&p.positiveValuesOnly,B=g||this.cropped||!d,q,Y,X,ie=0,ue=0;for(d&&(ie=(q=d.getExtremes()).min,ue=q.max),X=0;X<b;X++)if(Y=L[X],B||(L[X+I]||Y)>=ie&&(L[X-I]||Y)<=ue)for(let be of P){let je=be[X];or(je)&&(je>0||!D)&&C.push(je)}let ye={activeYData:C,dataMin:qb(C),dataMax:sl(C)};return Ni(this,"afterGetExtremes",{dataExtremes:ye}),ye}applyExtremes(){let n=this.getExtremes();return this.dataMin=n.dataMin,this.dataMax=n.dataMax,n}getFirstValidPoint(n,c=0,d=1){let p=n.length,g=c;for(;g>=0&&g<p;){if(Hi(n[g]))return n[g];g+=d}}translate(){var ue;this.generatePoints();let n=this.options,c=n.stacking,d=this.xAxis,p=this.enabledDataSorting,g=this.yAxis,y=this.points,b=y.length,j=this.pointPlacementToXValue(),P=!!j,L=n.threshold,C=n.startFromThreshold?L:0,I=(n==null?void 0:n.nullInteraction)&&g.len,D,B,q,Y,X=Number.MAX_VALUE;function ie(ye){return yi(ye,-1e9,1e9)}for(D=0;D<b;D++){let ye,xe=y[D],be=xe.x,je,Ne,ke=xe.y,De=xe.low,Le=c&&((ue=g.stacking)==null?void 0:ue.stacks[(this.negStacks&&ke<(C?0:L)?"-":"")+this.stackKey]);xe.plotX=or(B=d.translate(be,!1,!1,!1,!0,j))?Kb(ie(B)):void 0,c&&this.visible&&Le&&Le[be]&&(Y=this.getStackIndicator(Y,be,this.index),!xe.isNull&&Y.key&&(Ne=(je=Le[be]).points[Y.key]),je&&Jb(Ne)&&(De=Ne[0],ke=Ne[1],De===C&&Y.key===Le[be].base&&(De=ji(or(L)?L:g.min)),g.positiveValuesOnly&&Hi(De)&&De<=0&&(De=void 0),xe.total=xe.stackTotal=ji(je.total),xe.percentage=Hi(xe.y)&&je.total?xe.y/je.total*100:void 0,xe.stackY=ke,this.irregularWidths||je.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),xe.yBottom=Hi(De)?ie(g.translate(De,!1,!0,!1,!0)):void 0,this.dataModify&&(ke=this.dataModify.modifyValue(ke,D)),or(ke)&&xe.plotX!==void 0?ye=or(ye=g.translate(ke,!1,!0,!1,!0))?ie(ye):void 0:!or(ke)&&I&&(ye=I),xe.plotY=ye,xe.isInside=this.isPointInside(xe),xe.clientX=P?Kb(d.translate(be,!1,!1,!1,!0,j)):B,xe.negative=(xe.y||0)<(L||0),xe.isNull||xe.visible===!1||(q!==void 0&&(X=Math.min(X,Math.abs(B-q))),q=B),xe.zone=this.zones.length?xe.getZone():void 0,!xe.graphic&&this.group&&p&&(xe.isNew=!0)}this.closestPointRangePx=X,Ni(this,"afterTranslate")}getValidPoints(n,c,d){let p=this.chart;return(n||this.points||[]).filter(function(g){let{plotX:y,plotY:b}=g;return(!!d||!g.isNull&&!!or(b))&&(!c||!!p.isInsidePlot(y,b,{inverted:p.inverted}))&&g.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:n,group:c,markerGroup:d}=this,p=n.sharedClips,g=n.renderer,y=n.getClipBox(this),b=this.getSharedClipKey(),j=p[b];j?j.animate(y):p[b]=j=g.clipRect(y),c&&c.clip(this.options.clip===!1?void 0:j),d&&d.clip()}animate(n){let{chart:c,group:d,markerGroup:p}=this,g=c.inverted,y=Mx(this.options.animation),b=[this.getSharedClipKey(),y.duration,y.easing,y.defer].join(","),j=c.sharedClips[b],P=c.sharedClips[b+"m"];if(n&&d){let L=c.getClipBox(this);if(j)j.attr("height",L.height);else{L.width=0,g&&(L.x=c.plotHeight),j=c.renderer.clipRect(L),c.sharedClips[b]=j;let C={x:-99,y:-99,width:g?c.plotWidth+199:99,height:g?99:c.plotHeight+199};P=c.renderer.clipRect(C),c.sharedClips[b+"m"]=P}d.clip(j),p==null||p.clip(P)}else if(j&&!j.hasClass("highcharts-animating")){let L=c.getClipBox(this),C=y.step;(p!=null&&p.element.childNodes.length||c.series.length>1)&&(y.step=function(I,D){C&&C.apply(D,arguments),D.prop==="width"&&(P!=null&&P.element)&&P.attr(g?"height":"width",I+99)}),j.addClass("highcharts-animating").animate(L,y)}}afterAnimate(){this.setClip(),sm(this.chart.sharedClips,(n,c,d)=>{n&&!this.chart.container.querySelector(`[clip-path="url(#${n.id})"]`)&&(n.destroy(),delete d[c])}),this.finishedAnimating=!0,Ni(this,"afterAnimate")}drawPoints(n=this.points){let c,d,p,g,y,b,j,P=this.chart,L=P.styledMode,{colorAxis:C,options:I}=this,D=I.marker,B=I.nullInteraction,q=this[this.specialGroup||"markerGroup"],Y=this.xAxis,X=ji(D.enabled,!Y||!!Y.isRadial||null,this.closestPointRangePx>=D.enabledThreshold*D.radius);if(D.enabled!==!1||this._hasPointMarkers)for(c=0;c<n.length;c++){g=(p=(d=n[c]).graphic)?"animate":"attr",y=d.marker||{},b=!!d.marker;let ie=d.isNull;if((X&&!Hi(y.enabled)||y.enabled)&&(!ie||B)&&d.visible!==!1){let ue=ji(y.symbol,this.symbol,"rect");j=this.markerAttribs(d,d.selected&&"select"),this.enabledDataSorting&&(d.startXPos=Y.reversed?-(j.width||0):Y.width);let ye=d.isInside!==!1;if(!p&&ye&&((j.width||0)>0||d.hasImage)&&(d.graphic=p=P.renderer.symbol(ue,j.x,j.y,j.width,j.height,b?y:D).add(q),this.enabledDataSorting&&P.hasRendered&&(p.attr({x:d.startXPos}),g="animate")),p&&g==="animate"&&p[ye?"show":"hide"](ye).animate(j),p){let xe=this.pointAttribs(d,L||!d.selected?void 0:"select");L?C&&p.css({fill:xe.fill}):p[g](xe)}p&&p.addClass(d.getClassName(),!0)}else p&&(d.graphic=p.destroy())}}markerAttribs(n,c){let d=this.options,p=d.marker,g=n.marker||{},y=g.symbol||p.symbol,b={},j,P,L=ji(g.radius,p==null?void 0:p.radius);c&&(j=p.states[c],P=g.states&&g.states[c],L=ji(P==null?void 0:P.radius,j==null?void 0:j.radius,L&&L+((j==null?void 0:j.radiusPlus)||0))),n.hasImage=y&&y.indexOf("url")===0,n.hasImage&&(L=0);let C=n.pos();return or(L)&&C&&(d.crisp&&(C[0]=Yb(C[0],n.hasImage?0:y==="rect"?(p==null?void 0:p.lineWidth)||0:1)),b.x=C[0]-L,b.y=C[1]-L),L&&(b.width=b.height=2*L),b}pointAttribs(n,c){var X;let d=this.options,p=d.marker,g=n==null?void 0:n.options,y=(g==null?void 0:g.marker)||{},b=g==null?void 0:g.color,j=n==null?void 0:n.color,P=(X=n==null?void 0:n.zone)==null?void 0:X.color,L,C,I=this.color,D,B,q=ji(y.lineWidth,p.lineWidth),Y=n!=null&&n.isNull&&d.nullInteraction?0:1;return I=b||P||j||I,D=y.fillColor||p.fillColor||I,B=y.lineColor||p.lineColor||I,c=c||"normal",L=p.states[c]||{},q=ji((C=y.states&&y.states[c]||{}).lineWidth,L.lineWidth,q+ji(C.lineWidthPlus,L.lineWidthPlus,0)),D=C.fillColor||L.fillColor||D,B=C.lineColor||L.lineColor||B,{stroke:B,"stroke-width":q,fill:D,opacity:Y=ji(C.opacity,L.opacity,Y)}}destroy(n){var j,P;let c,d,p=this,g=p.chart,y=/AppleWebKit\/533/.test(Gk.navigator.userAgent),b=p.data||[];for(Ni(p,"destroy",{keepEventsForUpdate:n}),this.removeEvents(n),(p.axisTypes||[]).forEach(function(L){d=p[L],d!=null&&d.series&&(Zb(d.series,p),d.isDirty=d.forceRedraw=!0)}),p.legendItem&&p.chart.legend.destroyItem(p),c=b.length;c--;)(P=(j=b[c])==null?void 0:j.destroy)==null||P.call(j);for(let L of p.zones)Xb(L,void 0,!0);Me.clearTimeout(p.animationTimeout),sm(p,function(L,C){L instanceof Gn&&!L.survive&&L[y&&C==="group"?"hide":"destroy"]()}),g.hoverSeries===p&&(g.hoverSeries=void 0),Zb(g.series,p),g.orderItems("series"),sm(p,function(L,C){n&&C==="hcEvents"||delete p[C]})}applyZones(){let{area:n,chart:c,graph:d,zones:p,points:g,xAxis:y,yAxis:b,zoneAxis:j}=this,{inverted:P,renderer:L}=c,C=this[`${j}Axis`],{isXAxis:I,len:D=0,minPointOffset:B=0}=C||{},q=((d==null?void 0:d.strokeWidth())||0)/2+1,Y=(X,ie=0,ue=0)=>{P&&(ue=D-ue);let{translated:ye=0,lineClip:xe}=X,be=ue-ye;xe==null||xe.push(["L",ie,Math.abs(be)<q?ue-q*(be<=0?-1:1):ye])};if(p.length&&(d||n)&&C&&or(C.min)){let X=C.getExtremes().max+B,ie=xe=>{xe.forEach((be,je)=>{(be[0]==="M"||be[0]==="L")&&(xe[je]=[be[0],I?D-be[1]:be[1],I?be[2]:D-be[2]])})};if(p.forEach(xe=>{xe.lineClip=[],xe.translated=yi(C.toPixels(ji(xe.value,X),!0)||0,0,D)}),d&&!this.showLine&&d.hide(),n&&n.hide(),j==="y"&&g.length<y.len)for(let xe of g){let{plotX:be,plotY:je,zone:Ne}=xe,ke=Ne&&p[p.indexOf(Ne)-1];Ne&&Y(Ne,be,je),ke&&Y(ke,be,je)}let ue=[],ye=C.toPixels(C.getExtremes().min-B,!0);p.forEach(xe=>{var ut,xt;let be=xe.lineClip||[],je=Math.round(xe.translated||0);y.reversed&&be.reverse();let{clip:Ne,simpleClip:ke}=xe,De=0,Le=0,Ke=y.len,Ye=b.len;I?(De=je,Ke=ye):(Le=je,Ye=ye);let bt=[["M",De,Le],["L",Ke,Le],["L",Ke,Ye],["L",De,Ye],["Z"]],et=[bt[0],...be,bt[1],bt[2],...ue,bt[3],bt[4]];ue=be.reverse(),ye=je,P&&(ie(et),n&&ie(bt)),Ne?(Ne.animate({d:et}),ke==null||ke.animate({d:bt})):(Ne=xe.clip=L.path(et),n&&(ke=xe.simpleClip=L.path(bt))),d&&((ut=xe.graph)==null||ut.clip(Ne)),n&&((xt=xe.area)==null||xt.clip(ke))})}else this.visible&&(d&&d.show(),n&&n.show())}plotGroup(n,c,d,p,g){let y=this[n],b=!y,j={visibility:d,zIndex:p||.1};return Hi(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(j.opacity=this.opacity),y||(this[n]=y=this.chart.renderer.g().add(g)),y.addClass("highcharts-"+c+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Hi(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(y.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),y.attr(j)[b?"attr":"animate"](this.getPlotBox(c)),y}getPlotBox(n){let c=this.xAxis,d=this.yAxis,p=this.chart,g=p.inverted&&!p.polar&&c&&this.invertible&&n==="series";p.inverted&&(c=d,d=this.xAxis);let y={scale:1,translateX:c?c.left:p.plotLeft,translateY:d?d.top:p.plotTop,name:n};Ni(this,"getPlotBox",y);let{scale:b,translateX:j,translateY:P}=y;return{translateX:j,translateY:P,rotation:90*!!g,rotationOriginX:g?b*(c.len-d.len)/2:0,rotationOriginY:g?b*(c.len+d.len)/2:0,scaleX:g?-b:b,scaleY:b}}removeEvents(n){let{eventsToUnbind:c}=this;n||qk(this),c.length&&(c.forEach(d=>{d()}),c.length=0)}render(){var L,C,I,D,B;let n=this,{chart:c,options:d,hasRendered:p}=n,g=Mx(d.animation),y=n.visible?"inherit":"hidden",b=d.zIndex,j=c.seriesGroup,P=n.finishedAnimating?0:g.duration;Ni(this,"render"),n.plotGroup("group","series",y,b,j),n.markerGroup=n.plotGroup("markerGroup","markers",y,b,j),d.clip!==!1&&n.setClip(),P&&((L=n.animate)==null||L.call(n,!0)),n.drawGraph&&(n.drawGraph(),n.applyZones()),n.visible&&n.drawPoints(),(C=n.drawDataLabels)==null||C.call(n),(I=n.redrawPoints)==null||I.call(n),d.enableMouseTracking&&((D=n.drawTracker)==null||D.call(n)),P&&((B=n.animate)==null||B.call(n)),p||(P&&g.defer&&(P+=g.defer),n.animationTimeout=$u(()=>{n.afterAnimate()},P||0)),n.isDirty=!1,n.hasRendered=!0,Ni(n,"afterRender")}redraw(){let n=this.isDirty||this.isDirtyData;this.translate(),this.render(),n&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(n,c){let{xAxis:d,yAxis:p}=this,g=this.chart.inverted;return this.searchKDTree({clientX:g?d.len-n.chartY+d.pos:n.chartX-d.pos,plotY:g?p.len-n.chartX+p.pos:n.chartY-p.pos},c,n)}buildKDTree(n){this.buildingKdTree=!0;let c=this,d=c.options,p=d.findNearestPointBy.indexOf("y")>-1?2:1;delete c.kdTree,$u(function(){c.kdTree=function g(y,b,j){let P,L,C=y==null?void 0:y.length;if(C)return P=c.kdAxisArray[b%j],y.sort((I,D)=>(I[P]||0)-(D[P]||0)),{point:y[L=Math.floor(C/2)],left:g(y.slice(0,L),b+1,j),right:g(y.slice(L+1),b+1,j)}}(c.getValidPoints(void 0,!c.directTouch,d==null?void 0:d.nullInteraction),p,p),c.buildingKdTree=!1},d.kdNow||(n==null?void 0:n.type)==="touchstart"?0:1)}searchKDTree(n,c,d,p,g){let y=this,[b,j]=this.kdAxisArray,P=c?"distX":"dist",L=(y.options.findNearestPointBy||"").indexOf("y")>-1?2:1,C=!!y.isBubble,I=p||((B,q,Y)=>{let X=B[Y]||0,ie=q[Y]||0;return[X===ie&&B.index>q.index||X<ie?B:q,!1]}),D=g||((B,q)=>B<q);if(this.kdTree||this.buildingKdTree||this.buildKDTree(d),this.kdTree)return function B(q,Y,X,ie){var De;let ue=Y.point,ye=y.kdAxisArray[X%ie],xe=ue,be=!1;(function(Le,Ke){var It;let Ye=Le[b],bt=Ke[b],et=Hi(Ye)&&Hi(bt)?Ye-bt:null,ut=Le[j],xt=Ke[j],kt=Hi(ut)&&Hi(xt)?ut-xt:0,Ct=C&&((It=Ke.marker)==null?void 0:It.radius)||0;Ke.dist=Math.sqrt((et&&et*et||0)+kt*kt)-Ct,Ke.distX=Hi(et)?Math.abs(et)-Ct:Number.MAX_VALUE})(q,ue);let je=(q[ye]||0)-(ue[ye]||0)+(C&&((De=ue.marker)==null?void 0:De.radius)||0),Ne=je<0?"left":"right",ke=je<0?"right":"left";return Y[Ne]&&([xe,be]=I(ue,B(q,Y[Ne],X+1,ie),P)),Y[ke]&&D(Math.sqrt(je*je),xe[P],be)&&(xe=I(xe,B(q,Y[ke],X+1,ie),P)[0]),xe}(n,this.kdTree,L,L)}pointPlacementToXValue(){let{options:n,xAxis:c}=this,d=n.pointPlacement;return d==="between"&&(d=c.reversed?-.5:.5),or(d)?d*(n.pointRange||c.pointRange):0}isPointInside(n){let{chart:c,xAxis:d,yAxis:p}=this,{plotX:g=-1,plotY:y=-1}=n;return y>=0&&y<=(p?p.len:c.plotHeight)&&g>=0&&g<=(d?d.len:c.plotWidth)}drawTracker(){var I;let n=this,c=n.options,d=c.trackByArea,p=[].concat((d?n.areaPath:n.graphPath)||[]),g=n.chart,y=g.pointer,b=g.renderer,j=((I=g.options.tooltip)==null?void 0:I.snap)||0,P=()=>{c.enableMouseTracking&&g.hoverSeries!==n&&n.onMouseOver()},L="rgba(192,192,192,"+(Uk?1e-4:.002)+")",C=n.tracker;C?C.attr({d:p}):n.graph&&(n.tracker=C=b.path(p).attr({visibility:n.visible?"inherit":"hidden",zIndex:2}).addClass(d?"highcharts-tracker-area":"highcharts-tracker-line").add(n.group),g.styledMode||C.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:L,fill:d?L:"none","stroke-width":n.graph.strokeWidth()+(d?0:2*j)}),[n.tracker,n.markerGroup,n.dataLabelsGroup].forEach(D=>{D&&(D.addClass("highcharts-tracker").on("mouseover",P).on("mouseout",B=>{y==null||y.onTrackerMouseOut(B)}),c.cursor&&!g.styledMode&&D.css({cursor:c.cursor}),D.on("touchstart",P))})),Ni(this,"afterDrawTracker")}addPoint(n,c,d,p,g){let y,b,j=this.options,{chart:P,data:L,dataTable:C,xAxis:I}=this,D=(I==null?void 0:I.hasNames)&&I.names,B=j.data,q=this.getColumn("x");c=ji(c,!0);let Y={series:this};this.pointClass.prototype.applyOptions.apply(Y,[n]);let X=Y.x;if(b=q.length,this.requireSorting&&X<q[b-1])for(y=!0;b&&q[b-1]>X;)b--;C.setRow(Y,b,!0,{addColumns:!1}),D&&Y.name&&(D[X]=Y.name),B==null||B.splice(b,0,n),(y||this.processedData)&&(this.data.splice(b,0,null),this.processData()),j.legendType==="point"&&this.generatePoints(),d&&(L[0]&&L[0].remove?L[0].remove(!1):([L,B].filter(Hi).forEach(ie=>{ie.shift()}),C.deleteRows(0))),g!==!1&&Ni(this,"addPoint",{point:Y}),this.isDirty=!0,this.isDirtyData=!0,c&&P.redraw(p)}removePoint(n,c,d){let p=this,{chart:g,data:y,points:b,dataTable:j}=p,P=y[n],L=function(){[(b==null?void 0:b.length)===y.length?b:void 0,y,p.options.data].filter(Hi).forEach(C=>{C.splice(n,1)}),j.deleteRows(n),P==null||P.destroy(),p.isDirty=!0,p.isDirtyData=!0,c&&g.redraw()};Gb(d,g),c=ji(c,!0),P?P.firePointEvent("remove",null,L):L()}remove(n,c,d,p){let g=this,y=g.chart;function b(){g.destroy(p),y.isDirtyLegend=y.isDirtyBox=!0,y.linkSeries(p),ji(n,!0)&&y.redraw(c)}d!==!1?Ni(g,"remove",null,b):b()}update(n,c){var X,ie;Ni(this,"update",{options:n=ar(n,this.userOptions)});let d=this,p=d.chart,g=d.userOptions,y=d.initialType||d.type,b=p.options.plotOptions,j=Jl[y].prototype,P=d.finishedAnimating&&{animation:!1},L={},C,I,D=pa.keepProps.slice(),B=n.type||g.type||p.options.chart.type,q=!(this.hasDerivedData||B&&B!==this.type||n.keys!==void 0||n.pointStart!==void 0||n.pointInterval!==void 0||n.relativeXValue!==void 0||n.joinBy||n.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(ue=>d.hasOptionChanged(ue)));B=B||y,q?(D.push.apply(D,pa.keepPropsForPoints),n.visible!==!1&&D.push("area","graph"),d.parallelArrays.forEach(function(ue){D.push(ue+"Data")}),n.data&&(n.dataSorting&&rl(d.options.dataSorting,n.dataSorting),this.setData(n.data,!1))):this.dataTable.modified=this.dataTable,n=Vu(g,{index:g.index===void 0?d.index:g.index,pointStart:((X=b==null?void 0:b.series)==null?void 0:X.pointStart)??g.pointStart??d.getColumn("x")[0]},!q&&{data:d.options.data},n,P),q&&n.data&&(n.data=d.options.data),(D=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(D)).forEach(function(ue){D[ue]=d[ue],delete d[ue]});let Y=!1;if(Jl[B]){if(Y=B!==d.type,d.remove(!1,!1,!1,!0),Y)if(p.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(d,Jl[B].prototype);else{let ue=Object.hasOwnProperty.call(d,"hcEvents")&&d.hcEvents;for(I in j)d[I]=void 0;rl(d,Jl[B].prototype),ue?d.hcEvents=ue:delete d.hcEvents}}else il(17,!0,p,{missingModuleFor:B});if(D.forEach(function(ue){d[ue]=D[ue]}),d.init(p,n),q&&this.points)for(let ue of((C=d.options).visible===!1?(L.graphic=1,L.dataLabel=1):(this.hasMarkerChanged(C,g)&&(L.graphic=1),(ie=d.hasDataLabels)!=null&&ie.call(d)||(L.dataLabel=1)),this.points))ue!=null&&ue.series&&(ue.resolveColor(),Object.keys(L).length&&ue.destroyElements(L),C.showInLegend===!1&&ue.legendItem&&p.legend.destroyItem(ue));d.initialType=y,p.linkSeries(),p.setSortedData(),Y&&d.linkedSeries.length&&(d.isDirtyData=!0),Ni(this,"afterUpdate"),ji(c,!0)&&p.redraw(!!q&&void 0)}setName(n){this.name=this.options.name=this.userOptions.name=n,this.chart.isDirtyLegend=!0}hasOptionChanged(n){var b,j;let c=this.chart,d=this.options[n],p=c.options.plotOptions,g=this.userOptions[n],y=ji((b=p==null?void 0:p[this.type])==null?void 0:b[n],(j=p==null?void 0:p.series)==null?void 0:j[n]);return g&&!Hi(y)?d!==g:d!==ji(y,d)}onMouseOver(){let n=this.chart,c=n.hoverSeries,d=n.pointer;d==null||d.setHoverChartIndex(),c&&c!==this&&c.onMouseOut(),this.options.events.mouseOver&&Ni(this,"mouseOver"),this.setState("hover"),n.hoverSeries=this}onMouseOut(){let n=this.options,c=this.chart,d=c.tooltip,p=c.hoverPoint;c.hoverSeries=null,p&&p.onMouseOut(),this&&n.events.mouseOut&&Ni(this,"mouseOut"),d&&!this.stickyTracking&&(!d.shared||this.noSharedTooltip)&&d.hide(),c.series.forEach(function(g){g.setState("",!0)})}setState(n,c){let d=this,p=d.options,g=d.graph,y=p.inactiveOtherPoints,b=p.states,j=ji(b[n||"normal"]&&b[n||"normal"].animation,d.chart.options.chart.animation),P=p.lineWidth,L=p.opacity;if(n=n||"",d.state!==n&&([d.group,d.markerGroup,d.dataLabelsGroup].forEach(function(C){C&&(d.state&&C.removeClass("highcharts-series-"+d.state),n&&C.addClass("highcharts-series-"+n))}),d.state=n,!d.chart.styledMode)){if(b[n]&&b[n].enabled===!1)return;if(n&&(P=b[n].lineWidth||P+(b[n].lineWidthPlus||0),L=ji(b[n].opacity,L)),g&&!g.dashstyle&&or(P))for(let C of[g,...this.zones.map(I=>I.graph)])C==null||C.animate({"stroke-width":P},j);y||[d.group,d.markerGroup,d.dataLabelsGroup,d.labelBySeries].forEach(function(C){C&&C.animate({opacity:L},j)})}c&&y&&d.points&&d.setAllPointsToState(n||void 0)}setAllPointsToState(n){this.points.forEach(function(c){c.setState&&c.setState(n)})}setVisible(n,c){var j;let d=this,p=d.chart,g=p.options.chart.ignoreHiddenSeries,y=d.visible;d.visible=n=d.options.visible=d.userOptions.visible=n===void 0?!y:n;let b=n?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(P=>{var L;(L=d[P])==null||L[b]()}),(p.hoverSeries===d||((j=p.hoverPoint)==null?void 0:j.series)===d)&&d.onMouseOut(),d.legendItem&&p.legend.colorizeItem(d,n),d.isDirty=!0,d.options.stacking&&p.series.forEach(P=>{P.options.stacking&&P.visible&&(P.isDirty=!0)}),d.linkedSeries.forEach(P=>{P.setVisible(n,!1)}),g&&(p.isDirtyBox=!0),Ni(d,b),c!==!1&&p.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(n){this.selected=n=this.options.selected=n===void 0?!this.selected:n,this.checkbox&&(this.checkbox.checked=n),Ni(this,n?"select":"unselect")}shouldShowTooltip(n,c,d={}){return d.series=this,d.visiblePlotOnly=!0,this.chart.isInsidePlot(n,c,d)}drawLegendSymbol(n,c){var d;(d=$b[this.options.legendSymbol||"rectangle"])==null||d.call(this,n,c)}}pa.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:T}=this.series.chart;return typeof this.y!="number"?"":T(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},pa.types=Es.seriesTypes,pa.registerType=Es.registerSeriesType,pa.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],pa.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],rl(pa.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Dr,requireSorting:!0,sorted:!0}),Es.series=pa;let Kr=pa,{animObject:Ex,setAnimation:Kk}=Nr,{registerEventOptions:tw}=Rp,{composed:go,marginNames:Ix}=ve,{distribute:ec}=Su,{format:ma}=Or,{addEvent:im,createElement:Yk,css:Xk,defined:Lx,discardElement:Ox,find:sw,fireEvent:fa,isNumber:iw,merge:xo,pick:kn,pushUnique:Zk,relativeLength:rw,stableSort:tc,syncTimeout:Uu}=Me;class rm{constructor(n,c){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=n,this.setOptions(c),c.enabled&&(this.render(),tw(this,c),im(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),im(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(n){let c=kn(n.padding,8);this.options=n,this.chart.styledMode||(this.itemStyle=n.itemStyle,this.itemHiddenStyle=xo(this.itemStyle,n.itemHiddenStyle)),this.itemMarginTop=n.itemMarginTop,this.itemMarginBottom=n.itemMarginBottom,this.padding=c,this.initialItemY=c-5,this.symbolWidth=kn(n.symbolWidth,16),this.pages=[],this.proximate=n.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(n,c){let d=this.chart;this.setOptions(xo(!0,this.options,n)),"events"in this.options&&tw(this,this.options),this.destroy(),d.isDirtyLegend=d.isDirtyBox=!0,kn(c,!0)&&d.redraw(),fa(this,"afterUpdate",{redraw:c})}colorizeItem(n,c){var P;let d=n.color,{area:p,group:g,label:y,line:b,symbol:j}=n.legendItem||{};if((n instanceof Kr||n instanceof Dr)&&(n.color=((P=n.options)==null?void 0:P.legendSymbolColor)||d),g==null||g[c?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:L={}}=this,C=L.color,{fillColor:I,fillOpacity:D,lineColor:B,marker:q}=n.options,Y=X=>(!c&&(X.fill&&(X.fill=C),X.stroke&&(X.stroke=C)),X);y==null||y.css(xo(c?this.itemStyle:L)),b==null||b.attr(Y({stroke:B||n.color})),j&&j.attr(Y(q&&j.isMarker?n.pointAttribs():{fill:n.color})),p==null||p.attr(Y({fill:I||n.color,"fill-opacity":I?1:D??.75}))}n.color=d,fa(this,"afterColorizeItem",{item:n,visible:c})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(n){let{group:c,x:d=0,y:p=0}=n.legendItem||{},g=this.options,y=g.symbolPadding,b=!g.rtl,j=n.checkbox;if(c!=null&&c.element){let P={translateX:b?d:this.legendWidth-d-2*y-4,translateY:p};c[Lx(c.translateY)?"animate":"attr"](P,void 0,()=>{fa(this,"afterPositionItem",{item:n})})}j&&(j.x=d,j.y=p)}destroyItem(n){let c=n.legendItem||{};for(let d of["group","label","line","symbol"])c[d]&&(c[d]=c[d].destroy());n.checkbox=Ox(n.checkbox),n.legendItem=void 0}destroy(){for(let n of this.getAllItems())this.destroyItem(n);for(let n of["clipRect","up","down","pager","nav","box","title","group"])this[n]&&(this[n]=this[n].destroy());this.display=null}positionCheckboxes(){var g;let n,c=(g=this.group)==null?void 0:g.alignAttr,d=this.clipHeight||this.legendHeight,p=this.titleHeight;c&&(n=c.translateY,this.allItems.forEach(function(y){let b,j=y.checkbox;j&&(b=n+p+j.y+(this.scrollOffset||0)+3,Xk(j,{left:c.translateX+y.checkboxOffset+j.x-20+"px",top:b+"px",display:this.proximate||b>n-6&&b<n+d-6?"":"none"}))},this))}renderTitle(){let n=this.options,c=this.padding,d=n.title,p,g=0;d.text&&(this.title||(this.title=this.chart.renderer.label(d.text,c-3,c-4,void 0,void 0,void 0,n.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(d.style),this.title.add(this.group)),d.width||this.title.css({width:this.maxLegendWidth+"px"}),g=(p=this.title.getBBox()).height,this.offsetWidth=p.width,this.contentGroup.attr({translateY:g})),this.titleHeight=g}setText(n){let c=this.options;n.legendItem.label.attr({text:c.labelFormat?ma(c.labelFormat,n,this.chart):c.labelFormatter.call(n)})}renderItem(n){var je;let c=n.legendItem=n.legendItem||{},d=this.chart,p=d.renderer,g=this.options,y=g.layout==="horizontal",b=this.symbolWidth,j=g.symbolPadding||0,P=this.itemStyle,L=this.itemHiddenStyle,C=y?kn(g.itemDistance,20):0,I=!g.rtl,D=!n.series,B=!D&&n.series.drawLegendSymbol?n.series:n,q=B.options,Y=!!this.createCheckboxForItem&&q&&q.showCheckbox,X=g.useHTML,ie=n.options.className,ue=c.label,ye=b+j+C+20*!!Y;!ue&&(c.group=p.g("legend-item").addClass("highcharts-"+B.type+"-series highcharts-color-"+n.colorIndex+(ie?" "+ie:"")+(D?" highcharts-series-"+n.index:"")).attr({zIndex:1}).add(this.scrollGroup),c.label=ue=p.text("",I?b+j:-j,this.baseline||0,X),d.styledMode||ue.css(xo(n.visible?P:L)),ue.attr({align:I?"left":"right",zIndex:2}).add(c.group),!this.baseline&&(this.fontMetrics=p.fontMetrics(ue),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,ue.attr("y",this.baseline),this.symbolHeight=kn(g.symbolHeight,this.fontMetrics.f),g.squareSymbol&&(this.symbolWidth=kn(g.symbolWidth,Math.max(this.symbolHeight,16)),ye=this.symbolWidth+j+C+20*!!Y,I&&ue.attr("x",this.symbolWidth+j))),B.drawLegendSymbol(this,n),this.setItemEvents&&this.setItemEvents(n,ue,X)),Y&&!n.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(n),this.colorizeItem(n,n.visible),(d.styledMode||!P.width)&&ue.css({width:(g.itemWidth||this.widthOption||d.spacingBox.width)-ye+"px"}),this.setText(n);let xe=ue.getBBox(),be=((je=this.fontMetrics)==null?void 0:je.h)||0;n.itemWidth=n.checkboxOffset=g.itemWidth||c.labelWidth||xe.width+ye,this.maxItemWidth=Math.max(this.maxItemWidth,n.itemWidth),this.totalItemWidth+=n.itemWidth,this.itemHeight=n.itemHeight=Math.round(c.labelHeight||(xe.height>1.5*be?xe.height:be))}layoutItem(n){let c=this.options,d=this.padding,p=c.layout==="horizontal",g=n.itemHeight,y=this.itemMarginBottom,b=this.itemMarginTop,j=p?kn(c.itemDistance,20):0,P=this.maxLegendWidth,L=c.alignColumns&&this.totalItemWidth>P?this.maxItemWidth:n.itemWidth,C=n.legendItem||{};p&&this.itemX-d+L>P&&(this.itemX=d,this.lastLineHeight&&(this.itemY+=b+this.lastLineHeight+y),this.lastLineHeight=0),this.lastItemY=b+this.itemY+y,this.lastLineHeight=Math.max(g,this.lastLineHeight),C.x=this.itemX,C.y=this.itemY,p?this.itemX+=L:(this.itemY+=b+g+y,this.lastLineHeight=g),this.offsetWidth=this.widthOption||Math.max((p?this.itemX-d-(n.checkbox?0:j):L)+d,this.offsetWidth)}getAllItems(){let n=[];return this.chart.series.forEach(function(c){var p;let d=c==null?void 0:c.options;c&&kn(d.showInLegend,!Lx(d.linkedTo)&&void 0,!0)&&(n=n.concat(((p=c.legendItem)==null?void 0:p.labels)||(d.legendType==="point"?c.data:c)))}),fa(this,"afterGetAllItems",{allItems:n}),n}getAlignment(){let n=this.options;return this.proximate?n.align.charAt(0)+"tv":n.floating?"":n.align.charAt(0)+n.verticalAlign.charAt(0)+n.layout.charAt(0)}adjustMargins(n,c){let d=this.chart,p=this.options,g=this.getAlignment();g&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((y,b)=>{y.test(g)&&!Lx(n[b])&&(d[Ix[b]]=Math.max(d[Ix[b]],d.legend[(b+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][b]*p[b%2?"x":"y"]+(p.margin??12)+c[b]+(d.titleOffset[b]||0)))})}proximatePositions(){let n,c=this.chart,d=[],p=this.options.align==="left";for(let g of(this.allItems.forEach(function(y){let b,j,P=p,L,C;y.yAxis&&(y.xAxis.options.reversed&&(P=!P),y.points&&(b=sw(P?y.points:y.points.slice(0).reverse(),function(I){return iw(I.plotY)})),j=this.itemMarginTop+y.legendItem.label.getBBox().height+this.itemMarginBottom,C=y.yAxis.top-c.plotTop,L=y.visible?(b?b.plotY:y.yAxis.height)+(C-.3*j):C+y.yAxis.height,d.push({target:L,size:j,item:y}))},this),ec(d,c.plotHeight)))n=g.item.legendItem||{},iw(g.pos)&&(n.y=c.plotTop-c.spacing[0]+g.pos)}render(){let n=this.chart,c=n.renderer,d=this.options,p=this.padding,g=this.getAllItems(),y,b,j,P=this.group,L,C=this.box;this.itemX=p,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=rw(d.width,n.spacingBox.width-p),L=n.spacingBox.width-2*p-d.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(L/=2),this.maxLegendWidth=this.widthOption||L,P||(this.group=P=c.g("legend").addClass(d.className||"").attr({zIndex:7}).add(),this.contentGroup=c.g().attr({zIndex:1}).add(P),this.scrollGroup=c.g().add(this.contentGroup)),this.renderTitle(),tc(g,(I,D)=>{var B,q;return(((B=I.options)==null?void 0:B.legendIndex)||0)-(((q=D.options)==null?void 0:q.legendIndex)||0)}),d.reversed&&g.reverse(),this.allItems=g,this.display=y=!!g.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,g.forEach(this.renderItem,this),g.forEach(this.layoutItem,this),b=(this.widthOption||this.offsetWidth)+p,j=this.lastItemY+this.lastLineHeight+this.titleHeight,j=this.handleOverflow(j)+p,C||(this.box=C=c.rect().addClass("highcharts-legend-box").attr({r:d.borderRadius}).add(P)),n.styledMode||C.attr({stroke:d.borderColor,"stroke-width":d.borderWidth||0,fill:d.backgroundColor||"none"}).shadow(d.shadow),b>0&&j>0&&C[C.placed?"animate":"attr"](C.crisp.call({},{x:0,y:0,width:b,height:j},C.strokeWidth())),P[y?"show":"hide"](),n.styledMode&&P.getStyle("display")==="none"&&(b=j=0),this.legendWidth=b,this.legendHeight=j,y&&this.align(),this.proximate||this.positionItems(),fa(this,"afterRender")}align(n=this.chart.spacingBox){let c=this.chart,d=this.options,p=n.y;/(lth|ct|rth)/.test(this.getAlignment())&&c.titleOffset[0]>0?p+=c.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&c.titleOffset[2]>0&&(p-=c.titleOffset[2]),p!==n.y&&(n=xo(n,{y:p})),c.hasRendered||(this.group.placed=!1),this.group.align(xo(d,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":d.verticalAlign}),!0,n)}handleOverflow(n){let c=this,d=this.chart,p=d.renderer,g=this.options,y=g.y,b=g.verticalAlign==="top",j=this.padding,P=g.maxHeight,L=g.navigation,C=kn(L.animation,!0),I=L.arrowSize||12,D=this.pages,B=this.allItems,q=function(Ne){typeof Ne=="number"?je.attr({height:Ne}):je&&(c.clipRect=je.destroy(),c.contentGroup.clip()),c.contentGroup.div&&(c.contentGroup.div.style.clip=Ne?"rect("+j+"px,9999px,"+(j+Ne)+"px,0)":"auto")},Y=function(Ne){return c[Ne]=p.circle(0,0,1.3*I).translate(I/2,I/2).add(be),d.styledMode||c[Ne].attr("fill","rgba(0,0,0,0.0001)"),c[Ne]},X,ie,ue,ye,xe=d.spacingBox.height+(b?-y:y)-j,be=this.nav,je=this.clipRect;return g.layout!=="horizontal"||g.verticalAlign==="middle"||g.floating||(xe/=2),P&&(xe=Math.min(xe,P)),D.length=0,n&&xe>0&&n>xe&&L.enabled!==!1?(this.clipHeight=X=Math.max(xe-20-this.titleHeight-j,0),this.currentPage=kn(this.currentPage,1),this.fullHeight=n,B.forEach((Ne,ke)=>{let De=(ue=Ne.legendItem||{}).y||0,Le=Math.round(ue.label.getBBox().height),Ke=D.length;(!Ke||De-D[Ke-1]>X&&(ie||De)!==D[Ke-1])&&(D.push(ie||De),Ke++),ue.pageIx=Ke-1,ie&&ye&&(ye.pageIx=Ke-1),ke===B.length-1&&De+Le-D[Ke-1]>X&&De>D[Ke-1]&&(D.push(De),ue.pageIx=Ke),De!==ie&&(ie=De),ye=ue}),je||(je=c.clipRect=p.clipRect(0,j-2,9999,0),c.contentGroup.clip(je)),q(X),be||(this.nav=be=p.g().attr({zIndex:1}).add(this.group),this.up=p.symbol("triangle",0,0,I,I).add(be),Y("upTracker").on("click",function(){c.scroll(-1,C)}),this.pager=p.text("",15,10).addClass("highcharts-legend-navigation"),!d.styledMode&&L.style&&this.pager.css(L.style),this.pager.add(be),this.down=p.symbol("triangle-down",0,0,I,I).add(be),Y("downTracker").on("click",function(){c.scroll(1,C)})),c.scroll(0),n=xe):be&&(q(),this.nav=be.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),n}scroll(n,c){let d=this.chart,p=this.pages,g=p.length,y=this.clipHeight,b=this.options.navigation,j=this.pager,P=this.padding,L=this.currentPage+n;L>g&&(L=g),L>0&&(c!==void 0&&Kk(c,d),this.nav.attr({translateX:P,translateY:y+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(C){C.attr({class:L===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),j.attr({text:L+"/"+g}),[this.down,this.downTracker].forEach(function(C){C.attr({x:18+this.pager.getBBox().width,class:L===g?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),d.styledMode||(this.up.attr({fill:L===1?b.inactiveColor:b.activeColor}),this.upTracker.css({cursor:L===1?"default":"pointer"}),this.down.attr({fill:L===g?b.inactiveColor:b.activeColor}),this.downTracker.css({cursor:L===g?"default":"pointer"})),this.scrollOffset=-p[L-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=L,this.positionCheckboxes(),Uu(()=>{fa(this,"afterScroll",{currentPage:L})},Ex(kn(c,d.renderer.globalAnimation,!0)).duration))}setItemEvents(n,c,d){let p=this,g=n.legendItem||{},y=p.chart.renderer.boxWrapper,b=n instanceof Dr,j=n instanceof Kr,P="highcharts-legend-"+(b?"point":"series")+"-active",L=p.chart.styledMode,C=d?[c,g.symbol]:[g.group],I=D=>{p.allItems.forEach(B=>{n!==B&&[B].concat(B.linkedSeries||[]).forEach(q=>{q.setState(D,!b)})})};for(let D of C)D&&D.on("mouseover",function(){n.visible&&I("inactive"),n.setState("hover"),n.visible&&y.addClass(P),L||c.css(p.options.itemHoverStyle)}).on("mouseout",function(){p.chart.styledMode||c.css(xo(n.visible?p.itemStyle:p.itemHiddenStyle)),I(""),y.removeClass(P),n.setState()}).on("click",function(B){let q=function(){n.setVisible&&n.setVisible(),I(n.visible?"inactive":"")};y.removeClass(P),fa(p,"itemClick",{browserEvent:B,legendItem:n},q),b?n.firePointEvent("legendItemClick",{browserEvent:B}):j&&fa(n,"legendItemClick",{browserEvent:B})})}createCheckboxForItem(n){n.checkbox=Yk("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:n.selected,defaultChecked:n.selected},this.options.itemCheckboxStyle,this.chart.container),im(n.checkbox,"click",function(c){let d=c.target;fa(n.series||n,"checkboxClick",{checked:d.checked,item:n},function(){n.select()})})}}(function(T){T.compose=function(n){Zk(go,"Core.Legend")&&im(n,"beforeMargins",function(){this.legend=new T(this,this.options.legend)})}})(rm||(rm={}));let nw=rm,{animate:nm,animObject:Dx,setAnimation:Gu}=Nr,{defaultOptions:am}=zi,{numberFormat:Rx}=Or,{registerEventOptions:Yn}=Rp,{charts:nn,doc:ud,marginNames:aw,svg:Qk,win:om}=ve,{seriesTypes:Wa}=Es,{addEvent:qu,attr:Is,createElement:Fx,css:Sn,defined:nl,diffObjects:sc,discardElement:Jk,erase:lm,error:Xn,extend:Ha,find:jr,fireEvent:Ds,getAlignFactor:ow,getStyle:cm,isArray:dm,isNumber:hd,isObject:e2,isString:ga,merge:Va,objectEach:zx,pick:Li,pInt:um,relativeLength:hm,removeEvent:pm,splat:mm,syncTimeout:lw,uniqueKey:cw}=Me;class ic{static chart(n,c,d){return new ic(n,c,d)}constructor(n,c,d){this.sharedClips={};let p=[...arguments];(ga(n)||n.nodeName)&&(this.renderTo=p.shift()),this.init(p[0],p[1])}setZoomOptions(){let n=this.options.chart,c=n.zooming;this.zooming={...c,type:Li(n.zoomType,c.type),key:Li(n.zoomKey,c.key),pinchType:Li(n.pinchType,c.pinchType),singleTouch:Li(n.zoomBySingleTouch,c.singleTouch,!1),resetButton:Va(c.resetButton,n.resetZoomButton)}}init(n,c){Ds(this,"init",{args:arguments},function(){var y;let d=Va(am,n),p=d.chart,g=this.renderTo||p.renderTo;this.userOptions=Ha({},n),(this.renderTo=ga(g)?ud.getElementById(g):g)||Xn(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=c,this.isResizing=0,this.options=d,this.axes=[],this.series=[],this.locale=d.lang.locale??((y=this.renderTo.closest("[lang]"))==null?void 0:y.lang),this.time=new Bg(Ha(d.time||{},{locale:this.locale}),d.lang),d.time=this.time.options,this.numberFormatter=(p.numberFormatter||Rx).bind(this),this.styledMode=p.styledMode,this.hasCartesianSeries=p.showAxes,this.index=nn.length,nn.push(this),ve.chartCount++,Yn(this,p),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),Ds(this,"afterInit"),this.firstRender()})}initSeries(n){let c=this.options.chart,d=n.type||c.type,p=Wa[d];p||Xn(17,!0,this,{missingModuleFor:d});let g=new p;return typeof g.init=="function"&&g.init(this,n),g}setSortedData(){this.getSeriesOrderByLinks().forEach(function(n){n.points||n.data||!n.enabledDataSorting||n.setData(n.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(n,c){return n.linkedSeries.length||c.linkedSeries.length?c.linkedSeries.length-n.linkedSeries.length:0})}orderItems(n,c=0){let d=this[n],p=this.options[n]=mm(this.options[n]).slice(),g=this.userOptions[n]=this.userOptions[n]?mm(this.userOptions[n]).slice():[];if(this.hasRendered&&(p.splice(c),g.splice(c)),d)for(let y=c,b=d.length;y<b;++y){let j=d[y];j&&(j.index=y,j instanceof Kr&&(j.name=j.getName()),j.options.isInternal||(p[y]=j.options,g[y]=j.userOptions))}}getClipBox(n,c){var L,C;let d=this.inverted,{xAxis:p,yAxis:g}=n||{},{x:y,y:b,width:j,height:P}=Va(this.clipBox);return n&&(p&&p.len!==this.plotSizeX&&(j=p.len),g&&g.len!==this.plotSizeY&&(P=g.len),d&&!n.invertible&&([j,P]=[P,j])),c&&(y+=((L=d?g:p)==null?void 0:L.pos)??this.plotLeft,b+=((C=d?p:g)==null?void 0:C.pos)??this.plotTop),{x:y,y:b,width:j,height:P}}isInsidePlot(n,c,d={}){var Y;let{inverted:p,plotBox:g,plotLeft:y,plotTop:b,scrollablePlotBox:j}=this,{scrollLeft:P=0,scrollTop:L=0}=d.visiblePlotOnly&&((Y=this.scrollablePlotArea)==null?void 0:Y.scrollingContainer)||{},C=d.series,I=d.visiblePlotOnly&&j||g,D=d.inverted?c:n,B=d.inverted?n:c,q={x:D,y:B,isInsidePlot:!0,options:d};if(!d.ignoreX){let X=C&&(p&&!this.polar?C.yAxis:C.xAxis)||{pos:y,len:1/0},ie=d.paneCoordinates?X.pos+D:y+D;ie>=Math.max(P+y,X.pos)&&ie<=Math.min(P+y+I.width,X.pos+X.len)||(q.isInsidePlot=!1)}if(!d.ignoreY&&q.isInsidePlot){let X=!p&&d.axis&&!d.axis.isXAxis&&d.axis||C&&(p?C.xAxis:C.yAxis)||{pos:b,len:1/0},ie=d.paneCoordinates?X.pos+B:b+B;ie>=Math.max(L+b,X.pos)&&ie<=Math.min(L+b+I.height,X.pos+X.len)||(q.isInsidePlot=!1)}return Ds(this,"afterIsInsidePlot",q),q.isInsidePlot}redraw(n){Ds(this,"beforeRedraw");let c=this.hasCartesianSeries?this.axes:this.colorAxis||[],d=this.series,p=this.pointer,g=this.legend,y=this.userOptions.legend,b=this.renderer,j=b.isHidden(),P=[],L,C,I,D=this.isDirtyBox,B=this.isDirtyLegend,q;for(b.rootFontSize=b.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),Gu(!!this.hasRendered&&n,this),j&&this.temporaryDisplay(),this.layOutTitles(!1),I=d.length;I--;)if(((q=d[I]).options.stacking||q.options.centerInCategory)&&(C=!0,q.isDirty)){L=!0;break}if(L)for(I=d.length;I--;)(q=d[I]).options.stacking&&(q.isDirty=!0);d.forEach(function(Y){Y.isDirty&&(Y.options.legendType==="point"?(typeof Y.updateTotals=="function"&&Y.updateTotals(),B=!0):y&&(y.labelFormatter||y.labelFormat)&&(B=!0)),Y.isDirtyData&&Ds(Y,"updatedData")}),B&&g&&g.options.enabled&&(g.render(),this.isDirtyLegend=!1),C&&this.getStacks(),c.forEach(function(Y){Y.updateNames(),Y.setScale()}),this.getMargins(),c.forEach(function(Y){Y.isDirty&&(D=!0)}),c.forEach(function(Y){let X=Y.min+","+Y.max;Y.extKey!==X&&(Y.extKey=X,P.push(function(){Ds(Y,"afterSetExtremes",Ha(Y.eventArgs,Y.getExtremes())),delete Y.eventArgs})),(D||C)&&Y.redraw()}),D&&this.drawChartBox(),Ds(this,"predraw"),d.forEach(function(Y){(D||Y.isDirty)&&Y.visible&&Y.redraw(),Y.isDirtyData=!1}),p&&p.reset(!0),b.draw(),Ds(this,"redraw"),Ds(this,"render"),j&&this.temporaryDisplay(!0),P.forEach(function(Y){Y.call()})}get(n){let c=this.series;function d(g){return g.id===n||g.options&&g.options.id===n}let p=jr(this.axes,d)||jr(this.series,d);for(let g=0;!p&&g<c.length;g++)p=jr(c[g].points||[],d);return p}createAxes(){let n=this.userOptions;for(let c of(Ds(this,"createAxes"),["xAxis","yAxis"]))for(let d of n[c]=mm(n[c]||{}))new fo(this,d,c);Ds(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((n,c)=>(c.getPointsCollection().forEach(d=>{Li(d.selectedStaging,d.selected)&&n.push(d)}),n),[])}getSelectedSeries(){return this.series.filter(n=>n.selected)}setTitle(n,c,d){this.applyDescription("title",n),this.applyDescription("subtitle",c),this.applyDescription("caption",void 0),this.layOutTitles(d)}applyDescription(n,c){var y;let d=this,p=this.options[n]=Va(this.options[n],c),g=this[n];g&&c&&(this[n]=g=g.destroy()),p&&!g&&((g=this.renderer.text(p.text,0,0,p.useHTML).attr({align:p.align,class:"highcharts-"+n,zIndex:p.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(b,j){d.applyDescription(n,b),d.layOutTitles(j)},this.styledMode||g.css(Ha(n==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},p.style)),g.textPxLength=g.getBBox().width,g.css({whiteSpace:(y=p.style)==null?void 0:y.whiteSpace}),this[n]=g)}layOutTitles(n=!0){var b,j,P,L;let c=[0,0,0],{options:d,renderer:p,spacingBox:g}=this;["title","subtitle","caption"].forEach(C=>{var Y;let I=this[C],D=this.options[C],B=Va(g),q=(I==null?void 0:I.textPxLength)||0;if(I&&D){Ds(this,"layOutTitle",{alignTo:B,key:C,textPxLength:q});let X=p.fontMetrics(I),ie=X.b,ue=X.h,ye=D.verticalAlign||"top",xe=ye==="top",be=xe&&D.minScale||1,je=C==="title"?xe?-3:0:xe?c[0]+2:0,Ne=Math.min(B.width/q,1),ke=Math.max(be,Ne),De=Va({y:ye==="bottom"?ie:je+ie},{align:C==="title"?Ne<be?"left":"center":(Y=this.title)==null?void 0:Y.alignValue},D),Le=(D.width||(Ne>be?this.chartWidth:B.width)/ke)+"px";I.alignValue!==De.align&&(I.placed=!1);let Ke=Math.round(I.css({width:Le}).getBBox(D.useHTML).height);if(De.height=Ke,I.align(De,!1,B).attr({align:De.align,scaleX:ke,scaleY:ke,"transform-origin":`${B.x+q*ke*ow(De.align)} ${ue}`}),!D.floating){let Ye=Ke*(Ke<1.2*ue?1:ke);ye==="top"?c[0]=Math.ceil(c[0]+Ye):ye==="bottom"&&(c[2]=Math.ceil(c[2]+Ye))}}},this),c[0]&&(((b=d.title)==null?void 0:b.verticalAlign)||"top")==="top"&&(c[0]+=((j=d.title)==null?void 0:j.margin)||0),c[2]&&((P=d.caption)==null?void 0:P.verticalAlign)==="bottom"&&(c[2]+=((L=d.caption)==null?void 0:L.margin)||0);let y=!this.titleOffset||this.titleOffset.join(",")!==c.join(",");this.titleOffset=c,Ds(this,"afterLayOutTitles"),!this.isDirtyBox&&y&&(this.isDirtyBox=this.isDirtyLegend=y,this.hasRendered&&n&&this.isDirtyBox&&this.redraw())}getContainerBox(){let n=[].map.call(this.renderTo.children,d=>{if(d!==this.container){let p=d.style.display;return d.style.display="none",[d,p]}}),c={width:cm(this.renderTo,"width",!0)||0,height:cm(this.renderTo,"height",!0)||0};return n.filter(Boolean).forEach(([d,p])=>{d.style.display=p}),c}getChartSize(){var y;let n=this.options.chart,c=n.width,d=n.height,p=this.getContainerBox(),g=p.height<=1||!((y=this.renderTo.parentElement)!=null&&y.style.height)&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,c||p.width||600),this.chartHeight=Math.max(0,hm(d,this.chartWidth)||(g?400:p.height)),this.containerBox=p}temporaryDisplay(n){let c=this.renderTo,d;if(n)for(;c!=null&&c.style;)c.hcOrigStyle&&(Sn(c,c.hcOrigStyle),delete c.hcOrigStyle),c.hcOrigDetached&&(ud.body.removeChild(c),c.hcOrigDetached=!1),c=c.parentNode;else for(;c!=null&&c.style&&(ud.body.contains(c)||c.parentNode||(c.hcOrigDetached=!0,ud.body.appendChild(c)),(cm(c,"display",!1)==="none"||c.hcOricDetached)&&(c.hcOrigStyle={display:c.style.display,height:c.style.height,overflow:c.style.overflow},d={display:"block",overflow:"hidden"},c!==this.renderTo&&(d.height=0),Sn(c,d),c.offsetWidth||c.style.setProperty("display","block","important")),(c=c.parentNode)!==ud.body););}setClassName(n){this.container.className="highcharts-container "+(n||"")}getContainer(){var I,D;let n,c=this.options,d=c.chart,p="data-highcharts-chart",g=cw(),y=this.renderTo,b=um(Is(y,p));hd(b)&&nn[b]&&nn[b].hasRendered&&nn[b].destroy(),Is(y,p,this.index),y.innerHTML=xi.emptyHTML,d.skipClone||y.offsetWidth||this.temporaryDisplay(),this.getChartSize();let j=this.chartHeight,P=this.chartWidth;Sn(y,{overflow:"hidden"}),this.styledMode||(n=Ha({position:"relative",overflow:"hidden",width:P+"px",height:j+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},d.style||{}));let L=Fx("div",{id:g},n,y);this.container=L,this.getChartSize(),P!==this.chartWidth&&(P=this.chartWidth,this.styledMode||Sn(L,{width:Li((I=d.style)==null?void 0:I.width,P+"px")})),this.containerBox=this.getContainerBox(),this._cursor=L.style.cursor;let C=d.renderer||!Qk?$n.getRendererType(d.renderer):Iu;if(this.renderer=new C(L,P,j,void 0,d.forExport,(D=c.exporting)==null?void 0:D.allowHTML,this.styledMode),Gu(void 0,this),this.setClassName(d.className),this.styledMode)for(let B in c.defs)this.renderer.definition(c.defs[B]);else this.renderer.setStyle(d.style);this.renderer.chartIndex=this.index,Ds(this,"afterGetContainer")}getMargins(n){var g;let{spacing:c,margin:d,titleOffset:p}=this;this.resetMargins(),p[0]&&!nl(d[0])&&(this.plotTop=Math.max(this.plotTop,p[0]+c[0])),p[2]&&!nl(d[2])&&(this.marginBottom=Math.max(this.marginBottom,p[2]+c[2])),(g=this.legend)!=null&&g.display&&this.legend.adjustMargins(d,c),Ds(this,"getMargins"),n||this.getAxisMargins()}getAxisMargins(){let n=this,c=n.axisOffset=[0,0,0,0],d=n.colorAxis,p=n.margin,g=y=>{y.forEach(b=>{b.visible&&b.getOffset()})};n.hasCartesianSeries?g(n.axes):d!=null&&d.length&&g(d),aw.forEach((y,b)=>{nl(p[b])||(n[y]+=c[b])}),n.setChartSize()}getOptions(){return sc(this.userOptions,am)}reflow(n){var g,y;let c=this,d=c.containerBox,p=c.getContainerBox();(g=c.pointer)==null||delete g.chartPosition,!((y=c.exporting)!=null&&y.isPrinting)&&!c.isResizing&&d&&p.width&&((p.width!==d.width||p.height!==d.height)&&(Me.clearTimeout(c.reflowTimeout),c.reflowTimeout=lw(function(){c.container&&c.setSize(void 0,void 0,!1)},100*!!n)),c.containerBox=p)}setReflow(){let n=this,c=d=>{var p;(p=n.options)!=null&&p.chart.reflow&&n.hasLoaded&&n.reflow(d)};if(typeof ResizeObserver=="function")new ResizeObserver(c).observe(n.renderTo);else{let d=qu(om,"resize",c);qu(this,"destroy",d)}}setSize(n,c,d){let p=this,g=p.renderer;p.isResizing+=1,Gu(d,p);let y=g.globalAnimation;p.oldChartHeight=p.chartHeight,p.oldChartWidth=p.chartWidth,n!==void 0&&(p.options.chart.width=n),c!==void 0&&(p.options.chart.height=c),p.getChartSize();let{chartWidth:b,chartHeight:j,scrollablePixelsX:P=0,scrollablePixelsY:L=0}=p;(p.isDirtyBox||b!==p.oldChartWidth||j!==p.oldChartHeight)&&(p.styledMode||(y?nm:Sn)(p.container,{width:`${b+P}px`,height:`${j+L}px`},y),p.setChartSize(!0),g.setSize(b,j,y),p.axes.forEach(function(C){C.isDirty=!0,C.setScale()}),p.isDirtyLegend=!0,p.isDirtyBox=!0,p.layOutTitles(),p.getMargins(),p.redraw(y),p.oldChartHeight=void 0,Ds(p,"resize"),setTimeout(()=>{p&&Ds(p,"endResize")},Dx(y).duration)),p.isResizing-=1}setChartSize(n){let c,d,p,g,{chartHeight:y,chartWidth:b,inverted:j,spacing:P,renderer:L}=this,C=this.clipOffset,I=Math[j?"floor":"round"];this.plotLeft=c=Math.round(this.plotLeft),this.plotTop=d=Math.round(this.plotTop),this.plotWidth=p=Math.max(0,Math.round(b-c-(this.marginRight??0))),this.plotHeight=g=Math.max(0,Math.round(y-d-(this.marginBottom??0))),this.plotSizeX=j?g:p,this.plotSizeY=j?p:g,this.spacingBox=L.spacingBox={x:P[3],y:P[0],width:b-P[3]-P[1],height:y-P[0]-P[2]},this.plotBox=L.plotBox={x:c,y:d,width:p,height:g},C&&(this.clipBox={x:I(C[3]),y:I(C[0]),width:I(this.plotSizeX-C[1]-C[3]),height:I(this.plotSizeY-C[0]-C[2])}),n||(this.axes.forEach(function(D){D.setAxisSize(),D.setAxisTranslation()}),L.alignElements()),Ds(this,"afterSetChartSize",{skipAxes:n})}resetMargins(){Ds(this,"resetMargins");let n=this,c=n.options.chart,d=c.plotBorderWidth||0,p=Math.round(d)/2;["margin","spacing"].forEach(g=>{let y=c[g],b=e2(y)?y:[y,y,y,y];["Top","Right","Bottom","Left"].forEach((j,P)=>{n[g][P]=c[`${g}${j}`]??b[P]})}),aw.forEach((g,y)=>{n[g]=n.margin[y]??n.spacing[y]}),n.axisOffset=[0,0,0,0],n.clipOffset=[p,p,p,p],n.plotBorderWidth=d}drawChartBox(){let n=this.options.chart,c=this.renderer,d=this.chartWidth,p=this.chartHeight,g=this.styledMode,y=this.plotBGImage,b=n.backgroundColor,j=n.plotBackgroundColor,P=n.plotBackgroundImage,L=this.plotLeft,C=this.plotTop,I=this.plotWidth,D=this.plotHeight,B=this.plotBox,q=this.clipRect,Y=this.clipBox,X=this.chartBackground,ie=this.plotBackground,ue=this.plotBorder,ye,xe,be,je="animate";X||(this.chartBackground=X=c.rect().addClass("highcharts-background").add(),je="attr"),g?ye=xe=X.strokeWidth():(xe=(ye=n.borderWidth||0)+8*!!n.shadow,be={fill:b||"none"},(ye||X["stroke-width"])&&(be.stroke=n.borderColor,be["stroke-width"]=ye),X.attr(be).shadow(n.shadow)),X[je]({x:xe/2,y:xe/2,width:d-xe-ye%2,height:p-xe-ye%2,r:n.borderRadius}),je="animate",ie||(je="attr",this.plotBackground=ie=c.rect().addClass("highcharts-plot-background").add()),ie[je](B),!g&&(ie.attr({fill:j||"none"}).shadow(n.plotShadow),P&&(y?(P!==y.attr("href")&&y.attr("href",P),y.animate(B)):this.plotBGImage=c.image(P,L,C,I,D).add())),q?q.animate({width:Y.width,height:Y.height}):this.clipRect=c.clipRect(Y),je="animate",ue||(je="attr",this.plotBorder=ue=c.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),g||ue.attr({stroke:n.plotBorderColor,"stroke-width":n.plotBorderWidth||0,fill:"none"}),ue[je](ue.crisp(B,-ue.strokeWidth())),this.isDirtyBox=!1,Ds(this,"afterDrawChartBox")}propFromSeries(){let n,c,d,p=this,g=p.options.chart,y=p.options.series;["inverted","angular","polar"].forEach(function(b){for(c=Wa[g.type],d=g[b]||c&&c.prototype[b],n=y==null?void 0:y.length;!d&&n--;)(c=Wa[y[n].type])&&c.prototype[b]&&(d=!0);p[b]=d})}linkSeries(n){let c=this,d=c.series;d.forEach(function(p){p.linkedSeries.length=0}),d.forEach(function(p){let{linkedTo:g}=p.options;if(ga(g)){let y;(y=g===":previous"?c.series[p.index-1]:c.get(g))&&y.linkedParent!==p&&(y.linkedSeries.push(p),p.linkedParent=y,y.enabledDataSorting&&p.setDataSortingOptions(),p.visible=Li(p.options.visible,y.options.visible,p.visible))}}),Ds(this,"afterLinkSeries",{isUpdating:n})}renderSeries(){this.series.forEach(function(n){n.translate(),n.render()})}render(){var L;let n=this.axes,c=this.colorAxis,d=this.renderer,p=this.options.chart.axisLayoutRuns||2,g=C=>{C.forEach(I=>{I.visible&&I.render()})},y=0,b=!0,j,P=0;for(let C of(this.setTitle(),Ds(this,"beforeMargins"),(L=this.getStacks)==null||L.call(this),this.getMargins(!0),this.setChartSize(),n)){let{options:I}=C,{labels:D}=I;if(this.hasCartesianSeries&&C.horiz&&C.visible&&D.enabled&&C.series.length&&C.coll!=="colorAxis"&&!this.polar){y=I.tickLength,C.createGroups();let B=new mr(C,0,"",!0),q=B.createLabel("x",D);if(B.destroy(),q&&Li(D.reserveSpace,!hd(I.crossing))&&(y=q.getBBox().height+D.distance+Math.max(I.offset||0,0)),y){q==null||q.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-y,0);(b||j||p>1)&&P<p;){let C=this.plotWidth,I=this.plotHeight;for(let D of n)P===0?D.setScale():(D.horiz&&b||!D.horiz&&j)&&D.setTickInterval(!0);P===0?this.getAxisMargins():this.getMargins(),b=C/this.plotWidth>(P?1:1.1),j=I/this.plotHeight>(P?1:1.05),P++}this.drawChartBox(),this.hasCartesianSeries?g(n):c!=null&&c.length&&g(c),this.seriesGroup||(this.seriesGroup=d.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=d.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(n){let c=this,d=Va(!0,this.options.credits,n);d.enabled&&!this.credits&&(this.credits=this.renderer.text(d.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){d.href&&(om.location.href=d.href)}).attr({align:d.position.align,zIndex:8}),c.styledMode||this.credits.css(d.style),this.credits.add().align(d.position),this.credits.update=function(p){c.credits=c.credits.destroy(),c.addCredits(p)})}destroy(){var b,j;let n,c=this,d=c.axes,p=c.series,g=c.container,y=g==null?void 0:g.parentNode;for(Ds(c,"destroy"),c.renderer.forExport?lm(nn,c):nn[c.index]=void 0,ve.chartCount--,c.renderTo.removeAttribute("data-highcharts-chart"),pm(c),n=d.length;n--;)d[n]=d[n].destroy();for((j=(b=this.scroller)==null?void 0:b.destroy)==null||j.call(b),n=p.length;n--;)p[n]=p[n].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(P=>{var L,C;c[P]=(C=(L=c[P])==null?void 0:L.destroy)==null?void 0:C.call(L)}),g&&(g.innerHTML=xi.emptyHTML,pm(g),y&&Jk(g)),zx(c,function(P,L){delete c[L]})}firstRender(){var p;let n=this,c=n.options;n.getContainer(),n.resetMargins(),n.setChartSize(),n.propFromSeries(),n.createAxes();let d=dm(c.series)?c.series:[];c.series=[],d.forEach(function(g){n.initSeries(g)}),n.linkSeries(),n.setSortedData(),Ds(n,"beforeRender"),n.render(),(p=n.pointer)==null||p.getChartPosition(),n.renderer.imgCount||n.hasLoaded||n.onload(),n.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(n){n&&this.index!==void 0&&n.apply(this,[this])},this),Ds(this,"load"),Ds(this,"render"),nl(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:n,title:c}=this;n&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":((c==null?void 0:c.element.textContent)||"").replace(/</g,"&lt;")}),n.accessibility&&n.accessibility.enabled===!1||Xn('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(n,c,d){let p,g=this;return n&&(c=Li(c,!0),Ds(g,"addSeries",{options:n},function(){p=g.initSeries(n),g.isDirtyLegend=!0,g.linkSeries(),p.enabledDataSorting&&p.setData(n.data,!1),Ds(g,"afterAddSeries",{series:p}),c&&g.redraw(d)})),p}addAxis(n,c,d,p){return this.createAxis(c?"xAxis":"yAxis",{axis:n,redraw:d,animation:p})}addColorAxis(n,c,d){return this.createAxis("colorAxis",{axis:n,redraw:c,animation:d})}createAxis(n,c){let d=new fo(this,c.axis,n);return Li(c.redraw,!0)&&this.redraw(c.animation),d}showLoading(n){let c=this,d=c.options,p=d.loading,g=function(){y&&Sn(y,{left:c.plotLeft+"px",top:c.plotTop+"px",width:c.plotWidth+"px",height:c.plotHeight+"px"})},y=c.loadingDiv,b=c.loadingSpan;y||(c.loadingDiv=y=Fx("div",{className:"highcharts-loading highcharts-loading-hidden"},null,c.container)),b||(c.loadingSpan=b=Fx("span",{className:"highcharts-loading-inner"},null,y),qu(c,"redraw",g)),y.className="highcharts-loading",xi.setElementHTML(b,Li(n,d.lang.loading,"")),!c.styledMode&&(Sn(y,Ha(p.style,{zIndex:10})),Sn(b,p.labelStyle),c.loadingShown||(Sn(y,{opacity:0,display:""}),nm(y,{opacity:p.style.opacity||.5},{duration:p.showDuration||0}))),c.loadingShown=!0,g()}hideLoading(){let n=this.options,c=this.loadingDiv;c&&(c.className="highcharts-loading highcharts-loading-hidden",this.styledMode||nm(c,{opacity:0},{duration:n.loading.hideDuration||100,complete:function(){Sn(c,{display:"none"})}})),this.loadingShown=!1}update(n,c,d,p){let g,y,b,j=this,P={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},L=n.isResponsiveOptions,C=[];Ds(j,"update",{options:n}),L||j.setResponsive(!1,!0),n=sc(n,j.options),j.userOptions=Va(j.userOptions,n);let I=n.chart;I&&(Va(!0,j.options.chart,I),this.setZoomOptions(),"className"in I&&j.setClassName(I.className),("inverted"in I||"polar"in I||"type"in I)&&(j.propFromSeries(),g=!0),"alignTicks"in I&&(g=!0),"events"in I&&Yn(this,I),zx(I,function(q,Y){j.propsRequireUpdateSeries.indexOf("chart."+Y)!==-1&&(y=!0),j.propsRequireDirtyBox.indexOf(Y)!==-1&&(j.isDirtyBox=!0),j.propsRequireReflow.indexOf(Y)!==-1&&(j.isDirtyBox=!0,L||(b=!0))}),!j.styledMode&&I.style&&j.renderer.setStyle(j.options.chart.style||{})),!j.styledMode&&n.colors&&(this.options.colors=n.colors),zx(n,function(q,Y){j[Y]&&typeof j[Y].update=="function"?j[Y].update(q,!1):typeof j[P[Y]]=="function"?j[P[Y]](q):Y!=="colors"&&j.collectionsWithUpdate.indexOf(Y)===-1&&Va(!0,j.options[Y],n[Y]),Y!=="chart"&&j.propsRequireUpdateSeries.indexOf(Y)!==-1&&(y=!0)}),this.collectionsWithUpdate.forEach(function(q){n[q]&&(mm(n[q]).forEach(function(Y,X){let ie,ue=nl(Y.id);ue&&(ie=j.get(Y.id)),!ie&&j[q]&&(ie=j[q][Li(Y.index,X)])&&(ue&&nl(ie.options.id)||ie.options.isInternal)&&(ie=void 0),ie&&ie.coll===q&&(ie.update(Y,!1),d&&(ie.touched=!0)),!ie&&d&&j.collectionsWithInit[q]&&(j.collectionsWithInit[q][0].apply(j,[Y].concat(j.collectionsWithInit[q][1]||[]).concat([!1])).touched=!0)}),d&&j[q].forEach(function(Y){Y.touched||Y.options.isInternal?delete Y.touched:C.push(Y)}))}),C.forEach(function(q){q.chart&&q.remove&&q.remove(!1)}),g&&j.axes.forEach(function(q){q.update({},!1)}),y&&j.getSeriesOrderByLinks().forEach(function(q){q.chart&&q.update({},!1)},this);let D=I==null?void 0:I.width,B=I&&(ga(I.height)?hm(I.height,D||j.chartWidth):I.height);b||hd(D)&&D!==j.chartWidth||hd(B)&&B!==j.chartHeight?j.setSize(D,B,p):Li(c,!0)&&j.redraw(p),Ds(j,"afterUpdate",{options:n,redraw:c,animation:p})}setSubtitle(n,c){this.applyDescription("subtitle",n),this.layOutTitles(c)}setCaption(n,c){this.applyDescription("caption",n),this.layOutTitles(c)}showResetZoom(){let n=this,c=am.lang,d=n.zooming.resetButton,p=d.theme,g=d.relativeTo==="chart"||d.relativeTo==="spacingBox"?null:"plotBox";function y(){n.zoomOut()}Ds(this,"beforeShowResetZoom",null,function(){n.resetZoomButton=n.renderer.button(c.resetZoom,null,null,y,p).attr({align:d.position.align,title:c.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(d.position,!1,g)}),Ds(this,"afterShowResetZoom")}zoomOut(){Ds(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(n,c){let d=this,p=typeof c=="object"?c:{enabled:c,type:"x"},g=p.type,y=g&&d[{x:"xAxis",xy:"axes",y:"yAxis"}[g]].filter(j=>j.options.panningEnabled&&!j.options.isInternal),b=d.options.chart;b!=null&&b.panning&&(b.panning=p),Ds(this,"pan",{originalEvent:n},()=>{d.transform({axes:y,event:n,to:{x:n.chartX-(d.mouseDownX||0),y:n.chartY-(d.mouseDownY||0)},trigger:"pan"}),Sn(d.container,{cursor:"move"})})}transform(n){var B;let{axes:c=this.axes,event:d,from:p={},reset:g,selection:y,to:b={},trigger:j}=n,{inverted:P,time:L}=this;(B=this.hoverPoints)==null||B.forEach(q=>q.setState()),Ds(this,"transform",n);let C=n.hasZoomed||!1,I,D;for(let q of c){let{horiz:Y,len:X,minPointOffset:ie=0,options:ue,reversed:ye}=q,xe=Y?"width":"height",be=Y?"x":"y",je=Li(b[xe],q.len),Ne=Li(p[xe],q.len),ke=10>Math.abs(je)?1:je/Ne,De=(p[be]||0)+Ne/2-q.pos,Le=De-((b[be]??q.pos)+je/2-q.pos)/ke,Ke=ye&&!P||!ye&&P?-1:1;if(!g&&(De<0||De>q.len))continue;let Ye=q.chart.polar||q.isOrdinal?0:ie*Ke||0,bt=q.toValue(Le,!0),et=q.toValue(Le+X/ke,!0),ut=bt+Ye,xt=et-Ye,kt=q.allExtremes;if(y&&y[q.coll].push({axis:q,min:Math.min(bt,et),max:Math.max(bt,et)}),ut>xt&&([ut,xt]=[xt,ut]),ke===1&&!g&&q.coll==="yAxis"&&!kt){for(let Rr of q.series){let ki=Rr.getExtremes(Rr.getProcessedData(!0).modified.getColumn("y")||[],!0);kt??(kt={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),hd(ki.dataMin)&&hd(ki.dataMax)&&(kt.dataMin=Math.min(ki.dataMin,kt.dataMin),kt.dataMax=Math.max(ki.dataMax,kt.dataMax))}q.allExtremes=kt}let{dataMin:Ct,dataMax:It,min:Zt,max:Ys}=Ha(q.getExtremes(),kt||{}),us=L.parse(ue.min),ps=L.parse(ue.max),ls=Ct??us,ss=It??ps,Js=xt-ut,Ws=q.categories?0:Math.min(Js,ss-ls),ti=ls-Ws*(nl(us)?0:ue.minPadding),Sr=ss+Ws*(nl(ps)?0:ue.maxPadding),hc=q.allowZoomOutside||ke===1||j!=="zoom"&&ke>1,qa=Math.min(us??ti,ti,hc?Zt:ti),Xr=Math.max(ps??Sr,Sr,hc?Ys:Sr);(!q.isOrdinal||ke!==1||g)&&(ut<qa&&(ut=qa,ke>=1&&(xt=ut+Js)),xt>Xr&&(xt=Xr,ke>=1&&(ut=xt-Js)),(g||q.series.length&&(ut!==Zt||xt!==Ys)&&ut>=qa&&xt<=Xr)&&(y?y[q.coll].push({axis:q,min:ut,max:xt}):(q.isPanning=j!=="zoom",q.isPanning&&(D=!0),q.setExtremes(g?void 0:ut,g?void 0:xt,!1,!1,{move:Le,trigger:j,scale:ke}),!g&&(ut>qa||xt<Xr)&&j!=="mousewheel"&&(I=!0)),C=!0),this.hasCartesianSeries||g||j==="mousewheel"||(I=!0),d&&(this[Y?"mouseDownX":"mouseDownY"]=d[Y?"chartX":"chartY"]))}return C&&(y?Ds(this,"selection",y,()=>{delete n.selection,n.trigger="zoom",this.transform(n)}):(!I||D||this.resetZoomButton?!I&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(j==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),C}}Ha(ic.prototype,{callbacks:[],collectionsWithInit:{xAxis:[ic.prototype.addAxis,[!0]],yAxis:[ic.prototype.addAxis,[!1]],series:[ic.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let Ku=ic,{stop:Yu}=Nr,{composed:t2}=ve,{addEvent:al,createElement:fm,css:gm,defined:Xu,erase:Bx,merge:pd,pushUnique:Wx}=Me;function s2(){let T=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!T&&(this.scrollablePlotArea=T=new md(this)),T==null||T.applyFixed()}function dw(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class md{static compose(n,c,d){Wx(t2,this.compose)&&(al(n,"afterInit",dw),al(c,"afterSetChartSize",p=>this.afterSetSize(p.target,p)),al(c,"render",s2),al(d,"show",dw))}static afterSetSize(n,c){let d,p,g,{minWidth:y,minHeight:b}=n.options.chart.scrollablePlotArea||{},{clipBox:j,plotBox:P,inverted:L,renderer:C}=n;if(!C.forExport)if(y?(n.scrollablePixelsX=d=Math.max(0,y-n.chartWidth),d&&(n.scrollablePlotBox=pd(n.plotBox),P.width=n.plotWidth+=d,j[L?"height":"width"]+=d,g=!0)):b&&(n.scrollablePixelsY=p=Math.max(0,b-n.chartHeight),Xu(p)&&(n.scrollablePlotBox=pd(n.plotBox),P.height=n.plotHeight+=p,j[L?"width":"height"]+=p,g=!1)),Xu(g)){if(!c.skipAxes)for(let I of n.axes)(I.horiz===g||n.hasParallelCoordinates&&I.coll==="yAxis")&&(I.setAxisSize(),I.setAxisTranslation())}else delete n.scrollablePlotBox}constructor(n){var D;let c,d=n.options.chart,p=$n.getRendererType(),g=d.scrollablePlotArea||{},y=this.moveFixedElements.bind(this),b={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};n.scrollablePixelsX&&(b.overflowX="auto"),n.scrollablePixelsY&&(b.overflowY="auto"),this.chart=n;let j=this.parentDiv=fm("div",{className:"highcharts-scrolling-parent"},{position:"relative"},n.renderTo),P=this.scrollingContainer=fm("div",{className:"highcharts-scrolling"},b,j),L=this.innerContainer=fm("div",{className:"highcharts-inner-container"},void 0,P),C=this.fixedDiv=fm("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((D=d.style)==null?void 0:D.zIndex)||0)+2,top:0},void 0,!0),I=this.fixedRenderer=new p(C,n.chartWidth,n.chartHeight,d.style);this.mask=I.path().attr({fill:d.backgroundColor||"#fff","fill-opacity":g.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),P.parentNode.insertBefore(C,P),gm(n.renderTo,{overflow:"visible"}),al(n,"afterShowResetZoom",y),al(n,"afterApplyDrilldown",y),al(n,"afterLayOutTitles",y),al(P,"scroll",()=>{let{pointer:B,hoverPoint:q}=n;B&&(delete B.chartPosition,q&&(c=q),B.runPointActions(void 0,c,!0))}),L.appendChild(n.container)}applyFixed(){var De;let{chart:n,fixedRenderer:c,isDirty:d,scrollingContainer:p}=this,{axisOffset:g,chartWidth:y,chartHeight:b,container:j,plotHeight:P,plotLeft:L,plotTop:C,plotWidth:I,scrollablePixelsX:D=0,scrollablePixelsY:B=0}=n,{scrollPositionX:q=0,scrollPositionY:Y=0}=n.options.chart.scrollablePlotArea||{},X=y+D,ie=b+B;c.setSize(y,b),(d??!0)&&(this.isDirty=!1,this.moveFixedElements()),Yu(n.container),gm(j,{width:`${X}px`,height:`${ie}px`}),n.renderer.boxWrapper.attr({width:X,height:ie,viewBox:[0,0,X,ie].join(" ")}),(De=n.chartBackground)==null||De.attr({width:X,height:ie}),gm(p,{width:`${y}px`,height:`${b}px`}),Xu(d)||(p.scrollLeft=D*q,p.scrollTop=B*Y);let ue=C-g[0]-1,ye=L-g[3]-1,xe=C+P+g[2]+1,be=L+I+g[1]+1,je=L+I-D,Ne=C+P-B,ke=[["M",0,0]];D?ke=[["M",0,ue],["L",L-1,ue],["L",L-1,xe],["L",0,xe],["Z"],["M",je,ue],["L",y,ue],["L",y,xe],["L",je,xe],["Z"]]:B&&(ke=[["M",ye,0],["L",ye,C-1],["L",be,C-1],["L",be,0],["Z"],["M",ye,Ne],["L",ye,b],["L",be,b],["L",be,Ne],["Z"]]),n.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:ke})}moveFixedElements(){let n,{container:c,inverted:d,scrollablePixelsX:p,scrollablePixelsY:g}=this.chart,y=this.fixedRenderer,b=md.fixedSelectors;if(p&&!d?n=".highcharts-yaxis":p&&d||g&&!d?n=".highcharts-xaxis":g&&d&&(n=".highcharts-yaxis"),n&&!(this.chart.hasParallelCoordinates&&n===".highcharts-yaxis"))for(let j of[`${n}:not(.highcharts-radial-axis)`,`${n}-labels:not(.highcharts-radial-axis-labels)`])Wx(b,j);else for(let j of[".highcharts-xaxis",".highcharts-yaxis"])for(let P of[`${j}:not(.highcharts-radial-axis)`,`${j}-labels:not(.highcharts-radial-axis-labels)`])Bx(b,P);for(let j of b)[].forEach.call(c.querySelectorAll(j),P=>{(P.namespaceURI===y.SVG_NS?y.box:y.box.parentNode).appendChild(P),P.style.pointerEvents="auto"})}}md.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:Zu}=Or,{series:uw}=Es,{destroyObjectProperties:i2,fireEvent:hw,getAlignFactor:Qu,isNumber:yo,pick:rc}=Me,Hx=class{constructor(T,n,c,d,p){let g=T.chart.inverted,y=T.reversed;this.axis=T;let b=this.isNegative=!!c!=!!y;this.options=n=n||{},this.x=d,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=p,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:n.align||(g?b?"left":"right":"center"),verticalAlign:n.verticalAlign||(g?"middle":b?"bottom":"top"),y:n.y,x:n.x},this.textAlign=n.textAlign||(g?b?"right":"left":"center")}destroy(){i2(this,this.axis)}render(T){let n=this.axis.chart,c=this.options,d=c.format,p=d?Zu(d,this,n):c.formatter.call(this);if(this.label)this.label.attr({text:p,visibility:"hidden"});else{this.label=n.renderer.label(p,null,void 0,c.shape,void 0,void 0,c.useHTML,!1,"stack-labels");let g={r:c.borderRadius||0,text:p,padding:rc(c.padding,5),visibility:"hidden"};n.styledMode||(g.fill=c.backgroundColor,g.stroke=c.borderColor,g["stroke-width"]=c.borderWidth,this.label.css(c.style||{})),this.label.attr(g),this.label.added||this.label.add(T)}this.label.labelrank=n.plotSizeY,hw(this,"afterRender")}setOffset(T,n,c,d,p,g){let{alignOptions:y,axis:b,label:j,options:P,textAlign:L}=this,C=b.chart,I=this.getStackBox({xOffset:T,width:n,boxBottom:c,boxTop:d,defaultX:p,xAxis:g}),{verticalAlign:D}=y;if(j&&I){let B=j.getBBox(void 0,0),q=j.padding,Y=rc(P.overflow,"justify")==="justify",X;y.x=P.x||0,y.y=P.y||0;let{x:ie,y:ue}=this.adjustStackPosition({labelBox:B,verticalAlign:D,textAlign:L});I.x-=ie,I.y-=ue,j.align(y,!1,I),(X=C.isInsidePlot(j.alignAttr.x+y.x+ie,j.alignAttr.y+y.y+ue))||(Y=!1),Y&&uw.prototype.justifyDataLabel.call(b,j,y,j.alignAttr,B,I),j.attr({x:j.alignAttr.x,y:j.alignAttr.y,rotation:P.rotation,rotationOriginX:B.width*Qu(P.textAlign||"center"),rotationOriginY:B.height/2}),rc(!Y&&P.crop,!0)&&(X=yo(j.x)&&yo(j.y)&&C.isInsidePlot(j.x-q+(j.width||0),j.y)&&C.isInsidePlot(j.x+q,j.y)),j[X?"show":"hide"]()}hw(this,"afterSetOffset",{xOffset:T,width:n})}adjustStackPosition({labelBox:T,verticalAlign:n,textAlign:c}){return{x:T.width/2+T.width/2*(2*Qu(c)-1),y:T.height/2*2*(1-Qu(n))}}getStackBox(T){let n=this.axis,c=n.chart,{boxTop:d,defaultX:p,xOffset:g,width:y,boxBottom:b}=T,j=n.stacking.usePercentage?100:rc(d,this.total,0),P=n.toPixels(j),L=T.xAxis||c.xAxis[0],C=rc(p,L.translate(this.x))+g,I=Math.abs(P-n.toPixels(b||yo(n.min)&&n.logarithmic&&n.logarithmic.lin2log(n.min)||0)),D=c.inverted,B=this.isNegative;return D?{x:(B?P:P-I)-c.plotLeft,y:L.height-C-y+L.top-c.plotTop,width:I,height:y}:{x:C+L.transB-c.plotLeft,y:(B?P-I:P)-c.plotTop,width:y,height:I}}},{getDeferredAnimation:r2}=Nr,{series:{prototype:n2}}=Es,{addEvent:pw,correctFloat:Ju,defined:mw,destroyObjectProperties:a2,fireEvent:o2,isNumber:Vx,objectEach:nc,pick:$x}=Me;function fw(){let T=this.inverted;this.axes.forEach(n=>{var c;(c=n.stacking)!=null&&c.stacks&&n.hasVisibleSeries&&(n.stacking.oldStacks=n.stacking.stacks)}),this.series.forEach(n=>{var d;let c=((d=n.xAxis)==null?void 0:d.options)||{};n.options.stacking&&n.reserveSpace()&&(n.stackKey=[n.type,$x(n.options.stack,""),T?c.top:c.left,T?c.height:c.width].join(","))})}function l2(){var n;let T=this.stacking;if(T){let c=T.stacks;nc(c,(d,p)=>{a2(d),delete c[p]}),(n=T.stackTotalGroup)==null||n.destroy()}}function gw(){this.stacking||(this.stacking=new Gx(this))}function Ux(T,n,c,d){return!mw(T)||T.x!==n||d&&T.stackKey!==d?T={x:n,index:0,key:d,stackKey:d}:T.index++,T.key=[c,n,T.index].join(","),T}function c2(){let T,n=this,c=n.yAxis,d=n.stackKey||"",p=c.stacking.stacks,g=n.getColumn("x",!0),y=n.options.stacking,b=n[y+"Stacker"];b&&[d,"-"+d].forEach(j=>{var D;let P=g.length,L,C,I;for(;P--;)L=g[P],T=n.getStackIndicator(T,L,n.index,j),C=(D=p[j])==null?void 0:D[L],(I=C==null?void 0:C.points[T.key||""])&&b.call(n,I,C,P)})}function d2(T,n,c){let d=n.total?100/n.total:0;T[0]=Ju(T[0]*d),T[1]=Ju(T[1]*d),this.stackedYData[c]=T[1]}function u2(T){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?n2.setStackedPoints.call(this,T,"group"):T.stacking.resetStacks())}function xm(T,n){var Ne,ke;let c,d,p,g,y,b,j,P=n||this.options.stacking;if(!P||!this.reserveSpace()||({group:"xAxis"}[P]||"yAxis")!==T.coll)return;let L=this.getColumn("x",!0),C=this.getColumn(this.pointValKey||"y",!0),I=[],D=C.length,B=this.options,q=B.threshold||0,Y=B.startFromThreshold?q:0,X=B.stack,ie=n?`${this.type},${P}`:this.stackKey||"",ue="-"+ie,ye=this.negStacks,xe=T.stacking,be=xe.stacks,je=xe.oldStacks;for(xe.stacksTouched+=1,j=0;j<D;j++){let De=L[j]||0,Le=C[j],Ke=Vx(Le)&&Le||0;b=(c=this.getStackIndicator(c,De,this.index)).key||"",be[y=(d=ye&&Ke<(Y?0:q))?ue:ie]||(be[y]={}),be[y][De]||((Ne=je[y])!=null&&Ne[De]?(be[y][De]=je[y][De],be[y][De].total=null):be[y][De]=new Hx(T,T.options.stackLabels,!!d,De,X)),p=be[y][De],Le!==null?(p.points[b]=p.points[this.index]=[$x(p.cumulative,Y)],mw(p.cumulative)||(p.base=b),p.touched=xe.stacksTouched,c.index>0&&this.singleStacks===!1&&(p.points[b][0]=p.points[this.index+","+De+",0"][0])):(delete p.points[b],delete p.points[this.index]);let Ye=p.total||0;P==="percent"?(g=d?ie:ue,Ye=ye&&((ke=be[g])!=null&&ke[De])?(g=be[g][De]).total=Math.max(g.total||0,Ye)+Math.abs(Ke):Ju(Ye+Math.abs(Ke))):P==="group"?Vx(Le)&&Ye++:Ye=Ju(Ye+Ke),P==="group"?p.cumulative=(Ye||1)-1:p.cumulative=Ju($x(p.cumulative,Y)+Ke),p.total=Ye,Le!==null&&(p.points[b].push(p.cumulative),I[j]=p.cumulative,p.hasValidPoints=!0)}P==="percent"&&(xe.usePercentage=!0),P!=="group"&&(this.stackedYData=I),xe.oldStacks={}}class Gx{constructor(n){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=n}buildStacks(){let n,c,d=this.axis,p=d.series,g=d.coll==="xAxis",y=d.options.reversedStacks,b=p.length;for(this.resetStacks(),this.usePercentage=!1,c=b;c--;)n=p[y?c:b-c-1],g&&n.setGroupedPoints(d),n.setStackedPoints(d);if(!g)for(c=0;c<b;c++)p[c].modifyStacks();o2(d,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,nc(this.stacks,n=>{nc(n,c=>{c.cumulative=c.total})}))}resetStacks(){nc(this.stacks,n=>{nc(n,(c,d)=>{Vx(c.touched)&&c.touched<this.stacksTouched?(c.destroy(),delete n[d]):(c.total=null,c.cumulative=null)})})}renderStackTotals(){var b;let n=this.axis,c=n.chart,d=c.renderer,p=this.stacks,g=r2(c,((b=n.options.stackLabels)==null?void 0:b.animation)||!1),y=this.stackTotalGroup=this.stackTotalGroup||d.g("stack-labels").attr({zIndex:6,opacity:0}).add();y.translate(c.plotLeft,c.plotTop),nc(p,j=>{nc(j,P=>{P.render(y)})}),y.animate({opacity:1},g)}}(Z||(Z={})).compose=function(T,n,c){let d=n.prototype,p=c.prototype;d.getStacks||(pw(T,"init",gw),pw(T,"destroy",l2),d.getStacks=fw,p.getStackIndicator=Ux,p.modifyStacks=c2,p.percentStacker=d2,p.setGroupedPoints=u2,p.setStackedPoints=xm)};let xw=Z,{defined:h2,merge:eh,isObject:qx}=Me;class Kx extends Kr{drawGraph(){let n=this.options,c=(this.gappedPath||this.getGraphPath).call(this),d=this.chart.styledMode;[this,...this.zones].forEach((p,g)=>{let y,b=p.graph,j=b?"animate":"attr",P=p.dashStyle||n.dashStyle;b?(b.endX=this.preventGraphAnimation?null:c.xMap,b.animate({d:c})):c.length&&(p.graph=b=this.chart.renderer.path(c).addClass("highcharts-graph"+(g?` highcharts-zone-graph-${g-1} `:" ")+(g&&p.className||"")).attr({zIndex:1}).add(this.group)),b&&!d&&(y={stroke:!g&&n.lineColor||p.color||this.color||"#cccccc","stroke-width":n.lineWidth||0,fill:this.fillGraph&&this.color||"none"},P?y.dashstyle=P:n.linecap!=="square"&&(y["stroke-linecap"]=y["stroke-linejoin"]="round"),b[j](y).shadow(n.shadow&&eh({filterUnits:"userSpaceOnUse"},qx(n.shadow)?n.shadow:{}))),b&&(b.startX=c.xMap,b.isArea=c.isArea)})}getGraphPath(n,c,d){let p=this,g=p.options,y=[],b=[],j,P=g.step,L=(n=n||p.points).reversed;return L&&n.reverse(),(P={right:1,center:2}[P]||P&&3)&&L&&(P=4-P),(n=this.getValidPoints(n,!1,g.nullInteraction||!(g.connectNulls&&!c&&!d))).forEach(function(C,I){let D,B=C.plotX,q=C.plotY,Y=n[I-1],X=C.isNull||typeof q!="number";(C.leftCliff||Y!=null&&Y.rightCliff)&&!d&&(j=!0),X&&!h2(c)&&I>0?j=!g.connectNulls:X&&!c?j=!0:(I===0||j?D=[["M",C.plotX,C.plotY]]:p.getPointSpline?D=[p.getPointSpline(n,C,I)]:P?(D=P===1?[["L",Y.plotX,q]]:P===2?[["L",(Y.plotX+B)/2,Y.plotY],["L",(Y.plotX+B)/2,q]]:[["L",B,Y.plotY]]).push(["L",B,q]):D=[["L",B,q]],b.push(C.x),P&&(b.push(C.x),P===2&&b.push(C.x)),y.push.apply(y,D),j=!1)}),y.xMap=b,p.graphPath=y,y}}Kx.defaultOptions=eh(Kr.defaultOptions,{legendSymbol:"lineMarker"}),Es.registerSeriesType("line",Kx);let{seriesTypes:{line:Yx}}=Es,{extend:Xx,merge:p2,objectEach:m2,pick:fd}=Me;class Zx extends Yx{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:n,options:c}=this;[this,...this.zones].forEach((d,p)=>{let g={},y=d.fillColor||c.fillColor,b=d.area,j=b?"animate":"attr";b?(b.endX=this.preventGraphAnimation?null:n.xMap,b.animate({d:n})):(g.zIndex=0,(b=d.area=this.chart.renderer.path(n).addClass("highcharts-area"+(p?` highcharts-zone-area-${p-1} `:" ")+(p&&d.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(g.fill=y||d.color||this.color,g["fill-opacity"]=y?1:c.fillOpacity??.75,b.css({pointerEvents:this.stickyTracking?"none":"auto"})),b[j](g),b.startX=n.xMap,b.shiftUnit=c.step?2:1})}getGraphPath(n){let c,d,p,g=Yx.prototype.getGraphPath,y=this.options,b=y.stacking,j=this.yAxis,P=[],L=[],C=this.index,I=j.stacking.stacks[this.stackKey],D=y.threshold,B=Math.round(j.getThreshold(y.threshold)),q=fd(y.connectNulls,b==="percent"),Y=function(be,je,Ne){let ke=n[be],De=b&&I[ke.x].points[C],Le=ke[Ne+"Null"]||0,Ke=ke[Ne+"Cliff"]||0,Ye,bt,et=!0;Ke||Le?(Ye=(Le?De[0]:De[1])+Ke,bt=De[0]+Ke,et=!!Le):!b&&n[je]&&n[je].isNull&&(Ye=bt=D),Ye!==void 0&&(L.push({plotX:c,plotY:Ye===null?B:j.getThreshold(Ye),isNull:et,isCliff:!0}),P.push({plotX:c,plotY:bt===null?B:j.getThreshold(bt),doCurve:!1}))};n=n||this.points,b&&(n=this.getStackPoints(n));for(let be=0,je=n.length;be<je;++be)b||(n[be].leftCliff=n[be].rightCliff=n[be].leftNull=n[be].rightNull=void 0),d=n[be].isNull,c=fd(n[be].rectPlotX,n[be].plotX),p=b?fd(n[be].yBottom,B):B,(!d||q)&&(q||Y(be,be-1,"left"),d&&!b&&q||(L.push(n[be]),P.push({x:be,plotX:c,plotY:p})),q||Y(be,be+1,"right"));let X=g.call(this,L,!0,!0);P.reversed=!0;let ie=g.call(this,P,!0,!0),ue=ie[0];ue&&ue[0]==="M"&&(ie[0]=["L",ue[1],ue[2]]);let ye=X.concat(ie);ye.length&&ye.push(["Z"]);let xe=g.call(this,L,!1,q);return this.chart.series.length>1&&b&&L.some(be=>be.isCliff)&&(ye.hasStackedCliffs=xe.hasStackedCliffs=!0),ye.xMap=X.xMap,this.areaPath=ye,xe}getStackPoints(n){let c=this,d=[],p=[],g=this.xAxis,y=this.yAxis,b=y.stacking.stacks[this.stackKey],j={},P=y.series,L=P.length,C=y.options.reversedStacks?1:-1,I=P.indexOf(c);if(n=n||this.points,this.options.stacking){for(let B=0;B<n.length;B++)n[B].leftNull=n[B].rightNull=void 0,j[n[B].x]=n[B];m2(b,function(B,q){B.total!==null&&p.push(q)}),p.sort(function(B,q){return B-q});let D=P.map(B=>B.visible);p.forEach(function(B,q){let Y=0,X,ie;if(j[B]&&!j[B].isNull)d.push(j[B]),[-1,1].forEach(function(ue){let ye=ue===1?"rightNull":"leftNull",xe=b[p[q+ue]],be=0;if(xe){let je=I;for(;je>=0&&je<L;){let Ne=P[je].index;!(X=xe.points[Ne])&&(Ne===c.index?j[B][ye]=!0:D[je]&&(ie=b[B].points[Ne])&&(be-=ie[1]-ie[0])),je+=C}}j[B][ue===1?"rightCliff":"leftCliff"]=be});else{let ue=I;for(;ue>=0&&ue<L;){let ye=P[ue].index;if(X=b[B].points[ye]){Y=X[1];break}ue+=C}Y=fd(Y,0),Y=y.translate(Y,0,1,0,1),d.push({isNull:!0,plotX:g.translate(B,0,0,0,1),x:B,plotY:Y,yBottom:Y})}})}return d}}Zx.defaultOptions=p2(Yx.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),Xx(Zx.prototype,{singleStacks:!1}),Es.registerSeriesType("area",Zx);let{line:yw}=Es.seriesTypes,{merge:f2,pick:ac}=Me;class gd extends yw{getPointSpline(n,c,d){let p,g,y,b,j=c.plotX||0,P=c.plotY||0,L=n[d-1],C=n[d+1];function I(B){return B&&!B.isNull&&B.doCurve!==!1&&!c.isCliff}if(I(L)&&I(C)){let B=L.plotX||0,q=L.plotY||0,Y=C.plotX||0,X=C.plotY||0,ie=0;p=(1.5*j+B)/2.5,g=(1.5*P+q)/2.5,y=(1.5*j+Y)/2.5,b=(1.5*P+X)/2.5,y!==p&&(ie=(b-g)*(y-j)/(y-p)+P-b),g+=ie,b+=ie,g>q&&g>P?(g=Math.max(q,P),b=2*P-g):g<q&&g<P&&(g=Math.min(q,P),b=2*P-g),b>X&&b>P?(b=Math.max(X,P),g=2*P-b):b<X&&b<P&&(b=Math.min(X,P),g=2*P-b),c.rightContX=y,c.rightContY=b,c.controlPoints={low:[p,g],high:[y,b]}}let D=["C",ac(L.rightContX,L.plotX,0),ac(L.rightContY,L.plotY,0),ac(p,j,0),ac(g,P,0),j,P];return L.rightContX=L.rightContY=void 0,D}}gd.defaultOptions=f2(yw.defaultOptions),Es.registerSeriesType("spline",gd);let Qx=gd,{area:vw,area:{prototype:ym}}=Es.seriesTypes,{extend:bw,merge:vm}=Me;class th extends Qx{}th.defaultOptions=vm(Qx.defaultOptions,vw.defaultOptions),bw(th.prototype,{getGraphPath:ym.getGraphPath,getStackPoints:ym.getStackPoints,drawGraph:ym.drawGraph}),Es.registerSeriesType("areaspline",th);let{animObject:sh}=Nr,{parse:g2}=ri,{noop:bm}=ve,{clamp:oc,crisp:wm,defined:ww,extend:ol,fireEvent:Jx,isArray:_m,isNumber:ih,merge:$a,pick:vo,objectEach:rh}=Me;class Nm extends Kr{animate(n){let c,d,p=this,g=this.yAxis,y=g.pos,b=g.reversed,j=p.options,{clipOffset:P,inverted:L}=this.chart,C={},I=L?"translateX":"translateY";n&&P?(C.scaleY=.001,d=oc(g.toPixels(j.threshold||0),y,y+g.len),L?C.translateX=(d+=b?-Math.floor(P[0]):Math.ceil(P[2]))-g.len:C.translateY=d+=b?Math.ceil(P[0]):-Math.floor(P[2]),p.clipBox&&p.setClip(),p.group.attr(C)):(c=Number(p.group.attr(I)),p.group.animate({scaleY:1},ol(sh(p.options.animation),{step:function(D,B){p.group&&(C[I]=c+B.pos*(y-c),p.group.attr(C))}})))}init(n,c){super.init.apply(this,arguments);let d=this;(n=d.chart).hasRendered&&n.series.forEach(function(p){p.type===d.type&&(p.isDirty=!0)})}getColumnMetrics(){var q,Y;let n=this,c=n.options,d=n.xAxis,p=n.yAxis,g=d.options.reversedStacks,y=d.reversed&&!g||!d.reversed&&g,b={},j,P=0;c.grouping===!1?P=1:n.chart.series.forEach(function(X){let ie,ue=X.yAxis,ye=X.options;X.type===n.type&&X.reserveSpace()&&p.len===ue.len&&p.pos===ue.pos&&(ye.stacking&&ye.stacking!=="group"?(b[j=X.stackKey]===void 0&&(b[j]=P++),ie=b[j]):ye.grouping!==!1&&(ie=P++),X.columnIndex=ie)});let L=Math.min(Math.abs(d.transA)*(!((q=d.brokenAxis)!=null&&q.hasBreaks)&&((Y=d.ordinal)==null?void 0:Y.slope)||c.pointRange||d.closestPointRange||d.tickInterval||1),d.len),C=L*c.groupPadding,I=(L-2*C)/(P||1),D=Math.min(c.maxPointWidth||d.len,vo(c.pointWidth,I*(1-2*c.pointPadding))),B=(n.columnIndex||0)+ +!!y;return n.columnMetrics={width:D,offset:(I-D)/2+(C+B*I-L/2)*(y?-1:1),paddedWidth:I,columnCount:P},n.columnMetrics}crispCol(n,c,d,p){let g=this.borderWidth,y=this.chart.inverted;return p=wm(c+p,g,y)-(c=wm(c,g,y)),this.options.crisp&&(d=wm(n+d,g)-(n=wm(n,g))),{x:n,y:c,width:d,height:p}}adjustForMissingColumns(n,c,d,p){var g;if(!d.isNull&&p.columnCount>1){let y=this.xAxis.series.filter(L=>L.visible).map(L=>L.index),b=0,j=0;rh((g=this.xAxis.stacking)==null?void 0:g.stacks,L=>{var B;let C=typeof d.x=="number"?(B=L[d.x.toString()])==null?void 0:B.points:void 0,I=C==null?void 0:C[this.index],D={};if(C&&_m(I)){let q=this.index,Y=Object.keys(C).filter(X=>!X.match(",")&&C[X]&&C[X].length>1).map(parseFloat).filter(X=>y.indexOf(X)!==-1).filter(X=>{let ie=this.chart.series[X].options,ue=ie.stacking&&ie.stack;if(ww(ue)){if(ih(D[ue]))return q===X&&(q=D[ue]),!1;D[ue]=X}return!0}).sort((X,ie)=>ie-X);b=Y.indexOf(q),j=Y.length}}),b=this.xAxis.reversed?j-1-b:b;let P=(j-1)*p.paddedWidth+c;n=(d.plotX||0)+P/2-c-b*p.paddedWidth}return n}translate(){let n=this,c=n.chart,d=n.options,p=n.dense=n.closestPointRange*n.xAxis.transA<2,g=n.borderWidth=vo(d.borderWidth,+!p),y=n.xAxis,b=n.yAxis,j=d.threshold,P=vo(d.minPointLength,5),L=n.getColumnMetrics(),C=L.width,I=n.pointXOffset=L.offset,D=n.dataMin,B=n.dataMax,q=n.translatedThreshold=b.getThreshold(j),Y=n.barW=Math.max(C,1+2*g);d.pointPadding&&d.crisp&&(Y=Math.ceil(Y)),Kr.prototype.translate.apply(n),n.points.forEach(function(X){let ie=vo(X.yBottom,q),ue=999+Math.abs(ie),ye=X.plotX||0,xe=oc(X.plotY,-ue,b.len+ue),be,je=Math.min(xe,ie),Ne=Math.max(xe,ie)-je,ke=C,De=ye+I,Le=Y;P&&Math.abs(Ne)<P&&(Ne=P,be=!b.reversed&&!X.negative||b.reversed&&X.negative,ih(j)&&ih(B)&&X.y===j&&B<=j&&(b.min||0)<j&&(D!==B||(b.max||0)<=j)&&(be=!be,X.negative=!X.negative),je=Math.abs(je-q)>P?ie-P:q-(be?P:0)),ww(X.options.pointWidth)&&(De-=Math.round(((ke=Le=Math.ceil(X.options.pointWidth))-C)/2)),d.centerInCategory&&(De=n.adjustForMissingColumns(De,ke,X,L)),X.barX=De,X.pointWidth=ke,X.tooltipPos=c.inverted?[oc(b.len+b.pos-c.plotLeft-xe,b.pos-c.plotLeft,b.len+b.pos-c.plotLeft),y.len+y.pos-c.plotTop-De-Le/2,Ne]:[y.left-c.plotLeft+De+Le/2,oc(xe+b.pos-c.plotTop,b.pos-c.plotTop,b.len+b.pos-c.plotTop),Ne],X.shapeType=n.pointClass.prototype.shapeType||"roundedRect",X.shapeArgs=n.crispCol(De,je,Le,X.isNull?0:Ne)}),Jx(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(n,c){let d=this.options,p=this.pointAttrToOptions||{},g=p.stroke||"borderColor",y=p["stroke-width"]||"borderWidth",b,j,P,L=n&&n.color||this.color,C=n&&n[g]||d[g]||L,I=n&&n.options.dashStyle||d.dashStyle,D=n&&n[y]||d[y]||this[y]||0,B=n!=null&&n.isNull&&d.nullInteraction?0:(n==null?void 0:n.opacity)??d.opacity??1;n&&this.zones.length&&(j=n.getZone(),L=n.options.color||j&&(j.color||n.nonZonedColor)||this.color,j&&(C=j.borderColor||C,I=j.dashStyle||I,D=j.borderWidth||D)),c&&n&&(P=(b=$a(d.states[c],n.options.states&&n.options.states[c]||{})).brightness,L=b.color||P!==void 0&&g2(L).brighten(b.brightness).get()||L,C=b[g]||C,D=b[y]||D,I=b.dashStyle||I,B=vo(b.opacity,B));let q={fill:L,stroke:C,"stroke-width":D,opacity:B};return I&&(q.dashstyle=I),q}drawPoints(n=this.points){let c,d=this,p=this.chart,g=d.options,y=g.nullInteraction,b=p.renderer,j=g.animationLimit||250;n.forEach(function(P){let L=P.plotY,C=P.graphic,I=!!C,D=C&&p.pointCount<j?"animate":"attr";ih(L)&&(P.y!==null||y)?(c=P.shapeArgs,C&&P.hasNewShapeType()&&(C=C.destroy()),d.enabledDataSorting&&(P.startXPos=d.xAxis.reversed?-(c&&c.width||0):d.xAxis.width),!C&&(P.graphic=C=b[P.shapeType](c).add(P.group||d.group),C&&d.enabledDataSorting&&p.hasRendered&&p.pointCount<j&&(C.attr({x:P.startXPos}),I=!0,D="animate")),C&&I&&C[D]($a(c)),p.styledMode||C[D](d.pointAttribs(P,P.selected&&"select")).shadow(P.allowShadow!==!1&&g.shadow),C&&(C.addClass(P.getClassName(),!0),C.attr({visibility:P.visible?"inherit":"hidden"}))):C&&(P.graphic=C.destroy())})}drawTracker(n=this.points){let c,d=this,p=d.chart,g=p.pointer,y=function(b){g==null||g.normalize(b);let j=g==null?void 0:g.getPointFromEvent(b);g&&j&&d.options.enableMouseTracking&&(p.isInsidePlot(b.chartX-p.plotLeft,b.chartY-p.plotTop,{visiblePlotOnly:!0})||g!=null&&g.inClass(b.target,"highcharts-data-label"))&&(g.isDirectTouch=!0,j.onMouseOver(b))};n.forEach(function(b){c=_m(b.dataLabels)?b.dataLabels:b.dataLabel?[b.dataLabel]:[],b.graphic&&(b.graphic.element.point=b),c.forEach(function(j){(j.div||j.element).point=b})}),d._hasTracking||(d.trackerGroups.forEach(function(b){d[b]&&(d[b].addClass("highcharts-tracker").on("mouseover",y).on("mouseout",function(j){g==null||g.onTrackerMouseOut(j)}).on("touchstart",y),!p.styledMode&&d.options.cursor&&d[b].css({cursor:d.options.cursor}))}),d._hasTracking=!0),Jx(this,"afterDrawTracker")}remove(){let n=this,c=n.chart;c.hasRendered&&c.series.forEach(function(d){d.type===n.type&&(d.isDirty=!0)}),Kr.prototype.remove.apply(n,arguments)}}Nm.defaultOptions=$a(Kr.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),ol(Nm.prototype,{directTouch:!0,getSymbol:bm,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),Es.registerSeriesType("column",Nm);let bo=Nm,{getDeferredAnimation:x2}=Nr,{format:_w}=Or,{defined:Ua,extend:Nw,fireEvent:jm,getAlignFactor:jw,isArray:ll,isString:nh,merge:ah,objectEach:y2,pick:lc,pInt:v2,splat:e0}=Me;(function(T){function n(){return j(this).some(L=>L==null?void 0:L.enabled)}function c(L,C,I,D,B){var De;let{chart:q,enabledDataSorting:Y}=this,X=this.isCartesian&&q.inverted,ie=L.plotX,ue=L.plotY,ye=I.rotation||0,xe=Ua(ie)&&Ua(ue)&&q.isInsidePlot(ie,Math.round(ue),{inverted:X,paneCoordinates:!0,series:this}),be=ye===0&&lc(I.overflow,Y?"none":"justify")==="justify",je=this.visible&&L.visible!==!1&&Ua(ie)&&(L.series.forceDL||Y&&!be||xe||lc(I.inside,!!this.options.stacking)&&D&&q.isInsidePlot(ie,X?D.x+1:D.y+D.height-1,{inverted:X,paneCoordinates:!0,series:this})),Ne=L.pos();if(je&&Ne){var ke;let Le=C.getBBox(),Ke=C.getBBox(void 0,0);if(D=Nw({x:Ne[0],y:Math.round(Ne[1]),width:0,height:0},D||{}),I.alignTo==="plotEdges"&&this.isCartesian&&(D[X?"x":"y"]=0,D[X?"width":"height"]=((De=this.yAxis)==null?void 0:De.len)||0),Nw(I,{width:Le.width,height:Le.height}),ke=D,Y&&this.xAxis&&!be&&this.setDataLabelStartPos(L,C,B,xe,ke),C.align(ah(I,{width:Ke.width,height:Ke.height}),!1,D,!1),C.alignAttr.x+=jw(I.align)*(Ke.width-Le.width),C.alignAttr.y+=jw(I.verticalAlign)*(Ke.height-Le.height),C[C.placed?"animate":"attr"]({"text-align":C.alignAttr["text-align"]||"center",x:C.alignAttr.x+(Le.width-Ke.width)/2,y:C.alignAttr.y+(Le.height-Ke.height)/2,rotationOriginX:(C.width||0)/2,rotationOriginY:(C.height||0)/2}),be&&D.height>=0)this.justifyDataLabel(C,I,C.alignAttr,Le,D,B);else if(lc(I.crop,!0)){let{x:Ye,y:bt}=C.alignAttr;je=q.isInsidePlot(Ye,bt,{paneCoordinates:!0,series:this})&&q.isInsidePlot(Ye+Le.width-1,bt+Le.height-1,{paneCoordinates:!0,series:this})}I.shape&&!ye&&C[B?"attr":"animate"]({anchorX:Ne[0],anchorY:Ne[1]})}B&&Y&&(C.placed=!1),je||Y&&!be?(C.show(),C.placed=!0):(C.hide(),C.placed=!1)}function d(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function p(L){let C=this.hasRendered||0,I=this.initDataLabelsGroup().attr({opacity:+C});return!C&&I&&(this.visible&&I.show(),this.options.animation?I.animate({opacity:1},L):I.attr({opacity:1})),I}function g(L){var je;let C;L=L||this.points;let I=this,D=I.chart,B=I.options,q=D.renderer,{backgroundColor:Y,plotBackgroundColor:X}=D.options.chart,ie=q.getContrast(nh(X)&&X||nh(Y)&&Y||"#000000"),ue=j(I),{animation:ye,defer:xe}=ue[0],be=xe?x2(D,ye,I):{defer:0,duration:0};jm(this,"drawDataLabels"),(je=I.hasDataLabels)!=null&&je.call(I)&&(C=this.initDataLabels(be),L.forEach(Ne=>{var Ke,Ye,bt;let ke=Ne.dataLabels||[],De=Ne.color||I.color;e0(b(ue,Ne.dlOptions||((Ke=Ne.options)==null?void 0:Ke.dataLabels))).forEach((et,ut)=>{var ti;let xt=et.enabled&&(Ne.visible||Ne.dataLabelOnHidden)&&(!Ne.isNull||Ne.dataLabelOnNull)&&function(Sr,hc){let qa=hc.filter;if(qa){let Xr=qa.operator,Rr=Sr[qa.property],ki=qa.value;return Xr===">"&&Rr>ki||Xr==="<"&&Rr<ki||Xr===">="&&Rr>=ki||Xr==="<="&&Rr<=ki||Xr==="=="&&Rr==ki||Xr==="==="&&Rr===ki||Xr==="!="&&Rr!=ki||Xr==="!=="&&Rr!==ki||!1}return!0}(Ne,et),{backgroundColor:kt,borderColor:Ct,distance:It,style:Zt={}}=et,Ys,us,ps,ls={},ss=ke[ut],Js=!ss,Ws;xt&&(us=Ua(Ys=lc(et[Ne.formatPrefix+"Format"],et.format))?_w(Ys,Ne,D):(et[Ne.formatPrefix+"Formatter"]||et.formatter).call(Ne,et),ps=et.rotation,!D.styledMode&&(Zt.color=lc(et.color,Zt.color,nh(I.color)?I.color:void 0,"#000000"),Zt.color==="contrast"?(kt!=="none"&&(Ws=kt),Ne.contrastColor=q.getContrast(Ws!=="auto"&&nh(Ws)&&Ws||(nh(De)?De:"")),Zt.color=Ws||!Ua(It)&&et.inside||0>v2(It||0)||B.stacking?Ne.contrastColor:ie):delete Ne.contrastColor,B.cursor&&(Zt.cursor=B.cursor)),ls={r:et.borderRadius||0,rotation:ps,padding:et.padding,zIndex:1},D.styledMode||(ls.fill=kt==="auto"?Ne.color:kt,ls.stroke=Ct==="auto"?Ne.color:Ct,ls["stroke-width"]=et.borderWidth),y2(ls,(Sr,hc)=>{Sr===void 0&&delete ls[hc]})),!ss||xt&&Ua(us)&&!!(ss.div||(ti=ss.text)!=null&&ti.foreignObject)==!!et.useHTML&&(ss.rotation&&et.rotation||ss.rotation===et.rotation)||(ss=void 0,Js=!0),xt&&Ua(us)&&us!==""&&(ss?ls.text=us:(ss=q.label(us,0,0,et.shape,void 0,void 0,et.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+Ne.colorIndex+" "+(et.className||"")+(et.useHTML?" highcharts-tracker":"")),ss&&(ss.options=et,ss.attr(ls),D.styledMode?Zt.width&&ss.css({width:Zt.width,textOverflow:Zt.textOverflow,whiteSpace:Zt.whiteSpace}):ss.css(Zt).shadow(et.shadow),jm(ss,"beforeAddingDataLabel",{labelOptions:et,point:Ne}),ss.added||ss.add(C),I.alignDataLabel(Ne,ss,et,void 0,Js),ss.isActive=!0,ke[ut]&&ke[ut]!==ss&&ke[ut].destroy(),ke[ut]=ss))});let Le=ke.length;for(;Le--;)(Ye=ke[Le])!=null&&Ye.isActive?ke[Le].isActive=!1:((bt=ke[Le])==null||bt.destroy(),ke.splice(Le,1));Ne.dataLabel=ke[0],Ne.dataLabels=ke})),jm(this,"afterDrawDataLabels")}function y(L,C,I,D,B,q){let Y=this.chart,X=C.align,ie=C.verticalAlign,ue=L.box?0:L.padding||0,ye=Y.inverted?this.yAxis:this.xAxis,xe=ye?ye.left-Y.plotLeft:0,be=Y.inverted?this.xAxis:this.yAxis,je=be?be.top-Y.plotTop:0,{x:Ne=0,y:ke=0}=C,De,Le;return(De=(I.x||0)+ue+xe)<0&&(X==="right"&&Ne>=0?(C.align="left",C.inside=!0):Ne-=De,Le=!0),(De=(I.x||0)+D.width-ue+xe)>Y.plotWidth&&(X==="left"&&Ne<=0?(C.align="right",C.inside=!0):Ne+=Y.plotWidth-De,Le=!0),(De=I.y+ue+je)<0&&(ie==="bottom"&&ke>=0?(C.verticalAlign="top",C.inside=!0):ke-=De,Le=!0),(De=(I.y||0)+D.height-ue+je)>Y.plotHeight&&(ie==="top"&&ke<=0?(C.verticalAlign="bottom",C.inside=!0):ke+=Y.plotHeight-De,Le=!0),Le&&(C.x=Ne,C.y=ke,L.placed=!q,L.align(C,void 0,B)),Le}function b(L,C){let I=[],D;if(ll(L)&&!ll(C))I=L.map(function(B){return ah(B,C)});else if(ll(C)&&!ll(L))I=C.map(function(B){return ah(L,B)});else if(ll(L)||ll(C)){if(ll(L)&&ll(C))for(D=Math.max(L.length,C.length);D--;)I[D]=ah(L[D],C[D])}else I=ah(L,C);return I}function j(L){var I,D;let C=L.chart.options.plotOptions;return e0(b(b((I=C==null?void 0:C.series)==null?void 0:I.dataLabels,(D=C==null?void 0:C[L.type])==null?void 0:D.dataLabels),L.options.dataLabels))}function P(L,C,I,D,B){let q=this.chart,Y=q.inverted,X=this.xAxis,ie=X.reversed,ue=((Y?C.height:C.width)||0)/2,ye=L.pointWidth,xe=ye?ye/2:0;C.startXPos=Y?B.x:ie?-ue-xe:X.width-ue+xe,C.startYPos=Y?ie?this.yAxis.height-ue+xe:-ue-xe:B.y,D?C.visibility==="hidden"&&(C.show(),C.attr({opacity:0}).animate({opacity:1})):C.attr({opacity:1}).animate({opacity:0},void 0,C.hide),q.hasRendered&&(I&&C.attr({x:C.startXPos,y:C.startYPos}),C.placed=!0)}T.compose=function(L){let C=L.prototype;C.initDataLabels||(C.initDataLabels=p,C.initDataLabelsGroup=d,C.alignDataLabel=c,C.drawDataLabels=g,C.justifyDataLabel=y,C.mergeArrays=b,C.setDataLabelStartPos=P,C.hasDataLabels=n)}})(pe||(pe={}));let km=pe,{composed:b2}=ve,{series:kw}=Es,{merge:Sm,pushUnique:Sw}=Me;(function(T){function n(c,d,p,g,y){var q,Y;let{chart:b,options:j}=this,P=b.inverted,L=((q=this.xAxis)==null?void 0:q.len)||b.plotSizeX||0,C=((Y=this.yAxis)==null?void 0:Y.len)||b.plotSizeY||0,I=c.dlBox||c.shapeArgs,D=c.below??(c.plotY||0)>(this.translatedThreshold??C),B=p.inside??!!j.stacking;if(I){if(g=Sm(I),p.overflow!=="allow"||p.crop!==!1||j.clip!==!1){g.y<0&&(g.height+=g.y,g.y=0);let X=g.y+g.height-C;X>0&&X<g.height-1&&(g.height-=X)}P&&(g={x:C-g.y-g.height,y:L-g.x-g.width,width:g.height,height:g.width}),B||(P?(g.x+=D?0:g.width,g.width=0):(g.y+=D?g.height:0,g.height=0))}p.align??(p.align=!P||B?"center":D?"right":"left"),p.verticalAlign??(p.verticalAlign=P||B?"middle":D?"top":"bottom"),kw.prototype.alignDataLabel.call(this,c,d,p,g,y),p.inside&&c.contrastColor&&d.css({color:c.contrastColor})}T.compose=function(c){km.compose(kw),Sw(b2,"ColumnDataLabel")&&(c.prototype.alignDataLabel=n)}})(me||(me={}));let w2=me,{extend:t0,merge:Am}=Me;class s0 extends bo{}s0.defaultOptions=Am(bo.defaultOptions,{}),t0(s0.prototype,{inverted:!0}),Es.registerSeriesType("bar",s0);let{column:Aw,line:Cw}=Es.seriesTypes,{addEvent:Tw,extend:_2,merge:N2}=Me;class Cm extends Cw{applyJitter(){let n=this,c=this.options.jitter,d=this.points.length;c&&this.points.forEach(function(p,g){["x","y"].forEach(function(y,b){if(c[y]&&!p.isNull){let j=`plot${y.toUpperCase()}`,P=n[`${y}Axis`],L=c[y]*P.transA;if(P&&!P.logarithmic){let C=Math.max(0,(p[j]||0)-L),I=Math.min(P.len,(p[j]||0)+L);p[j]=C+(I-C)*function(D){let B=1e4*Math.sin(D);return B-Math.floor(B)}(g+b*d),y==="x"&&(p.clientX=p.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}Cm.defaultOptions=N2(Cw.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),_2(Cm.prototype,{drawTracker:Aw.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),Tw(Cm,"afterTranslate",function(){this.applyJitter()}),Es.registerSeriesType("scatter",Cm);let{deg2rad:Pw}=ve,{fireEvent:j2,isNumber:Tm,pick:Pm,relativeLength:Mw}=Me;(function(T){T.getCenter=function(){let n=this.options,c=this.chart,d=2*(n.slicedOffset||0),p=c.plotWidth-2*d,g=c.plotHeight-2*d,y=n.center,b=Math.min(p,g),j=n.thickness,P,L=n.size,C=n.innerSize||0,I,D;typeof L=="string"&&(L=parseFloat(L)),typeof C=="string"&&(C=parseFloat(C));let B=[Pm(y==null?void 0:y[0],"50%"),Pm(y==null?void 0:y[1],"50%"),Pm(L&&L<0?void 0:n.size,"100%"),Pm(C&&C<0?void 0:n.innerSize||0,"0%")];for(!c.angular||this instanceof Kr||(B[3]=0),I=0;I<4;++I)D=B[I],P=I<2||I===2&&/%$/.test(D),B[I]=Mw(D,[p,g,b,B[2]][I])+(P?d:0);return B[3]>B[2]&&(B[3]=B[2]),Tm(j)&&2*j<B[2]&&j>0&&(B[3]=B[2]-2*j),j2(this,"afterGetCenter",{positions:B}),B},T.getStartAndEndRadians=function(n,c){let d=Tm(n)?n:0,p=Tm(c)&&c>d&&c-d<360?c:d+360;return{start:Pw*(d+-90),end:Pw*(p+-90)}}})(we||(we={}));let Ew=we,{setAnimation:k2}=Nr,{addEvent:i0,defined:r0,extend:S2,isNumber:n0,pick:A2,relativeLength:C2}=Me;class Iw extends Dr{getConnectorPath(n){let c=n.dataLabelPosition,d=n.options||{},p=d.connectorShape,g=this.connectorShapes[p]||p;return c&&g.call(this,{...c.computed,alignment:c.alignment},c.connectorPosition,d)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(n){let c=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(c.x,c.y,c.r+n,c.r+n,{innerR:c.r-1,start:c.start,end:c.end,borderRadius:c.borderRadius})}constructor(n,c,d){super(n,c,d),this.half=0,this.name??(this.name=n.chart.options.lang.pieSliceName);let p=g=>{this.slice(g.type==="select")};i0(this,"select",p),i0(this,"unselect",p)}isValid(){return n0(this.y)&&this.y>=0}setVisible(n,c=!0){n!==this.visible&&this.update({visible:n??!this.visible},c,void 0,!1)}slice(n,c,d){let p=this.series;k2(d,p.chart),c=A2(c,!0),this.sliced=this.options.sliced=n=r0(n)?n:!this.sliced,p.options.data[p.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}S2(Iw.prototype,{connectorShapes:{fixedOffset:function(T,n,c){let d=n.breakAt,p=n.touchingSliceAt,g=c.softConnector?["C",T.x+(T.alignment==="left"?-5:5),T.y,2*d.x-p.x,2*d.y-p.y,d.x,d.y]:["L",d.x,d.y];return[["M",T.x,T.y],g,["L",p.x,p.y]]},straight:function(T,n){let c=n.touchingSliceAt;return[["M",T.x,T.y],["L",c.x,c.y]]},crookedLine:function(T,n,c){let{angle:d=this.angle||0,breakAt:p,touchingSliceAt:g}=n,{series:y}=this,[b,j,P]=y.center,L=P/2,{plotLeft:C,plotWidth:I}=y.chart,D=T.alignment==="left",{x:B,y:q}=T,Y=p.x;if(c.crookDistance){let ie=C2(c.crookDistance,1);Y=D?b+L+(I+C-b-L)*(1-ie):C+(b-L)*ie}else Y=b+(j-q)*Math.tan(d-Math.PI/2);let X=[["M",B,q]];return(D?Y<=B&&Y>=p.x:Y>=B&&Y<=p.x)&&X.push(["L",Y,q]),X.push(["L",p.x,p.y],["L",g.x,g.y]),X}}});let{getStartAndEndRadians:Lw}=Ew,{noop:Ow}=ve,{clamp:Dw,extend:Rw,fireEvent:Fw,merge:a0,pick:T2}=Me;class Mm extends Kr{animate(n){let c=this,d=c.points,p=c.startAngleRad;n||d.forEach(function(g){let y=g.graphic,b=g.shapeArgs;y&&b&&(y.attr({r:T2(g.startR,c.center&&c.center[3]/2),start:p,end:p}),y.animate({r:b.r,start:b.start,end:b.end},c.options.animation))})}drawEmpty(){let n,c,d=this.startAngleRad,p=this.endAngleRad,g=this.options;this.total===0&&this.center?(n=this.center[0],c=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(n,c,this.center[1]/2,0,d,p).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Tu.arc(n,c,this.center[2]/2,0,{start:d,end:p,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":g.borderWidth,fill:g.fillColor||"none",stroke:g.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let n=this.chart.renderer;this.points.forEach(function(c){c.graphic&&c.hasNewShapeType()&&(c.graphic=c.graphic.destroy()),c.graphic||(c.graphic=n[c.shapeType](c.shapeArgs).add(c.series.group),c.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(n,c,d,p){let g=this.center,y=this.radii?this.radii[d.index]||0:g[2]/2,b=p.dataLabelPosition,j=(b==null?void 0:b.distance)||0,P=Math.asin(Dw((n-g[1])/(y+j),-1,1));return g[0]+Math.cos(P)*(y+j)*(c?-1:1)+(j>0?(c?-1:1)*(p.padding||0):0)}hasData(){return this.points.some(n=>n.visible)}redrawPoints(){let n,c,d,p,g=this,y=g.chart;this.drawEmpty(),g.group&&!y.styledMode&&g.group.shadow(g.options.shadow),g.points.forEach(function(b){let j={};c=b.graphic,!b.isNull&&c?(p=b.shapeArgs,n=b.getTranslate(),y.styledMode||(d=g.pointAttribs(b,b.selected&&"select")),b.delayedRendering?(c.setRadialReference(g.center).attr(p).attr(n),y.styledMode||c.attr(d).attr({"stroke-linejoin":"round"}),b.delayedRendering=!1):(c.setRadialReference(g.center),y.styledMode||a0(!0,j,d),a0(!0,j,p,n),c.animate(j)),c.attr({visibility:b.visible?"inherit":"hidden"}),c.addClass(b.getClassName(),!0)):c&&(b.graphic=c.destroy())})}sortByAngle(n,c){n.sort(function(d,p){return d.angle!==void 0&&(p.angle-d.angle)*c})}translate(n){Fw(this,"translate"),this.generatePoints();let c=this.options,d=c.slicedOffset,p=Lw(c.startAngle,c.endAngle),g=this.startAngleRad=p.start,y=(this.endAngleRad=p.end)-g,b=this.points,j=c.ignoreHiddenPoint,P=b.length,L,C,I,D,B,q,Y,X=0;for(n||(this.center=n=this.getCenter()),q=0;q<P;q++){Y=b[q],L=g+X*y,Y.isValid()&&(!j||Y.visible)&&(X+=Y.percentage/100),C=g+X*y;let ie={x:n[0],y:n[1],r:n[2]/2,innerR:n[3]/2,start:Math.round(1e3*L)/1e3,end:Math.round(1e3*C)/1e3};Y.shapeType="arc",Y.shapeArgs=ie,(I=(C+L)/2)>1.5*Math.PI?I-=2*Math.PI:I<-Math.PI/2&&(I+=2*Math.PI),Y.slicedTranslation={translateX:Math.round(Math.cos(I)*d),translateY:Math.round(Math.sin(I)*d)},D=Math.cos(I)*n[2]/2,B=Math.sin(I)*n[2]/2,Y.tooltipPos=[n[0]+.7*D,n[1]+.7*B],Y.half=+(I<-Math.PI/2||I>Math.PI/2),Y.angle=I}Fw(this,"afterTranslate")}updateTotals(){let n=this.points,c=n.length,d=this.options.ignoreHiddenPoint,p,g,y=0;for(p=0;p<c;p++)(g=n[p]).isValid()&&(!d||g.visible)&&(y+=g.y);for(p=0,this.total=y;p<c;p++)(g=n[p]).percentage=y>0&&(g.visible||!d)?g.y/y*100:0,g.total=y}}Mm.defaultOptions=a0(Kr.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),Rw(Mm.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:bo.prototype.drawTracker,getCenter:Ew.getCenter,getSymbol:Ow,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:bo.prototype.pointAttribs,pointClass:Iw,requireSorting:!1,searchPoint:Ow,trackerGroups:["group","dataLabelsGroup"]}),Es.registerSeriesType("pie",Mm);let{composed:P2,noop:M2}=ve,{distribute:E2}=Su,{series:zw}=Es,{arrayMax:Bw,clamp:o0,defined:Ww,isNumber:I2,pick:Hw,pushUnique:L2,relativeLength:l0}=Me;(function(T){let n={radialDistributionY:function(y,b){var j;return(((j=b.dataLabelPosition)==null?void 0:j.top)||0)+y.distributeBox.pos},radialDistributionX:function(y,b,j,P,L){let C=L.dataLabelPosition;return y.getX(j<((C==null?void 0:C.top)||0)+2||j>((C==null?void 0:C.bottom)||0)-2?P:j,b.half,b,L)},justify:function(y,b,j,P){var L;return P[0]+(y.half?-1:1)*(j+(((L=b.dataLabelPosition)==null?void 0:L.distance)||0))},alignToPlotEdges:function(y,b,j,P){let L=y.getBBox().width;return b?L+P:j-L-P},alignToConnectors:function(y,b,j,P){let L=0,C;return y.forEach(function(I){(C=I.dataLabel.getBBox().width)>L&&(L=C)}),b?L+P:j-L-P}};function c(y,b){let j=Math.PI/2,{start:P=0,end:L=0}=y.shapeArgs||{},C=y.angle||0;b>0&&P<j&&L>j&&C>j/2&&C<1.5*j&&(C=C<=j?Math.max(j/2,(P+j)/2):Math.min(1.5*j,(j+L)/2));let{center:I,options:D}=this,B=I[2]/2,q=Math.cos(C),Y=Math.sin(C),X=I[0]+q*B,ie=I[1]+Y*B,ue=Math.min((D.slicedOffset||0)+(D.borderWidth||0),b/5);return{natural:{x:X+q*b,y:ie+Y*b},computed:{},alignment:b<0?"center":y.half?"right":"left",connectorPosition:{angle:C,breakAt:{x:X+q*ue,y:ie+Y*ue},touchingSliceAt:{x:X,y:ie}},distance:b}}function d(){var je;let y=this,b=y.points,j=y.chart,P=j.plotWidth,L=j.plotHeight,C=j.plotLeft,I=Math.round(j.chartWidth/3),D=y.center,B=D[2]/2,q=D[1],Y=[[],[]],X=[0,0,0,0],ie=y.dataLabelPositioners,ue,ye,xe,be=0;y.visible&&((je=y.hasDataLabels)!=null&&je.call(y))&&(b.forEach(Ne=>{(Ne.dataLabels||[]).forEach(ke=>{ke.shortened&&(ke.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),ke.shortened=!1)})}),zw.prototype.drawDataLabels.apply(y),b.forEach(Ne=>{(Ne.dataLabels||[]).forEach((ke,De)=>{var bt;let Le=D[2]/2,Ke=ke.options,Ye=l0((Ke==null?void 0:Ke.distance)||0,Le);De===0&&Y[Ne.half].push(Ne),!Ww((bt=Ke==null?void 0:Ke.style)==null?void 0:bt.width)&&ke.getBBox().width>I&&(ke.css({width:Math.round(.7*I)+"px"}),ke.shortened=!0),ke.dataLabelPosition=this.getDataLabelPosition(Ne,Ye),be=Math.max(be,Ye)})}),Y.forEach((Ne,ke)=>{let De=Ne.length,Le=[],Ke,Ye,bt=0,et;De&&(y.sortByAngle(Ne,ke-.5),be>0&&(Ke=Math.max(0,q-B-be),Ye=Math.min(q+B+be,j.plotHeight),Ne.forEach(ut=>{(ut.dataLabels||[]).forEach(xt=>{var Ct;let kt=xt.dataLabelPosition;kt&&kt.distance>0&&(kt.top=Math.max(0,q-B-kt.distance),kt.bottom=Math.min(q+B+kt.distance,j.plotHeight),bt=xt.getBBox().height||21,xt.lineHeight=j.renderer.fontMetrics(xt.text||xt).h+2*xt.padding,ut.distributeBox={target:(((Ct=xt.dataLabelPosition)==null?void 0:Ct.natural.y)||0)-kt.top+xt.lineHeight/2,size:bt,rank:ut.y},Le.push(ut.distributeBox))})}),E2(Le,et=Ye+bt-Ke,et/5)),Ne.forEach(ut=>{(ut.dataLabels||[]).forEach(xt=>{let kt=xt.options||{},Ct=ut.distributeBox,It=xt.dataLabelPosition,Zt=(It==null?void 0:It.natural.y)||0,Ys=kt.connectorPadding||0,us=xt.lineHeight||21,ps=(us-xt.getBBox().height)/2,ls=0,ss=Zt,Js="inherit";if(It){if(Le&&Ww(Ct)&&It.distance>0&&(Ct.pos===void 0?Js="hidden":(xe=Ct.size,ss=ie.radialDistributionY(ut,xt))),kt.justify)ls=ie.justify(ut,xt,B,D);else switch(kt.alignTo){case"connectors":ls=ie.alignToConnectors(Ne,ke,P,C);break;case"plotEdges":ls=ie.alignToPlotEdges(xt,ke,P,C);break;default:ls=ie.radialDistributionX(y,ut,ss-ps,Zt,xt)}if(It.attribs={visibility:Js,align:It.alignment},It.posAttribs={x:ls+(kt.x||0)+({left:Ys,right:-Ys}[It.alignment]||0),y:ss+(kt.y||0)-us/2},It.computed.x=ls,It.computed.y=ss-ps,Hw(kt.crop,!0)){let Ws;ls-(ye=xt.getBBox().width)<Ys&&ke===1?(Ws=Math.round(ye-ls+Ys),X[3]=Math.max(Ws,X[3])):ls+ye>P-Ys&&ke===0&&(Ws=Math.round(ls+ye-P+Ys),X[1]=Math.max(Ws,X[1])),ss-xe/2<0?X[0]=Math.max(Math.round(-ss+xe/2),X[0]):ss+xe/2>L&&(X[2]=Math.max(Math.round(ss+xe/2-L),X[2])),It.sideOverflow=Ws}}})}))}),(Bw(X)===0||this.verifyDataLabelOverflow(X))&&(this.placeDataLabels(),this.points.forEach(Ne=>{(Ne.dataLabels||[]).forEach(ke=>{var Ye;let{connectorColor:De,connectorWidth:Le=1}=ke.options||{},Ke=ke.dataLabelPosition;if(I2(Le)){let bt;ue=ke.connector,Ke&&Ke.distance>0?(bt=!ue,ue||(ke.connector=ue=j.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Ne.colorIndex+(Ne.className?" "+Ne.className:"")).add(y.dataLabelsGroup)),j.styledMode||ue.attr({"stroke-width":Le,stroke:De||Ne.color||"#666666"}),ue[bt?"attr":"animate"]({d:Ne.getConnectorPath(ke)}),ue.attr({visibility:(Ye=Ke.attribs)==null?void 0:Ye.visibility})):ue&&(ke.connector=ue.destroy())}})})))}function p(){this.points.forEach(y=>{(y.dataLabels||[]).forEach(b=>{var P,L;let j=b.dataLabelPosition;j?(j.sideOverflow&&(b.css({width:Math.max(b.getBBox().width-j.sideOverflow,0)+"px",textOverflow:((L=(P=b.options)==null?void 0:P.style)==null?void 0:L.textOverflow)||"ellipsis"}),b.shortened=!0),b.attr(j.attribs),b[b.moved?"animate":"attr"](j.posAttribs),b.moved=!0):b&&b.attr({y:-9999})}),delete y.distributeBox},this)}function g(y){let b=this.center,j=this.options,P=j.center,L=j.minSize||80,C=L,I=j.size!==null;return!I&&(P[0]!==null?C=Math.max(b[2]-Math.max(y[1],y[3]),L):(C=Math.max(b[2]-y[1]-y[3],L),b[0]+=(y[3]-y[1])/2),P[1]!==null?C=o0(C,L,b[2]-Math.max(y[0],y[2])):(C=o0(C,L,b[2]-y[0]-y[2]),b[1]+=(y[0]-y[2])/2),C<b[2]?(b[2]=C,b[3]=Math.min(j.thickness?Math.max(0,C-2*j.thickness):Math.max(0,l0(j.innerSize||0,C)),C),this.translate(b),this.drawDataLabels&&this.drawDataLabels()):I=!0),I}T.compose=function(y){if(km.compose(zw),L2(P2,"PieDataLabel")){let b=y.prototype;b.dataLabelPositioners=n,b.alignDataLabel=M2,b.drawDataLabels=d,b.getDataLabelPosition=c,b.placeDataLabels=p,b.verifyDataLabelOverflow=g}}})(_e||(_e={}));let O2=_e;(function(T){T.getCenterOfPoints=function(n){let c=n.reduce((d,p)=>(d.x+=p.x,d.y+=p.y,d),{x:0,y:0});return{x:c.x/n.length,y:c.y/n.length}},T.getDistanceBetweenPoints=function(n,c){return Math.sqrt(Math.pow(c.x-n.x,2)+Math.pow(c.y-n.y,2))},T.getAngleBetweenPoints=function(n,c){return Math.atan2(c.x-n.x,c.y-n.y)},T.pointInPolygon=function({x:n,y:c},d){let p=d.length,g,y,b=!1;for(g=0,y=p-1;g<p;y=g++){let[j,P]=d[g],[L,C]=d[y];P>c!=C>c&&n<(L-j)*(c-P)/(C-P)+j&&(b=!b)}return b}})(de||(de={}));let{pointInPolygon:Vw}=de,{addEvent:$w,getAlignFactor:D2,fireEvent:c0,objectEach:Uw,pick:d0}=Me;function R2(T){let n=T.length,c=(L,C)=>!(C.x>=L.x+L.width||C.x+C.width<=L.x||C.y>=L.y+L.height||C.y+C.height<=L.y),d=(L,C)=>{for(let I of L)if(Vw({x:I[0],y:I[1]},C))return!0;return!1},p,g,y,b,j,P=!1;for(let L=0;L<n;L++)(p=T[L])&&(p.oldOpacity=p.opacity,p.newOpacity=1,p.absoluteBox=function(C){var I,D;if(C&&(!C.alignAttr||C.placed)){let B=C.box?0:C.padding||0,q=C.alignAttr||{x:C.attr("x"),y:C.attr("y")},{height:Y,polygon:X,width:ie}=C.getBBox(),ue=D2(C.alignValue)*ie;return C.width=ie,C.height=Y,{x:q.x+(((I=C.parentGroup)==null?void 0:I.translateX)||0)+B-ue,y:q.y+(((D=C.parentGroup)==null?void 0:D.translateY)||0)+B,width:ie-2*B,height:Y-2*B,polygon:X}}}(p));T.sort((L,C)=>(C.labelrank||0)-(L.labelrank||0));for(let L=0;L<n;++L){b=(g=T[L])&&g.absoluteBox;let C=b==null?void 0:b.polygon;for(let I=L+1;I<n;++I){j=(y=T[I])&&y.absoluteBox;let D=!1;if(b&&j&&g!==y&&g.newOpacity!==0&&y.newOpacity!==0&&g.visibility!=="hidden"&&y.visibility!=="hidden"){let B=j.polygon;if(C&&B&&C!==B?d(C,B)&&(D=!0):c(b,j)&&(D=!0),D){let q=g.labelrank<y.labelrank?g:y,Y=q.text;q.newOpacity=0,Y!=null&&Y.element.querySelector("textPath")&&Y.hide()}}}}for(let L of T)u0(L,this)&&(P=!0);P&&c0(this,"afterHideAllOverlappingLabels")}function u0(T,n){let c,d=!1;return T&&(c=T.newOpacity,T.oldOpacity!==c&&(T.hasClass("highcharts-data-label")?(T[c?"removeClass":"addClass"]("highcharts-data-label-hidden"),d=!0,T[T.isOld?"animate":"attr"]({opacity:c},void 0,function(){n.styledMode||T.css({pointerEvents:c?"auto":"none"})}),c0(n,"afterHideOverlappingLabel")):T.attr({opacity:c})),T.isOld=!0),d}function Gw(){var c;let T=this,n=[];for(let d of T.labelCollectors||[])n=n.concat(d());for(let d of T.yAxis||[])d.stacking&&d.options.stackLabels&&!d.options.stackLabels.allowOverlap&&Uw(d.stacking.stacks,p=>{Uw(p,g=>{g.label&&n.push(g.label)})});for(let d of T.series||[])if(d.visible&&((c=d.hasDataLabels)!=null&&c.call(d))){let p=g=>{for(let y of g)y.visible&&(y.dataLabels||[]).forEach(b=>{var P;let j=b.options||{};b.labelrank=d0(j.labelrank,y.labelrank,(P=y.shapeArgs)==null?void 0:P.height),j.allowOverlap??Number(j.distance)>0?(b.oldOpacity=b.opacity,b.newOpacity=1,u0(b,T)):n.push(b)})};p(d.nodes||[]),p(d.points)}this.hideOverlappingLabels(n)}let qw={compose:function(T){let n=T.prototype;n.hideOverlappingLabels||(n.hideOverlappingLabels=R2,$w(T,"render",Gw))}},{defaultOptions:F2}=zi,{noop:Em}=ve,{addEvent:Kw,extend:z2,isObject:Yw,merge:B2,relativeLength:h0}=Me,W2={radius:0,scope:"stack",where:void 0},oh=Em,Xw=Em;function H2(T,n,c,d,p={}){let g=oh(T,n,c,d,p),{brStart:y=!0,brEnd:b=!0,innerR:j=0,r:P=c,start:L=0,end:C=0}=p;if(p.open||!p.borderRadius)return g;let I=C-L,D=Math.sin(I/2),B=Math.max(Math.min(h0(p.borderRadius||0,P-j),(P-j)/2,P*D/(1+D)),0),q=Math.min(B,I/Math.PI*2*j),Y=g.length-1;for(;Y--;)(y||Y!==0&&Y!==3)&&(b||Y!==1&&Y!==2)&&function(X,ie,ue){let ye,xe,be,je=X[ie],Ne=X[ie+1];if(Ne[0]==="Z"&&(Ne=X[0]),(je[0]==="M"||je[0]==="L")&&Ne[0]==="A"?(ye=je,xe=Ne,be=!0):je[0]==="A"&&(Ne[0]==="M"||Ne[0]==="L")&&(ye=Ne,xe=je),ye&&xe&&xe.params){let ke=xe[1],De=xe[5],Le=xe.params,{start:Ke,end:Ye,cx:bt,cy:et}=Le,ut=De?ke-ue:ke+ue,xt=ut?Math.asin(ue/ut):0,kt=De?xt:-xt,Ct=Math.cos(xt)*ut;be?(Le.start=Ke+kt,ye[1]=bt+Ct*Math.cos(Ke),ye[2]=et+Ct*Math.sin(Ke),X.splice(ie+1,0,["A",ue,ue,0,0,1,bt+ke*Math.cos(Le.start),et+ke*Math.sin(Le.start)])):(Le.end=Ye-kt,xe[6]=bt+ke*Math.cos(Le.end),xe[7]=et+ke*Math.sin(Le.end),X.splice(ie+1,0,["A",ue,ue,0,0,1,bt+Ct*Math.cos(Ye),et+Ct*Math.sin(Ye)])),xe[4]=Math.abs(Le.end-Le.start)<Math.PI?0:1}}(g,Y,Y>1?q:B);return g}function V2(){var T,n;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:c,yAxis:d}=this,p=c.stacking==="percent",g=(n=(T=F2.plotOptions)==null?void 0:T[this.type])==null?void 0:n.borderRadius,y=Im(c.borderRadius,Yw(g)?g:{}),b=d.options.reversed;for(let j of this.points){let{shapeArgs:P}=j;if(j.shapeType==="roundedRect"&&P){let{width:L=0,height:C=0,y:I=0}=P,D=I,B=C;if(y.scope==="stack"&&j.stackTotal){let ie=d.translate(p?100:j.stackTotal,!1,!0,!1,!0),ue=d.translate(c.threshold||0,!1,!0,!1,!0),ye=this.crispCol(0,Math.min(ie,ue),0,Math.abs(ie-ue));D=ye.y,B=ye.height}let q=(j.negative?-1:1)*(b?-1:1)==-1,Y=y.where;!Y&&this.is("waterfall")&&Math.abs((j.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(Y="all"),Y||(Y="end");let X=Math.min(h0(y.radius,L),L/2,Y==="all"?C/2:1/0)||0;Y==="end"&&(q&&(D-=X),B+=X),z2(P,{brBoxHeight:B,brBoxY:D,r:X})}}}}function Im(T,n){return Yw(T)||(T={radius:T||0}),B2(W2,n,T)}function F(){let T=Im(this.options.borderRadius);for(let n of this.points){let c=n.shapeArgs;c&&(c.borderRadius=h0(T.radius,(c.r||0)-(c.innerR||0)))}}function l(T,n,c,d,p={}){let g=Xw(T,n,c,d,p),{r:y=0,brBoxHeight:b=d,brBoxY:j=n}=p,P=n-j,L=j+b-(n+d),C=P-y>-.1?0:y,I=L-y>-.1?0:y,D=Math.max(C&&P,0),B=Math.max(I&&L,0),q=[T+C,n],Y=[T+c-C,n],X=[T+c,n+C],ie=[T+c,n+d-I],ue=[T+c-I,n+d],ye=[T+I,n+d],xe=[T,n+d-I],be=[T,n+C],je=(Ne,ke)=>Math.sqrt(Math.pow(Ne,2)-Math.pow(ke,2));if(D){let Ne=je(C,C-D);q[0]-=Ne,Y[0]+=Ne,X[1]=be[1]=n+C-D}if(d<C-D){let Ne=je(C,C-D-d);X[0]=ie[0]=T+c-C+Ne,ue[0]=Math.min(X[0],ue[0]),ye[0]=Math.max(ie[0],ye[0]),xe[0]=be[0]=T+C-Ne,X[1]=be[1]=n+d}if(B){let Ne=je(I,I-B);ue[0]+=Ne,ye[0]-=Ne,ie[1]=xe[1]=n+d-I+B}if(d<I-B){let Ne=je(I,I-B-d);X[0]=ie[0]=T+c-I+Ne,Y[0]=Math.min(X[0],Y[0]),q[0]=Math.max(ie[0],q[0]),xe[0]=be[0]=T+I-Ne,ie[1]=xe[1]=n}return g.length=0,g.push(["M",...q],["L",...Y],["A",C,C,0,0,1,...X],["L",...ie],["A",I,I,0,0,1,...ue],["L",...ye],["A",I,I,0,0,1,...xe],["L",...be],["A",C,C,0,0,1,...q],["Z"]),g}let{diffObjects:h,extend:f,find:v,merge:_,pick:k,uniqueKey:S}=Me;(function(T){function n(d,p){let g=d.condition;(g.callback||function(){return this.chartWidth<=k(g.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=k(g.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=k(g.minWidth,0)&&this.chartHeight>=k(g.minHeight,0)}).call(this)&&p.push(d._id)}function c(d,p){let g=this.options.responsive,y=this.currentResponsive,b=[],j;!p&&g&&g.rules&&g.rules.forEach(C=>{C._id===void 0&&(C._id=S()),this.matchResponsiveRule(C,b)},this);let P=_(...b.map(C=>v((g==null?void 0:g.rules)||[],I=>I._id===C)).map(C=>C==null?void 0:C.chartOptions));P.isResponsiveOptions=!0,b=b.toString()||void 0;let L=y==null?void 0:y.ruleIds;b!==L&&(y&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(y.undoOptions,d,!0),this.updatingResponsive=!1),b?((j=h(P,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:b,mergedOptions:P,undoOptions:j},this.updatingResponsive||this.update(P,d,!0)):this.currentResponsive=void 0)}T.compose=function(d){let p=d.prototype;return p.matchResponsiveRule||f(p,{matchResponsiveRule:n,setResponsive:c}),d}})(Ae||(Ae={}));let M=Ae;ve.AST=xi,ve.Axis=fo,ve.Chart=Ku,ve.Color=ri,ve.DataLabel=km,ve.DataTableCore=Ql,ve.Fx=Lr,ve.HTMLElement=ho,ve.Legend=nw,ve.LegendSymbol=$b,ve.OverlappingDataLabels=ve.OverlappingDataLabels||qw,ve.PlotLineOrBand=Du,ve.Point=Dr,ve.Pointer=Cx,ve.RendererRegistry=$n,ve.Series=Kr,ve.SeriesRegistry=Es,ve.StackItem=Hx,ve.SVGElement=Gn,ve.SVGRenderer=Iu,ve.Templating=Or,ve.Tick=mr,ve.Time=Bg,ve.Tooltip=Rb,ve.animate=Nr.animate,ve.animObject=Nr.animObject,ve.chart=Ku.chart,ve.color=ri.parse,ve.dateFormat=Or.dateFormat,ve.defaultOptions=zi.defaultOptions,ve.distribute=Su.distribute,ve.format=Or.format,ve.getDeferredAnimation=Nr.getDeferredAnimation,ve.getOptions=zi.getOptions,ve.numberFormat=Or.numberFormat,ve.seriesType=Es.seriesType,ve.setAnimation=Nr.setAnimation,ve.setOptions=zi.setOptions,ve.stop=Nr.stop,ve.time=zi.defaultTime,ve.timers=Lr.timers,{compose:function(T,n,c){let d=T.types.pie;if(!n.symbolCustomAttribs.includes("borderRadius")){let p=c.prototype.symbols;Kw(T,"afterColumnTranslate",V2,{order:9}),Kw(d,"afterTranslate",F),n.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),oh=p.arc,Xw=p.roundedRect,p.arc=H2,p.roundedRect=l}},optionsToObject:Im}.compose(ve.Series,ve.SVGElement,ve.SVGRenderer),w2.compose(ve.Series.types.column),km.compose(ve.Series),fx.compose(ve.Axis),ho.compose(ve.SVGRenderer),nw.compose(ve.Chart),wk.compose(ve.Axis),qw.compose(ve.Chart),O2.compose(ve.Series.types.pie),Du.compose(ve.Chart,ve.Axis),Cx.compose(ve.Chart),M.compose(ve.Chart),md.compose(ve.Axis,ve.Chart,ve.Series),xw.compose(ve.Axis,ve.Chart,ve.Series),Rb.compose(ve.Pointer),Me.extend(ve,Me);let{tooltipFormatter:R}=Dr.prototype,{addEvent:$,arrayMax:z,arrayMin:K,correctFloat:ee,defined:re,isArray:he,isNumber:ce,isString:ae,pick:fe}=Me;(function(T){function n(C,I,D){!this.isXAxis&&(this.series.forEach(function(B){C==="compare"&&typeof I!="boolean"?B.setCompare(I,!1):C!=="cumulative"||ae(I)||B.setCumulative(I,!1)}),fe(D,!0)&&this.chart.redraw())}function c(C){let I=this,{numberFormatter:D}=I.series.chart,B=function(q){C=C.replace("{point."+q+"}",(I[q]>0&&q==="change"?"+":"")+D(I[q],fe(I.series.tooltipOptions.changeDecimals,2)))};return re(I.change)&&B("change"),re(I.cumulativeSum)&&B("cumulativeSum"),R.apply(this,[C])}function d(){let C,I=this.options.compare;(I==="percent"||I==="value"||this.options.cumulative)&&(C=new L(this),I==="percent"||I==="value"?C.initCompare(I):C.initCumulative()),this.dataModify=C}function p(C){let I=C.dataExtremes,D=I.activeYData;if(this.dataModify&&I){let B;this.options.compare?B=[this.dataModify.modifyValue(I.dataMin),this.dataModify.modifyValue(I.dataMax)]:this.options.cumulative&&he(D)&&D.length>=2&&(B=L.getCumulativeExtremes(D)),B&&(I.dataMin=K(B),I.dataMax=z(B))}}function g(C,I){this.options.compare=this.userOptions.compare=C,this.update({},fe(I,!0)),this.dataModify&&(C==="value"||C==="percent")?this.dataModify.initCompare(C):this.points.forEach(D=>{delete D.change})}function y(){let C=this.getColumn(this.pointArrayMap&&(this.options.pointValKey||this.pointValKey)||"y",!0);if(this.xAxis&&C.length&&this.dataModify){let I=this.getColumn("x",!0),D=this.dataTable.rowCount,B=+(this.options.compareStart!==!0);for(let q=0;q<D-B;q++){let Y=C[q];if(ce(Y)&&Y!==0&&I[q+B]>=(this.xAxis.min||0)){this.dataModify.compareValue=Y;break}}}}function b(C,I){this.setModifier("compare",C,I)}function j(C,I){C=fe(C,!1),this.options.cumulative=this.userOptions.cumulative=C,this.update({},fe(I,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(D=>{delete D.cumulativeSum})}function P(C,I){this.setModifier("cumulative",C,I)}T.compose=function(C,I,D){let B=I.prototype,q=D.prototype,Y=C.prototype;return Y.setCompare||(Y.setCompare=g,Y.setCumulative=j,$(C,"afterInit",d),$(C,"afterGetExtremes",p),$(C,"afterProcessData",y)),B.setCompare||(B.setCompare=b,B.setModifier=n,B.setCumulative=P,q.tooltipFormatter=c),C};class L{constructor(I){this.series=I}modifyValue(){return 0}static getCumulativeExtremes(I){let D=1/0,B=-1/0;return I.reduce((q,Y)=>{let X=q+Y;return D=Math.min(D,X,q),B=Math.max(B,X,q),X}),[D,B]}initCompare(I){this.modifyValue=function(D,B){D===null&&(D=0);let q=this.compareValue;if(D!==void 0&&q!==void 0){if(I==="value"?D-=q:D=D/q*100-100*(this.series.options.compareBase!==100),B!==void 0){let Y=this.series.points[B];Y&&(Y.change=D)}return D}return 0}}initCumulative(){this.modifyValue=function(I,D){if(I===null&&(I=0),I!==void 0&&D!==void 0){let B=D>0?this.series.points[D-1]:null;B&&B.cumulativeSum&&(I=ee(B.cumulativeSum+I));let q=this.series.points[D],Y=q.series.options.cumulativeStart,X=q.x<=this.series.xAxis.max&&q.x>=this.series.xAxis.min;return q&&(!Y||X?q.cumulativeSum=I:q.cumulativeSum=void 0),I}return 0}}}T.Additions=L})(We||(We={}));let ge=We,{isTouchDevice:Ie}=ve,{addEvent:Te,merge:Ee,pick:Ge}=Me,ze=[];function qe(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function it(){var g;let T,n,c,d=this.legend,p=this.navigator;if(p){T=d&&d.options,n=p.xAxis,c=p.yAxis;let{scrollbarHeight:y,scrollButtonSize:b}=p;this.inverted?(p.left=p.opposite?this.chartWidth-y-p.height:this.spacing[3]+y,p.top=this.plotTop+b):(p.left=Ge(n.left,this.plotLeft+b),p.top=p.navigatorOptions.top||this.chartHeight-p.height-y-(((g=this.scrollbar)==null?void 0:g.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(T&&T.verticalAlign==="bottom"&&T.layout!=="proximate"&&T.enabled&&!T.floating?d.legendHeight+Ge(T.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),n&&c&&(this.inverted?n.options.left=c.options.left=p.left:n.options.top=c.options.top=p.top,n.setAxisSize(),c.setAxisSize())}}function at(T){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new a(this),Ge(T.redraw,!0)&&this.redraw(T.animation))}function vt(){let T=this.options;(T.navigator.enabled||T.scrollbar.enabled)&&(this.scroller=this.navigator=new a(this))}function Nt(){let T=this.options,n=T.navigator,c=T.rangeSelector;if((n&&n.enabled||c&&c.enabled)&&(!Ie&&this.zooming.type==="x"||Ie&&this.zooming.pinchType==="x"))return!1}function Wt(T){let n=T.navigator;if(n&&T.xAxis[0]){let c=T.xAxis[0].getExtremes();n.render(c.min,c.max)}}function Dt(T){let n=T.options.navigator||{},c=T.options.scrollbar||{};!this.navigator&&!this.scroller&&(n.enabled||c.enabled)&&(Ee(!0,this.options.navigator,n),Ee(!0,this.options.scrollbar,c),delete T.options.navigator,delete T.options.scrollbar)}let Kt={compose:function(T,n){if(Me.pushUnique(ze,T)){let c=T.prototype;a=n,c.callbacks.push(Wt),Te(T,"afterAddSeries",qe),Te(T,"afterSetChartSize",it),Te(T,"afterUpdate",at),Te(T,"beforeRender",vt),Te(T,"beforeShowResetZoom",Nt),Te(T,"update",Dt)}}},{isTouchDevice:Pt}=ve,{addEvent:Xt,correctFloat:ws,defined:Ns,isNumber:Cs,pick:fr}=Me;function js(){this.navigatorAxis||(this.navigatorAxis=new ds(this))}function $s(T){let n,c=this.chart,d=c.options,p=d.navigator,g=this.navigatorAxis,y=c.zooming.pinchType,b=d.rangeSelector,j=c.zooming.type;if(this.isXAxis&&(p!=null&&p.enabled||b!=null&&b.enabled)){if(j==="y"&&T.trigger==="zoom")n=!1;else if((T.trigger==="zoom"&&j==="xy"||Pt&&y==="xy")&&this.options.range){let P=g.previousZoom;Ns(T.min)?g.previousZoom=[this.min,this.max]:P&&(T.min=P[0],T.max=P[1],g.previousZoom=void 0)}}n!==void 0&&T.preventDefault()}class ds{static compose(n){n.keepProps.includes("navigatorAxis")||(n.keepProps.push("navigatorAxis"),Xt(n,"init",js),Xt(n,"setExtremes",$s))}constructor(n){this.axis=n}destroy(){this.axis=void 0}toFixedRange(n,c,d,p){let g=this.axis,y=(g.pointRange||0)/2,b=fr(d,g.translate(n,!0,!g.horiz)),j=fr(p,g.translate(c,!0,!g.horiz));return Ns(d)||(b=ws(b+y)),Ns(p)||(j=ws(j-y)),Cs(b)&&Cs(j)||(b=j=void 0),{min:b,max:j}}}let{parse:os}=ri,{seriesTypes:Oi}=Es,Bs={height:40,margin:22,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:os("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:Oi.areaspline===void 0?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:void 0},tickLength:0,tickWidth:0}},{relativeLength:oi}=Me,lr={"navigator-handle":function(T,n,c,d,p={}){let g=p.width?p.width/2:c,y=oi(p.borderRadius||0,Math.min(2*g,d));return[["M",-1.5,(d=p.height||d)/2-3.5],["L",-1.5,d/2+4.5],["M",.5,d/2-3.5],["L",.5,d/2+4.5],...Tu.rect(-g-1,.5,2*g+1,d,{r:y})]}},{defined:Ga}=Me,An={setFixedRange:function(T){let n=this.xAxis[0];Ga(n.dataMax)&&Ga(n.dataMin)&&T?this.fixedRange=Math.min(T,n.dataMax-n.dataMin):this.fixedRange=T}},{defaultOptions:kr}=zi,{composed:gr}=ve,{getRendererType:hi}=$n,{setFixedRange:lh}=An,{addEvent:cl,extend:dl,pushUnique:ch}=Me;function xa(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}let xd={compose:function(T,n,c){ds.compose(n),ch(gr,"Navigator")&&(T.prototype.setFixedRange=lh,dl(hi().prototype.symbols,lr),dl(kr,{navigator:Bs}),cl(c,"afterUpdate",xa))}},{composed:Zw}=ve,{addEvent:Qw,correctFloat:VE,defined:dh,pick:$E,pushUnique:d7}=Me;(function(T){let n;function c(y){var P,L,C;let b=$E((P=y.options)==null?void 0:P.min,y.min),j=$E((L=y.options)==null?void 0:L.max,y.max);return{axisMin:b,axisMax:j,scrollMin:dh(y.dataMin)?Math.min(b,y.min??1/0,y.dataMin,y.threshold??1/0):b,scrollMax:((C=y.treeGrid)==null?void 0:C.adjustedMax)??(dh(y.dataMax)?Math.max(j,y.max??-1/0,y.dataMax,y.threshold??-1/0):j)}}function d(){let y=this.scrollbar,b=y&&!y.options.opposite,j=this.horiz?2:b?3:1;y&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[j]+=y.size+(y.options.margin||0))}function p(){var b,j;let y=this;(j=(b=y.options)==null?void 0:b.scrollbar)!=null&&j.enabled&&(y.options.scrollbar.vertical=!y.horiz,y.options.startOnTick=y.options.endOnTick=!1,y.scrollbar=new n(y.chart.renderer,y.options.scrollbar,y.chart),Qw(y.scrollbar,"changed",function(P){let L,C,{axisMin:I,axisMax:D,scrollMin:B,scrollMax:q}=c(y),Y=y.toPixels(B),X=y.toPixels(q)-Y;if(dh(I)&&dh(D))if(y.horiz&&!y.reversed||!y.horiz&&y.reversed?(L=Math.min(q,y.toValue(Y+X*this.to)),C=Math.max(B,y.toValue(Y+X*this.from))):(L=Math.min(q,y.toValue(Y+X*(1-this.from))),C=Math.max(B,y.toValue(Y+X*(1-this.to)))),this.shouldUpdateExtremes(P.DOMType)){let ie=P.DOMType!=="mousemove"&&P.DOMType!=="touchmove"&&void 0;y.setExtremes(VE(C),VE(L),!0,ie,P)}else this.setRange(this.from,this.to)}))}function g(){let y,b,j,{scrollMin:P,scrollMax:L}=c(this),C=this.scrollbar,I=(this.axisTitleMargin||0)+(this.titleOffset||0),D=this.chart.scrollbarsOffsets,B=this.options.margin||0;if(C&&D){if(this.horiz)this.opposite||(D[1]+=I),C.position(this.left,this.top+this.height+2+D[1]-(this.opposite?B:0),this.width,this.height),this.opposite||(D[1]+=B),y=1;else{let q;this.opposite&&(D[0]+=I),q=C.options.opposite?this.left+this.width+2+D[0]-(this.opposite?0:B):this.opposite?0:B,C.position(q,this.top,this.width,this.height),this.opposite&&(D[0]+=B),y=0}if(D[y]+=C.size+(C.options.margin||0),isNaN(P)||isNaN(L)||!dh(this.min)||!dh(this.max)||dh(this.dataMin)&&this.dataMin===this.dataMax)C.setRange(0,1);else if(this.min===this.max){let q=this.pointRange/(this.dataMax+1);b=q*this.min,j=q*(this.max+1),C.setRange(b,j)}else b=(this.toPixels(this.min)-this.toPixels(P))/(this.toPixels(L)-this.toPixels(P)),j=(this.toPixels(this.max)-this.toPixels(P))/(this.toPixels(L)-this.toPixels(P)),this.horiz&&!this.reversed||!this.horiz&&this.reversed?C.setRange(b,j):C.setRange(1-j,1-b)}}T.compose=function(y,b){d7(Zw,"Axis.Scrollbar")&&(n=b,Qw(y,"afterGetOffset",d),Qw(y,"afterInit",p),Qw(y,"afterRender",g))}})(tt||(tt={}));let u7=tt,Jw={height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1},{defaultOptions:UE}=zi,{composed:h7}=ve,{addEvent:p7,correctFloat:uh,crisp:e1,defined:GE,destroyObjectProperties:m7,extend:f7,fireEvent:p0,merge:qE,pick:m0,pushUnique:g7,removeEvent:x7}=Me;class hh{static compose(n){u7.compose(n,hh),g7(h7,"Scrollbar")&&f7(UE,{scrollbar:Jw})}static swapXY(n,c){return c&&n.forEach(d=>{let p,g=d.length;for(let y=0;y<g;y+=2)typeof(p=d[y+1])=="number"&&(d[y+1]=d[y+2],d[y+2]=p)}),n}constructor(n,c,d){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(n,c,d)}addEvents(){let n=this.options.inverted?[1,0]:[0,1],c=this.scrollbarButtons,d=this.scrollbarGroup.element,p=this.track.element,g=this.mouseDownHandler.bind(this),y=this.mouseMoveHandler.bind(this),b=this.mouseUpHandler.bind(this),j=[[c[n[0]].element,"click",this.buttonToMinClick.bind(this)],[c[n[1]].element,"click",this.buttonToMaxClick.bind(this)],[p,"click",this.trackClick.bind(this)],[d,"mousedown",g],[d.ownerDocument,"mousemove",y],[d.ownerDocument,"mouseup",b],[d,"touchstart",g],[d.ownerDocument,"touchmove",y],[d.ownerDocument,"touchend",b]];j.forEach(function(P){p7.apply(null,P)}),this._events=j}buttonToMaxClick(n){let c=(this.to-this.from)*m0(this.options.step,.2);this.updatePosition(this.from+c,this.to+c),p0(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:n})}buttonToMinClick(n){let c=uh(this.to-this.from)*m0(this.options.step,.2);this.updatePosition(uh(this.from-c),uh(this.to-c)),p0(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:n})}cursorToScrollbarPosition(n){let c=this.options,d=c.minWidth>this.calculatedWidth?c.minWidth:0;return{chartX:(n.chartX-this.x-this.xOffset)/(this.barWidth-d),chartY:(n.chartY-this.y-this.yOffset)/(this.barWidth-d)}}destroy(){let n=this,c=n.chart.scroller;n.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(d){n[d]&&n[d].destroy&&(n[d]=n[d].destroy())}),c&&n===c.scrollbar&&(c.scrollbar=null,m7(c.scrollbarButtons))}drawScrollbarButton(n){let c=this.renderer,d=this.scrollbarButtons,p=this.options,g=this.size,y=c.g().add(this.group);if(d.push(y),p.buttonsEnabled){let b=c.rect().addClass("highcharts-scrollbar-button").add(y);this.chart.styledMode||b.attr({stroke:p.buttonBorderColor,"stroke-width":p.buttonBorderWidth,fill:p.buttonBackgroundColor}),b.attr(b.crisp({x:-.5,y:-.5,width:g,height:g,r:p.buttonBorderRadius},b.strokeWidth()));let j=c.path(hh.swapXY([["M",g/2+(n?-1:1),g/2-3],["L",g/2+(n?-1:1),g/2+3],["L",g/2+(n?2:-2),g/2]],p.vertical)).addClass("highcharts-scrollbar-arrow").add(d[n]);this.chart.styledMode||j.attr({fill:p.buttonArrowColor})}}init(n,c,d){this.scrollbarButtons=[],this.renderer=n,this.userOptions=c,this.options=qE(Jw,UE.scrollbar,c),this.options.margin=m0(this.options.margin,10),this.chart=d,this.size=m0(this.options.size,this.options.height),c.enabled&&(this.render(),this.addEvents())}mouseDownHandler(n){var p;let c=((p=this.chart.pointer)==null?void 0:p.normalize(n))||n,d=this.cursorToScrollbarPosition(c);this.chartX=d.chartX,this.chartY=d.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(n){var y;let c,d=((y=this.chart.pointer)==null?void 0:y.normalize(n))||n,p=this.options.vertical?"chartY":"chartX",g=this.initPositions||[];this.grabbedCenter&&(!n.touches||n.touches[0][p]!==0)&&(c=this.cursorToScrollbarPosition(d)[p]-this[p],this.hasDragged=!0,this.updatePosition(g[0]+c,g[1]+c),this.hasDragged&&p0(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:n.type,DOMEvent:n}))}mouseUpHandler(n){this.hasDragged&&p0(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:n.type,DOMEvent:n}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(n,c,d,p){let{buttonsEnabled:g,margin:y=0,vertical:b}=this.options,j=this.rendered?"animate":"attr",P=p,L=0;this.group.show(),this.x=n,this.y=c+this.trackBorderWidth,this.width=d,this.height=p,this.xOffset=P,this.yOffset=L,b?(this.width=this.yOffset=d=L=this.size,this.xOffset=P=0,this.yOffset=L=g?this.size:0,this.barWidth=p-(g?2*d:0),this.x=n+=y):(this.height=p=this.size,this.xOffset=P=g?this.size:0,this.barWidth=d-(g?2*p:0),this.y=this.y+y),this.group[j]({translateX:n,translateY:this.y}),this.track[j]({width:d,height:p}),this.scrollbarButtons[1][j]({translateX:b?0:d-P,translateY:b?p-L:0})}removeEvents(){this._events.forEach(function(n){x7.apply(null,n)}),this._events.length=0}render(){let n=this.renderer,c=this.options,d=this.size,p=this.chart.styledMode,g=n.g("scrollbar").attr({zIndex:c.zIndex}).hide().add();this.group=g,this.track=n.rect().addClass("highcharts-scrollbar-track").attr({r:c.trackBorderRadius||0,height:d,width:d}).add(g),p||this.track.attr({fill:c.trackBackgroundColor,stroke:c.trackBorderColor,"stroke-width":c.trackBorderWidth});let y=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-e1(0,y),y:-e1(0,y)}),this.scrollbarGroup=n.g().add(g),this.scrollbar=n.rect().addClass("highcharts-scrollbar-thumb").attr({height:d-y,width:d-y,r:c.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=n.path(hh.swapXY([["M",-3,d/4],["L",-3,2*d/3],["M",0,d/4],["L",0,2*d/3],["M",3,d/4],["L",3,2*d/3]],c.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),p||(this.scrollbar.attr({fill:c.barBackgroundColor,stroke:c.barBorderColor,"stroke-width":c.barBorderWidth}),this.scrollbarRifles.attr({stroke:c.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-e1(0,this.scrollbarStrokeWidth),-e1(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(n,c){let d,p,g=this.options,y=g.vertical,b=g.minWidth,j=this.barWidth,P=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!GE(j))return;let L=j*Math.min(c,1);d=Math.ceil(j*(n=Math.max(n,0))),this.calculatedWidth=p=uh(L-d),p<b&&(d=(j-b+p)*n,p=b);let C=Math.floor(d+this.xOffset+this.yOffset),I=p/2-.5;this.from=n,this.to=c,y?(this.scrollbarGroup[P]({translateY:C}),this.scrollbar[P]({height:p}),this.scrollbarRifles[P]({translateY:I}),this.scrollbarTop=C,this.scrollbarLeft=0):(this.scrollbarGroup[P]({translateX:C}),this.scrollbar[P]({width:p}),this.scrollbarRifles[P]({translateX:I}),this.scrollbarLeft=C,this.scrollbarTop=0),p<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),g.showFull===!1&&(n<=0&&c>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(n){return m0(this.options.liveRedraw,ve.svg&&!ve.isTouchDevice&&!this.chart.boosted)||n==="mouseup"||n==="touchend"||!GE(n)}trackClick(n){var y;let c=((y=this.chart.pointer)==null?void 0:y.normalize(n))||n,d=this.to-this.from,p=this.y+this.scrollbarTop,g=this.x+this.scrollbarLeft;this.options.vertical&&c.chartY>p||!this.options.vertical&&c.chartX>g?this.updatePosition(this.from+d,this.to+d):this.updatePosition(this.from-d,this.to-d),p0(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:n})}update(n){this.destroy(),this.init(this.chart.renderer,qE(!0,this.options,n),this.chart)}updatePosition(n,c){c>1&&(n=uh(1-uh(c-n)),c=1),n<0&&(c=uh(c-n),n=0),this.from=n,this.to=c}}hh.defaultOptions=Jw;let{defaultOptions:$2}=zi,{isTouchDevice:y7}=ve,{prototype:{symbols:KE}}=Iu,{addEvent:Yr,clamp:YE,correctFloat:t1,defined:Lm,destroyObjectProperties:v7,erase:Om,extend:b7,find:w7,fireEvent:U2,isArray:XE,isNumber:ul,merge:Dm,pick:ya,removeEvent:s1,splat:ZE}=Me;function i1(T,...n){let c=[].filter.call(n,ul);if(c.length)return Math[T].apply(0,c)}class r1{static compose(n,c,d){Kt.compose(n,r1),xd.compose(n,c,d)}constructor(n){this.isDirty=!1,this.scrollbarHeight=0,this.init(n)}drawHandle(n,c,d,p){let g=this.navigatorOptions.handles.height;this.handles[c][p](d?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(n,10)+.5-g)}:{translateX:Math.round(this.left+parseInt(n,10)),translateY:Math.round(this.top+this.height/2-g/2-1)})}drawOutline(n,c,d,p){let g=this.navigatorOptions.maskInside,y=this.outline.strokeWidth(),b=y/2,j=y%2/2,P=this.scrollButtonSize,L=this.size,C=this.top,I=this.height,D=C-b,B=C+I,q=this.left,Y,X;d?(Y=C+c+j,c=C+n+j,X=[["M",q+I,C-P-j],["L",q+I,Y],["L",q,Y],["M",q,c],["L",q+I,c],["L",q+I,C+L+P]],g&&X.push(["M",q+I,Y-b],["L",q+I,c+b])):(q-=P,n+=q+P-j,c+=q+P-j,X=[["M",q,D],["L",n,D],["L",n,B],["M",c,B],["L",c,D],["L",q+L+2*P,D]],g&&X.push(["M",n-b,D],["L",c+b,D])),this.outline[p]({d:X})}drawMasks(n,c,d,p){let g,y,b,j,P=this.left,L=this.top,C=this.height;d?(b=[P,P,P],j=[L,L+n,L+c],y=[C,C,C],g=[n,c-n,this.size-c]):(b=[P,P+n,P+c],j=[L,L,L],y=[n,c-n,this.size-c],g=[C,C,C]),this.shades.forEach((I,D)=>{I[p]({x:b[D],y:j[D],width:y[D],height:g[D]})})}renderElements(){var P;let n=this,c=n.navigatorOptions,d=c.maskInside,p=n.chart,g=p.inverted,y=p.renderer,b={cursor:g?"ns-resize":"ew-resize"},j=n.navigatorGroup??(n.navigatorGroup=y.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!d,d,!d].forEach((L,C)=>{let I=n.shades[C]??(n.shades[C]=y.rect().addClass("highcharts-navigator-mask"+(C===1?"-inside":"-outside")).add(j));p.styledMode||(I.attr({fill:L?c.maskFill:"rgba(0,0,0,0)"}),C===1&&I.css(b))}),n.outline||(n.outline=y.path().addClass("highcharts-navigator-outline").add(j)),p.styledMode||n.outline.attr({"stroke-width":c.outlineWidth,stroke:c.outlineColor}),(P=c.handles)==null?void 0:P.enabled){let L=c.handles,{height:C,width:I}=L;[0,1].forEach(D=>{var q;let B=L.symbols[D];if(n.handles[D]&&n.handles[D].symbolUrl===B){if(!n.handles[D].isImg&&n.handles[D].symbolName!==B){let Y=KE[B].call(KE,-I/2-1,0,I,C);n.handles[D].attr({d:Y}),n.handles[D].symbolName=B}}else(q=n.handles[D])==null||q.destroy(),n.handles[D]=y.symbol(B,-I/2-1,0,I,C,L),n.handles[D].attr({zIndex:7-D}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][D]).add(j),n.addMouseEvents();p.inverted&&n.handles[D].attr({rotation:90,rotationOriginX:Math.floor(-I/2),rotationOriginY:(C+I)/2}),p.styledMode||n.handles[D].attr({fill:L.backgroundColor,stroke:L.borderColor,"stroke-width":L.lineWidth,width:L.width,height:L.height,x:-I/2-1,y:0}).css(b)})}}update(n,c=!1){var g;let d=this.chart,p=d.options.chart.inverted!==((g=d.scrollbar)==null?void 0:g.options.vertical);if(Dm(!0,d.options.navigator,n),this.navigatorOptions=d.options.navigator||{},this.setOpposite(),Lm(n.enabled)||p)return this.destroy(),this.navigatorEnabled=n.enabled||this.navigatorEnabled,this.init(d);if(this.navigatorEnabled&&(this.isDirty=!0,n.adaptToUpdatedData===!1&&this.baseSeries.forEach(y=>{s1(y,"updatedData",this.updatedDataHandler)},this),n.adaptToUpdatedData&&this.baseSeries.forEach(y=>{y.eventsToUnbind.push(Yr(y,"updatedData",this.updatedDataHandler))},this),(n.series||n.baseSeries)&&this.setBaseSeries(void 0,!1),n.height||n.xAxis||n.yAxis)){this.height=n.height??this.height;let y=this.getXAxisOffsets();this.xAxis.update({...n.xAxis,offsets:y,[d.inverted?"width":"height"]:this.height,[d.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...n.yAxis,[d.inverted?"width":"height"]:this.height},!1)}c&&d.redraw()}render(n,c,d,p){let g=this.chart,y=this.xAxis,b=y.pointRange||0,j=y.navigatorAxis.fake?g.xAxis[0]:y,P=this.navigatorEnabled,L=this.rendered,C=g.inverted,I=g.xAxis[0].minRange,D=g.xAxis[0].options.maxRange,B=this.scrollButtonSize,q,Y,X,ie=this.scrollbarHeight,ue,ye;if(this.hasDragged&&!Lm(d))return;if(this.isDirty&&this.renderElements(),n=t1(n-b/2),c=t1(c+b/2),!ul(n)||!ul(c))if(L)d=0,p=ya(y.width,j.width);else return;this.left=ya(y.left,g.plotLeft+B+(C?g.plotWidth:0));let xe=this.size=ue=ya(y.len,(C?g.plotHeight:g.plotWidth)-2*B);q=C?ie:ue+2*B,d=ya(d,y.toPixels(n,!0)),p=ya(p,y.toPixels(c,!0)),ul(d)&&Math.abs(d)!==1/0||(d=0,p=q);let be=y.toValue(d,!0),je=y.toValue(p,!0),Ne=Math.abs(t1(je-be));Ne<I?this.grabbedLeft?d=y.toPixels(je-I-b,!0):this.grabbedRight&&(p=y.toPixels(be+I+b,!0)):Lm(D)&&t1(Ne-b)>D&&(this.grabbedLeft?d=y.toPixels(je-D-b,!0):this.grabbedRight&&(p=y.toPixels(be+D+b,!0))),this.zoomedMax=YE(Math.max(d,p),0,xe),this.zoomedMin=YE(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(d,p),0,xe),this.range=this.zoomedMax-this.zoomedMin,xe=Math.round(this.zoomedMax);let ke=Math.round(this.zoomedMin);P&&(this.navigatorGroup.attr({visibility:"inherit"}),ye=L&&!this.hasDragged?"animate":"attr",this.drawMasks(ke,xe,C,ye),this.drawOutline(ke,xe,C,ye),this.navigatorOptions.handles.enabled&&(this.drawHandle(ke,0,C,ye),this.drawHandle(xe,1,C,ye))),this.scrollbar&&(C?(X=this.top-B,Y=this.left-ie+(P||!j.opposite?0:(j.titleOffset||0)+j.axisTitleMargin),ie=ue+2*B):(X=this.top+(P?this.height:-ie),Y=this.left-B),this.scrollbar.position(Y,X,q,ie),this.scrollbar.setRange(this.zoomedMin/(ue||1),this.zoomedMax/(ue||1))),this.rendered=!0,this.isDirty=!1,U2(this,"afterRender")}addMouseEvents(){let n=this,c=n.chart,d=c.container,p=[],g,y;n.mouseMoveHandler=g=function(b){n.onMouseMove(b)},n.mouseUpHandler=y=function(b){n.onMouseUp(b)},(p=n.getPartsEvents("mousedown")).push(Yr(c.renderTo,"mousemove",g),Yr(d.ownerDocument,"mouseup",y),Yr(c.renderTo,"touchmove",g),Yr(d.ownerDocument,"touchend",y)),p.concat(n.getPartsEvents("touchstart")),n.eventsToUnbind=p,n.series&&n.series[0]&&p.push(Yr(n.series[0].xAxis,"foundExtremes",function(){c.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(n){let c=this,d=[];return["shades","handles"].forEach(function(p){c[p].forEach(function(g,y){d.push(Yr(g.element,n,function(b){c[p+"Mousedown"](b,y)}))})}),d}shadesMousedown(n,c){var B;n=((B=this.chart.pointer)==null?void 0:B.normalize(n))||n;let d=this.chart,p=this.xAxis,g=this.zoomedMin,y=this.size,b=this.range,j=this.left,P=n.chartX,L,C,I,D;d.inverted&&(P=n.chartY,j=this.top),c===1?(this.grabbedCenter=P,this.fixedWidth=b,this.dragOffset=P-g):(D=P-j-b/2,c===0?D=Math.max(0,D):c===2&&D+b>=y&&(D=y-b,this.reversedExtremes?(D-=b,C=this.getUnionExtremes().dataMin):L=this.getUnionExtremes().dataMax),D!==g&&(this.fixedWidth=b,Lm((I=p.navigatorAxis.toFixedRange(D,D+b,C,L)).min)&&U2(this,"setRange",{min:Math.min(I.min,I.max),max:Math.max(I.min,I.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(n,c){var y;n=((y=this.chart.pointer)==null?void 0:y.normalize(n))||n;let d=this.chart,p=d.xAxis[0],g=this.reversedExtremes;c===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=g?p.min:p.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=g?p.max:p.min),d.setFixedRange(void 0)}onMouseMove(n){var L;let c=this,d=c.chart,p=c.navigatorSize,g=c.range,y=c.dragOffset,b=d.inverted,j=c.left,P;(!n.touches||n.touches[0].pageX!==0)&&(P=(n=((L=d.pointer)==null?void 0:L.normalize(n))||n).chartX,b&&(j=c.top,P=n.chartY),c.grabbedLeft?(c.hasDragged=!0,c.render(0,0,P-j,c.otherHandlePos)):c.grabbedRight?(c.hasDragged=!0,c.render(0,0,c.otherHandlePos,P-j)):c.grabbedCenter&&(c.hasDragged=!0,P<y?P=y:P>p+y-g&&(P=p+y-g),c.render(0,0,P-y,P-y+g)),c.hasDragged&&c.scrollbar&&ya(c.scrollbar.options.liveRedraw,!y7&&!this.chart.boosted)&&(n.DOMType=n.type,setTimeout(function(){c.onMouseUp(n)},0)))}onMouseUp(n){let c,d,p,g,y,b,j=this.chart,P=this.xAxis,L=this.scrollbar,C=n.DOMEvent||n,I=j.inverted,D=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!L||!L.hasDragged)||n.trigger==="scrollbar")&&(p=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?g=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(y=this.fixedExtreme),this.zoomedMax===this.size&&(y=this.reversedExtremes?p.dataMin:p.dataMax),this.zoomedMin===0&&(g=this.reversedExtremes?p.dataMax:p.dataMin),Lm((b=P.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,g,y)).min)&&U2(this,"setRange",{min:Math.min(b.min,b.max),max:Math.max(b.min,b.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:C}})),n.DOMType!=="mousemove"&&n.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&ul(this.zoomedMin)&&ul(this.zoomedMax)&&(d=Math.round(this.zoomedMin),c=Math.round(this.zoomedMax),this.shades&&this.drawMasks(d,c,I,D),this.outline&&this.drawOutline(d,c,I,D),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(d,0,I,D),this.drawHandle(c,1,I,D)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(n){n()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let n=this.baseSeries||[];this.navigatorEnabled&&n[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&n.forEach(function(c){s1(c,"updatedData",this.updatedDataHandler)},this),n[0].xAxis&&s1(n[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(n){var q,Y;let c=n.options,d=c.navigator||{},p=d.enabled,g=c.scrollbar||{},y=g.enabled,b=p&&d.height||0,j=y&&g.height||0,P=g.buttonsEnabled&&j||0;this.handles=[],this.shades=[],this.chart=n,this.setBaseSeries(),this.height=b,this.scrollbarHeight=j,this.scrollButtonSize=P,this.scrollbarEnabled=y,this.navigatorEnabled=p,this.navigatorOptions=d,this.scrollbarOptions=g,this.setOpposite();let L=this,C=L.baseSeries,I=n.xAxis.length,D=n.yAxis.length,B=C&&C[0]&&C[0].xAxis||n.xAxis[0]||{options:{}};if(n.isDirtyBox=!0,L.navigatorEnabled){let X=this.getXAxisOffsets();L.xAxis=new fo(n,Dm({breaks:B.options.breaks,ordinal:B.options.ordinal,overscroll:B.options.overscroll},d.xAxis,{type:"datetime",yAxis:(q=d.yAxis)==null?void 0:q.id,index:I,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:B.options.ordinal?0:B.options.minPadding,maxPadding:B.options.ordinal?0:B.options.maxPadding,zoomEnabled:!1},n.inverted?{offsets:X,width:b}:{offsets:X,height:b}),"xAxis"),L.yAxis=new fo(n,Dm(d.yAxis,{alignTicks:!1,offset:0,index:D,isInternal:!0,reversed:ya(d.yAxis&&d.yAxis.reversed,n.yAxis[0]&&n.yAxis[0].reversed,!1),zoomEnabled:!1},n.inverted?{width:b}:{height:b}),"yAxis"),C||d.series.data?L.updateNavigatorSeries(!1):n.series.length===0&&(L.unbindRedraw=Yr(n,"beforeRedraw",function(){n.series.length>0&&!L.series&&(L.setBaseSeries(),L.unbindRedraw())})),L.reversedExtremes=n.inverted&&!L.xAxis.reversed||!n.inverted&&L.xAxis.reversed,L.renderElements(),L.addMouseEvents()}else L.xAxis={chart:n,navigatorAxis:{fake:!0},translate:function(X,ie){let ue=n.xAxis[0],ye=ue.getExtremes(),xe=ue.len-2*P,be=i1("min",ue.options.min,ye.dataMin),je=i1("max",ue.options.max,ye.dataMax)-be;return ie?X*je/xe+be:xe*(X-be)/je},toPixels:function(X){return this.translate(X)},toValue:function(X){return this.translate(X,!0)}},L.xAxis.navigatorAxis.axis=L.xAxis,L.xAxis.navigatorAxis.toFixedRange=ds.prototype.toFixedRange.bind(L.xAxis.navigatorAxis);if((Y=n.options.scrollbar)!=null&&Y.enabled){let X=Dm(n.options.scrollbar,{vertical:n.inverted});ul(X.margin)||(X.margin=n.inverted?-3:3),n.scrollbar=L.scrollbar=new hh(n.renderer,X,n),Yr(L.scrollbar,"changed",function(ie){let ue=L.size,ye=ue*this.to,xe=ue*this.from;L.hasDragged=L.scrollbar.hasDragged,L.render(0,0,xe,ye),this.shouldUpdateExtremes(ie.DOMType)&&setTimeout(function(){L.onMouseUp(ie)})})}L.addBaseSeriesEvents(),L.addChartEvents()}setOpposite(){let n=this.navigatorOptions,c=this.navigatorEnabled,d=this.chart;this.opposite=ya(n.opposite,!!(!c&&d.inverted))}getUnionExtremes(n){let c,d=this.chart.xAxis[0],p=this.chart.time,g=this.xAxis,y=g.options,b=d.options;return n&&d.dataMin===null||(c={dataMin:ya(p.parse(y==null?void 0:y.min),i1("min",p.parse(b.min),d.dataMin,g.dataMin,g.min)),dataMax:ya(p.parse(y==null?void 0:y.max),i1("max",p.parse(b.max),d.dataMax,g.dataMax,g.max))}),c}setBaseSeries(n,c){let d=this.chart,p=this.baseSeries=[];n=n||d.options&&d.options.navigator.baseSeries||(d.series.length?w7(d.series,g=>!g.options.isInternal).index:0),(d.series||[]).forEach((g,y)=>{!g.options.isInternal&&(g.options.showInNavigator||(y===n||g.options.id===n)&&g.options.showInNavigator!==!1)&&p.push(g)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,c)}updateNavigatorSeries(n,c){var I,D;let d=this,p=d.chart,g=d.baseSeries,y={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:(I=this.navigatorOptions.xAxis)==null?void 0:I.id,yAxis:(D=this.navigatorOptions.yAxis)==null?void 0:D.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},b=d.series=(d.series||[]).filter(B=>{let q=B.baseSeries;return!(0>g.indexOf(q))||(q&&(s1(q,"updatedData",d.updatedDataHandler),delete q.navigatorSeries),B.chart&&B.destroy(),!1)}),j,P,L=d.navigatorOptions.series,C;g&&g.length&&g.forEach(B=>{var ie;let q=B.navigatorSeries,Y=b7({color:B.color,visible:B.visible},XE(L)?$2.navigator.series:L);if(q&&d.navigatorOptions.adaptToUpdatedData===!1)return;y.name="Navigator "+g.length,C=(j=B.options||{}).navigatorOptions||{},Y.dataLabels=ZE(Y.dataLabels),(P=Dm(j,y,Y,C)).pointRange=ya(Y.pointRange,C.pointRange,$2.plotOptions[P.type||"line"].pointRange);let X=C.data||Y.data;d.hasNavigatorData=d.hasNavigatorData||!!X,P.data=X||((ie=j.data)==null?void 0:ie.slice(0)),q&&q.options?q.update(P,c):(B.navigatorSeries=p.initSeries(P),p.setSortedData(),B.navigatorSeries.baseSeries=B,b.push(B.navigatorSeries))}),(L.data&&!(g&&g.length)||XE(L))&&(d.hasNavigatorData=!1,(L=ZE(L)).forEach((B,q)=>{y.name="Navigator "+(b.length+1),(P=Dm($2.navigator.series,{color:p.series[q]&&!p.series[q].options.isInternal&&p.series[q].color||p.options.colors[q]||p.options.colors[0]},y,B)).data=B.data,P.data&&(d.hasNavigatorData=!0,b.push(p.initSeries(P)))})),n&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let n=this,c=n.baseSeries||[];c[0]&&c[0].xAxis&&c[0].eventsToUnbind.push(Yr(c[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),c.forEach(d=>{d.eventsToUnbind.push(Yr(d,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),d.eventsToUnbind.push(Yr(d,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&d.xAxis&&d.eventsToUnbind.push(Yr(d,"updatedData",this.updatedDataHandler)),d.eventsToUnbind.push(Yr(d,"remove",function(){c&&Om(c,d),this.navigatorSeries&&n.series&&(Om(n.series,this.navigatorSeries),Lm(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(n){return this.baseSeries.reduce(function(c,d){return Math.min(c,d.getColumn("x")[0]??c)},n)}modifyNavigatorAxisExtremes(){let n=this.xAxis;if(n.getExtremes!==void 0){let c=this.getUnionExtremes(!0);c&&(c.dataMin!==n.min||c.dataMax!==n.max)&&(n.min=c.dataMin,n.max=c.dataMax)}}modifyBaseAxisExtremes(){var q;let n,c,d=this.chart.navigator,p=this.getExtremes(),g=p.min,y=p.max,b=p.dataMin,j=p.dataMax,P=y-g,L=d.stickToMin,C=d.stickToMax,I=ya((q=this.ordinal)==null?void 0:q.convertOverscroll(this.options.overscroll),0),D=d.series&&d.series[0],B=!!this.setExtremes;!(this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton")&&(L&&(n=(c=b)+P),C&&(n=j+I,L||(c=Math.max(b,n-P,d.getBaseSeriesMin(D&&D.xData?D.xData[0]:-Number.MAX_VALUE)))),B&&(L||C)&&ul(c)&&(this.min=this.userMin=c,this.max=this.userMax=n)),d.stickToMin=d.stickToMax=null}updatedDataHandler(){let n=this.chart.navigator,c=this.navigatorSeries,d=n.reversedExtremes?Math.round(n.zoomedMin)===0:Math.round(n.zoomedMax)>=Math.round(n.size);n.stickToMax=ya(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,d),n.stickToMin=n.shouldStickToMin(this,n),c&&!n.hasNavigatorData&&(c.options.pointStart=this.getColumn("x")[0],c.setData(this.options.data,!1,null,!1))}shouldStickToMin(n,c){let d=c.getBaseSeriesMin(n.getColumn("x")[0]),p=n.xAxis,g=p.max,y=p.min,b=p.options.range;return!!(ul(g)&&ul(y))&&(b&&g-d>0?g-d<b:y<=d)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(Yr(this.chart,"redraw",function(){let n=this.navigator,c=n&&(n.baseSeries&&n.baseSeries[0]&&n.baseSeries[0].xAxis||this.xAxis[0]);c&&n.render(c.min,c.max)}),Yr(this.chart,"getMargins",function(){var d;let n=this.navigator,c=n.opposite?"plotTop":"marginBottom";this.inverted&&(c=n.opposite?"marginRight":"plotLeft"),this[c]=(this[c]||0)+(n.navigatorEnabled||!this.inverted?n.height+(((d=this.scrollbar)==null?void 0:d.options.margin)||0)+n.scrollbarHeight:0)+(n.navigatorOptions.margin||0)}),Yr(r1,"setRange",function(n){this.chart.xAxis[0].setExtremes(n.min,n.max,n.redraw,n.animation,n.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(Om(this.chart.xAxis,this.xAxis),Om(this.chart.axes,this.xAxis)),this.yAxis&&(Om(this.chart.yAxis,this.yAxis),Om(this.chart.axes,this.yAxis)),(this.series||[]).forEach(n=>{n.destroy&&n.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(n=>{this[n]&&this[n].destroy&&this[n].destroy(),this[n]=null}),[this.handles].forEach(n=>{v7(n)}),this.baseSeries.forEach(n=>{n.navigatorSeries=void 0}),this.navigatorEnabled=!1}}let{addEvent:ph,correctFloat:n1,css:_7,defined:hl,error:N7,isNumber:G2,pick:q2,timeUnits:j7,isString:k7}=Me;(function(T){function n(I,D,B,q,Y=[],X=0,ie){let ue={},ye=this.options.tickPixelInterval,xe=this.chart.time,be=[],je,Ne,ke,De,Le,Ke=0,Ye=[],bt=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!Y||Y.length<3||D===void 0)return xe.getTimeTicks.apply(xe,arguments);let et=Y.length;for(je=0;je<et;je++){if(Le=je&&Y[je-1]>B,Y[je]<D&&(Ke=je),je===et-1||Y[je+1]-Y[je]>5*X||Le){if(Y[je]>bt){for(Ne=xe.getTimeTicks(I,Y[Ke],Y[je],q);Ne.length&&Ne[0]<=bt;)Ne.shift();Ne.length&&(bt=Ne[Ne.length-1]),be.push(Ye.length),Ye=Ye.concat(Ne)}Ke=je+1}if(Le)break}if(Ne){if(De=Ne.info,ie&&De.unitRange<=j7.hour){for(Ke=1,je=Ye.length-1;Ke<je;Ke++)xe.dateFormat("%d",Ye[Ke])!==xe.dateFormat("%d",Ye[Ke-1])&&(ue[Ye[Ke]]="day",ke=!0);ke&&(ue[Ye[0]]="day"),De.higherRanks=ue}De.segmentStarts=be,Ye.info=De}else N7(12,!1,this.chart);if(ie&&hl(ye)){let ut=Ye.length,xt=[],kt=[],Ct,It,Zt,Ys,us,ps=ut;for(;ps--;)It=this.translate(Ye[ps]),Zt&&(kt[ps]=Zt-It),xt[ps]=Zt=It;for(kt.sort((ls,ss)=>ls-ss),(Ys=kt[Math.floor(kt.length/2)])<.6*ye&&(Ys=null),ps=Ye[ut-1]>B?ut-1:ut,Zt=void 0;ps--;)us=Math.abs(Zt-(It=xt[ps])),Zt&&us<.8*ye&&(Ys===null||us<.8*Ys)?(ue[Ye[ps]]&&!ue[Ye[ps+1]]?(Ct=ps+1,Zt=It):Ct=ps,Ye.splice(Ct,1)):Zt=It}return Ye}function c(I){let D=this.ordinal.positions;if(!D)return I;let B=D.length-1,q;return I<0?I=D[0]:I>B?I=D[B]:(B=Math.floor(I),q=I-B),q!==void 0&&D[B]!==void 0?D[B]+(q?q*(D[B+1]-D[B]):0):I}function d(I){let D=this.ordinal,B=this.old?this.old.min:this.min,q=this.old?this.old.transA:this.transA,Y=D.getExtendedPositions();if(Y!=null&&Y.length){let X=n1((I-B)*q+this.minPixelPadding),ie=n1(D.getIndexOfPoint(X,Y)),ue=n1(ie%1);if(ie>=0&&ie<=Y.length-1){let ye=Y[Math.floor(ie)],xe=Y[Math.ceil(ie)];return Y[Math.floor(ie)]+ue*(xe-ye)}}return I}function p(I,D){let B=T.Additions.findIndexOf(I,D,!0);if(I[B]===D)return B;let q=(D-I[B])/(I[B+1]-I[B]);return B+q}function g(){this.ordinal||(this.ordinal=new T.Additions(this))}function y(){let{eventArgs:I,options:D}=this;if(this.isXAxis&&hl(D.overscroll)&&D.overscroll!==0&&G2(this.max)&&G2(this.min)&&(this.options.ordinal&&!this.ordinal.originalOrdinalRange&&this.ordinal.getExtendedPositions(!1),this.max===this.dataMax&&((I==null?void 0:I.trigger)!=="pan"||this.isInternal)&&(I==null?void 0:I.trigger)!=="navigator")){let B=this.ordinal.convertOverscroll(D.overscroll);this.max+=B,!this.isInternal&&hl(this.userMin)&&(I==null?void 0:I.trigger)!=="mousewheel"&&(this.min+=B)}}function b(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function j(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function P(I){var ie;let D=this.xAxis[0],B=D.ordinal.convertOverscroll(D.options.overscroll),q=I.originalEvent.chartX,Y=this.options.chart.panning,X=!1;if((Y==null?void 0:Y.type)!=="y"&&D.options.ordinal&&D.series.length&&(!I.touches||I.touches.length<=1)){let ue,ye,xe=this.mouseDownX,be=D.getExtremes(),je=be.dataMin,Ne=be.dataMax,ke=be.min,De=be.max,Le=this.hoverPoints,Ke=D.closestPointRange||((ie=D.ordinal)==null?void 0:ie.overscrollPointsRange),Ye=Math.round((xe-q)/(D.translationSlope*(D.ordinal.slope||Ke))),bt=D.ordinal.getExtendedPositions(),et={ordinal:{positions:bt,extendedOrdinalPositions:bt}},ut=D.index2val,xt=D.val2lin;if(ke<=je&&Ye<=0||De>=Ne+B&&Ye>=0)return void I.preventDefault();et.ordinal.positions?Math.abs(Ye)>1&&(Le&&Le.forEach(function(kt){kt.setState()}),ye=et.ordinal.positions,B&&(ye=et.ordinal.positions=ye.concat(D.ordinal.getOverscrollPositions())),Ne>ye[ye.length-1]&&ye.push(Ne),this.setFixedRange(De-ke),(ue=D.navigatorAxis.toFixedRange(void 0,void 0,ut.apply(et,[xt.apply(et,[ke,!0])+Ye]),ut.apply(et,[xt.apply(et,[De,!0])+Ye]))).min>=Math.min(ye[0],ke)&&ue.max<=Math.max(ye[ye.length-1],De)+B&&D.setExtremes(ue.min,ue.max,!0,!1,{trigger:"pan"}),this.mouseDownX=q,_7(this.container,{cursor:"move"})):X=!0}else X=!0;X||Y&&/y/.test(Y.type)?B&&G2(D.dataMax)&&(D.max=D.dataMax+B):I.preventDefault()}function L(){let I=this.xAxis;I!=null&&I.options.ordinal&&(delete I.ordinal.index,delete I.ordinal.originalOrdinalRange)}function C(I,D){var ye;let B,q=this.ordinal,Y=q.positions,X=q.slope,ie;if(!Y)return I;let ue=Y.length;if(Y[0]<=I&&Y[ue-1]>=I)B=p(Y,I);else{if(ie=(ye=q.getExtendedPositions)==null?void 0:ye.call(q),!(ie!=null&&ie.length))return I;let xe=ie.length;X||(X=(ie[xe-1]-ie[0])/xe);let be=p(ie,Y[0]);if(I>=ie[0]&&I<=ie[xe-1])B=p(ie,I)-be;else{if(!D)return I;B=I<ie[0]?-be-(ie[0]-I)/X:(I-ie[xe-1])/X+xe-be}}return D?B:X*(B||0)+q.offset}T.compose=function(I,D,B){let q=I.prototype;return q.ordinal2lin||(q.getTimeTicks=n,q.index2val=c,q.lin2val=d,q.val2lin=C,q.ordinal2lin=q.val2lin,ph(I,"afterInit",g),ph(I,"foundExtremes",y),ph(I,"afterSetScale",b),ph(I,"initialAxisTranslation",j),ph(B,"pan",P),ph(B,"touchpan",P),ph(D,"updatedData",L)),I},T.Additions=class{constructor(I){this.index={},this.axis=I}beforeSetTickPositions(){var ut;let I=this.axis,D=I.ordinal,B=I.getExtremes(),q=B.min,Y=B.max,X=(ut=I.brokenAxis)==null?void 0:ut.hasBreaks,ie=I.options.ordinal,ue=I.options.overscroll&&I.ordinal.convertOverscroll(I.options.overscroll)||0,ye,xe,be,je,Ne,ke,De,Le=[],Ke=Number.MAX_VALUE,Ye=!1,bt=!1,et=!1;if(ie||X){let xt=0;if(I.series.forEach(function(kt,Ct){let It=kt.getColumn("x",!0);if(xe=[],Ct>0&&kt.options.id!=="highcharts-navigator-series"&&It.length>1&&(bt=xt!==It[1]-It[0]),xt=It[1]-It[0],kt.boosted&&(et=kt.boosted),kt.reserveSpace()&&(kt.takeOrdinalPosition!==!1||X)&&(ye=(Le=Le.concat(It)).length,Le.sort(function(Zt,Ys){return Zt-Ys}),Ke=Math.min(Ke,q2(kt.closestPointRange,Ke)),ye)){for(Ct=0;Ct<ye-1;)Le[Ct]!==Le[Ct+1]&&xe.push(Le[Ct+1]),Ct++;xe[0]!==Le[0]&&xe.unshift(Le[0]),Le=xe}}),I.ordinal.originalOrdinalRange||(I.ordinal.originalOrdinalRange=(Le.length-1)*Ke),bt&&et&&(Le.pop(),Le.shift()),(ye=Le.length)>2){for(be=Le[1]-Le[0],De=ye-1;De--&&!Ye;)Le[De+1]-Le[De]!==be&&(Ye=!0);!I.options.keepOrdinalPadding&&(Le[0]-q>be||Y-ue-Le[ye-1]>be)&&(Ye=!0)}else I.options.overscroll&&(ye===2?Ke=Le[1]-Le[0]:ye===1?(Ke=ue,Le=[Le[0],Le[0]+Ke]):Ke=D.overscrollPointsRange);Ye||I.forceOrdinal?(I.options.overscroll&&(D.overscrollPointsRange=Ke,Le=Le.concat(D.getOverscrollPositions())),D.positions=Le,je=I.ordinal2lin(Math.max(q,Le[0]),!0),Ne=Math.max(I.ordinal2lin(Math.min(Y,Le[Le.length-1]),!0),1),D.slope=ke=(Y-q)/(Ne-je),D.offset=q-je*ke):(D.overscrollPointsRange=q2(I.closestPointRange,D.overscrollPointsRange),D.positions=I.ordinal.slope=D.offset=void 0)}I.isOrdinal=ie&&Ye,D.groupIntervalFactor=null}static findIndexOf(I,D,B){let q=0,Y=I.length-1,X;for(;q<Y;)I[X=Math.ceil((q+Y)/2)]<=D?q=X:Y=X-1;return I[q]===D||B?q:-1}getExtendedPositions(I=!0){let D=this,B=D.axis,q=B.constructor.prototype,Y=B.chart,X=B.series.reduce((je,Ne)=>{let ke=Ne.currentDataGrouping;return je+(ke?ke.count+ke.unitName:"raw")},""),ie=I?B.ordinal.convertOverscroll(B.options.overscroll):0,ue=B.getExtremes(),ye,xe,be=D.index;return be||(be=D.index={}),!be[X]&&((ye={series:[],chart:Y,forceOrdinal:!1,getExtremes:function(){return{min:ue.dataMin,max:ue.dataMax+ie}},applyGrouping:q.applyGrouping,getGroupPixelWidth:q.getGroupPixelWidth,getTimeTicks:q.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:q.ordinal2lin,getIndexOfPoint:q.getIndexOfPoint,val2lin:q.val2lin}).ordinal.axis=ye,B.series.forEach(je=>{var ke,De,Le;if(je.takeOrdinalPosition===!1)return;xe={xAxis:ye,chart:Y,groupPixelWidth:je.groupPixelWidth,destroyGroupedData:ve.noop,getColumn:je.getColumn,applyGrouping:je.applyGrouping,getProcessedData:je.getProcessedData,reserveSpace:je.reserveSpace,visible:je.visible};let Ne=je.getColumn("x").concat(I?D.getOverscrollPositions():[]);xe.dataTable=new Ql({columns:{x:Ne}}),xe.options={...je.options,dataGrouping:je.currentDataGrouping?{firstAnchor:(ke=je.options.dataGrouping)==null?void 0:ke.firstAnchor,anchor:(De=je.options.dataGrouping)==null?void 0:De.anchor,lastAnchor:(Le=je.options.dataGrouping)==null?void 0:Le.firstAnchor,enabled:!0,forced:!0,approximation:"open",units:[[je.currentDataGrouping.unitName,[je.currentDataGrouping.count]]]}:{enabled:!1}},ye.series.push(xe),je.processData.apply(xe)}),ye.applyGrouping({hasExtremesChanged:!0}),(xe==null?void 0:xe.closestPointRange)!==(xe==null?void 0:xe.basePointRange)&&xe.currentDataGrouping&&(ye.forceOrdinal=!0),B.ordinal.beforeSetTickPositions.apply({axis:ye}),!B.ordinal.originalOrdinalRange&&ye.ordinal.originalOrdinalRange&&(B.ordinal.originalOrdinalRange=ye.ordinal.originalOrdinalRange),ye.ordinal.positions&&(be[X]=ye.ordinal.positions)),be[X]}getGroupIntervalFactor(I,D,B){let q=B.getColumn("x",!0),Y=q.length,X=[],ie,ue,ye=this.groupIntervalFactor;if(!ye){for(ue=0;ue<Y-1;ue++)X[ue]=q[ue+1]-q[ue];X.sort(function(xe,be){return xe-be}),ie=X[Math.floor(Y/2)],I=Math.max(I,q[0]),D=Math.min(D,q[Y-1]),this.groupIntervalFactor=ye=Y*ie/(D-I)}return ye}getIndexOfPoint(I,D){let B=this.axis,q=B.min,Y=B.minPixelPadding;return p(D,q)+n1((I-Y)/(B.translationSlope*(this.slope||B.closestPointRange||this.overscrollPointsRange)))}getOverscrollPositions(){let I=this.axis,D=this.convertOverscroll(I.options.overscroll),B=this.overscrollPointsRange,q=[],Y=I.dataMax;if(hl(B))for(;Y<I.dataMax+D;)q.push(Y+=B);return q}postProcessTickInterval(I){let D=this.axis,B=this.slope,q=D.closestPointRange;return B&&q?D.options.breaks?q||I:I/(B/q):I}convertOverscroll(I=0){let D=this,B=D.axis,q=function(Y){return q2(D.originalOrdinalRange,hl(B.dataMax)&&hl(B.dataMin)?B.dataMax-B.dataMin:0)*Y};if(k7(I)){let Y,X=parseInt(I,10);if(hl(B.min)&&hl(B.max)&&hl(B.dataMin)&&hl(B.dataMax)&&((Y=B.max-B.min==B.dataMax-B.dataMin)||(this.originalOrdinalRange=B.max-B.min)),/%$/.test(I))return q(X/100);if(/px/.test(I)){let ie=Math.min(X,.9*B.len)/B.len;return q(ie/(Y?1-ie:1))}return 0}return I}}})(Xe||(Xe={}));let K2=Xe,Y2={lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→",rangeSelector:{allText:"All",allTitle:"View all",monthText:"{count}m",monthTitle:"View {count} {#eq count 1}month{else}months{/eq}",yearText:"{count}y",yearTitle:"View {count} {#eq count 1}year{else}years{/eq}",ytdText:"YTD",ytdTitle:"View year to date"}},rangeSelector:{allButtonsEnabled:!1,buttons:[{type:"month",count:1},{type:"month",count:3},{type:"month",count:6},{type:"ytd"},{type:"year",count:1},{type:"all"}],buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%[ebY]",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}},{defaultOptions:QE}=zi,{composed:S7}=ve,{addEvent:mh,defined:A7,extend:JE,isNumber:Rm,merge:C7,pick:eI,pushUnique:T7}=Me,X2=[];function P7(){let T,n,c=this.range,d=c.type,p=this.max,g=this.chart.time,y=function(j,P){let L=g.toParts(j),C=L.slice();d==="year"?C[0]+=P:C[1]+=P;let I=g.makeTime.apply(g,C),D=g.toParts(I);return d==="month"&&L[1]===D[1]&&Math.abs(P)===1&&(C[0]=L[0],C[1]=L[1],C[2]=0),(I=g.makeTime.apply(g,C))-j};Rm(c)?(T=p-c,n=c):c&&(T=p+y(p,-(c.count||1)),this.chart&&this.chart.setFixedRange(p-T));let b=eI(this.dataMin,Number.MIN_VALUE);return Rm(T)||(T=b),T<=b&&(T=b,n===void 0&&(n=y(T,c.count)),this.newMax=Math.min(T+n,eI(this.dataMax,Number.MAX_VALUE))),Rm(p)?!Rm(c)&&c&&c._offsetMin&&(T+=c._offsetMin):T=void 0,T}function M7(){var T;(T=this.rangeSelector)==null||T.redrawElements()}function E7(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new o(this))}function I7(){let T=this.rangeSelector;if(T){Rm(T.deferredYTDClick)&&(T.clickButton(T.deferredYTDClick),delete T.deferredYTDClick);let n=T.options.verticalAlign;T.options.floating||(n==="bottom"?this.extraBottomMargin=!0:n==="top"&&(this.extraTopMargin=!0))}}function tI(){let T,n=this.rangeSelector;if(!n)return;let c=this.xAxis[0].getExtremes(),d=this.legend,p=n&&n.options.verticalAlign;Rm(c.min)&&n.render(c.min,c.max),d.display&&p==="top"&&p===d.options.verticalAlign&&(T=C7(this.spacingBox),d.options.layout==="vertical"?T.y=this.plotTop:T.y+=n.getHeight(),d.group.placed=!1,d.align(T))}function L7(){for(let T=0,n=X2.length;T<n;++T){let c=X2[T];if(c[0]===this){c[1].forEach(d=>d()),X2.splice(T,1);return}}}function O7(){var n;let T=this.rangeSelector;if((n=T==null?void 0:T.options)!=null&&n.enabled){let c=T.getHeight(),d=T.options.verticalAlign;T.options.floating||(d==="bottom"?this.marginBottom+=c:d!=="middle"&&(this.plotTop+=c))}}function D7(T){let n=T.options.rangeSelector,c=this.extraBottomMargin,d=this.extraTopMargin,p=this.rangeSelector;if(n&&n.enabled&&!A7(p)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=p=new o(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,p){let g=n&&n.verticalAlign||p.options&&p.options.verticalAlign;p.options.floating||(g==="bottom"?this.extraBottomMargin=!0:g!=="middle"&&(this.extraTopMargin=!0)),(this.extraBottomMargin!==c||this.extraTopMargin!==d)&&(this.isDirtyBox=!0)}}let R7={compose:function(T,n,c){if(o=c,T7(S7,"RangeSelector")){let d=n.prototype;T.prototype.minFromRange=P7,mh(n,"afterGetContainer",E7),mh(n,"beforeRender",I7),mh(n,"destroy",L7),mh(n,"getMargins",O7),mh(n,"redraw",tI),mh(n,"update",D7),mh(n,"beforeRedraw",M7),d.callbacks.push(tI),JE(QE,{rangeSelector:Y2.rangeSelector}),JE(QE.lang,Y2.lang)}}},{defaultOptions:Z2}=zi,{format:sI}=Or,{addEvent:pl,createElement:f0,css:cc,defined:dc,destroyObjectProperties:F7,diffObjects:z7,discardElement:B7,extend:iI,fireEvent:Fm,isNumber:Cn,isString:Q2,merge:yd,objectEach:W7,pick:ml,splat:H7}=Me;function rI(T){let n=p=>RegExp(`%[[a-zA-Z]*${p}`).test(T);if(Q2(T)?T.indexOf("%L")!==-1:T.fractionalSecondDigits)return"text";let c=Q2(T)?["a","A","d","e","w","b","B","m","o","y","Y"].some(n):T.dateStyle||T.day||T.month||T.year,d=Q2(T)?["H","k","I","l","M","S"].some(n):T.timeStyle||T.hour||T.minute||T.second;return c&&d?"datetime-local":c?"date":d?"time":"text"}class g0{static compose(n,c){R7.compose(n,c,g0)}constructor(n){this.isDirty=!1,this.buttonOptions=[],this.initialButtonGroupWidth=0,this.maxButtonWidth=()=>{let c=0;return this.buttons.forEach(d=>{let p=d.getBBox();p.width>c&&(c=p.width)}),c},this.init(n)}clickButton(n,c){let d=this.chart,p=this.buttonOptions[n],g=d.xAxis[0],y=d.scroller&&d.scroller.getUnionExtremes()||g||{},b=p.type,j=p.dataGrouping,P=y.dataMin,L=y.dataMax,C,I=Cn(g==null?void 0:g.max)?Math.round(Math.min(g.max,L??g.max)):void 0,D,B=p._range,q,Y,X,ie=!0;if(P!==null&&L!==null){if(this.setSelected(n),j&&(this.forcedDataGrouping=!0,fo.prototype.setDataGrouping.call(g||{chart:this.chart},j,!1),this.frozenStates=p.preserveDataGrouping),b==="month"||b==="year")g?(Y={range:p,max:I,chart:d,dataMin:P,dataMax:L},C=g.minFromRange.call(Y),Cn(Y.newMax)&&(I=Y.newMax),ie=!1):B=p;else if(B)Cn(I)&&(I=Math.min((C=Math.max(I-B,P))+B,L),ie=!1);else if(b==="ytd")if(g)!g.hasData()||Cn(L)&&Cn(P)||(P=Number.MAX_VALUE,L=-Number.MAX_VALUE,d.series.forEach(ue=>{let ye=ue.getColumn("x");ye.length&&(P=Math.min(ye[0],P),L=Math.max(ye[ye.length-1],L))}),c=!1),Cn(L)&&Cn(P)&&(C=q=(X=this.getYTDExtremes(L,P)).min,I=X.max);else{this.deferredYTDClick=n;return}else b==="all"&&g&&(d.navigator&&d.navigator.baseSeries[0]&&(d.navigator.baseSeries[0].xAxis.options.range=void 0),C=P,I=L);if(ie&&p._offsetMin&&dc(C)&&(C+=p._offsetMin),p._offsetMax&&dc(I)&&(I+=p._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=n+1),g)Cn(C)&&Cn(I)&&(g.setExtremes(C,I,ml(c,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:p}),d.setFixedRange(p._range));else{D=H7(d.options.xAxis||{})[0];let ue=pl(d,"afterCreateAxes",function(){let ye=d.xAxis[0];ye.range=ye.options.range=B,ye.min=ye.options.min=q});pl(d,"load",function(){let ye=d.xAxis[0];d.setFixedRange(p._range),ye.options.range=D.range,ye.options.min=D.min,ue()})}Fm(this,"afterBtnClick")}}setSelected(n){this.selected=this.options.selected=n}init(n){let c=this,d=n.options.rangeSelector,p=n.options.lang,g=d.buttons,y=d.selected,b=function(){let j=c.minInput,P=c.maxInput;j&&j.blur&&Fm(j,"blur"),P&&P.blur&&Fm(P,"blur")};c.chart=n,c.options=d,c.buttons=[],c.buttonOptions=g.map(j=>(j.type&&p.rangeSelector&&(j.text??(j.text=p.rangeSelector[`${j.type}Text`]),j.title??(j.title=p.rangeSelector[`${j.type}Title`])),j.text=sI(j.text,{count:j.count||1}),j.title=sI(j.title,{count:j.count||1}),j)),this.eventsToUnbind=[],this.eventsToUnbind.push(pl(n.container,"mousedown",b)),this.eventsToUnbind.push(pl(n,"resize",b)),g.forEach(c.computeButtonRange),y!==void 0&&g[y]&&this.clickButton(y,!1),this.eventsToUnbind.push(pl(n,"load",function(){n.xAxis&&n.xAxis[0]&&pl(n.xAxis[0],"setExtremes",function(j){Cn(this.max)&&Cn(this.min)&&this.max-this.min!==n.fixedRange&&j.trigger!=="rangeSelectorButton"&&j.trigger!=="updatedData"&&c.forcedDataGrouping&&!c.frozenStates&&this.setDataGrouping(!1,!1)})})),this.createElements()}updateButtonStates(){let n=this,c=this.chart,d=this.dropdown,p=this.dropdownLabel,g=c.xAxis[0],y=Math.round(g.max-g.min),b=!g.hasVisibleSeries,j=24*36e5,P=c.scroller&&c.scroller.getUnionExtremes()||g,L=P.dataMin,C=P.dataMax,I=n.getYTDExtremes(C,L),D=I.min,B=I.max,q=n.selected,Y=n.options.allButtonsEnabled,X=Array(n.buttonOptions.length).fill(0),ie=Cn(q),ue=n.buttons,ye=!1,xe=null;n.buttonOptions.forEach((be,je)=>{var Ct;let Ne=be._range,ke=be.type,De=be.count||1,Le=be._offsetMax-be._offsetMin,Ke=je===q,Ye=Ne>C-L,bt=Ne<g.minRange,et=!1,ut=Ne===y;if(Ke&&Ye&&(ye=!0),g.isOrdinal&&((Ct=g.ordinal)==null?void 0:Ct.positions)&&Ne&&y<Ne){let It=g.ordinal.positions,Zt=K2.Additions.findIndexOf(It,g.min,!0),Ys=Math.min(K2.Additions.findIndexOf(It,g.max,!0)+1,It.length-1);It[Ys]-It[Zt]>Ne&&(ut=!0)}else(ke==="month"||ke==="year")&&y+36e5>={month:28,year:365}[ke]*j*De-Le&&y-36e5<={month:31,year:366}[ke]*j*De+Le?ut=!0:ke==="ytd"?(ut=B-D+Le===y,et=!Ke):ke==="all"&&(ut=g.max-g.min>=C-L);let xt=!Y&&!(ye&&ke==="all")&&(Ye||bt||b),kt=ye&&ke==="all"||!et&&ut||Ke&&n.frozenStates;xt?X[je]=3:kt&&(!ie||je===q)&&(xe=je)}),xe!==null?(X[xe]=2,n.setSelected(xe),this.dropdown&&(this.dropdown.selectedIndex=xe+1)):(n.setSelected(),this.dropdown&&(this.dropdown.selectedIndex=-1),p&&(p.setState(0),p.attr({text:(Z2.lang.rangeSelectorZoom||"")+" ▾"})));for(let be=0;be<X.length;be++){let je=X[be],Ne=ue[be];if(Ne.state!==je&&(Ne.setState(je),d)){d.options[be+1].disabled=je===3,je===2&&(p&&(p.setState(2),p.attr({text:n.buttonOptions[be].text+" ▾"})),d.selectedIndex=be+1);let ke=p.getBBox();cc(d,{width:`${ke.width}px`,height:`${ke.height}px`})}}}computeButtonRange(n){let c=n.type,d=n.count||1,p={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};p[c]?n._range=p[c]*d:(c==="month"||c==="year")&&(n._range=24*{month:30,year:365}[c]*36e5*d),n._offsetMin=ml(n.offsetMin,0),n._offsetMax=ml(n.offsetMax,0),n._range+=n._offsetMax-n._offsetMin}getInputValue(n){let c=n==="min"?this.minInput:this.maxInput,d=this.chart.options.rangeSelector,p=this.chart.time;return c?(c.type==="text"&&d.inputDateParser||this.defaultInputDateParser)(c.value,p.timezone==="UTC",p):0}setInputValue(n,c){let d=this.options,p=this.chart.time,g=n==="min"?this.minInput:this.maxInput,y=n==="min"?this.minDateBox:this.maxDateBox;if(g){g.setAttribute("type",rI(d.inputDateFormat||"%e %b %Y"));let b=g.getAttribute("data-hc-time"),j=dc(b)?Number(b):void 0;if(dc(c)){let P=j;dc(P)&&g.setAttribute("data-hc-time-previous",P),g.setAttribute("data-hc-time",c),j=c}g.value=p.dateFormat(this.inputTypeFormats[g.type]||d.inputEditDateFormat,j),y&&y.attr({text:p.dateFormat(d.inputDateFormat,j)})}}setInputExtremes(n,c,d){let p=n==="min"?this.minInput:this.maxInput;if(p){let g=this.inputTypeFormats[p.type],y=this.chart.time;if(g){let b=y.dateFormat(g,c);p.min!==b&&(p.min=b);let j=y.dateFormat(g,d);p.max!==j&&(p.max=j)}}}showInput(n){let c=n==="min"?this.minDateBox:this.maxDateBox,d=n==="min"?this.minInput:this.maxInput;if(d&&c&&this.inputGroup){let p=d.type==="text",{translateX:g=0,translateY:y=0}=this.inputGroup,{x:b=0,width:j=0,height:P=0}=c,{inputBoxWidth:L}=this.options;cc(d,{width:p?j+(L?-2:20)+"px":"auto",height:P-2+"px",border:"2px solid silver"}),p&&L?cc(d,{left:g+b+"px",top:y+"px"}):cc(d,{left:Math.min(Math.round(b+g-(d.offsetWidth-j)/2),this.chart.chartWidth-d.offsetWidth)+"px",top:y-(d.offsetHeight-P)/2+"px"})}}hideInput(n){let c=n==="min"?this.minInput:this.maxInput;c&&cc(c,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(n,c,d){return(d==null?void 0:d.parse(n))||0}drawInput(n){let{chart:c,div:d,inputGroup:p}=this,g=this,y=c.renderer.style||{},b=c.renderer,j=c.options.rangeSelector,P=Z2.lang,L=n==="min";function C(X){var De;let{maxInput:ie,minInput:ue}=g,ye=c.xAxis[0],xe=((De=c.scroller)==null?void 0:De.getUnionExtremes())||ye,be=xe.dataMin,je=xe.dataMax,Ne=c.xAxis[0].getExtremes()[X],ke=g.getInputValue(X);Cn(ke)&&ke!==Ne&&(L&&ie&&Cn(be)?ke>Number(ie.getAttribute("data-hc-time"))?ke=void 0:ke<be&&(ke=be):ue&&Cn(je)&&(ke<Number(ue.getAttribute("data-hc-time"))?ke=void 0:ke>je&&(ke=je)),ke!==void 0&&ye.setExtremes(L?ke:ye.min,L?ye.max:ke,void 0,void 0,{trigger:"rangeSelectorInput"}))}let I=P[L?"rangeSelectorFrom":"rangeSelectorTo"]||"",D=b.label(I,0).addClass("highcharts-range-label").attr({padding:2*!!I,height:I?j.inputBoxHeight:0}).add(p),B=b.label("",0).addClass("highcharts-range-input").attr({padding:2,width:j.inputBoxWidth,height:j.inputBoxHeight,"text-align":"center"}).on("click",function(){g.showInput(n),g[n+"Input"].focus()});c.styledMode||B.attr({stroke:j.inputBoxBorderColor,"stroke-width":1}),B.add(p);let q=f0("input",{name:n,className:"highcharts-range-selector"},void 0,d);q.setAttribute("type",rI(j.inputDateFormat||"%e %b %Y")),c.styledMode||(D.css(yd(y,j.labelStyle)),B.css(yd({color:"#333333"},y,j.inputStyle)),cc(q,iI({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:y.fontSize,fontFamily:y.fontFamily,top:"-9999em"},j.inputStyle))),q.onfocus=()=>{g.showInput(n)},q.onblur=()=>{q===ve.doc.activeElement&&C(n),g.hideInput(n),g.setInputValue(n),q.blur()};let Y=!1;return q.onchange=()=>{Y||(C(n),g.hideInput(n),q.blur())},q.onkeypress=X=>{X.keyCode===13&&C(n)},q.onkeydown=X=>{Y=!0,(X.key==="ArrowUp"||X.key==="ArrowDown"||X.key==="Tab")&&C(n)},q.onkeyup=()=>{Y=!1},{dateBox:B,input:q,label:D}}getPosition(){let n=this.chart,c=n.options.rangeSelector,d=c.verticalAlign==="top"?n.plotTop-n.axisOffset[0]:0;return{buttonTop:d+c.buttonPosition.y,inputTop:d+c.inputPosition.y-10}}getYTDExtremes(n,c){let d=this.chart.time,p=d.toParts(n)[0];return{max:n,min:Math.max(c,d.makeTime(p,0))}}createElements(){var j;let n=this.chart,c=n.renderer,d=n.container,p=n.options,g=p.rangeSelector,y=g.inputEnabled,b=ml((j=p.chart.style)==null?void 0:j.zIndex,0)+1;g.enabled!==!1&&(this.group=c.g("range-selector-group").attr({zIndex:7}).add(),this.div=f0("div",void 0,{position:"relative",height:0,zIndex:b}),this.buttonOptions.length&&this.renderButtons(),d.parentNode&&d.parentNode.insertBefore(this.div,d),y&&this.createInputs())}createInputs(){this.inputGroup=this.chart.renderer.g("input-group").add(this.group);let n=this.drawInput("min");this.minDateBox=n.dateBox,this.minLabel=n.label,this.minInput=n.input;let c=this.drawInput("max");this.maxDateBox=c.dateBox,this.maxLabel=c.label,this.maxInput=c.input}render(n,c){var g,y;if(this.options.enabled===!1)return;let d=this.chart,p=d.options.rangeSelector;if(p.inputEnabled){this.inputGroup||this.createInputs(),this.setInputValue("min",n),this.setInputValue("max",c),this.chart.styledMode||((g=this.maxLabel)==null||g.css(p.labelStyle),(y=this.minLabel)==null||y.css(p.labelStyle));let b=d.scroller&&d.scroller.getUnionExtremes()||d.xAxis[0]||{};if(dc(b.dataMin)&&dc(b.dataMax)){let j=d.xAxis[0].minRange||0;this.setInputExtremes("min",b.dataMin,Math.min(b.dataMax,this.getInputValue("max"))-j),this.setInputExtremes("max",Math.max(b.dataMin,this.getInputValue("min"))+j,b.dataMax)}if(this.inputGroup){let j=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(P=>{if(P){let{width:L}=P.getBBox();L&&(P.attr({x:j}),j+=L+p.inputSpacing)}})}}else this.inputGroup&&(this.inputGroup.destroy(),delete this.inputGroup);!this.chart.styledMode&&this.zoomText&&this.zoomText.css(p.labelStyle),this.alignElements(),this.updateButtonStates()}renderButtons(){var I;var n;let{chart:c,options:d}=this,p=Z2.lang,g=c.renderer,y=yd(d.buttonTheme),b=y&&y.states;delete y.width,delete y.states,this.buttonGroup=g.g("range-selector-buttons").add(this.group);let j=this.dropdown=f0("select",void 0,{position:"absolute",padding:0,border:0,cursor:"pointer",opacity:1e-4},this.div),P=(I=c.userOptions.rangeSelector)==null?void 0:I.buttonTheme;this.dropdownLabel=g.button("",0,0,()=>{},yd(y,{"stroke-width":ml(y["stroke-width"],0),width:"auto",paddingLeft:ml(d.buttonTheme.paddingLeft,P==null?void 0:P.padding,8),paddingRight:ml(d.buttonTheme.paddingRight,P==null?void 0:P.padding,8)}),b&&b.hover,b&&b.select,b&&b.disabled).hide().add(this.group),pl(j,"touchstart",()=>{j.style.fontSize="16px"});let L=ve.isMS?"mouseover":"mouseenter",C=ve.isMS?"mouseout":"mouseleave";pl(j,L,()=>{Fm(this.dropdownLabel.element,L)}),pl(j,C,()=>{Fm(this.dropdownLabel.element,C)}),pl(j,"change",()=>{Fm(this.buttons[j.selectedIndex-1].element,"click")}),this.zoomText=g.label(p.rangeSelectorZoom||"",0).attr({padding:d.buttonTheme.padding,height:d.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(d.labelStyle),(n=d.buttonTheme)["stroke-width"]??(n["stroke-width"]=0)),f0("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,j),this.createButtons()}createButtons(){let{options:n}=this,c=yd(n.buttonTheme),d=c&&c.states,p=c.width||28;delete c.width,delete c.states,this.buttonOptions.forEach((g,y)=>{this.createButton(g,y,p,d)})}createButton(n,c,d,p){let{dropdown:g,buttons:y,chart:b,options:j}=this,P=b.renderer,L=yd(j.buttonTheme);g==null||g.add(f0("option",{textContent:n.title||n.text}),c+2),y[c]=P.button(n.text??"",0,0,C=>{let I,D=n.events&&n.events.click;D&&(I=D.call(n,C)),I!==!1&&this.clickButton(c),this.isActive=!0},L,p&&p.hover,p&&p.select,p&&p.disabled).attr({"text-align":"center",width:d}).add(this.buttonGroup),n.title&&y[c].attr("title",n.title)}alignElements(){var q;let{buttonGroup:n,buttons:c,chart:d,group:p,inputGroup:g,options:y,zoomText:b}=this,j=d.options,P=j.exporting&&j.exporting.enabled!==!1&&j.navigation&&j.navigation.buttonOptions,{buttonPosition:L,inputPosition:C,verticalAlign:I}=y,D=(Y,X,ie)=>P&&this.titleCollision(d)&&I==="top"&&ie&&X.y-Y.getBBox().height-12<(P.y||0)+(P.height||0)+d.spacing[0]?-40:0,B=d.plotLeft;if(p&&L&&C){let Y=L.x-d.spacing[3];if(n){if(this.positionButtons(),!this.initialButtonGroupWidth){let ke=0;b&&(ke+=b.getBBox().width+5),c.forEach((De,Le)=>{ke+=De.width||0,Le!==c.length-1&&(ke+=y.buttonSpacing)}),this.initialButtonGroupWidth=ke}B-=d.spacing[3];let Ne=D(n,L,L.align==="right"||C.align==="right");this.alignButtonGroup(Ne),(q=this.buttonGroup)!=null&&q.translateY&&this.dropdownLabel.attr({y:this.buttonGroup.translateY}),p.placed=n.placed=d.hasLoaded}let X=0;y.inputEnabled&&g&&(X=D(g,C,L.align==="right"||C.align==="right"),C.align==="left"?Y=B:C.align==="right"&&(Y=-Math.max(d.axisOffset[1],-X)),g.align({y:C.y,width:g.getBBox().width,align:C.align,x:C.x+Y-2},!0,d.spacingBox),g.placed=d.hasLoaded),this.handleCollision(X),p.align({verticalAlign:I},!0,d.spacingBox);let ie=p.alignAttr.translateY,ue=p.getBBox().height+20,ye=0;if(I==="bottom"){let Ne=d.legend&&d.legend.options;ye=ie-(ue=ue+(Ne&&Ne.verticalAlign==="bottom"&&Ne.enabled&&!Ne.floating?d.legend.legendHeight+ml(Ne.margin,10):0)-20)-(y.floating?0:y.y)-(d.titleOffset?d.titleOffset[2]:0)-10}I==="top"?(y.floating&&(ye=0),d.titleOffset&&d.titleOffset[0]&&(ye=d.titleOffset[0]),ye+=d.margin[0]-d.spacing[0]||0):I==="middle"&&(C.y===L.y?ye=ie:(C.y||L.y)&&(C.y<0||L.y<0?ye-=Math.min(C.y,L.y):ye=ie-ue)),p.translate(y.x,y.y+Math.floor(ye));let{minInput:xe,maxInput:be,dropdown:je}=this;y.inputEnabled&&xe&&be&&(xe.style.marginTop=p.translateY+"px",be.style.marginTop=p.translateY+"px"),je&&(je.style.marginTop=p.translateY+"px")}}redrawElements(){var p,g,y,b,j;let n=this.chart,{inputBoxHeight:c,inputBoxBorderColor:d}=this.options;if((p=this.maxDateBox)==null||p.attr({height:c}),(g=this.minDateBox)==null||g.attr({height:c}),n.styledMode||((y=this.maxDateBox)==null||y.attr({stroke:d}),(b=this.minDateBox)==null||b.attr({stroke:d})),this.isDirty){this.isDirty=!1,this.isCollapsed=void 0;let P=this.options.buttons??[],L=Math.min(P.length,this.buttonOptions.length),{dropdown:C,options:I}=this,D=yd(I.buttonTheme),B=D&&D.states,q=D.width||28;if(P.length<this.buttonOptions.length)for(let Y=this.buttonOptions.length-1;Y>=P.length;Y--){let X=this.buttons.pop();X==null||X.destroy(),(j=this.dropdown)==null||j.options.remove(Y+1)}for(let Y=L-1;Y>=0;Y--)if(Object.keys(z7(P[Y],this.buttonOptions[Y])).length!==0){let X=P[Y];this.buttons[Y].destroy(),C==null||C.options.remove(Y+1),this.createButton(X,Y,q,B),this.computeButtonRange(X)}if(P.length>this.buttonOptions.length)for(let Y=this.buttonOptions.length;Y<P.length;Y++)this.createButton(P[Y],Y,q,B),this.computeButtonRange(P[Y]);this.buttonOptions=this.options.buttons??[],dc(this.options.selected)&&this.buttons.length&&this.clickButton(this.options.selected,!1)}}alignButtonGroup(n,c){let{chart:d,options:p,buttonGroup:g,dropdown:y,dropdownLabel:b}=this,{buttonPosition:j}=p,P=d.plotLeft-d.spacing[3],L=j.x-d.spacing[3],C=d.plotLeft;j.align==="right"?(L+=n-P,this.hasVisibleDropdown&&(C=d.chartWidth+n-this.maxButtonWidth()-20)):j.align==="center"&&(L-=P/2,this.hasVisibleDropdown&&(C=d.chartWidth/2-this.maxButtonWidth())),y&&cc(y,{left:C+"px",top:(g==null?void 0:g.translateY)+"px"}),b==null||b.attr({x:C}),g&&g.align({y:j.y,width:ml(c,this.initialButtonGroupWidth),align:j.align,x:L},!0,d.spacingBox)}positionButtons(){let{buttons:n,chart:c,options:d,zoomText:p}=this,g=c.hasLoaded?"animate":"attr",{buttonPosition:y}=d,b=c.plotLeft,j=b;p&&p.visibility!=="hidden"&&(p[g]({x:ml(b+y.x,b)}),j+=y.x+p.getBBox().width+5);for(let P=0,L=this.buttonOptions.length;P<L;++P)n[P].visibility!=="hidden"?(n[P][g]({x:j}),j+=(n[P].width||0)+d.buttonSpacing):n[P][g]({x:b})}handleCollision(n){let{chart:c,buttonGroup:d,inputGroup:p,initialButtonGroupWidth:g}=this,{buttonPosition:y,dropdown:b,inputPosition:j}=this.options,P=()=>{p&&d&&p.attr({translateX:p.alignAttr.translateX+(c.axisOffset[1]>=-n?0:-n),translateY:p.alignAttr.translateY+d.getBBox().height+10})};p&&d?j.align===y.align?(P(),g>c.plotWidth+n-20?this.collapseButtons():this.expandButtons()):g-n+p.getBBox().width>c.plotWidth?b==="responsive"?this.collapseButtons():P():this.expandButtons():d&&b==="responsive"&&(g>c.plotWidth?this.collapseButtons():this.expandButtons()),d&&(b==="always"&&this.collapseButtons(),b==="never"&&this.expandButtons()),this.alignButtonGroup(n)}collapseButtons(){let{buttons:n,zoomText:c}=this;this.isCollapsed!==!0&&(this.isCollapsed=!0,c.hide(),n.forEach(d=>void d.hide()),this.showDropdown())}expandButtons(){let{buttons:n,zoomText:c}=this;this.isCollapsed!==!1&&(this.isCollapsed=!1,this.hideDropdown(),c.show(),n.forEach(d=>void d.show()),this.positionButtons())}showDropdown(){let{buttonGroup:n,dropdownLabel:c,dropdown:d}=this;n&&d&&(c.show(),cc(d,{visibility:"inherit"}),this.hasVisibleDropdown=!0)}hideDropdown(){let{dropdown:n}=this;n&&(this.dropdownLabel.hide(),cc(n,{visibility:"hidden",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){let n=this.options,c=this.group,d=n.inputPosition,p=n.buttonPosition,g=n.y,y=p.y,b=d.y,j=0;if(n.height)return n.height;this.alignElements(),j=c?c.getBBox(!0).height+13+g:0;let P=Math.min(b,y);return(b<0&&y<0||b>0&&y>0)&&(j+=Math.abs(P)),j}titleCollision(n){return!(n.options.title.text||n.options.subtitle.text)}update(n,c=!0){let d=this.chart;if(yd(!0,this.options,n),this.options.selected&&this.options.selected>=this.options.buttons.length&&(this.options.selected=void 0,d.options.rangeSelector.selected=void 0),dc(n.enabled))return this.destroy(),this.init(d);this.isDirty=!!n.buttons,c&&this.render()}destroy(){let n=this,c=n.minInput,d=n.maxInput;n.eventsToUnbind&&(n.eventsToUnbind.forEach(p=>p()),n.eventsToUnbind=void 0),F7(n.buttons),c&&(c.onfocus=c.onblur=c.onchange=null),d&&(d.onfocus=d.onblur=d.onchange=null),W7(n,function(p,g){p&&g!=="chart"&&(p instanceof Gn?p.destroy():p instanceof window.HTMLElement&&B7(p),delete n[g]),p!==g0.prototype[g]&&(n[g]=null)},this),this.buttons=[]}}iI(g0.prototype,{inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}});let{format:V7}=Or,{getOptions:nI}=zi,{setFixedRange:$7}=An,{addEvent:fh,clamp:U7,crisp:aI,defined:J2,extend:G7,find:q7,isNumber:vd,isString:K7,merge:zm,pick:uc,splat:oI}=Me;function eS(T,n,c){return T==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0}:T==="yAxis"?{labels:{y:-2},opposite:c.opposite??n.opposite??!0,showLastLabel:!!(n.categories||n.type==="category"),title:{text:void 0}}:{}}function lI(T,n){var c;if(T==="xAxis"){let d=uc((c=n.navigator)==null?void 0:c.enabled,Bs.enabled,!0),p={type:"datetime",categories:void 0};return d&&(p.startOnTick=!1,p.endOnTick=!1),p}return{}}class tS extends Ku{init(n,c){var j,P;let d=nI(),p=n.xAxis,g=n.yAxis,y=uc((j=n.navigator)==null?void 0:j.enabled,Bs.enabled,!0);n.xAxis=n.yAxis=void 0;let b=zm({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x",mouseWheel:{type:"x"}}},navigator:{enabled:y},scrollbar:{enabled:uc(Jw.enabled,!0)},rangeSelector:{enabled:uc(Y2.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:uc((P=d.tooltip)==null?void 0:P.split,!0),crosshairs:!0},legend:{enabled:!1}},n,{isStock:!0});n.xAxis=p,n.yAxis=g,b.xAxis=oI(n.xAxis||{}).map(L=>zm(eS("xAxis",L,d.xAxis),L,lI("xAxis",n))),b.yAxis=oI(n.yAxis||{}).map(L=>zm(eS("yAxis",L,d.yAxis),L)),super.init(b,c)}createAxis(n,c){return c.axis=zm(eS(n,c.axis,nI()[n]),c.axis,lI(n,this.userOptions)),super.createAxis(n,c)}}fh(Ku,"update",function(T){let n=T.options;"scrollbar"in n&&this.navigator&&(zm(!0,this.options.scrollbar,n.scrollbar),this.navigator.update({enabled:!!this.navigator.navigatorEnabled}),delete n.scrollbar)}),function(T){function n(P){var Zt,Ys,us,ps;if(!((Ys=(Zt=this.crosshair)==null?void 0:Zt.label)!=null&&Ys.enabled&&this.cross&&vd(this.min)&&vd(this.max)))return;let L=this.chart,C=this.logarithmic,I=this.crosshair.label,D=this.horiz,B=this.opposite,q=this.left,Y=this.top,X=this.width,ie=this.options.tickPosition==="inside",ue=this.crosshair.snap!==!1,ye=P.e||((us=this.cross)==null?void 0:us.e),xe=P.point,be=this.crossLabel,je,Ne,ke=I.format,De="",Le,Ke=0,Ye=this.min,bt=this.max;C&&(Ye=C.lin2log(this.min),bt=C.lin2log(this.max));let et=D?"center":B?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center";!be&&(be=this.crossLabel=L.renderer.label("",0,void 0,I.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(xe!=null&&xe.series?xe.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:I.align||et,padding:uc(I.padding,8),r:uc(I.borderRadius,3),zIndex:2}).add(this.labelGroup),L.styledMode||be.attr({fill:I.backgroundColor||((ps=xe==null?void 0:xe.series)==null?void 0:ps.color)||"#666666",stroke:I.borderColor||"","stroke-width":I.borderWidth||0}).css(G7({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},I.style||{}))),D?(je=ue?(xe.plotX||0)+q:ye.chartX,Ne=Y+(B?0:this.height)):(je=q+this.offset+(B?X:0),Ne=ue?(xe.plotY||0)+Y:ye.chartY),ke||I.formatter||(this.dateTime&&(De="%b %d, %Y"),ke="{value"+(De?":"+De:"")+"}");let ut=ue?this.isXAxis?xe.x:xe.y:this.toValue(D?ye.chartX:ye.chartY),xt=xe!=null&&xe.series?xe.series.isPointInside(xe):vd(ut)&&ut>Ye&&ut<bt,kt="";ke?kt=V7(ke,{value:ut},L):I.formatter&&vd(ut)&&(kt=I.formatter.call(this,ut)),be.attr({text:kt,x:je,y:Ne,visibility:xt?"inherit":"hidden"});let Ct=be.getBBox();!vd(be.x)||D||B||(je=be.x-Ct.width/2),vd(be.y)&&(D?(ie&&!B||!ie&&B)&&(Ne=be.y-Ct.height):Ne=be.y-Ct.height/2),Le=D?{left:q,right:q+this.width}:{left:this.labelAlign==="left"?q:0,right:this.labelAlign==="right"?q+this.width:L.chartWidth};let It=be.translateX||0;It<Le.left&&(Ke=Le.left-It),It+Ct.width>=Le.right&&(Ke=-(It+Ct.width-Le.right)),be.attr({x:Math.max(0,je+Ke),y:Math.max(0,Ne),anchorX:D?je:this.opposite?0:L.chartWidth,anchorY:D?this.opposite?L.chartHeight:0:Ne+Ct.height/2})}function c(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}function d(P){let L=this.chart,C=this.options,I=L._labelPanes=L._labelPanes||{},D=C.labels;if(L.options.isStock&&this.coll==="yAxis"){let B=C.top+","+C.height;!I[B]&&D.enabled&&(D.distance===15&&this.side===1&&(D.distance=0),D.align===void 0&&(D.align="right"),I[B]=this,P.align="right",P.preventDefault())}}function p(){let P=this.chart,L=this.options&&this.options.top+","+this.options.height;L&&P._labelPanes&&P._labelPanes[L]===this&&delete P._labelPanes[L]}function g(P){let L=this,C=L.isLinked&&!L.series&&L.linkedParent?L.linkedParent.series:L.series,{chart:I,horiz:D}=L,B=I.renderer,q=[],{acrossPanes:Y=!0,force:X,translatedValue:ie,value:ue}=P,ye=(L.isXAxis?I.yAxis:I.xAxis)||[];function xe(ke,De,Le){q.push(["M",D?ke:De,D?De:ke],["L",D?ke:Le,D?Le:ke])}let be=[],je,Ne;if(I.options.isStock&&(L.coll==="xAxis"||L.coll==="yAxis")){for(let ke of(P.preventDefault(),be=(De=>{let Le=De==="xAxis"?"yAxis":"xAxis",Ke=L.options[Le];return Y&&!L.options.isInternal?ye.filter(Ye=>!Ye.options.isInternal):vd(Ke)?[I[Le][Ke]]:K7(Ke)?[I.get(Ke)]:C.map(Ye=>Ye[Le])})(L.coll),ye))if(!ke.options.isInternal){let De=ke.isXAxis?"yAxis":"xAxis";L===(J2(ke.options[De])&&I[De][ke.options[De]])&&be.push(ke)}for(let ke of(je=be.length?[]:[L.isXAxis?I.yAxis[0]:I.xAxis[0]],be))je.indexOf(ke)!==-1||q7(je,De=>De.pos===ke.pos&&De.len===ke.len)||je.push(ke);if(vd(Ne=uc(ie,L.translate(ue||0,void 0,void 0,P.old)))){let ke,De=D?Ne+L.pos:L.pos+L.len-Ne;if(X!=="pass"&&(De<L.pos||De>L.pos+L.len)&&(X?De=U7(De,L.pos,L.pos+L.len):ke=!0),!ke){let Le=D?"top":"left",Ke=D?"height":"width";if(!Y&&(L.options[Le]||L.options[Ke]))xe(De,L[Le],L[Le]+L[Ke]);else for(let Ye of je)xe(De,Ye.pos,Ye.pos+Ye.len)}}P.path=q.length>0?B.crispPolyLine(q,P.lineWidth||1):void 0}}function y(P){if(this.chart.options.isStock){let L;this.is("column")||this.is("columnrange")?L={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(L={marker:{enabled:!1,radius:2}}),L&&(P.plotOptions[this.type]=zm(P.plotOptions[this.type],L))}}function b(){let P=this.chart,L=this.options.dataGrouping;return this.allowDG!==!1&&L&&uc(L.enabled,P.options.isStock)}function j(P,L){for(let C=0;C<P.length;C+=2){let I=P[C],D=P[C+1];J2(I[1])&&I[1]===D[1]&&(I[1]=D[1]=aI(I[1],L)),J2(I[2])&&I[2]===D[2]&&(I[2]=D[2]=aI(I[2],L))}return P}T.compose=function(P,L,C,I){let D=C.prototype;D.forceCropping||(fh(L,"afterDrawCrosshair",n),fh(L,"afterHideCrosshair",c),fh(L,"autoLabelAlign",d),fh(L,"destroy",p),fh(L,"getPlotLinePath",g),P.prototype.setFixedRange=$7,D.forceCropping=b,fh(C,"setOptions",y),I.prototype.crispPolyLine=j)},T.stockChart=function(P,L,C){return new T(P,L,C)}}(tS||(tS={}));let cI=tS,{column:{prototype:{pointClass:Y7}}}=Es.seriesTypes,{column:dI}=Es.seriesTypes,{crisp:uI,extend:hI,merge:X7}=Me,{defaultOptions:Z7}=zi;class sS extends dI{extendStem(n,c,d){let p=n[0],g=n[1];typeof p[2]=="number"&&(p[2]=Math.max(d+c,p[2])),typeof g[2]=="number"&&(g[2]=Math.min(d-c,g[2]))}getPointPath(n,c){let d=c.strokeWidth(),p=n.series,g=uI(n.plotX||0,d),y=Math.round(n.shapeArgs.width/2),b=[["M",g,Math.round(n.yBottom)],["L",g,Math.round(n.plotHigh)]];if(n.close!==null){let j=uI(n.plotClose,d);b.push(["M",g,j],["L",g+y,j]),p.extendStem(b,d/2,j)}return b}drawSinglePoint(n){let c=n.series,d=c.chart,p,g=n.graphic;n.plotY!==void 0&&(g||(n.graphic=g=d.renderer.path().add(c.group)),d.styledMode||g.attr(c.pointAttribs(n,n.selected&&"select")),p=c.getPointPath(n,g),g[g?"animate":"attr"]({d:p}).addClass(n.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(n,c){let d=super.pointAttribs.call(this,n,c);return delete d.fill,d}toYData(n){return[n.high,n.low,n.close]}translate(){let n=this,c=n.yAxis,d=this.pointArrayMap&&this.pointArrayMap.slice()||[],p=d.map(g=>`plot${g.charAt(0).toUpperCase()+g.slice(1)}`);p.push("yBottom"),d.push("low"),super.translate.apply(n),n.points.forEach(function(g){d.forEach(function(y,b){let j=g[y];j!==null&&(n.dataModify&&(j=n.dataModify.modifyValue(j)),g[p[b]]=c.toPixels(j,!0))}),g.tooltipPos[1]=g.plotHigh+c.pos-n.chart.plotTop})}}sS.defaultOptions=X7(dI.defaultOptions,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>{series.chart.options.lang.stockHigh}: {point.high}<br/>{series.chart.options.lang.stockLow}: {point.low}<br/>{series.chart.options.lang.stockClose}: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}),hI(sS.prototype,{pointClass:class extends Y7{},animate:null,directTouch:!1,keysAffectYAxis:["low","high"],pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),hI(Z7.lang,{stockOpen:"Open",stockHigh:"High",stockLow:"Low",stockClose:"Close"}),Es.registerSeriesType("hlc",sS);let{seriesTypes:{hlc:Q7}}=Es;class J7 extends Q7.prototype.pointClass{getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.series.is("heikinashi")||this.resolveUpColor()}getZone(){let n=super.getZone();return this.resolveUpColor(),n}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}let{composed:eK}=ve,{hlc:pI}=Es.seriesTypes,{addEvent:mI,crisp:fI,extend:gI,merge:tK,pushUnique:sK}=Me;function iK(T){let n=T.options,c=n.dataGrouping;c&&n.useOhlcData&&n.id!=="highcharts-navigator-series"&&(c.approximation="ohlc")}function rK(T){let n=T.options;n.useOhlcData&&n.id!=="highcharts-navigator-series"&&gI(this,{pointValKey:gh.prototype.pointValKey,pointArrayMap:gh.prototype.pointArrayMap,toYData:gh.prototype.toYData})}class gh extends pI{static compose(n,...c){sK(eK,"OHLCSeries")&&(mI(n,"afterSetOptions",iK),mI(n,"init",rK))}getPointPath(n,c){let d=super.getPointPath(n,c),p=c.strokeWidth(),g=fI(n.plotX||0,p),y=Math.round(n.shapeArgs.width/2);if(n.open!==null){let b=fI(n.plotOpen,p);d.push(["M",g,b],["L",g-y,b]),super.extendStem(d,p/2,b)}return d}pointAttribs(n,c){let d=super.pointAttribs.call(this,n,c),p=this.options;return delete d.fill,!n.options.color&&p.upColor&&n.open<n.close&&(d.stroke=p.upColor),d}toYData(n){return[n.open,n.high,n.low,n.close]}}gh.defaultOptions=tK(pI.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>{series.chart.options.lang.stockOpen}: {point.open}<br/>{series.chart.options.lang.stockHigh}: {point.high}<br/>{series.chart.options.lang.stockLow}: {point.low}<br/>{series.chart.options.lang.stockClose}: {point.close}<br/>'}}),gI(gh.prototype,{pointClass:J7,pointArrayMap:["open","high","low","close"]}),Es.registerSeriesType("ohlc",gh);let{column:nK,ohlc:iS}=Es.seriesTypes,{crisp:rS,merge:aK}=Me;class xI extends iS{pointAttribs(n,c){let d=nK.prototype.pointAttribs.call(this,n,c),p=this.options,g=n.open<n.close,y=p.lineColor||this.color,b=n.color||this.color;if(d["stroke-width"]=p.lineWidth,d.fill=n.options.color||g&&p.upColor||b,d.stroke=n.options.lineColor||g&&p.upLineColor||y,c){let j=p.states[c];d.fill=j.color||d.fill,d.stroke=j.lineColor||d.stroke,d["stroke-width"]=j.lineWidth||d["stroke-width"]}return d}drawPoints(){let n=this.points,c=this.chart,d=this.yAxis.reversed;for(let p of n){let g=p.graphic,y,b,j,P,L,C,I,D,B,q=!g;if(p.plotY!==void 0){g||(p.graphic=g=c.renderer.path().add(this.group)),this.chart.styledMode||g.attr(this.pointAttribs(p,p.selected&&"select")).shadow(this.options.shadow);let Y=g.strokeWidth();I=rS(p.plotX||0,Y),j=Math.min(y=p.plotOpen,b=p.plotClose),P=Math.max(y,b),B=Math.round(p.shapeArgs.width/2),L=d?P!==p.yBottom:Math.round(j)!==Math.round(p.plotHigh||0),C=d?Math.round(j)!==Math.round(p.plotHigh||0):P!==p.yBottom,j=rS(j,Y),P=rS(P,Y),(D=[]).push(["M",I-B,P],["L",I-B,j],["L",I+B,j],["L",I+B,P],["Z"],["M",I,j],["L",I,L?Math.round(d?p.yBottom:p.plotHigh):j],["M",I,P],["L",I,C?Math.round(d?p.plotHigh:p.yBottom):P]),g[q?"attr":"animate"]({d:D}).addClass(p.getClassName(),!0)}}}}xI.defaultOptions=aK(iS.defaultOptions,{tooltip:iS.defaultOptions.tooltip},{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),Es.registerSeriesType("candlestick",xI);let{column:{prototype:{pointClass:oK}}}=Es.seriesTypes,{isNumber:lK}=Me,cK=class extends oK{constructor(){super(...arguments),this.ttBelow=!1}isValid(){return lK(this.y)||this.y===void 0}hasNewShapeType(){let T=this.options.shape||this.series.options.shape;return this.graphic&&T&&T!==this.graphic.symbolKey}};(function(T){let n=[];function c(p,g,y,b,j){let P=j&&j.anchorX||p,L=j&&j.anchorY||g,C=this.circle(P-1,L-1,2,2);return C.push(["M",P,L],["L",p,g+b],["L",p,g],["L",p+y,g],["L",p+y,g+b],["L",p,g+b],["Z"]),C}function d(p,g){p[g+"pin"]=function(y,b,j,P,L){let C,I=L&&L.anchorX,D=L&&L.anchorY;if(g==="circle"&&P>j&&(y-=Math.round((P-j)/2),j=P),C=p[g](y,b,j,P,L),I&&D){let B=I;if(g==="circle")B=y+j/2;else{let Y=C[0],X=C[1];Y[0]==="M"&&X[0]==="L"&&(B=(Y[1]+X[1])/2)}let q=b>D?b:b+P;C.push(["M",B,q],["L",I,D]),C=C.concat(p.circle(I-1,D-1,2,2))}return C}}T.compose=function(p){if(n.indexOf(p)===-1){n.push(p);let y=p.prototype.symbols;y.flag=c,d(y,"circle"),d(y,"square")}let g=$n.getRendererType();n.indexOf(g)&&n.push(g)}})(lt||(lt={}));let dK=lt,{composed:uK}=ve,{prototype:hK}=bo,{prototype:pK}=Kr,{defined:nS,pushUnique:mK,stableSort:fK}=Me;(function(T){function n(d){return pK.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,d)}function c(){var ke,De;hK.translate.apply(this);let d=this,p=d.options,g=d.chart,y=d.points,b=p.onSeries,j=b&&g.get(b),P=j&&j.options.step,L=j&&j.points,C=g.inverted,I=d.xAxis,D=d.yAxis,B=y.length-1,q,Y,X=p.onKey||"y",ie=L&&L.length,ue=0,ye,xe,be,je,Ne;if(j&&j.visible&&ie){for(ue=(j.pointXOffset||0)+(j.barW||0)/2,je=j.currentDataGrouping,xe=L[ie-1].x+(je?je.totalRange:0),fK(y,(Le,Ke)=>Le.x-Ke.x),X="plot"+X[0].toUpperCase()+X.substr(1);ie--&&y[B];)if(ye=L[ie],(q=y[B]).y=ye.y,ye.x<=q.x&&ye[X]!==void 0){if(q.x<=xe&&(q.plotY=ye[X],ye.x<q.x&&!P&&(be=L[ie+1]))&&be[X]!==void 0)if(nS(q.plotX)&&j.is("spline")){let Le=[ye.plotX||0,ye.plotY||0],Ke=[be.plotX||0,be.plotY||0],Ye=((ke=ye.controlPoints)==null?void 0:ke.high)||Le,bt=((De=be.controlPoints)==null?void 0:De.low)||Ke,et=(Ct,It)=>Math.pow(1-Ct,3)*Le[It]+3*(1-Ct)*(1-Ct)*Ct*Ye[It]+3*(1-Ct)*Ct*Ct*bt[It]+Ct*Ct*Ct*Ke[It],ut=0,xt=1,kt;for(let Ct=0;Ct<100;Ct++){let It=(ut+xt)/2,Zt=et(It,0);if(Zt===null)break;if(.25>Math.abs(Zt-q.plotX)){kt=It;break}Zt<q.plotX?ut=It:xt=It}nS(kt)&&(q.plotY=et(kt,1),q.y=D.toValue(q.plotY,!0))}else Ne=(q.x-ye.x)/(be.x-ye.x),q.plotY+=Ne*(be[X]-ye[X]),q.y+=Ne*(be.y-ye.y);if(B--,ie++,B<0)break}}y.forEach((Le,Ke)=>{let Ye;Le.plotX+=ue,(Le.plotY===void 0||C)&&(Le.plotX>=0&&Le.plotX<=I.len?C?(Le.plotY=I.translate(Le.x,0,1,0,1),Le.plotX=nS(Le.y)?D.translate(Le.y,0,0,0,1):0):Le.plotY=(I.opposite?0:d.yAxis.len)+I.offset:Le.shapeArgs={}),(Y=y[Ke-1])&&Y.plotX===Le.plotX&&(Y.stackIndex===void 0&&(Y.stackIndex=0),Ye=Y.stackIndex+1),Le.stackIndex=Ye}),this.onSeries=j}T.compose=function(d){if(mK(uK,"OnSeries")){let p=d.prototype;p.getPlotBox=n,p.translate=c}return d},T.getPlotBox=n,T.translate=c})(Qe||(Qe={}));let gK=Qe,{noop:xK}=ve,{distribute:yK}=Su,{series:yI,seriesTypes:{column:vI}}=Es,{addEvent:vK,defined:bK,extend:wK,isNumber:_K,merge:bI,objectEach:NK,wrap:jK}=Me;class Bm extends vI{animate(n){n&&this.setClip()}drawPoints(){let n,c,d,p,g,y,b,j,P,L,C,I=this.points,D=this.chart,B=D.renderer,q=D.inverted,Y=this.options,X=Y.y,ie=this.yAxis,ue={},ye=[],xe=_K(Y.borderRadius)?Y.borderRadius:0;for(p=I.length;p--;)g=I[p],L=(q?g.plotY:g.plotX)>this.xAxis.len,n=g.plotX,b=g.stackIndex,d=g.options.shape||Y.shape,(c=g.plotY)!==void 0&&(c=g.plotY+X-(b!==void 0&&b*Y.stackDistance)),g.anchorX=b?void 0:g.plotX,j=b?void 0:g.plotY,C=d!=="flag",y=g.graphic,c!==void 0&&n>=0&&!L?(y&&g.hasNewShapeType()&&(y=y.destroy()),y||(y=g.graphic=B.label("",0,void 0,d,void 0,void 0,Y.useHTML).addClass("highcharts-point").add(this.markerGroup),g.graphic.div&&(g.graphic.div.point=g),y.isNew=!0),y.attr({align:C?"center":"left",width:Y.width,height:Y.height,"text-align":Y.textAlign,r:xe}),D.styledMode||y.attr(this.pointAttribs(g)).css(bI(Y.style,g.style)).shadow(Y.shadow),n>0&&(n-=y.strokeWidth()%2),P={y:c,anchorY:j},Y.allowOverlapX&&(P.x=n,P.anchorX=g.anchorX),y.attr({text:g.options.title??Y.title??"A"})[y.isNew?"attr":"animate"](P),Y.allowOverlapX||(ue[g.plotX]?ue[g.plotX].size=Math.max(ue[g.plotX].size,y.width||0):ue[g.plotX]={align:.5*!!C,size:y.width||0,target:n,anchorX:n}),g.tooltipPos=[n,c+ie.pos-D.plotTop]):y&&(g.graphic=y.destroy());if(!Y.allowOverlapX){let be=100;for(let je of(NK(ue,function(Ne){Ne.plotX=Ne.anchorX,ye.push(Ne),be=Math.max(Ne.size,be)}),yK(ye,q?ie.len:this.xAxis.len,be),I)){let Ne=je.plotX,ke=je.graphic,De=ke&&ue[Ne];De&&ke&&(bK(De.pos)?ke[ke.isNew?"attr":"animate"]({x:De.pos+(De.align||0)*De.size,anchorX:je.anchorX}).show().isNew=!1:ke.hide().isNew=!0)}}Y.useHTML&&this.markerGroup&&jK(this.markerGroup,"on",function(be){return Gn.prototype.on.apply(be.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){let n=this.points;for(let c of(super.drawTracker(),n)){let d=c.graphic;d&&(c.unbindMouseOver&&c.unbindMouseOver(),c.unbindMouseOver=vK(d.element,"mouseover",function(){for(let p of(c.stackIndex>0&&!c.raised&&(c._y=d.y,d.attr({y:c._y-8}),c.raised=!0),n))p!==c&&p.raised&&p.graphic&&(p.graphic.attr({y:p._y}),p.raised=!1)}))}}pointAttribs(n,c){let d=this.options,p=n&&n.color||this.color,g=d.lineColor,y=n&&n.lineWidth,b=n&&n.fillColor||d.fillColor;return c&&(b=d.states[c].fillColor,g=d.states[c].lineColor,y=d.states[c].lineWidth),{fill:b||p,stroke:g||p,"stroke-width":y||d.lineWidth||0}}setClip(){yI.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}Bm.compose=dK.compose,Bm.defaultOptions=bI(vI.defaultOptions,{borderRadius:0,pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold"}}),gK.compose(Bm),wK(Bm.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:cK,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:xK,init:yI.prototype.init}),Es.registerSeriesType("flags",Bm);let{addEvent:Wm,find:kK,fireEvent:wI,isArray:SK,isNumber:an,pick:a1}=Me;(function(T){function n(){this.brokenAxis!==void 0&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function c(){var L;Object.keys(((L=this.options.breaks)==null?void 0:L[0])||{}).length&&(this.options.ordinal=!1)}function d(){let L=this.brokenAxis;if(L!=null&&L.hasBreaks){let C=this.tickPositions,I=this.tickPositions.info,D=[];for(let B=0;B<C.length;B++)L.isInAnyBreak(C[B])||D.push(C[B]);this.tickPositions=D,this.tickPositions.info=I}}function p(){this.brokenAxis||(this.brokenAxis=new P(this))}function g(){var q,Y;let{isDirty:L,options:{connectNulls:C},points:I,xAxis:D,yAxis:B}=this;if(L){let X=I.length;for(;X--;){let ie=I[X],ue=(ie.y!==null||C!==!1)&&(((q=D==null?void 0:D.brokenAxis)==null?void 0:q.isInAnyBreak(ie.x,!0))||((Y=B==null?void 0:B.brokenAxis)==null?void 0:Y.isInAnyBreak(ie.y,!0)));ie.visible=!ue&&ie.options.visible!==!1}}}function y(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,a1(this.pointArrayMap,["y"]))}function b(L,C){var X;let I,D,B,q=this,Y=q.points;if((X=L==null?void 0:L.brokenAxis)!=null&&X.hasBreaks){let ie=L.brokenAxis;C.forEach(function(ue){I=(ie==null?void 0:ie.breakArray)||[],D=L.isXAxis?L.min:a1(q.options.threshold,L.min),Y.forEach(function(ye){B=ye["stack"+ue.toUpperCase()]??ye[ue],I.forEach(function(xe){if(an(D)&&an(B)){let be="";D<xe.from&&B>xe.to||D>xe.from&&B<xe.from?be="pointBreak":(D<xe.from&&B>xe.from&&B<xe.to||D>xe.from&&B>xe.to&&B<xe.from)&&(be="pointInBreak"),be&&wI(L,be,{point:ye,brk:xe})}})})})}}function j(){let L=this.currentDataGrouping,C=L==null?void 0:L.gapSize,I=this.points.slice(),D=this.yAxis,B=this.options.gapSize,q=I.length-1;if(B&&q>0){let Y,X;for(this.options.gapUnit!=="value"&&(B*=this.basePointRange),C&&C>B&&C>=this.basePointRange&&(B=C);q--;)if(X&&X.visible!==!1||(X=I[q+1]),Y=I[q],X.visible!==!1&&Y.visible!==!1){if(X.x-Y.x>B){let ie=(Y.x+X.x)/2;I.splice(q+1,0,{isNull:!0,x:ie}),D.stacking&&this.options.stacking&&((D.stacking.stacks[this.stackKey][ie]=new Hx(D,D.options.stackLabels,!1,ie,this.stack)).total=0)}X=Y}}return this.getGraphPath(I)}T.compose=function(L,C){if(!L.keepProps.includes("brokenAxis")){L.keepProps.push("brokenAxis"),Wm(L,"init",p),Wm(L,"afterInit",n),Wm(L,"afterSetTickPositions",d),Wm(L,"afterSetOptions",c);let I=C.prototype;I.drawBreaks=b,I.gappedPath=j,Wm(C,"afterGeneratePoints",g),Wm(C,"afterRender",y)}return L};class P{static isInBreak(C,I){let D=C.repeat||1/0,B=C.from,q=C.to-C.from,Y=I>=B?(I-B)%D:D-(B-I)%D;return C.inclusive?Y<=q:Y<q&&Y!==0}static lin2Val(C){let I=this.min||0,D=this.brokenAxis,B=D==null?void 0:D.breakArray;if(!(B!=null&&B.length)||!an(C))return C;let q=C;if(C>I)for(let Y of B){if(Y.from>q)break;(Y.to<=q&&Y.to>I||P.isInBreak(Y,q))&&(q+=Y.len)}else if(C<I)for(let Y of B){if(Y.from>I)break;(Y.from>=q&&Y.from<I||P.isInBreak(Y,q))&&(q-=Y.len)}return q}static val2Lin(C){let I=this.min||0,D=this.brokenAxis,B=D==null?void 0:D.breakArray;if(!(B!=null&&B.length)||!an(C))return C;let q=C;if(C>I)for(let Y of B)if(Y.to<=C&&Y.to>I)q-=Y.len;else{if(Y.from>C)break;if(P.isInBreak(Y,C)){q-=C-Y.from;break}}else if(C<I)for(let Y of B)if(Y.from>=C&&Y.from<I)q+=Y.len;else{if(Y.from>I)break;if(P.isInBreak(Y,C)){q+=Y.to-C;break}}return q}constructor(C){this.axis=C}findBreakAt(C,I){return kK(I,function(D){return D.from<C&&C<D.to})}isInAnyBreak(C,I){let D=this.axis,B=D.options.breaks||[],q=B.length,Y,X,ie;if(q&&an(C)){for(;q--;)P.isInBreak(B[q],C)&&(Y=!0,X||(X=a1(B[q].showPoints,!D.isXAxis)));ie=Y&&I?Y&&!X:Y}return ie}setBreaks(C,I){let D=this,B=D.axis,q=B.chart.time,Y=SK(C)&&!!Object.keys((C==null?void 0:C[0])||{}).length;B.isDirty=(D.hasBreaks??!1)!==Y,D.hasBreaks=Y,C==null||C.forEach(X=>{X.from=q.parse(X.from)||0,X.to=q.parse(X.to)||0}),C!==B.options.breaks&&(B.options.breaks=B.userOptions.breaks=C),B.forceRedraw=!0,B.series.forEach(function(X){X.isDirty=!0}),Y||B.val2lin!==P.val2Lin||(delete B.val2lin,delete B.lin2val),Y&&(B.userOptions.ordinal=!1,B.lin2val=P.lin2Val,B.val2lin=P.val2Lin,B.setExtremes=function(X,ie,ue,ye,xe){var be;if(D.hasBreaks&&!((be=B.treeGrid)!=null&&be.tree)){let je,Ne=this.brokenAxis.breakArray||[];for(;je=D.findBreakAt(X,Ne);)X=je.to;for(;je=D.findBreakAt(ie,Ne);)ie=je.from;ie<X&&(ie=X)}B.constructor.prototype.setExtremes.call(this,X,ie,ue,ye,xe)},B.setAxisTranslation=function(){var X;if(B.constructor.prototype.setAxisTranslation.call(this),D.unitLength=void 0,D.hasBreaks){let ie=B.options.breaks||[],ue=[],ye=[],xe=B.pointRangePadding??0,be=0,je,Ne,ke=B.userMin??B.min,De=B.userMax??B.max,Le=B.dataMin??ke,Ke=B.dataMax??De,Ye,bt;an(B.threshold)&&(Le=Math.min(Le??B.threshold,B.threshold),Ke=Math.max(Ke??B.threshold,B.threshold)),(X=B.treeGrid)!=null&&X.tree||ie.forEach(function(et){Ne=et.repeat||1/0,an(ke)&&an(De)&&(P.isInBreak(et,ke)&&(ke+=et.to%Ne-ke%Ne),P.isInBreak(et,De)&&(De-=De%Ne-et.from%Ne))}),an(Le)&&an(Ke)&&ie.forEach(function(et){for(Ye=et.from,Ne=et.repeat||1/0;Ye-Ne>Le;)Ye-=Ne;for(;Ye<Le;)Ye+=Ne;for(bt=Ye;bt<Ke;bt+=Ne)ue.push({value:bt,move:"in"}),ue.push({value:bt+et.to-et.from,move:"out",size:et.breakSize})}),ue.sort(function(et,ut){return et.value===ut.value?(et.move!=="in")-(ut.move!=="in"):et.value-ut.value}),je=0,Ye=Le,ue.forEach(et=>{(je+=et.move==="in"?1:-1)===1&&et.move==="in"&&(Ye=et.value),je===0&&an(Ye)&&(ye.push({from:Ye,to:et.value,len:et.value-Ye-(et.size||0)}),an(ke)&&an(De)&&Ye<De&&et.value>ke&&(be+=et.value-Ye-(et.size||0)))}),D.breakArray=ye,an(ke)&&an(De)&&an(B.min)&&(D.unitLength=De-ke-be+xe,wI(B,"afterBreaks"),B.staticScale?B.transA=B.staticScale:D.unitLength&&(B.transA*=(De-B.min+xe)/D.unitLength),xe&&(B.minPixelPadding=B.transA*(B.minPointOffset||0)),B.min=ke,B.max=De)}}),a1(I,!0)&&B.chart.redraw()}}T.Additions=P})(wt||(wt={}));let AK=wt;ve.BrokenAxis=ve.BrokenAxis||AK,ve.BrokenAxis.compose(ve.Axis,ve.Series);let Zn={},{arrayMax:CK,arrayMin:TK,correctFloat:PK,extend:MK,isNumber:fl}=Me;function _I(T){let n=T.length,c=NI(T);return fl(c)&&n&&(c=PK(c/n)),c}function NI(T){let n=T.length,c;if(!n&&T.hasNulls)c=null;else if(n)for(c=0;n--;)c+=T[n];return c}let jI={average:_I,averages:function(){let T=[];return[].forEach.call(arguments,function(n){T.push(_I(n))}),T[0]===void 0?void 0:T},close:function(T){return T.length?T[T.length-1]:T.hasNulls?null:void 0},high:function(T){return T.length?CK(T):T.hasNulls?null:void 0},hlc:function(T,n,c){if(T=Zn.high(T),n=Zn.low(n),c=Zn.close(c),fl(T)||fl(n)||fl(c))return[T,n,c]},low:function(T){return T.length?TK(T):T.hasNulls?null:void 0},ohlc:function(T,n,c,d){if(T=Zn.open(T),n=Zn.high(n),c=Zn.low(c),d=Zn.close(d),fl(T)||fl(n)||fl(c)||fl(d))return[T,n,c,d]},open:function(T){return T.length?T[0]:T.hasNulls?null:void 0},range:function(T,n){return T=Zn.low(T),n=Zn.high(n),fl(T)||fl(n)?[T,n]:T===null&&n===null?null:void 0},sum:NI};MK(Zn,jI);let Hm={common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%[AebHMSL]","%[AebHMSL]","-%[HMSL]"],second:["%[AebHMS]","%[AebHMS]","-%[HMS]"],minute:["%[AebHM]","%[AebHM]","-%[HM]"],hour:["%[AebHM]","%[AebHM]","-%[HM]"],day:["%[AebY]","%[Aeb]","-%[AebY]"],week:["%v %[AebY]","%[Aeb]","-%[AebY]"],month:["%[BY]","%[B]","-%[BY]"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]},{addEvent:kI,extend:EK,merge:IK,pick:SI}=Me;function AI(T){let n=this,c=n.series;c.forEach(function(d){d.groupPixelWidth=void 0}),c.forEach(function(d){d.groupPixelWidth=n.getGroupPixelWidth&&n.getGroupPixelWidth(),d.groupPixelWidth&&(d.hasProcessed=!0),d.applyGrouping(!!T.hasExtremesChanged)})}function LK(){let T=this.series,n=T.length,c=0,d=!1,p,g;for(;n--;)(g=T[n].options.dataGrouping)&&(c=Math.max(c,SI(g.groupPixelWidth,Hm.common.groupPixelWidth)),p=(T[n].dataTable.modified||T[n].dataTable).rowCount,(T[n].groupPixelWidth||p>this.chart.plotSizeX/c||p&&g.forced)&&(d=!0));return d?c:0}function OK(){this.series.forEach(function(T){T.hasProcessed=!1})}function DK(T,n){let c;if(n=SI(n,!0),T||(T={forced:!1,units:null}),this instanceof u)for(c=this.series.length;c--;)this.series[c].update({dataGrouping:T},!1);else this.chart.options.series.forEach(function(d){d.dataGrouping=typeof T=="boolean"?T:IK(T,d.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),n&&this.chart.redraw()}let RK={compose:function(T){u=T;let n=T.prototype;n.applyGrouping||(kI(T,"afterSetScale",OK),kI(T,"postProcessData",AI),EK(n,{applyGrouping:AI,getGroupPixelWidth:LK,setDataGrouping:DK}))}},{series:{prototype:CI}}=Es,{addEvent:aS,defined:x0,error:TI,extend:FK,isNumber:wo,merge:oS,pick:zK,splat:BK}=Me,WK=CI.generatePoints;function HK(T){var n,c,d;let p,g,y=this.chart,b=this.options.dataGrouping,j=this.allowDG!==!1&&b&&zK(b.enabled,y.options.isStock),P=this.reserveSpace(),L=this.currentDataGrouping,C,I,D=!1;j&&!this.requireSorting&&(this.requireSorting=D=!0);let B=(n=this,c=T,!!(n.isCartesian&&!n.isDirty&&!n.xAxis.isDirty&&!n.yAxis.isDirty&&!c)||!j);if(D&&(this.requireSorting=!1),B)return;this.destroyGroupedData();let q=b.groupAll?this.dataTable:this.dataTable.modified||this.dataTable,Y=this.getColumn("x",!b.groupAll),X=y.plotSizeX,ie=this.xAxis,ue=ie.getExtremes(),ye=ie.options.ordinal,xe=this.groupPixelWidth;if(xe&&Y&&q.rowCount&&X&&wo(ue.min)){g=!0,this.isDirty=!0,this.points=null;let be=ue.min,je=ue.max,Ne=ye&&ie.ordinal&&ie.ordinal.getGroupIntervalFactor(be,je,this)||1,ke=xe*(je-be)/X*Ne,De=ie.getTimeTicks(fx.Additions.prototype.normalizeTimeTickInterval(ke,b.units||Hm.units),Math.min(be,Y[0]),Math.max(je,Y[Y.length-1]),ie.options.startOfWeek,Y,this.closestPointRange),Le=CI.groupData.apply(this,[q,De,b.approximation]),Ke=Le.modified,Ye=Ke.getColumn("x",!0),bt=0;for(b!=null&&b.smoothed&&Ke.rowCount&&(b.firstAnchor="firstPoint",b.anchor="middle",b.lastAnchor="lastPoint",TI(32,!1,y,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),p=1;p<De.length;p++)De.info.segmentStarts&&De.info.segmentStarts.indexOf(p)!==-1||(bt=Math.max(De[p]-De[p-1],bt));(C=De.info).gapSize=bt,this.closestPointRange=De.info.totalRange,this.groupMap=Le.groupMap,this.currentDataGrouping=C,function(et,ut,xt){let kt=et.options.dataGrouping,Ct=et.currentDataGrouping&&et.currentDataGrouping.gapSize,It=et.getColumn("x");if(!(kt&&It.length&&Ct&&et.groupMap))return;let Zt=ut.length-1,Ys=kt.anchor,us=kt.firstAnchor,ps=kt.lastAnchor,ls=ut.length-1,ss=0;if(us&&It[0]>=ut[0]){let Js;ss++;let Ws=et.groupMap[0].start,ti=et.groupMap[0].length;wo(Ws)&&wo(ti)&&(Js=Ws+(ti-1)),ut[0]={start:ut[0],middle:ut[0]+.5*Ct,end:ut[0]+Ct,firstPoint:It[0],lastPoint:Js&&It[Js]}[us]}if(Zt>0&&ps&&Ct&&ut[Zt]>=xt-Ct){ls--;let Js=et.groupMap[et.groupMap.length-1].start;ut[Zt]={start:ut[Zt],middle:ut[Zt]+.5*Ct,end:ut[Zt]+Ct,firstPoint:Js&&It[Js],lastPoint:It[It.length-1]}[ps]}if(Ys&&Ys!=="start"){let Js=Ct*{middle:.5,end:1}[Ys];for(;ls>=ss;)ut[ls]+=Js,ls--}}(this,Ye||[],je),P&&Ye&&(x0((d=Ye)[0])&&wo(ie.min)&&wo(ie.dataMin)&&d[0]<ie.min&&((!x0(ie.options.min)&&ie.min<=ie.dataMin||ie.min===ie.dataMin)&&(ie.min=Math.min(d[0],ie.min)),ie.dataMin=Math.min(d[0],ie.dataMin)),x0(d[d.length-1])&&wo(ie.max)&&wo(ie.dataMax)&&d[d.length-1]>ie.max&&((!x0(ie.options.max)&&wo(ie.dataMax)&&ie.max>=ie.dataMax||ie.max===ie.dataMax)&&(ie.max=Math.max(d[d.length-1],ie.max)),ie.dataMax=Math.max(d[d.length-1],ie.dataMax))),b.groupAll&&(this.allGroupedTable=Ke,Ye=(Ke=(I=this.cropData(Ke,ie.min||0,ie.max||0)).modified).getColumn("x"),this.cropStart=I.start),this.dataTable.modified=Ke}else this.groupMap=void 0,this.currentDataGrouping=void 0;this.hasGroupedData=g,this.preventGraphAnimation=(L&&L.totalRange)!==(C&&C.totalRange)}function PI(){this.groupedData&&(this.groupedData.forEach(function(T,n){T&&(this.groupedData[n]=T.destroy?T.destroy():null)},this),this.groupedData.length=0,delete this.allGroupedTable)}function VK(){WK.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function $K(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")||this.options.cumulative?"sum":"average"}function MI(T,n,c){let d=T.getColumn("x",!0)||[],p=T.getColumn("y",!0),g=this,y=g.data,b=g.options&&g.options.data,j=[],P=new Ql,L=[],C=T.rowCount,I=!!p,D=[],B=g.pointArrayMap,q=B&&B.length,Y=["x"].concat(B||["y"]),X=(B||["y"]).map(()=>[]),ie=this.options.dataGrouping&&this.options.dataGrouping.groupAll,ue,ye,xe,be=0,je=0,Ne=typeof c=="function"?c:c&&Zn[c]?Zn[c]:Zn[g.getDGApproximation&&g.getDGApproximation()||"average"];if(q){let Le=B.length;for(;Le--;)D.push([])}else D.push([]);let ke=q||1;for(let Le=0;Le<=C;Le++)if(!(d[Le]<n[0])){for(;n[be+1]!==void 0&&d[Le]>=n[be+1]||Le===C;){if(ue=n[be],g.dataGroupInfo={start:ie?je:g.cropStart+je,length:D[0].length,groupStart:ue},xe=Ne.apply(g,D),g.pointClass&&!x0(g.dataGroupInfo.options)&&(g.dataGroupInfo.options=oS(g.pointClass.prototype.optionsToObject.call({series:g},g.options.data[g.cropStart+je])),Y.forEach(function(Ke){delete g.dataGroupInfo.options[Ke]})),xe!==void 0){j.push(ue);let Ke=BK(xe);for(let Ye=0;Ye<Ke.length;Ye++)X[Ye].push(Ke[Ye]);L.push(g.dataGroupInfo)}je=Le;for(let Ke=0;Ke<ke;Ke++)D[Ke].length=0,D[Ke].hasNulls=!1;if(be+=1,Le===C)break}if(Le===C)break;if(B){let Ke,Ye=ie?Le:g.cropStart+Le,bt=y&&y[Ye]||g.pointClass.prototype.applyOptions.apply({series:g},[b[Ye]]);for(let et=0;et<q;et++)wo(Ke=bt[B[et]])?D[et].push(Ke):Ke===null&&(D[et].hasNulls=!0)}else wo(ye=I?p[Le]:null)?D[0].push(ye):ye===null&&(D[0].hasNulls=!0)}let De={x:j};return(B||["y"]).forEach((Le,Ke)=>{De[Le]=X[Ke]}),P.setColumns(De),{groupMap:L,modified:P}}function UK(T){let n=T.options,c=this.type,d=this.chart.options.plotOptions,p=this.useCommonDataGrouping&&Hm.common,g=Hm.seriesSpecific,y=zi.defaultOptions.plotOptions[c].dataGrouping;if(d&&(g[c]||p)){let b=this.chart.rangeSelector;y||(y=oS(Hm.common,g[c])),n.dataGrouping=oS(p,y,d.series&&d.series.dataGrouping,d[c].dataGrouping,this.userOptions.dataGrouping,!n.isInternal&&b&&wo(b.selected)&&b.buttonOptions[b.selected].dataGrouping)}}let EI={compose:function(T){let n=T.prototype;n.applyGrouping||(aS(T.prototype.pointClass,"update",function(){if(this.dataGroup)return TI(24,!1,this.series.chart),!1}),aS(T,"afterSetOptions",UK),aS(T,"destroy",PI),FK(n,{applyGrouping:HK,destroyGroupedData:PI,generatePoints:VK,getDGApproximation:$K,groupData:MI}))},groupData:MI},{format:GK}=Or,{composed:qK}=ve,{addEvent:KK,extend:YK,isNumber:XK,pick:ZK,pushUnique:QK}=Me;function JK(T){var Y;let n=this.chart,c=n.time,d=T.point,p=d.series,g=p.options,y=p.tooltipOptions,b=g.dataGrouping,j=p.xAxis,P=y.xDateFormat||"",L,C,I,D,B,q=y[T.isFooter?"footerFormat":"headerFormat"];if(j&&j.options.type==="datetime"&&b&&XK(d.key)){C=p.currentDataGrouping,I=b.dateTimeLabelFormats||Hm.common.dateTimeLabelFormats,C?(D=I[C.unitName],C.count===1?P=D[0]:(P=D[1],L=D[2])):!P&&I&&j.dateTime&&(P=j.dateTime.getXDateFormat(d.x,y.dateTimeLabelFormats));let X=ZK((Y=p.groupMap)==null?void 0:Y[d.index].groupStart,d.key),ie=X+((C==null?void 0:C.totalRange)||0)-1;B=c.dateFormat(P,X),L&&(B+=c.dateFormat(L,ie)),p.chart.styledMode&&(q=this.styledModeFormat(q)),T.text=GK(q,{point:YK(d,{key:B}),series:p},n),T.preventDefault()}}let eY={compose:function(T,n,c){RK.compose(T),EI.compose(n),c&&QK(qK,"DataGrouping")&&KK(c,"headerFormatter",JK)},groupData:EI.groupData};ve.dataGrouping=ve.dataGrouping||{},ve.dataGrouping.approximationDefaults=ve.dataGrouping.approximationDefaults||jI,ve.dataGrouping.approximations=ve.dataGrouping.approximations||Zn,eY.compose(ve.Axis,ve.Series,ve.Tooltip);let{defined:tY,isNumber:II,pick:sY}=Me,LI={backgroundColor:"string",borderColor:"string",borderRadius:"string",color:"string",fill:"string",fontSize:"string",labels:"string",name:"string",stroke:"string",title:"string"},{addEvent:OI,isObject:iY,pick:rY,defined:nY,merge:aY}=Me,{getAssignedAxis:DI}={annotationsFieldsTypes:LI,getAssignedAxis:function(T){return T.filter(n=>{let c=n.axis.getExtremes(),d=c.min,p=c.max,g=sY(n.axis.minPointOffset,0);return II(d)&&II(p)&&n.value>=d-g&&n.value<=p+g&&!n.axis.options.isInternal})[0]},getFieldType:function(T,n){let c=LI[T],d=typeof n;return tY(c)&&(d=c),{string:"text",number:"number",boolean:"checkbox"}[d]}},RI=[],oY={enabled:!0,sensitivity:1.1},lY=T=>(iY(T)||(T={enabled:T??!0}),aY(oY,T)),cY=function(T,n,c,d,p,g,y){let b=rY(y.type,T.zooming.type,""),j=[];b==="x"?j=c:b==="y"?j=d:b==="xy"&&(j=T.axes);let P=T.transform({axes:j,to:{x:p-5,y:g-5,width:10,height:10},from:{x:p-5*n,y:g-5*n,width:10*n,height:10*n},trigger:"mousewheel"});return P&&(nY(m)&&clearTimeout(m),m=setTimeout(()=>{var L;(L=T.pointer)==null||L.drop()},400)),P};function dY(){let T=lY(this.zooming.mouseWheel);T.enabled&&OI(this.container,"wheel",n=>{var p,g;n=((p=this.pointer)==null?void 0:p.normalize(n))||n;let{pointer:c}=this,d=c&&!c.inClass(n.target,"highcharts-no-mousewheel");if(this.isInsidePlot(n.chartX-this.plotLeft,n.chartY-this.plotTop)&&d){let y=T.sensitivity||1.1,b=n.detail||(n.deltaY||0)/120,j=DI(c.getCoordinates(n).xAxis),P=DI(c.getCoordinates(n).yAxis);cY(this,Math.pow(y,b),j?[j.axis]:this.xAxis,P?[P.axis]:this.yAxis,n.chartX,n.chartY,T)&&((g=n.preventDefault)==null||g.call(n))}})}ve.MouseWheelZoom=ve.MouseWheelZoom||{compose:function(T){RI.indexOf(T)===-1&&(RI.push(T),OI(T,"afterGetContainer",dY))}},ve.MouseWheelZoom.compose(ve.Chart),ve.Navigator=ve.Navigator||r1,ve.OrdinalAxis=ve.OrdinalAxis||K2,ve.RangeSelector=ve.RangeSelector||g0,ve.Scrollbar=ve.Scrollbar||hh,ve.stockChart=ve.stockChart||cI.stockChart,ve.StockChart=ve.StockChart||ve.stockChart,ve.extend(ve.StockChart,cI),ge.compose(ve.Series,ve.Axis,ve.Point),Bm.compose(ve.Renderer),gh.compose(ve.Series),ve.Navigator.compose(ve.Chart,ve.Axis,ve.Series),ve.OrdinalAxis.compose(ve.Axis,ve.Series,ve.Chart),ve.RangeSelector.compose(ve.Axis,ve.Chart),ve.Scrollbar.compose(ve.Axis),ve.StockChart.compose(ve.Chart,ve.Axis,ve.Series,ve.SVGRenderer),ve.product="Highstock";let uY=ve;return Tt.default})())})(nq);var aq=nq.exports;const Zge=dv(aq),Qge=QF({__proto__:null,default:Zge},[aq]);var oq={exports:{}};(function(e,t){(function(i,r){e.exports=r(V)})(typeof self<"u"?self:TT,function(i){return function(r){function a(u){if(o[u])return o[u].exports;var m=o[u]={i:u,l:!1,exports:{}};return r[u].call(m.exports,m,m.exports,a),m.l=!0,m.exports}var o={};return a.m=r,a.c=o,a.d=function(u,m,x){a.o(u,m)||Object.defineProperty(u,m,{configurable:!1,enumerable:!0,get:x})},a.n=function(u){var m=u&&u.__esModule?function(){return u.default}:function(){return u};return a.d(m,"a",m),m},a.o=function(u,m){return Object.prototype.hasOwnProperty.call(u,m)},a.p="",a(a.s=0)}([function(r,a,o){function u(){return u=Object.assign?Object.assign.bind():function(W){for(var Z=1;Z<arguments.length;Z++){var pe=arguments[Z];for(var me in pe)Object.prototype.hasOwnProperty.call(pe,me)&&(W[me]=pe[me])}return W},u.apply(this,arguments)}function m(W){return E(W)||A(W)||w(W)||x()}function x(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(W,Z){if(W){if(typeof W=="string")return O(W,Z);var pe=Object.prototype.toString.call(W).slice(8,-1);return pe==="Object"&&W.constructor&&(pe=W.constructor.name),pe==="Map"||pe==="Set"?Array.from(W):pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pe)?O(W,Z):void 0}}function A(W){if(typeof Symbol<"u"&&W[Symbol.iterator]!=null||W["@@iterator"]!=null)return Array.from(W)}function E(W){if(Array.isArray(W))return O(W)}function O(W,Z){(Z==null||Z>W.length)&&(Z=W.length);for(var pe=0,me=new Array(Z);pe<Z;pe++)me[pe]=W[pe];return me}function G(W){"@babel/helpers - typeof";return(G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(W)}Object.defineProperty(a,"__esModule",{value:!0}),o.d(a,"HighchartsReact",function(){return H});var te=o(1),Q=o.n(te),J=typeof window<"u"?te.useLayoutEffect:te.useEffect,H=Object(te.memo)(Object(te.forwardRef)(function(W,Z){var pe=Object(te.useRef)(),me=Object(te.useRef)(),we=Object(te.useRef)(W.constructorType),_e=Object(te.useRef)(W.highcharts);return J(function(){function de(){var We=W.highcharts||(typeof window>"u"?"undefined":G(window))==="object"&&window.Highcharts,tt=W.constructorType||"chart";We?We[tt]?W.options?me.current=We[tt](pe.current,W.options,W.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(me.current){if(W.allowChartUpdate!==!1)if(W.constructorType!==we.current||W.highcharts!==_e.current)we.current=W.constructorType,_e.current=W.highcharts,de();else if(!W.immutable&&me.current){var Ae;(Ae=me.current).update.apply(Ae,[W.options].concat(m(W.updateArgs||[!0,!0])))}else de()}else de()},[W.options,W.allowChartUpdate,W.updateArgs,W.containerProps,W.highcharts,W.constructorType]),J(function(){return function(){me.current&&(me.current.destroy(),me.current=null)}},[]),Object(te.useImperativeHandle)(Z,function(){return{get chart(){return me.current},container:pe}},[]),Q.a.createElement("div",u({},W.containerProps,{ref:pe}))}));a.default=H},function(r,a){r.exports=i}])})})(oq);var Jge=oq.exports;const bN=dv(Jge);function O4({symbol:e,onAssetSelect:t,isFullscreen:i=!1,refreshTrigger:r=0}){const a=V.useRef(null),[o,u]=V.useState("1d"),[m,x]=V.useState("candlestick"),[w,A]=V.useState(["volume"]),{data:E,isLoading:O}=yt({queryKey:["/api/market-data",e,"history",o],queryFn:()=>fetch(`/api/market-data/${e}/history?timeframe=${o}&limit=200`).then(H=>H.json()),enabled:!!e,refetchInterval:o==="1m"?3e4:o==="5m"?6e4:3e5});yt({queryKey:["/api/market/prices",e],queryFn:()=>fetch(`/api/market/prices?assetIds=${e}`).then(H=>H.json()),enabled:!!e,refetchInterval:5e3});const G=H=>{if(!H||!Array.isArray(H))return{ohlc:[],volume:[]};const W=H.map(pe=>[new Date(pe.timestamp).getTime(),parseFloat(pe.openPrice),parseFloat(pe.highPrice),parseFloat(pe.lowPrice),parseFloat(pe.closePrice)]),Z=H.map(pe=>[new Date(pe.timestamp).getTime(),parseInt(pe.volume||"0")]);return{ohlc:W,volume:Z}},te=()=>{const{ohlc:H,volume:W}=G(E||[]),Z=[{type:m,name:e,data:H,id:"ohlc",yAxis:0,tooltip:{valueDecimals:2}}];w.includes("volume")&&Z.push({type:"column",name:"Volume",data:W,yAxis:1,color:"rgba(64, 165, 120, 0.5)"}),w.includes("sma")&&Z.push({type:"sma",linkedTo:"ohlc",params:{period:20},color:"#1f77b4",name:"SMA (20)"}),w.includes("ema")&&Z.push({type:"ema",linkedTo:"ohlc",params:{period:21},color:"#ff7f0e",name:"EMA (21)"}),w.includes("rsi")&&Z.push({type:"rsi",linkedTo:"ohlc",yAxis:2,params:{period:14},color:"#d62728",name:"RSI (14)"}),w.includes("macd")&&Z.push({type:"macd",linkedTo:"ohlc",yAxis:3,params:{shortPeriod:12,longPeriod:26,signalPeriod:9},name:"MACD"}),w.includes("bb")&&Z.push({type:"bb",linkedTo:"ohlc",params:{period:20,standardDeviation:2},color:"#9467bd",name:"Bollinger Bands"});const pe=[{height:"60%",lineWidth:2,resize:{enabled:!0}},{top:"60%",height:"20%",offset:0,lineWidth:2}];return w.includes("rsi")&&pe.push({top:"80%",height:"20%",offset:0,lineWidth:2,min:0,max:100,plotLines:[{value:70,color:"red",dashStyle:"shortdash",width:1},{value:30,color:"green",dashStyle:"shortdash",width:1}]}),w.includes("macd")&&pe.push({top:"80%",height:"20%",offset:0,lineWidth:2}),{chart:{backgroundColor:"transparent",height:i?"100%":400},title:{text:null},rangeSelector:{selected:1,buttons:[{type:"minute",count:15,text:"15m"},{type:"minute",count:60,text:"1h"},{type:"day",count:1,text:"1d"},{type:"week",count:1,text:"1w"},{type:"month",count:1,text:"1m"},{type:"all",text:"All"}]},yAxis:pe,series:Z,legend:{enabled:!0},tooltip:{split:!0},plotOptions:{candlestick:{color:"#ef4444",upColor:"#22c55e"},series:{dataGrouping:{enabled:!1}}},navigator:{enabled:!i},scrollbar:{enabled:!i},credits:{enabled:!1}}},Q=H=>{A(W=>W.includes(H)?W.filter(Z=>Z!==H):[...W,H])},J=[{value:"1m",label:"1M"},{value:"5m",label:"5M"},{value:"15m",label:"15M"},{value:"1h",label:"1H"},{value:"4h",label:"4H"},{value:"1d",label:"1D"},{value:"1w",label:"1W"}];return s.jsxs("div",{className:"h-full flex flex-col","data-testid":"advanced-trading-chart",children:[s.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center gap-1",children:J.map(H=>s.jsx(rt,{variant:o===H.value?"default":"ghost",size:"sm",onClick:()=>u(H.value),"data-testid":`button-timeframe-${H.value}`,children:H.label},H.value))}),s.jsxs("div",{className:"flex items-center gap-1 ml-4",children:[s.jsx(rt,{variant:m==="candlestick"?"default":"ghost",size:"sm",onClick:()=>x("candlestick"),"data-testid":"button-chart-candlestick",children:s.jsx(xu,{className:"h-4 w-4"})}),s.jsx(rt,{variant:m==="line"?"default":"ghost",size:"sm",onClick:()=>x("line"),"data-testid":"button-chart-line",children:s.jsx(Ta,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"flex items-center gap-1",children:["volume","sma","ema","rsi","macd","bb"].map(H=>s.jsx(rt,{variant:w.includes(H)?"default":"ghost",size:"sm",onClick:()=>Q(H),"data-testid":`button-indicator-${H}`,children:H.toUpperCase()},H))})]}),s.jsx("div",{className:"flex-1",children:O?s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading chart data..."})]})}):s.jsx(bN,{highcharts:Qge,constructorType:"stockChart",options:te(),ref:a})})]})}function exe(e,t){return V.useReducer((i,r)=>t[i][r]??i,e)}var NE="ScrollArea",[lq,Wye]=Bn(NE),[txe,co]=lq(NE),cq=V.forwardRef((e,t)=>{const{__scopeScrollArea:i,type:r="hover",dir:a,scrollHideDelay:o=600,...u}=e,[m,x]=V.useState(null),[w,A]=V.useState(null),[E,O]=V.useState(null),[G,te]=V.useState(null),[Q,J]=V.useState(null),[H,W]=V.useState(0),[Z,pe]=V.useState(0),[me,we]=V.useState(!1),[_e,de]=V.useState(!1),Ae=Os(t,tt=>x(tt)),We=Cg(a);return s.jsx(txe,{scope:i,type:r,dir:We,scrollHideDelay:o,scrollArea:m,viewport:w,onViewportChange:A,content:E,onContentChange:O,scrollbarX:G,onScrollbarXChange:te,scrollbarXEnabled:me,onScrollbarXEnabledChange:we,scrollbarY:Q,onScrollbarYChange:J,scrollbarYEnabled:_e,onScrollbarYEnabledChange:de,onCornerWidthChange:W,onCornerHeightChange:pe,children:s.jsx(as.div,{dir:We,...u,ref:Ae,style:{position:"relative","--radix-scroll-area-corner-width":H+"px","--radix-scroll-area-corner-height":Z+"px",...e.style}})})});cq.displayName=NE;var dq="ScrollAreaViewport",uq=V.forwardRef((e,t)=>{const{__scopeScrollArea:i,children:r,nonce:a,...o}=e,u=co(dq,i),m=V.useRef(null),x=Os(t,m,u.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(as.div,{"data-radix-scroll-area-viewport":"",...o,ref:x,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});uq.displayName=dq;var Bl="ScrollAreaScrollbar",jE=V.forwardRef((e,t)=>{const{forceMount:i,...r}=e,a=co(Bl,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:u}=a,m=e.orientation==="horizontal";return V.useEffect(()=>(m?o(!0):u(!0),()=>{m?o(!1):u(!1)}),[m,o,u]),a.type==="hover"?s.jsx(sxe,{...r,ref:t,forceMount:i}):a.type==="scroll"?s.jsx(ixe,{...r,ref:t,forceMount:i}):a.type==="auto"?s.jsx(hq,{...r,ref:t,forceMount:i}):a.type==="always"?s.jsx(kE,{...r,ref:t}):null});jE.displayName=Bl;var sxe=V.forwardRef((e,t)=>{const{forceMount:i,...r}=e,a=co(Bl,e.__scopeScrollArea),[o,u]=V.useState(!1);return V.useEffect(()=>{const m=a.scrollArea;let x=0;if(m){const w=()=>{window.clearTimeout(x),u(!0)},A=()=>{x=window.setTimeout(()=>u(!1),a.scrollHideDelay)};return m.addEventListener("pointerenter",w),m.addEventListener("pointerleave",A),()=>{window.clearTimeout(x),m.removeEventListener("pointerenter",w),m.removeEventListener("pointerleave",A)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(vn,{present:i||o,children:s.jsx(hq,{"data-state":o?"visible":"hidden",...r,ref:t})})}),ixe=V.forwardRef((e,t)=>{const{forceMount:i,...r}=e,a=co(Bl,e.__scopeScrollArea),o=e.orientation==="horizontal",u=Nj(()=>x("SCROLL_END"),100),[m,x]=exe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return V.useEffect(()=>{if(m==="idle"){const w=window.setTimeout(()=>x("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(w)}},[m,a.scrollHideDelay,x]),V.useEffect(()=>{const w=a.viewport,A=o?"scrollLeft":"scrollTop";if(w){let E=w[A];const O=()=>{const G=w[A];E!==G&&(x("SCROLL"),u()),E=G};return w.addEventListener("scroll",O),()=>w.removeEventListener("scroll",O)}},[a.viewport,o,x,u]),s.jsx(vn,{present:i||m!=="hidden",children:s.jsx(kE,{"data-state":m==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Mt(e.onPointerEnter,()=>x("POINTER_ENTER")),onPointerLeave:Mt(e.onPointerLeave,()=>x("POINTER_LEAVE"))})})}),hq=V.forwardRef((e,t)=>{const i=co(Bl,e.__scopeScrollArea),{forceMount:r,...a}=e,[o,u]=V.useState(!1),m=e.orientation==="horizontal",x=Nj(()=>{if(i.viewport){const w=i.viewport.offsetWidth<i.viewport.scrollWidth,A=i.viewport.offsetHeight<i.viewport.scrollHeight;u(m?w:A)}},10);return xg(i.viewport,x),xg(i.content,x),s.jsx(vn,{present:r||o,children:s.jsx(kE,{"data-state":o?"visible":"hidden",...a,ref:t})})}),kE=V.forwardRef((e,t)=>{const{orientation:i="vertical",...r}=e,a=co(Bl,e.__scopeScrollArea),o=V.useRef(null),u=V.useRef(0),[m,x]=V.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),w=xq(m.viewport,m.content),A={...r,sizes:m,onSizesChange:x,hasThumb:w>0&&w<1,onThumbChange:O=>o.current=O,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:O=>u.current=O};function E(O,G){return cxe(O,u.current,m,G)}return i==="horizontal"?s.jsx(rxe,{...A,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const O=a.viewport.scrollLeft,G=D4(O,m,a.dir);o.current.style.transform=`translate3d(${G}px, 0, 0)`}},onWheelScroll:O=>{a.viewport&&(a.viewport.scrollLeft=O)},onDragScroll:O=>{a.viewport&&(a.viewport.scrollLeft=E(O,a.dir))}}):i==="vertical"?s.jsx(nxe,{...A,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const O=a.viewport.scrollTop,G=D4(O,m);o.current.style.transform=`translate3d(0, ${G}px, 0)`}},onWheelScroll:O=>{a.viewport&&(a.viewport.scrollTop=O)},onDragScroll:O=>{a.viewport&&(a.viewport.scrollTop=E(O))}}):null}),rxe=V.forwardRef((e,t)=>{const{sizes:i,onSizesChange:r,...a}=e,o=co(Bl,e.__scopeScrollArea),[u,m]=V.useState(),x=V.useRef(null),w=Os(t,x,o.onScrollbarXChange);return V.useEffect(()=>{x.current&&m(getComputedStyle(x.current))},[x]),s.jsx(mq,{"data-orientation":"horizontal",...a,ref:w,sizes:i,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":_j(i)+"px",...e.style},onThumbPointerDown:A=>e.onThumbPointerDown(A.x),onDragScroll:A=>e.onDragScroll(A.x),onWheelScroll:(A,E)=>{if(o.viewport){const O=o.viewport.scrollLeft+A.deltaX;e.onWheelScroll(O),vq(O,E)&&A.preventDefault()}},onResize:()=>{x.current&&o.viewport&&u&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:x.current.clientWidth,paddingStart:_N(u.paddingLeft),paddingEnd:_N(u.paddingRight)}})}})}),nxe=V.forwardRef((e,t)=>{const{sizes:i,onSizesChange:r,...a}=e,o=co(Bl,e.__scopeScrollArea),[u,m]=V.useState(),x=V.useRef(null),w=Os(t,x,o.onScrollbarYChange);return V.useEffect(()=>{x.current&&m(getComputedStyle(x.current))},[x]),s.jsx(mq,{"data-orientation":"vertical",...a,ref:w,sizes:i,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":_j(i)+"px",...e.style},onThumbPointerDown:A=>e.onThumbPointerDown(A.y),onDragScroll:A=>e.onDragScroll(A.y),onWheelScroll:(A,E)=>{if(o.viewport){const O=o.viewport.scrollTop+A.deltaY;e.onWheelScroll(O),vq(O,E)&&A.preventDefault()}},onResize:()=>{x.current&&o.viewport&&u&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:x.current.clientHeight,paddingStart:_N(u.paddingTop),paddingEnd:_N(u.paddingBottom)}})}})}),[axe,pq]=lq(Bl),mq=V.forwardRef((e,t)=>{const{__scopeScrollArea:i,sizes:r,hasThumb:a,onThumbChange:o,onThumbPointerUp:u,onThumbPointerDown:m,onThumbPositionChange:x,onDragScroll:w,onWheelScroll:A,onResize:E,...O}=e,G=co(Bl,i),[te,Q]=V.useState(null),J=Os(t,Ae=>Q(Ae)),H=V.useRef(null),W=V.useRef(""),Z=G.viewport,pe=r.content-r.viewport,me=Ri(A),we=Ri(x),_e=Nj(E,10);function de(Ae){if(H.current){const We=Ae.clientX-H.current.left,tt=Ae.clientY-H.current.top;w({x:We,y:tt})}}return V.useEffect(()=>{const Ae=We=>{const tt=We.target;(te==null?void 0:te.contains(tt))&&me(We,pe)};return document.addEventListener("wheel",Ae,{passive:!1}),()=>document.removeEventListener("wheel",Ae,{passive:!1})},[Z,te,pe,me]),V.useEffect(we,[r,we]),xg(te,_e),xg(G.content,_e),s.jsx(axe,{scope:i,scrollbar:te,hasThumb:a,onThumbChange:Ri(o),onThumbPointerUp:Ri(u),onThumbPositionChange:we,onThumbPointerDown:Ri(m),children:s.jsx(as.div,{...O,ref:J,style:{position:"absolute",...O.style},onPointerDown:Mt(e.onPointerDown,Ae=>{Ae.button===0&&(Ae.target.setPointerCapture(Ae.pointerId),H.current=te.getBoundingClientRect(),W.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",G.viewport&&(G.viewport.style.scrollBehavior="auto"),de(Ae))}),onPointerMove:Mt(e.onPointerMove,de),onPointerUp:Mt(e.onPointerUp,Ae=>{const We=Ae.target;We.hasPointerCapture(Ae.pointerId)&&We.releasePointerCapture(Ae.pointerId),document.body.style.webkitUserSelect=W.current,G.viewport&&(G.viewport.style.scrollBehavior=""),H.current=null})})})}),wN="ScrollAreaThumb",fq=V.forwardRef((e,t)=>{const{forceMount:i,...r}=e,a=pq(wN,e.__scopeScrollArea);return s.jsx(vn,{present:i||a.hasThumb,children:s.jsx(oxe,{ref:t,...r})})}),oxe=V.forwardRef((e,t)=>{const{__scopeScrollArea:i,style:r,...a}=e,o=co(wN,i),u=pq(wN,i),{onThumbPositionChange:m}=u,x=Os(t,E=>u.onThumbChange(E)),w=V.useRef(void 0),A=Nj(()=>{w.current&&(w.current(),w.current=void 0)},100);return V.useEffect(()=>{const E=o.viewport;if(E){const O=()=>{if(A(),!w.current){const G=dxe(E,m);w.current=G,m()}};return m(),E.addEventListener("scroll",O),()=>E.removeEventListener("scroll",O)}},[o.viewport,A,m]),s.jsx(as.div,{"data-state":u.hasThumb?"visible":"hidden",...a,ref:x,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Mt(e.onPointerDownCapture,E=>{const G=E.target.getBoundingClientRect(),te=E.clientX-G.left,Q=E.clientY-G.top;u.onThumbPointerDown({x:te,y:Q})}),onPointerUp:Mt(e.onPointerUp,u.onThumbPointerUp)})});fq.displayName=wN;var SE="ScrollAreaCorner",gq=V.forwardRef((e,t)=>{const i=co(SE,e.__scopeScrollArea),r=!!(i.scrollbarX&&i.scrollbarY);return i.type!=="scroll"&&r?s.jsx(lxe,{...e,ref:t}):null});gq.displayName=SE;var lxe=V.forwardRef((e,t)=>{const{__scopeScrollArea:i,...r}=e,a=co(SE,i),[o,u]=V.useState(0),[m,x]=V.useState(0),w=!!(o&&m);return xg(a.scrollbarX,()=>{var E;const A=((E=a.scrollbarX)==null?void 0:E.offsetHeight)||0;a.onCornerHeightChange(A),x(A)}),xg(a.scrollbarY,()=>{var E;const A=((E=a.scrollbarY)==null?void 0:E.offsetWidth)||0;a.onCornerWidthChange(A),u(A)}),w?s.jsx(as.div,{...r,ref:t,style:{width:o,height:m,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function _N(e){return e?parseInt(e,10):0}function xq(e,t){const i=e/t;return isNaN(i)?0:i}function _j(e){const t=xq(e.viewport,e.content),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-i)*t;return Math.max(r,18)}function cxe(e,t,i,r="ltr"){const a=_j(i),o=a/2,u=t||o,m=a-u,x=i.scrollbar.paddingStart+u,w=i.scrollbar.size-i.scrollbar.paddingEnd-m,A=i.content-i.viewport,E=r==="ltr"?[0,A]:[A*-1,0];return yq([x,w],E)(e)}function D4(e,t,i="ltr"){const r=_j(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,u=t.content-t.viewport,m=o-r,x=i==="ltr"?[0,u]:[u*-1,0],w=mT(e,x);return yq([0,u],[0,m])(w)}function yq(e,t){return i=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(i-e[0])}}function vq(e,t){return e>0&&e<t}var dxe=(e,t=()=>{})=>{let i={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},u=i.left!==o.left,m=i.top!==o.top;(u||m)&&t(),i=o,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function Nj(e,t){const i=Ri(e),r=V.useRef(0);return V.useEffect(()=>()=>window.clearTimeout(r.current),[]),V.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(i,t)},[i,t])}function xg(e,t){const i=Ri(t);br(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(i)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,i])}var bq=cq,uxe=uq,hxe=gq;const Lo=V.forwardRef(({className:e,children:t,...i},r)=>s.jsxs(bq,{ref:r,className:Ot("relative overflow-hidden",e),...i,children:[s.jsx(uxe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(wq,{}),s.jsx(hxe,{})]}));Lo.displayName=bq.displayName;const wq=V.forwardRef(({className:e,orientation:t="vertical",...i},r)=>s.jsx(jE,{ref:r,orientation:t,className:Ot("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...i,children:s.jsx(fq,{className:"relative flex-1 rounded-full bg-border"})}));wq.displayName=jE.displayName;function pxe({symbol:e,refreshTrigger:t=0}){var J,H,W;const[i,r]=V.useState(null),{data:a,isLoading:o}=yt({queryKey:["/api/market/prices",e,t],queryFn:()=>fetch(`/api/market/prices?assetIds=${e}`).then(Z=>Z.json()),enabled:!!e,refetchInterval:2e3}),u=()=>{var _e;if(!((_e=a==null?void 0:a.data)!=null&&_e[0]))return{bids:[],asks:[]};const Z=parseFloat(a.data[0].currentPrice),pe=Z*.002,me=[],we=[];for(let de=0;de<10;de++){const Ae=Z-pe/2-de*Z*.001,We=Math.floor(Math.random()*1e3)+100;me.push({price:Ae,quantity:We,total:Ae*We,side:"bid"})}for(let de=0;de<10;de++){const Ae=Z+pe/2+de*Z*.001,We=Math.floor(Math.random()*1e3)+100;we.push({price:Ae,quantity:We,total:Ae*We,side:"ask"})}return{bids:me,asks:we}},{bids:m,asks:x}=u(),w=Z=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(Z),A=Z=>new Intl.NumberFormat("en-US").format(Z),E=(J=a==null?void 0:a.data)!=null&&J[0]?parseFloat(a.data[0].currentPrice):0,O=((H=m[0])==null?void 0:H.price)||0,te=(((W=x[0])==null?void 0:W.price)||0)-O,Q=E>0?te/E*100:0;return o?s.jsx("div",{className:"h-64 flex items-center justify-center","data-testid":"order-book-loading",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading order book..."})]})}):s.jsxs("div",{className:"space-y-4","data-testid":"order-book-component",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Spread:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:w(te)}),s.jsxs(st,{variant:"outline",className:"text-xs",children:[Q.toFixed(3),"%"]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 text-xs font-medium text-muted-foreground border-b pb-2",children:[s.jsx("span",{children:"Price"}),s.jsx("span",{className:"text-right",children:"Size"}),s.jsx("span",{className:"text-right",children:"Total"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ns,{className:"h-4 w-4 text-red-500"}),s.jsx("span",{className:"text-sm font-medium text-red-500",children:"Ask"})]}),s.jsx(Lo,{className:"h-32",children:s.jsx("div",{className:"space-y-1",children:x.slice().reverse().map((Z,pe)=>s.jsxs("div",{className:`grid grid-cols-3 text-xs hover:bg-red-500/10 p-1 rounded cursor-pointer transition-colors ${i===Z.price?"bg-red-500/20":""}`,onClick:()=>r(Z.price),"data-testid":`order-book-ask-${pe}`,children:[s.jsx("span",{className:"text-red-500 font-medium",children:w(Z.price)}),s.jsx("span",{className:"text-right",children:A(Z.quantity)}),s.jsx("span",{className:"text-right text-muted-foreground",children:w(Z.total)})]},`ask-${pe}`))})})]}),E>0&&s.jsx("div",{className:"py-2 border-y bg-muted/30","data-testid":"current-price",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold",children:w(E)}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Last Price"})]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(vi,{className:"h-4 w-4 text-emerald-500"}),s.jsx("span",{className:"text-sm font-medium text-emerald-500",children:"Bid"})]}),s.jsx(Lo,{className:"h-32",children:s.jsx("div",{className:"space-y-1",children:m.map((Z,pe)=>s.jsxs("div",{className:`grid grid-cols-3 text-xs hover:bg-emerald-500/10 p-1 rounded cursor-pointer transition-colors ${i===Z.price?"bg-emerald-500/20":""}`,onClick:()=>r(Z.price),"data-testid":`order-book-bid-${pe}`,children:[s.jsx("span",{className:"text-emerald-500 font-medium",children:w(Z.price)}),s.jsx("span",{className:"text-right",children:A(Z.quantity)}),s.jsx("span",{className:"text-right text-muted-foreground",children:w(Z.total)})]},`bid-${pe}`))})})]})]}),i&&s.jsxs("div",{className:"pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Selected:"}),s.jsx("span",{className:"font-medium",children:w(i)})]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs(rt,{size:"sm",className:"flex-1 bg-emerald-500 hover:bg-emerald-600","data-testid":"button-buy-at-selected",children:["Buy at ",w(i)]}),s.jsxs(rt,{size:"sm",variant:"outline",className:"flex-1 text-red-500 border-red-500 hover:bg-red-500/10","data-testid":"button-sell-at-selected",children:["Sell at ",w(i)]})]})]})]})}function mxe({onAssetSelect:e,refreshTrigger:t=0}){const[i,r]=V.useState(["SPIDER","BATMAN","XMEN","AVENG","WOLVR"]),{data:a,isLoading:o}=yt({queryKey:["/api/assets","limit-50"],queryFn:()=>fetch("/api/assets?limit=50").then(Z=>Z.json())}),{data:u,isLoading:m}=yt({queryKey:["/api/market/prices","all",t],queryFn:()=>{var pe;const Z=(pe=a==null?void 0:a.slice(0,20))==null?void 0:pe.map(me=>me.id).join(",");return fetch(`/api/market/prices?assetIds=${Z}`).then(me=>me.json())},enabled:!!a,refetchInterval:1e4}),w=!a||!(u!=null&&u.data)?[]:a.map(Z=>{const pe=u.data.find(me=>me.assetId===Z.id);return{assetId:Z.id,symbol:Z.symbol,name:Z.name,type:Z.type,currentPrice:(pe==null?void 0:pe.currentPrice)||"0",dayChange:(pe==null?void 0:pe.dayChange)||"0",dayChangePercent:(pe==null?void 0:pe.dayChangePercent)||"0",volume:(pe==null?void 0:pe.volume)||0}}),A=()=>w.filter(Z=>parseFloat(Z.dayChangePercent)>0).sort((Z,pe)=>parseFloat(pe.dayChangePercent)-parseFloat(Z.dayChangePercent)).slice(0,10),E=()=>w.filter(Z=>parseFloat(Z.dayChangePercent)<0).sort((Z,pe)=>parseFloat(Z.dayChangePercent)-parseFloat(pe.dayChangePercent)).slice(0,10),O=()=>w.sort((Z,pe)=>pe.volume-Z.volume).slice(0,10),G=()=>w.filter(Z=>i.includes(Z.symbol)),te=()=>{const Z=w.reduce((pe,me)=>{const we=me.type;return pe[we]||(pe[we]={name:we,assets:[],avgChange:0,totalVolume:0}),pe[we].assets.push(me),pe[we].totalVolume+=me.volume,pe},{});return Object.values(Z).map(pe=>{const me=pe.assets.reduce((we,_e)=>we+parseFloat(_e.dayChangePercent),0)/pe.assets.length;return{...pe,avgChange:me}})},Q=Z=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(Z)),J=Z=>Z>=1e6?(Z/1e6).toFixed(1)+"M":Z>=1e3?(Z/1e3).toFixed(1)+"K":Z.toString(),H=Z=>{r(pe=>pe.includes(Z)?pe.filter(me=>me!==Z):[...pe,Z])},W=(Z,pe=!1)=>{const me=parseFloat(Z.dayChangePercent),we=me>=0;return s.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-muted/50 rounded cursor-pointer transition-colors",onClick:()=>e(Z.assetId),"data-testid":`market-watch-asset-${Z.symbol}`,children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[pe&&s.jsx(rt,{variant:"ghost",size:"sm",onClick:_e=>{_e.stopPropagation(),H(Z.symbol)},className:"p-1","data-testid":`button-watchlist-${Z.symbol}`,children:i.includes(Z.symbol)?s.jsx(Us,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}):s.jsx(Us,{className:"h-3 w-3"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium text-sm",children:Z.symbol}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:Z.name})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-right",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:Q(Z.currentPrice)}),s.jsxs("div",{className:`text-xs ${we?"text-emerald-500":"text-red-500"}`,children:[we?"+":"",me.toFixed(2),"%"]})]}),s.jsx("div",{className:"text-xs text-muted-foreground min-w-12 text-right",children:J(Z.volume)}),s.jsx("div",{className:"flex items-center",children:we?s.jsx(ns,{className:"h-4 w-4 text-emerald-500"}):s.jsx(vi,{className:"h-4 w-4 text-red-500"})})]})]},Z.assetId)};return o||m?s.jsx("div",{className:"h-64 flex items-center justify-center","data-testid":"market-watch-loading",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading market data..."})]})}):s.jsxs("div",{className:"h-full","data-testid":"market-watch-component",children:[s.jsxs(Ma,{defaultValue:"watchlist",className:"h-full",children:[s.jsxs(Ea,{className:"grid w-full grid-cols-2 mb-4",children:[s.jsxs(Ls,{value:"watchlist","data-testid":"tab-watchlist",children:[s.jsx(WP,{className:"h-4 w-4 mr-1"}),"Watchlist"]}),s.jsxs(Ls,{value:"movers","data-testid":"tab-movers",children:[s.jsx(Ta,{className:"h-4 w-4 mr-1"}),"Movers"]})]}),s.jsx(qi,{value:"watchlist",className:"h-full",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"My Watchlist"}),s.jsxs(st,{variant:"outline",children:[i.length," assets"]})]}),s.jsx(Lo,{className:"h-80",children:s.jsx("div",{className:"space-y-1",children:G().map(Z=>W(Z,!0))})})]})}),s.jsx(qi,{value:"movers",className:"h-full",children:s.jsxs(Ma,{defaultValue:"gainers",className:"h-full",children:[s.jsxs(Ea,{className:"grid w-full grid-cols-3 mb-2",children:[s.jsx(Ls,{value:"gainers","data-testid":"tab-gainers",children:"Gainers"}),s.jsx(Ls,{value:"losers","data-testid":"tab-losers",children:"Losers"}),s.jsx(Ls,{value:"volume","data-testid":"tab-volume",children:"Volume"})]}),s.jsx(qi,{value:"gainers",children:s.jsx(Lo,{className:"h-72",children:s.jsx("div",{className:"space-y-1",children:A().map(Z=>W(Z))})})}),s.jsx(qi,{value:"losers",children:s.jsx(Lo,{className:"h-72",children:s.jsx("div",{className:"space-y-1",children:E().map(Z=>W(Z))})})}),s.jsx(qi,{value:"volume",children:s.jsx(Lo,{className:"h-72",children:s.jsx("div",{className:"space-y-1",children:O().map(Z=>W(Z))})})})]})})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:"Sector Performance"}),s.jsx("div",{className:"space-y-1",children:te().map((Z,pe)=>s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"capitalize",children:Z.name}),s.jsxs("span",{className:`${Z.avgChange>=0?"text-emerald-500":"text-red-500"}`,children:[Z.avgChange>=0?"+":"",Z.avgChange.toFixed(2),"%"]})]},pe))})]})]})}var Fv=e=>e.type==="checkbox",Ph=e=>e instanceof Date,In=e=>e==null;const _q=e=>typeof e=="object";var hr=e=>!In(e)&&!Array.isArray(e)&&_q(e)&&!Ph(e),fxe=e=>hr(e)&&e.target?Fv(e.target)?e.target.checked:e.target.value:e,gxe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,xxe=(e,t)=>e.has(gxe(t)),yxe=e=>{const t=e.constructor&&e.constructor.prototype;return hr(t)&&t.hasOwnProperty("isPrototypeOf")},AE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cn(e){let t;const i=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(AE&&(e instanceof Blob||r))&&(i||hr(e)))if(t=i?[]:{},!i&&!yxe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=cn(e[a]));else return e;return t}var jj=e=>Array.isArray(e)?e.filter(Boolean):[],yr=e=>e===void 0,Qt=(e,t,i)=>{if(!t||!hr(e))return i;const r=jj(t.split(/[,[\].]+?/)).reduce((a,o)=>In(a)?a:a[o],e);return yr(r)||r===e?yr(e[t])?i:e[t]:r},vl=e=>typeof e=="boolean",CE=e=>/^\w*$/.test(e),Nq=e=>jj(e.replace(/["|']|\]/g,"").split(/\.|\[/)),pi=(e,t,i)=>{let r=-1;const a=CE(t)?[t]:Nq(t),o=a.length,u=o-1;for(;++r<o;){const m=a[r];let x=i;if(r!==u){const w=e[m];x=hr(w)||Array.isArray(w)?w:isNaN(+a[r+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;e[m]=x,e=e[m]}};const R4={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Mo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},mc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Cr.createContext(null);var vxe=(e,t,i,r=!0)=>{const a={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const u=o;return t._proxyFormState[u]!==Mo.all&&(t._proxyFormState[u]=!r||Mo.all),e[u]}});return a},Sl=e=>typeof e=="string",bxe=(e,t,i,r,a)=>Sl(e)?(r&&t.watch.add(e),Qt(i,e,a)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),Qt(i,o))):(r&&(t.watchAll=!0),i),jq=(e,t,i,r,a)=>t?{...i[e],types:{...i[e]&&i[e].types?i[e].types:{},[r]:a||!0}}:{},hy=e=>Array.isArray(e)?e:[e],F4=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}},_T=e=>In(e)||!_q(e);function Ed(e,t){if(_T(e)||_T(t))return e===t;if(Ph(e)&&Ph(t))return e.getTime()===t.getTime();const i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(const a of i){const o=e[a];if(!r.includes(a))return!1;if(a!=="ref"){const u=t[a];if(Ph(o)&&Ph(u)||hr(o)&&hr(u)||Array.isArray(o)&&Array.isArray(u)?!Ed(o,u):o!==u)return!1}}return!0}var Mn=e=>hr(e)&&!Object.keys(e).length,TE=e=>e.type==="file",Eo=e=>typeof e=="function",NN=e=>{if(!AE)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},kq=e=>e.type==="select-multiple",PE=e=>e.type==="radio",wxe=e=>PE(e)||Fv(e),bA=e=>NN(e)&&e.isConnected;function _xe(e,t){const i=t.slice(0,-1).length;let r=0;for(;r<i;)e=yr(e)?r++:e[t[r++]];return e}function Nxe(e){for(const t in e)if(e.hasOwnProperty(t)&&!yr(e[t]))return!1;return!0}function Ar(e,t){const i=Array.isArray(t)?t:CE(t)?[t]:Nq(t),r=i.length===1?e:_xe(e,i),a=i.length-1,o=i[a];return r&&delete r[o],a!==0&&(hr(r)&&Mn(r)||Array.isArray(r)&&Nxe(r))&&Ar(e,i.slice(0,-1)),e}var Sq=e=>{for(const t in e)if(Eo(e[t]))return!0;return!1};function jN(e,t={}){const i=Array.isArray(e);if(hr(e)||i)for(const r in e)Array.isArray(e[r])||hr(e[r])&&!Sq(e[r])?(t[r]=Array.isArray(e[r])?[]:{},jN(e[r],t[r])):In(e[r])||(t[r]=!0);return t}function Aq(e,t,i){const r=Array.isArray(e);if(hr(e)||r)for(const a in e)Array.isArray(e[a])||hr(e[a])&&!Sq(e[a])?yr(t)||_T(i[a])?i[a]=Array.isArray(e[a])?jN(e[a],[]):{...jN(e[a])}:Aq(e[a],In(t)?{}:t[a],i[a]):i[a]=!Ed(e[a],t[a]);return i}var D0=(e,t)=>Aq(e,t,jN(t));const z4={value:!1,isValid:!1},B4={value:!0,isValid:!0};var Cq=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(i=>i&&i.checked&&!i.disabled).map(i=>i.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!yr(e[0].attributes.value)?yr(e[0].value)||e[0].value===""?B4:{value:e[0].value,isValid:!0}:B4:z4}return z4},Tq=(e,{valueAsNumber:t,valueAsDate:i,setValueAs:r})=>yr(e)?e:t?e===""?NaN:e&&+e:i&&Sl(e)?new Date(e):r?r(e):e;const W4={isValid:!1,value:null};var Pq=e=>Array.isArray(e)?e.reduce((t,i)=>i&&i.checked&&!i.disabled?{isValid:!0,value:i.value}:t,W4):W4;function H4(e){const t=e.ref;return TE(t)?t.files:PE(t)?Pq(e.refs).value:kq(t)?[...t.selectedOptions].map(({value:i})=>i):Fv(t)?Cq(e.refs).value:Tq(yr(t.value)?e.ref.value:t.value,e)}var jxe=(e,t,i,r)=>{const a={};for(const o of e){const u=Qt(t,o);u&&pi(a,o,u._f)}return{criteriaMode:i,names:[...e],fields:a,shouldUseNativeValidation:r}},kN=e=>e instanceof RegExp,R0=e=>yr(e)?e:kN(e)?e.source:hr(e)?kN(e.value)?e.value.source:e.value:e,V4=e=>({isOnSubmit:!e||e===Mo.onSubmit,isOnBlur:e===Mo.onBlur,isOnChange:e===Mo.onChange,isOnAll:e===Mo.all,isOnTouch:e===Mo.onTouched});const $4="AsyncFunction";var kxe=e=>!!e&&!!e.validate&&!!(Eo(e.validate)&&e.validate.constructor.name===$4||hr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===$4)),Sxe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),U4=(e,t,i)=>!i&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const py=(e,t,i,r)=>{for(const a of i||Object.keys(e)){const o=Qt(e,a);if(o){const{_f:u,...m}=o;if(u){if(u.refs&&u.refs[0]&&t(u.refs[0],a)&&!r)return!0;if(u.ref&&t(u.ref,u.name)&&!r)return!0;if(py(m,t))break}else if(hr(m)&&py(m,t))break}}};function G4(e,t,i){const r=Qt(e,i);if(r||CE(i))return{error:r,name:i};const a=i.split(".");for(;a.length;){const o=a.join("."),u=Qt(t,o),m=Qt(e,o);if(u&&!Array.isArray(u)&&i!==o)return{name:i};if(m&&m.type)return{name:o,error:m};a.pop()}return{name:i}}var Axe=(e,t,i,r)=>{i(e);const{name:a,...o}=e;return Mn(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(u=>t[u]===(!r||Mo.all))},Cxe=(e,t,i)=>!e||!t||e===t||hy(e).some(r=>r&&(i?r===t:r.startsWith(t)||t.startsWith(r))),Txe=(e,t,i,r,a)=>a.isOnAll?!1:!i&&a.isOnTouch?!(t||e):(i?r.isOnBlur:a.isOnBlur)?!e:(i?r.isOnChange:a.isOnChange)?e:!0,Pxe=(e,t)=>!jj(Qt(e,t)).length&&Ar(e,t),Mxe=(e,t,i)=>{const r=hy(Qt(e,i));return pi(r,"root",t[i]),pi(e,i,r),e},p_=e=>Sl(e);function q4(e,t,i="validate"){if(p_(e)||Array.isArray(e)&&e.every(p_)||vl(e)&&!e)return{type:i,message:p_(e)?e:"",ref:t}}var Jm=e=>hr(e)&&!kN(e)?e:{value:e,message:""},K4=async(e,t,i,r,a,o)=>{const{ref:u,refs:m,required:x,maxLength:w,minLength:A,min:E,max:O,pattern:G,validate:te,name:Q,valueAsNumber:J,mount:H}=e._f,W=Qt(i,Q);if(!H||t.has(Q))return{};const Z=m?m[0]:u,pe=Xe=>{a&&Z.reportValidity&&(Z.setCustomValidity(vl(Xe)?"":Xe||""),Z.reportValidity())},me={},we=PE(u),_e=Fv(u),de=we||_e,Ae=(J||TE(u))&&yr(u.value)&&yr(W)||NN(u)&&u.value===""||W===""||Array.isArray(W)&&!W.length,We=jq.bind(null,Q,r,me),tt=(Xe,lt,Qe,wt=mc.maxLength,ot=mc.minLength)=>{const Tt=Xe?lt:Qe;me[Q]={type:Xe?wt:ot,message:Tt,ref:u,...We(Xe?wt:ot,Tt)}};if(o?!Array.isArray(W)||!W.length:x&&(!de&&(Ae||In(W))||vl(W)&&!W||_e&&!Cq(m).isValid||we&&!Pq(m).isValid)){const{value:Xe,message:lt}=p_(x)?{value:!!x,message:x}:Jm(x);if(Xe&&(me[Q]={type:mc.required,message:lt,ref:Z,...We(mc.required,lt)},!r))return pe(lt),me}if(!Ae&&(!In(E)||!In(O))){let Xe,lt;const Qe=Jm(O),wt=Jm(E);if(!In(W)&&!isNaN(W)){const ot=u.valueAsNumber||W&&+W;In(Qe.value)||(Xe=ot>Qe.value),In(wt.value)||(lt=ot<wt.value)}else{const ot=u.valueAsDate||new Date(W),Tt=mt=>new Date(new Date().toDateString()+" "+mt),ve=u.type=="time",Je=u.type=="week";Sl(Qe.value)&&W&&(Xe=ve?Tt(W)>Tt(Qe.value):Je?W>Qe.value:ot>new Date(Qe.value)),Sl(wt.value)&&W&&(lt=ve?Tt(W)<Tt(wt.value):Je?W<wt.value:ot<new Date(wt.value))}if((Xe||lt)&&(tt(!!Xe,Qe.message,wt.message,mc.max,mc.min),!r))return pe(me[Q].message),me}if((w||A)&&!Ae&&(Sl(W)||o&&Array.isArray(W))){const Xe=Jm(w),lt=Jm(A),Qe=!In(Xe.value)&&W.length>+Xe.value,wt=!In(lt.value)&&W.length<+lt.value;if((Qe||wt)&&(tt(Qe,Xe.message,lt.message),!r))return pe(me[Q].message),me}if(G&&!Ae&&Sl(W)){const{value:Xe,message:lt}=Jm(G);if(kN(Xe)&&!W.match(Xe)&&(me[Q]={type:mc.pattern,message:lt,ref:u,...We(mc.pattern,lt)},!r))return pe(lt),me}if(te){if(Eo(te)){const Xe=await te(W,i),lt=q4(Xe,Z);if(lt&&(me[Q]={...lt,...We(mc.validate,lt.message)},!r))return pe(lt.message),me}else if(hr(te)){let Xe={};for(const lt in te){if(!Mn(Xe)&&!r)break;const Qe=q4(await te[lt](W,i),Z,lt);Qe&&(Xe={...Qe,...We(lt,Qe.message)},pe(Qe.message),r&&(me[Q]=Xe))}if(!Mn(Xe)&&(me[Q]={ref:Z,...Xe},!r))return me}}return pe(!0),me};const Exe={mode:Mo.onSubmit,reValidateMode:Mo.onChange,shouldFocusError:!0};function Ixe(e={}){let t={...Exe,...e},i={submitCount:0,isDirty:!1,isLoading:Eo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let a=hr(t.defaultValues)||hr(t.values)?cn(t.values||t.defaultValues)||{}:{},o=t.shouldUnregister?{}:cn(a),u={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},x,w=0;const A={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let E={...A};const O={array:F4(),state:F4()},G=V4(t.mode),te=V4(t.reValidateMode),Q=t.criteriaMode===Mo.all,J=Oe=>Me=>{clearTimeout(w),w=setTimeout(Oe,Me)},H=async Oe=>{if(!t.disabled&&(A.isValid||E.isValid||Oe)){const Me=t.resolver?Mn((await Ae()).errors):await tt(r,!0);Me!==i.isValid&&O.state.next({isValid:Me})}},W=(Oe,Me)=>{!t.disabled&&(A.isValidating||A.validatingFields||E.isValidating||E.validatingFields)&&((Oe||Array.from(m.mount)).forEach(nt=>{nt&&(Me?pi(i.validatingFields,nt,Me):Ar(i.validatingFields,nt))}),O.state.next({validatingFields:i.validatingFields,isValidating:!Mn(i.validatingFields)}))},Z=(Oe,Me=[],nt,Ft,Et=!0,St=!0)=>{if(Ft&&nt&&!t.disabled){if(u.action=!0,St&&Array.isArray(Qt(r,Oe))){const Gt=nt(Qt(r,Oe),Ft.argA,Ft.argB);Et&&pi(r,Oe,Gt)}if(St&&Array.isArray(Qt(i.errors,Oe))){const Gt=nt(Qt(i.errors,Oe),Ft.argA,Ft.argB);Et&&pi(i.errors,Oe,Gt),Pxe(i.errors,Oe)}if((A.touchedFields||E.touchedFields)&&St&&Array.isArray(Qt(i.touchedFields,Oe))){const Gt=nt(Qt(i.touchedFields,Oe),Ft.argA,Ft.argB);Et&&pi(i.touchedFields,Oe,Gt)}(A.dirtyFields||E.dirtyFields)&&(i.dirtyFields=D0(a,o)),O.state.next({name:Oe,isDirty:lt(Oe,Me),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else pi(o,Oe,Me)},pe=(Oe,Me)=>{pi(i.errors,Oe,Me),O.state.next({errors:i.errors})},me=Oe=>{i.errors=Oe,O.state.next({errors:i.errors,isValid:!1})},we=(Oe,Me,nt,Ft)=>{const Et=Qt(r,Oe);if(Et){const St=Qt(o,Oe,yr(nt)?Qt(a,Oe):nt);yr(St)||Ft&&Ft.defaultChecked||Me?pi(o,Oe,Me?St:H4(Et._f)):ot(Oe,St),u.mount&&H()}},_e=(Oe,Me,nt,Ft,Et)=>{let St=!1,Gt=!1;const Fs={name:Oe};if(!t.disabled){if(!nt||Ft){(A.isDirty||E.isDirty)&&(Gt=i.isDirty,i.isDirty=Fs.isDirty=lt(),St=Gt!==Fs.isDirty);const bi=Ed(Qt(a,Oe),Me);Gt=!!Qt(i.dirtyFields,Oe),bi?Ar(i.dirtyFields,Oe):pi(i.dirtyFields,Oe,!0),Fs.dirtyFields=i.dirtyFields,St=St||(A.dirtyFields||E.dirtyFields)&&Gt!==!bi}if(nt){const bi=Qt(i.touchedFields,Oe);bi||(pi(i.touchedFields,Oe,nt),Fs.touchedFields=i.touchedFields,St=St||(A.touchedFields||E.touchedFields)&&bi!==nt)}St&&Et&&O.state.next(Fs)}return St?Fs:{}},de=(Oe,Me,nt,Ft)=>{const Et=Qt(i.errors,Oe),St=(A.isValid||E.isValid)&&vl(Me)&&i.isValid!==Me;if(t.delayError&&nt?(x=J(()=>pe(Oe,nt)),x(t.delayError)):(clearTimeout(w),x=null,nt?pi(i.errors,Oe,nt):Ar(i.errors,Oe)),(nt?!Ed(Et,nt):Et)||!Mn(Ft)||St){const Gt={...Ft,...St&&vl(Me)?{isValid:Me}:{},errors:i.errors,name:Oe};i={...i,...Gt},O.state.next(Gt)}},Ae=async Oe=>{W(Oe,!0);const Me=await t.resolver(o,t.context,jxe(Oe||m.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return W(Oe),Me},We=async Oe=>{const{errors:Me}=await Ae(Oe);if(Oe)for(const nt of Oe){const Ft=Qt(Me,nt);Ft?pi(i.errors,nt,Ft):Ar(i.errors,nt)}else i.errors=Me;return Me},tt=async(Oe,Me,nt={valid:!0})=>{for(const Ft in Oe){const Et=Oe[Ft];if(Et){const{_f:St,...Gt}=Et;if(St){const Fs=m.array.has(St.name),bi=Et._f&&kxe(Et._f);bi&&A.validatingFields&&W([Ft],!0);const Ti=await K4(Et,m.disabled,o,Q,t.shouldUseNativeValidation&&!Me,Fs);if(bi&&A.validatingFields&&W([Ft]),Ti[St.name]&&(nt.valid=!1,Me))break;!Me&&(Qt(Ti,St.name)?Fs?Mxe(i.errors,Ti,St.name):pi(i.errors,St.name,Ti[St.name]):Ar(i.errors,St.name))}!Mn(Gt)&&await tt(Gt,Me,nt)}}return nt.valid},Xe=()=>{for(const Oe of m.unMount){const Me=Qt(r,Oe);Me&&(Me._f.refs?Me._f.refs.every(nt=>!bA(nt)):!bA(Me._f.ref))&&qt(Oe)}m.unMount=new Set},lt=(Oe,Me)=>!t.disabled&&(Oe&&Me&&pi(o,Oe,Me),!Ed(ts(),a)),Qe=(Oe,Me,nt)=>bxe(Oe,m,{...u.mount?o:yr(Me)?a:Sl(Oe)?{[Oe]:Me}:Me},nt,Me),wt=Oe=>jj(Qt(u.mount?o:a,Oe,t.shouldUnregister?Qt(a,Oe,[]):[])),ot=(Oe,Me,nt={})=>{const Ft=Qt(r,Oe);let Et=Me;if(Ft){const St=Ft._f;St&&(!St.disabled&&pi(o,Oe,Tq(Me,St)),Et=NN(St.ref)&&In(Me)?"":Me,kq(St.ref)?[...St.ref.options].forEach(Gt=>Gt.selected=Et.includes(Gt.value)):St.refs?Fv(St.ref)?St.refs.length>1?St.refs.forEach(Gt=>(!Gt.defaultChecked||!Gt.disabled)&&(Gt.checked=Array.isArray(Et)?!!Et.find(Fs=>Fs===Gt.value):Et===Gt.value)):St.refs[0]&&(St.refs[0].checked=!!Et):St.refs.forEach(Gt=>Gt.checked=Gt.value===Et):TE(St.ref)?St.ref.value="":(St.ref.value=Et,St.ref.type||O.state.next({name:Oe,values:cn(o)})))}(nt.shouldDirty||nt.shouldTouch)&&_e(Oe,Et,nt.shouldTouch,nt.shouldDirty,!0),nt.shouldValidate&&Rt(Oe)},Tt=(Oe,Me,nt)=>{for(const Ft in Me){const Et=Me[Ft],St=`${Oe}.${Ft}`,Gt=Qt(r,St);(m.array.has(Oe)||hr(Et)||Gt&&!Gt._f)&&!Ph(Et)?Tt(St,Et,nt):ot(St,Et,nt)}},ve=(Oe,Me,nt={})=>{const Ft=Qt(r,Oe),Et=m.array.has(Oe),St=cn(Me);pi(o,Oe,St),Et?(O.array.next({name:Oe,values:cn(o)}),(A.isDirty||A.dirtyFields||E.isDirty||E.dirtyFields)&&nt.shouldDirty&&O.state.next({name:Oe,dirtyFields:D0(a,o),isDirty:lt(Oe,St)})):Ft&&!Ft._f&&!In(St)?Tt(Oe,St,nt):ot(Oe,St,nt),U4(Oe,m)&&O.state.next({...i}),O.state.next({name:u.mount?Oe:void 0,values:cn(o)})},Je=async Oe=>{u.mount=!0;const Me=Oe.target;let nt=Me.name,Ft=!0;const Et=Qt(r,nt),St=Gt=>{Ft=Number.isNaN(Gt)||Ph(Gt)&&isNaN(Gt.getTime())||Ed(Gt,Qt(o,nt,Gt))};if(Et){let Gt,Fs;const bi=Me.type?H4(Et._f):fxe(Oe),Ti=Oe.type===R4.BLUR||Oe.type===R4.FOCUS_OUT,Dg=!Sxe(Et._f)&&!t.resolver&&!Qt(i.errors,nt)&&!Et._f.deps||Txe(Ti,Qt(i.touchedFields,nt),i.isSubmitted,te,G),fi=U4(nt,m,Ti);pi(o,nt,bi),Ti?(Et._f.onBlur&&Et._f.onBlur(Oe),x&&x(0)):Et._f.onChange&&Et._f.onChange(Oe);const rn=_e(nt,bi,Ti),Rg=!Mn(rn)||fi;if(!Ti&&O.state.next({name:nt,type:Oe.type,values:cn(o)}),Dg)return(A.isValid||E.isValid)&&(t.mode==="onBlur"?Ti&&H():Ti||H()),Rg&&O.state.next({name:nt,...fi?{}:rn});if(!Ti&&fi&&O.state.next({...i}),t.resolver){const{errors:qc}=await Ae([nt]);if(St(bi),Ft){const Fg=G4(i.errors,r,nt),Hn=G4(qc,r,Fg.name||nt);Gt=Hn.error,nt=Hn.name,Fs=Mn(qc)}}else W([nt],!0),Gt=(await K4(Et,m.disabled,o,Q,t.shouldUseNativeValidation))[nt],W([nt]),St(bi),Ft&&(Gt?Fs=!1:(A.isValid||E.isValid)&&(Fs=await tt(r,!0)));Ft&&(Et._f.deps&&Rt(Et._f.deps),de(nt,Fs,Gt,rn))}},mt=(Oe,Me)=>{if(Qt(i.errors,Me)&&Oe.focus)return Oe.focus(),1},Rt=async(Oe,Me={})=>{let nt,Ft;const Et=hy(Oe);if(t.resolver){const St=await We(yr(Oe)?Oe:Et);nt=Mn(St),Ft=Oe?!Et.some(Gt=>Qt(St,Gt)):nt}else Oe?(Ft=(await Promise.all(Et.map(async St=>{const Gt=Qt(r,St);return await tt(Gt&&Gt._f?{[St]:Gt}:Gt)}))).every(Boolean),!(!Ft&&!i.isValid)&&H()):Ft=nt=await tt(r);return O.state.next({...!Sl(Oe)||(A.isValid||E.isValid)&&nt!==i.isValid?{}:{name:Oe},...t.resolver||!Oe?{isValid:nt}:{},errors:i.errors}),Me.shouldFocus&&!Ft&&py(r,mt,Oe?Et:m.mount),Ft},ts=Oe=>{const Me={...u.mount?o:a};return yr(Oe)?Me:Sl(Oe)?Qt(Me,Oe):Oe.map(nt=>Qt(Me,nt))},pt=(Oe,Me)=>({invalid:!!Qt((Me||i).errors,Oe),isDirty:!!Qt((Me||i).dirtyFields,Oe),error:Qt((Me||i).errors,Oe),isValidating:!!Qt(i.validatingFields,Oe),isTouched:!!Qt((Me||i).touchedFields,Oe)}),Lt=Oe=>{Oe&&hy(Oe).forEach(Me=>Ar(i.errors,Me)),O.state.next({errors:Oe?i.errors:{}})},Jt=(Oe,Me,nt)=>{const Ft=(Qt(r,Oe,{_f:{}})._f||{}).ref,Et=Qt(i.errors,Oe)||{},{ref:St,message:Gt,type:Fs,...bi}=Et;pi(i.errors,Oe,{...bi,...Me,ref:Ft}),O.state.next({name:Oe,errors:i.errors,isValid:!1}),nt&&nt.shouldFocus&&Ft&&Ft.focus&&Ft.focus()},Bt=(Oe,Me)=>Eo(Oe)?O.state.subscribe({next:nt=>Oe(Qe(void 0,Me),nt)}):Qe(Oe,Me,!0),ct=Oe=>O.state.subscribe({next:Me=>{Cxe(Oe.name,Me.name,Oe.exact)&&Axe(Me,Oe.formState||A,pr,Oe.reRenderRoot)&&Oe.callback({values:{...o},...i,...Me})}}).unsubscribe,Ut=Oe=>(u.mount=!0,E={...E,...Oe.formState},ct({...Oe,formState:E})),qt=(Oe,Me={})=>{for(const nt of Oe?hy(Oe):m.mount)m.mount.delete(nt),m.array.delete(nt),Me.keepValue||(Ar(r,nt),Ar(o,nt)),!Me.keepError&&Ar(i.errors,nt),!Me.keepDirty&&Ar(i.dirtyFields,nt),!Me.keepTouched&&Ar(i.touchedFields,nt),!Me.keepIsValidating&&Ar(i.validatingFields,nt),!t.shouldUnregister&&!Me.keepDefaultValue&&Ar(a,nt);O.state.next({values:cn(o)}),O.state.next({...i,...Me.keepDirty?{isDirty:lt()}:{}}),!Me.keepIsValid&&H()},es=({disabled:Oe,name:Me})=>{(vl(Oe)&&u.mount||Oe||m.disabled.has(Me))&&(Oe?m.disabled.add(Me):m.disabled.delete(Me))},fs=(Oe,Me={})=>{let nt=Qt(r,Oe);const Ft=vl(Me.disabled)||vl(t.disabled);return pi(r,Oe,{...nt||{},_f:{...nt&&nt._f?nt._f:{ref:{name:Oe}},name:Oe,mount:!0,...Me}}),m.mount.add(Oe),nt?es({disabled:vl(Me.disabled)?Me.disabled:t.disabled,name:Oe}):we(Oe,!0,Me.value),{...Ft?{disabled:Me.disabled||t.disabled}:{},...t.progressive?{required:!!Me.required,min:R0(Me.min),max:R0(Me.max),minLength:R0(Me.minLength),maxLength:R0(Me.maxLength),pattern:R0(Me.pattern)}:{},name:Oe,onChange:Je,onBlur:Je,ref:Et=>{if(Et){fs(Oe,Me),nt=Qt(r,Oe);const St=yr(Et.value)&&Et.querySelectorAll&&Et.querySelectorAll("input,select,textarea")[0]||Et,Gt=wxe(St),Fs=nt._f.refs||[];if(Gt?Fs.find(bi=>bi===St):St===nt._f.ref)return;pi(r,Oe,{_f:{...nt._f,...Gt?{refs:[...Fs.filter(bA),St,...Array.isArray(Qt(a,Oe))?[{}]:[]],ref:{type:St.type,name:Oe}}:{ref:St}}}),we(Oe,!1,void 0,St)}else nt=Qt(r,Oe,{}),nt._f&&(nt._f.mount=!1),(t.shouldUnregister||Me.shouldUnregister)&&!(xxe(m.array,Oe)&&u.action)&&m.unMount.add(Oe)}}},ys=()=>t.shouldFocusError&&py(r,mt,m.mount),ft=Oe=>{vl(Oe)&&(O.state.next({disabled:Oe}),py(r,(Me,nt)=>{const Ft=Qt(r,nt);Ft&&(Me.disabled=Ft._f.disabled||Oe,Array.isArray(Ft._f.refs)&&Ft._f.refs.forEach(Et=>{Et.disabled=Ft._f.disabled||Oe}))},0,!1))},Ks=(Oe,Me)=>async nt=>{let Ft;nt&&(nt.preventDefault&&nt.preventDefault(),nt.persist&&nt.persist());let Et=cn(o);if(O.state.next({isSubmitting:!0}),t.resolver){const{errors:St,values:Gt}=await Ae();i.errors=St,Et=Gt}else await tt(r);if(m.disabled.size)for(const St of m.disabled)pi(Et,St,void 0);if(Ar(i.errors,"root"),Mn(i.errors)){O.state.next({errors:{}});try{await Oe(Et,nt)}catch(St){Ft=St}}else Me&&await Me({...i.errors},nt),ys(),setTimeout(ys);if(O.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mn(i.errors)&&!Ft,submitCount:i.submitCount+1,errors:i.errors}),Ft)throw Ft},Xi=(Oe,Me={})=>{Qt(r,Oe)&&(yr(Me.defaultValue)?ve(Oe,cn(Qt(a,Oe))):(ve(Oe,Me.defaultValue),pi(a,Oe,cn(Me.defaultValue))),Me.keepTouched||Ar(i.touchedFields,Oe),Me.keepDirty||(Ar(i.dirtyFields,Oe),i.isDirty=Me.defaultValue?lt(Oe,cn(Qt(a,Oe))):lt()),Me.keepError||(Ar(i.errors,Oe),A.isValid&&H()),O.state.next({...i}))},wr=(Oe,Me={})=>{const nt=Oe?cn(Oe):a,Ft=cn(nt),Et=Mn(Oe),St=Et?a:Ft;if(Me.keepDefaultValues||(a=nt),!Me.keepValues){if(Me.keepDirtyValues){const Gt=new Set([...m.mount,...Object.keys(D0(a,o))]);for(const Fs of Array.from(Gt))Qt(i.dirtyFields,Fs)?pi(St,Fs,Qt(o,Fs)):ve(Fs,Qt(St,Fs))}else{if(AE&&yr(Oe))for(const Gt of m.mount){const Fs=Qt(r,Gt);if(Fs&&Fs._f){const bi=Array.isArray(Fs._f.refs)?Fs._f.refs[0]:Fs._f.ref;if(NN(bi)){const Ti=bi.closest("form");if(Ti){Ti.reset();break}}}}for(const Gt of m.mount)ve(Gt,Qt(St,Gt))}o=cn(St),O.array.next({values:{...St}}),O.state.next({values:{...St}})}m={mount:Me.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!A.isValid||!!Me.keepIsValid||!!Me.keepDirtyValues,u.watch=!!t.shouldUnregister,O.state.next({submitCount:Me.keepSubmitCount?i.submitCount:0,isDirty:Et?!1:Me.keepDirty?i.isDirty:!!(Me.keepDefaultValues&&!Ed(Oe,a)),isSubmitted:Me.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:Et?{}:Me.keepDirtyValues?Me.keepDefaultValues&&o?D0(a,o):i.dirtyFields:Me.keepDefaultValues&&Oe?D0(a,Oe):Me.keepDirty?i.dirtyFields:{},touchedFields:Me.keepTouched?i.touchedFields:{},errors:Me.keepErrors?i.errors:{},isSubmitSuccessful:Me.keepIsSubmitSuccessful?i.isSubmitSuccessful:!1,isSubmitting:!1})},Ir=(Oe,Me)=>wr(Eo(Oe)?Oe(o):Oe,Me),Ii=(Oe,Me={})=>{const nt=Qt(r,Oe),Ft=nt&&nt._f;if(Ft){const Et=Ft.refs?Ft.refs[0]:Ft.ref;Et.focus&&(Et.focus(),Me.shouldSelect&&Eo(Et.select)&&Et.select())}},pr=Oe=>{i={...i,...Oe}},Hr={control:{register:fs,unregister:qt,getFieldState:pt,handleSubmit:Ks,setError:Jt,_subscribe:ct,_runSchema:Ae,_getWatch:Qe,_getDirty:lt,_setValid:H,_setFieldArray:Z,_setDisabledField:es,_setErrors:me,_getFieldArray:wt,_reset:wr,_resetDefaultValues:()=>Eo(t.defaultValues)&&t.defaultValues().then(Oe=>{Ir(Oe,t.resetOptions),O.state.next({isLoading:!1})}),_removeUnmounted:Xe,_disableForm:ft,_subjects:O,_proxyFormState:A,get _fields(){return r},get _formValues(){return o},get _state(){return u},set _state(Oe){u=Oe},get _defaultValues(){return a},get _names(){return m},set _names(Oe){m=Oe},get _formState(){return i},get _options(){return t},set _options(Oe){t={...t,...Oe}}},subscribe:Ut,trigger:Rt,register:fs,handleSubmit:Ks,watch:Bt,setValue:ve,getValues:ts,reset:Ir,resetField:Xi,clearErrors:Lt,unregister:qt,setError:Jt,setFocus:Ii,getFieldState:pt};return{...Hr,formControl:Hr}}function ME(e={}){const t=Cr.useRef(void 0),i=Cr.useRef(void 0),[r,a]=Cr.useState({isDirty:!1,isValidating:!1,isLoading:Eo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Eo(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:Ixe(e),formState:r},e.formControl&&e.defaultValues&&!Eo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const o=t.current.control;return o._options=e,Cr.useLayoutEffect(()=>o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0}),[o]),Cr.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),Cr.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==r.isDirty&&o._subjects.state.next({isDirty:u})}},[o,r.isDirty]),Cr.useEffect(()=>{e.values&&!Ed(e.values,i.current)?(o._reset(e.values,o._options.resetOptions),i.current=e.values,a(u=>({...u}))):o._resetDefaultValues()},[e.values,o]),Cr.useEffect(()=>{e.errors&&!Mn(e.errors)&&o._setErrors(e.errors)},[e.errors,o]),Cr.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),Cr.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[e.shouldUnregister,o]),t.current.formState=vxe(r,o),t.current}const Y4=(e,t,i)=>{if(e&&"reportValidity"in e){const r=Qt(i,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Mq=(e,t)=>{for(const i in t.fields){const r=t.fields[i];r&&r.ref&&"reportValidity"in r.ref?Y4(r.ref,i,e):r.refs&&r.refs.forEach(a=>Y4(a,i,e))}},Lxe=(e,t)=>{t.shouldUseNativeValidation&&Mq(e,t);const i={};for(const r in e){const a=Qt(t.fields,r),o=Object.assign(e[r]||{},{ref:a&&a.ref});if(Oxe(t.names||Object.keys(e),r)){const u=Object.assign({},Qt(i,r));pi(u,"root",o),pi(i,r,u)}else pi(i,r,o)}return i},Oxe=(e,t)=>e.some(i=>i.startsWith(t+"."));var Dxe=function(e,t){for(var i={};e.length;){var r=e[0],a=r.code,o=r.message,u=r.path.join(".");if(!i[u])if("unionErrors"in r){var m=r.unionErrors[0].errors[0];i[u]={message:m.message,type:m.code}}else i[u]={message:o,type:a};if("unionErrors"in r&&r.unionErrors.forEach(function(A){return A.errors.forEach(function(E){return e.push(E)})}),t){var x=i[u].types,w=x&&x[r.code];i[u]=jq(u,t,i,a,w?[].concat(w,r.message):r.message)}e.shift()}return i},EE=function(e,t,i){return i===void 0&&(i={}),function(r,a,o){try{return Promise.resolve(function(u,m){try{var x=Promise.resolve(e[i.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(w){return o.shouldUseNativeValidation&&Mq({},o),{errors:{},values:i.raw?r:w}})}catch(w){return m(w)}return x&&x.then?x.then(void 0,m):x}(0,function(u){if(function(m){return Array.isArray(m==null?void 0:m.errors)}(u))return{values:{},errors:Lxe(Dxe(u.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw u}))}catch(u){return Promise.reject(u)}}};const Rxe=si.object({orderType:si.enum(["market","limit","stop","stop_limit"]),side:si.enum(["buy","sell"]),quantity:si.string().min(1,"Quantity is required").refine(e=>parseFloat(e)>0,"Quantity must be greater than 0"),price:si.string().optional(),stopPrice:si.string().optional(),timeInForce:si.enum(["DAY","GTC","IOC","FOK"])}).refine(e=>!((e.orderType==="limit"||e.orderType==="stop_limit")&&(!e.price||e.price.trim()==="")||(e.orderType==="stop"||e.orderType==="stop_limit")&&(!e.stopPrice||e.stopPrice.trim()==="")),{message:"Price fields are required for limit and stop orders",path:["price"]});function Fxe({selectedAsset:e,onOrderPlaced:t}){var pe,me;const{user:i}=sn(),{toast:r}=bn(),[a,o]=V.useState(!1);V.useState(25);const u=ME({resolver:EE(Rxe),defaultValues:{orderType:"market",side:"buy",quantity:"",price:"",stopPrice:"",timeInForce:"DAY"}}),m=u.watch(),{data:x}=yt({queryKey:"/api/auth/user",enabled:!!i}),{data:w}=yt({queryKey:["/api/market/prices",e],queryFn:()=>fetch(`/api/market/prices?assetIds=${e}`).then(we=>we.json()),enabled:!!e,refetchInterval:2e3}),{data:A}=yt({queryKey:`/api/portfolios/user/${i==null?void 0:i.id}`,enabled:!!(i!=null&&i.id)}),E=V.useMemo(()=>{var ts,pt;const we=parseFloat(m.quantity||"0"),_e=m.orderType==="market";let de=0;_e&&((ts=w==null?void 0:w.data)!=null&&ts[0])?de=parseFloat(w.data[0].currentPrice||"0"):m.price&&(de=parseFloat(m.price));const Ae=we*de,We=Ae*.001,tt=Ae+We,Xe=parseFloat((x==null?void 0:x.virtualTradingBalance)||"0"),lt=parseFloat((x==null?void 0:x.dailyTradingLimit)||"0"),Qe=parseFloat((x==null?void 0:x.dailyTradingUsed)||"0"),wt=parseFloat((x==null?void 0:x.maxPositionSize)||"0"),ot=m.side==="buy"?Xe>=tt:!0,Tt=Qe+Ae<=lt,ve=Ae<=wt,Je=(pt=A==null?void 0:A[0])!=null&&pt.totalValue?parseFloat(A[0].totalValue):Xe,mt=Je>0?Ae/Je*100:0,Rt=_e?Ae*.001:0;return{executionPrice:de,totalValue:Ae,commission:We,totalCost:tt,canAfford:ot,withinDailyLimit:Tt,withinPositionLimit:ve,positionRisk:mt,estimatedSlippage:Rt,availableBalance:Xe,dailyRemaining:lt-Qe}},[m,w,x,A]),O=Gc({mutationFn:async we=>{const _e=A==null?void 0:A[0];if(!_e)throw new Error("No portfolio found");const de={portfolioId:_e.id,assetId:e,type:we.side,orderType:we.orderType,quantity:we.quantity,price:we.price||void 0,stopPrice:we.stopPrice||void 0,timeInForce:we.timeInForce};return gu("/api/orders",{method:"POST",body:JSON.stringify(de)})},onSuccess:we=>{la.invalidateQueries({queryKey:["/api/orders"]}),la.invalidateQueries({queryKey:["/api/auth/user"]}),la.invalidateQueries({queryKey:["/api/portfolios"]}),u.reset(),o(!1),t&&we.id&&t(we.id),r({title:"Order Placed Successfully",description:`${m.side.toUpperCase()} order for ${m.quantity} shares submitted`})},onError:we=>{r({title:"Order Failed",description:we.message||"Failed to place order",variant:"destructive"})}}),G=we=>{if(m.side==="sell")return 0;const _e=E.availableBalance*(we/100),de=E.executionPrice;return de>0?Math.floor(_e/de):0},te=we=>{const _e=G(we);_e>0&&u.setValue("quantity",_e.toString())},Q=(pe=w==null?void 0:w.data)!=null&&pe[0]?parseFloat(w.data[0].currentPrice):0,J=(me=w==null?void 0:w.data)!=null&&me[0]?parseFloat(w.data[0].dayChangePercent||"0"):0,H=we=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(we),W=we=>{o(!0)},Z=()=>{O.mutate(u.getValues())};return a?s.jsxs("div",{className:"space-y-4","data-testid":"order-preview",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Confirm Order"}),s.jsxs("div",{className:`text-2xl font-bold ${m.side==="buy"?"text-emerald-500":"text-red-500"}`,children:[m.side.toUpperCase()," ",m.quantity," Shares"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[m.orderType.toUpperCase()," Order"]})]}),s.jsxs("div",{className:"space-y-2 p-3 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Execution Price:"}),s.jsx("span",{className:"font-medium",children:H(E.executionPrice)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total Value:"}),s.jsx("span",{className:"font-medium",children:H(E.totalValue)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Commission:"}),s.jsx("span",{className:"font-medium",children:H(E.commission)})]}),s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsx("span",{className:"font-semibold",children:"Total Cost:"}),s.jsx("span",{className:"font-semibold",children:H(E.totalCost)})]})]}),s.jsxs("div",{className:"space-y-2",children:[E.positionRisk>10&&s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-yellow-500/10 border border-yellow-500/20 rounded",children:[s.jsx(Dc,{className:"h-4 w-4 text-yellow-500"}),s.jsxs("span",{className:"text-sm",children:["High position risk: ",E.positionRisk.toFixed(1),"% of portfolio"]})]}),!E.withinDailyLimit&&s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-500/10 border border-red-500/20 rounded",children:[s.jsx(Dc,{className:"h-4 w-4 text-red-500"}),s.jsx("span",{className:"text-sm",children:"Exceeds daily trading limit"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(rt,{variant:"outline",onClick:()=>o(!1),className:"flex-1","data-testid":"button-cancel-order",children:"Cancel"}),s.jsx(rt,{onClick:Z,disabled:O.isPending||!E.canAfford,className:`flex-1 ${m.side==="buy"?"bg-emerald-500 hover:bg-emerald-600":"bg-red-500 hover:bg-red-600"}`,"data-testid":"button-confirm-order",children:O.isPending?"Placing...":"Confirm Order"})]})]}):s.jsx("div",{className:"space-y-4","data-testid":"professional-order-entry",children:s.jsxs(Ma,{value:m.side,onValueChange:we=>u.setValue("side",we),children:[s.jsxs(Ea,{className:"grid w-full grid-cols-2",children:[s.jsxs(Ls,{value:"buy",className:"text-emerald-500 data-[state=active]:bg-emerald-500/20","data-testid":"tab-buy",children:[s.jsx(ns,{className:"h-4 w-4 mr-1"}),"BUY"]}),s.jsxs(Ls,{value:"sell",className:"text-red-500 data-[state=active]:bg-red-500/20","data-testid":"tab-sell",children:[s.jsx(vi,{className:"h-4 w-4 mr-1"}),"SELL"]})]}),s.jsxs(qi,{value:m.side,className:"space-y-4",children:[Q>0&&s.jsxs("div",{className:"p-2 bg-muted/30 rounded text-center",children:[s.jsx("div",{className:"text-lg font-bold",children:H(Q)}),s.jsxs("div",{className:`text-sm ${J>=0?"text-emerald-500":"text-red-500"}`,children:[J>=0?"+":"",J.toFixed(2),"% today"]})]}),s.jsxs("form",{onSubmit:u.handleSubmit(W),className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(li,{children:"Order Type"}),s.jsxs(Hc,{value:m.orderType,onValueChange:we=>u.setValue("orderType",we),children:[s.jsx(Dl,{"data-testid":"select-order-type",children:s.jsx(Vc,{})}),s.jsxs(Rl,{children:[s.jsx(Si,{value:"market",children:"Market Order"}),s.jsx(Si,{value:"limit",children:"Limit Order"}),s.jsx(Si,{value:"stop",children:"Stop Order"}),s.jsx(Si,{value:"stop_limit",children:"Stop-Limit Order"})]})]})]}),s.jsxs("div",{children:[s.jsx(li,{children:"Quantity"}),s.jsx(ca,{type:"number",step:"1",min:"1",...u.register("quantity"),placeholder:"Number of shares","data-testid":"input-quantity"}),u.formState.errors.quantity&&s.jsx("p",{className:"text-sm text-red-500",children:u.formState.errors.quantity.message})]}),m.side==="buy"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(li,{className:"text-sm text-muted-foreground",children:"Quick Order (% of balance)"}),s.jsx("div",{className:"grid grid-cols-4 gap-1",children:[10,25,50,100].map(we=>s.jsxs(rt,{type:"button",variant:"outline",size:"sm",onClick:()=>te(we),"data-testid":`button-quick-order-${we}`,children:[we,"%"]},we))})]}),(m.orderType==="limit"||m.orderType==="stop_limit")&&s.jsxs("div",{children:[s.jsx(li,{children:"Limit Price"}),s.jsx(ca,{type:"number",step:"0.01",min:"0.01",...u.register("price"),placeholder:"Price per share","data-testid":"input-limit-price"})]}),(m.orderType==="stop"||m.orderType==="stop_limit")&&s.jsxs("div",{children:[s.jsx(li,{children:"Stop Price"}),s.jsx(ca,{type:"number",step:"0.01",min:"0.01",...u.register("stopPrice"),placeholder:"Stop trigger price","data-testid":"input-stop-price"})]}),s.jsxs("div",{children:[s.jsx(li,{children:"Time in Force"}),s.jsxs(Hc,{value:m.timeInForce,onValueChange:we=>u.setValue("timeInForce",we),children:[s.jsx(Dl,{"data-testid":"select-time-in-force",children:s.jsx(Vc,{})}),s.jsxs(Rl,{children:[s.jsx(Si,{value:"DAY",children:"Day Order"}),s.jsx(Si,{value:"GTC",children:"Good Till Cancelled"}),s.jsx(Si,{value:"IOC",children:"Immediate or Cancel"}),s.jsx(Si,{value:"FOK",children:"Fill or Kill"})]})]})]}),E.totalValue>0&&s.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded-lg text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Estimated Value:"}),s.jsx("span",{children:H(E.totalValue)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Commission:"}),s.jsx("span",{children:H(E.commission)})]}),s.jsxs("div",{className:"flex justify-between font-semibold",children:[s.jsx("span",{children:"Total Cost:"}),s.jsx("span",{children:H(E.totalCost)})]}),s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsx("span",{children:"Position Risk:"}),s.jsxs("span",{children:[E.positionRisk.toFixed(1),"%"]})]})]}),s.jsxs(rt,{type:"submit",className:`w-full ${m.side==="buy"?"bg-emerald-500 hover:bg-emerald-600":"bg-red-500 hover:bg-red-600"}`,disabled:!E.canAfford||!E.withinDailyLimit||!E.withinPositionLimit,"data-testid":"button-place-order",children:[s.jsx(Er,{className:"h-4 w-4 mr-2"}),"Preview ",m.side.toUpperCase()," Order"]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsxs("div",{children:["Available: ",H(E.availableBalance)]}),s.jsxs("div",{children:["Daily Limit Remaining: ",H(E.dailyRemaining)]})]})]})]})})}function zxe({refreshTrigger:e=0}){var te,Q;const{user:t}=sn(),[i,r]=V.useState(null),{data:a,isLoading:o}=yt({queryKey:[`/api/portfolios/user/${t==null?void 0:t.id}`,e],enabled:!!(t!=null&&t.id),refetchInterval:3e4}),{data:u,isLoading:m}=yt({queryKey:[`/api/portfolios/${(te=a==null?void 0:a[0])==null?void 0:te.id}/holdings`,e],enabled:!!((Q=a==null?void 0:a[0])!=null&&Q.id),refetchInterval:15e3}),{data:x}=yt({queryKey:["/api/market/prices","positions",e],queryFn:()=>{if(!u||!Array.isArray(u)||u.length===0)return null;const J=u.map(H=>H.assetId).join(",");return fetch(`/api/market/prices?assetIds=${J}`).then(H=>H.json())},enabled:!!u&&Array.isArray(u)&&u.length>0,refetchInterval:5e3}),A=(()=>{var H;if(!u||!Array.isArray(u)||!(x!=null&&x.data))return[];const J=(H=a==null?void 0:a[0])!=null&&H.totalValue?parseFloat(a[0].totalValue):0;return u.map(W=>{var Qe,wt;const Z=x.data.find(ot=>ot.assetId===W.assetId),pe=parseFloat(W.quantity||"0"),me=parseFloat(W.averagePrice||"0"),we=Z?parseFloat(Z.currentPrice||"0"):0,_e=pe*we,de=pe*me,Ae=_e-de,We=de>0?Ae/de*100:0,tt=Z?parseFloat(Z.dayChange||"0"):0,Xe=Z?parseFloat(Z.dayChangePercent||"0"):0,lt=J>0?_e/J*100:0;return{id:W.id,assetId:W.assetId,symbol:((Qe=W.asset)==null?void 0:Qe.symbol)||"N/A",name:((wt=W.asset)==null?void 0:wt.name)||"Unknown Asset",quantity:pe,averagePrice:me,currentPrice:we,marketValue:_e,unrealizedPnL:Ae,unrealizedPnLPercent:We,dayChange:tt*pe,dayChangePercent:Xe,allocation:lt}}).filter(W=>W.quantity>0)})(),E={totalValue:A.reduce((J,H)=>J+H.marketValue,0),totalUnrealizedPnL:A.reduce((J,H)=>J+H.unrealizedPnL,0),totalDayChange:A.reduce((J,H)=>J+H.dayChange,0),positionCount:A.length,topGainer:A.reduce((J,H)=>H.unrealizedPnLPercent>J.unrealizedPnLPercent?H:J,{unrealizedPnLPercent:-1/0}),topLoser:A.reduce((J,H)=>H.unrealizedPnLPercent<J.unrealizedPnLPercent?H:J,{unrealizedPnLPercent:1/0})},O=J=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(J),G=J=>`${J>=0?"+":""}${J.toFixed(2)}%`;return o||m?s.jsx("div",{className:"h-64 flex items-center justify-center","data-testid":"positions-loading",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading positions..."})]})}):A.length===0?s.jsx("div",{className:"h-64 flex items-center justify-center","data-testid":"no-positions",children:s.jsxs("div",{className:"text-center",children:[s.jsx(xu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Open Positions"}),s.jsx("p",{className:"text-muted-foreground",children:"Your positions will appear here once you start trading"})]})}):s.jsxs("div",{className:"space-y-4","data-testid":"positions-panel",children:[s.jsxs("div",{className:"space-y-3 p-3 bg-muted/20 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Portfolio Value"}),s.jsx("span",{className:"text-lg font-bold",children:O(E.totalValue)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Unrealized P&L:"}),s.jsx("span",{className:E.totalUnrealizedPnL>=0?"text-emerald-500":"text-red-500",children:O(E.totalUnrealizedPnL)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Day Change:"}),s.jsx("span",{className:E.totalDayChange>=0?"text-emerald-500":"text-red-500",children:O(E.totalDayChange)})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Positions:"}),s.jsx(st,{variant:"outline",children:E.positionCount})]})]}),s.jsx(Lo,{className:"h-80",children:s.jsx("div",{className:"space-y-2",children:A.map(J=>s.jsxs("div",{className:`p-3 border rounded-lg hover:bg-muted/30 transition-colors cursor-pointer ${i===J.id?"bg-muted/50 border-primary":""}`,onClick:()=>r(J.id===i?null:J.id),"data-testid":`position-${J.symbol}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:J.symbol}),s.jsxs(st,{variant:"outline",className:"text-xs",children:[J.allocation.toFixed(1),"%"]})]}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:J.name}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[J.quantity.toLocaleString()," shares @ ",O(J.averagePrice)]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:O(J.marketValue)}),s.jsx("div",{className:`text-sm ${J.unrealizedPnL>=0?"text-emerald-500":"text-red-500"}`,children:O(J.unrealizedPnL)}),s.jsx("div",{className:`text-xs ${J.unrealizedPnL>=0?"text-emerald-500":"text-red-500"}`,children:G(J.unrealizedPnLPercent)})]}),s.jsx("div",{className:"ml-2",children:J.unrealizedPnL>=0?s.jsx(ns,{className:"h-4 w-4 text-emerald-500"}):s.jsx(vi,{className:"h-4 w-4 text-red-500"})})]}),i===J.id&&s.jsxs("div",{className:"mt-3 pt-3 border-t space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Current Price:"}),s.jsx("span",{children:O(J.currentPrice)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Day Change:"}),s.jsx("span",{className:J.dayChangePercent>=0?"text-emerald-500":"text-red-500",children:G(J.dayChangePercent)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Cost Basis:"}),s.jsx("span",{children:O(J.quantity*J.averagePrice)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Allocation:"}),s.jsxs("span",{children:[J.allocation.toFixed(1),"%"]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Portfolio Allocation"}),s.jsxs("span",{children:[J.allocation.toFixed(1),"%"]})]}),s.jsx(zc,{value:Math.min(J.allocation,100),className:"h-1"})]}),J.allocation>25&&s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-yellow-500/10 border border-yellow-500/20 rounded text-xs",children:[s.jsx(Dc,{className:"h-3 w-3 text-yellow-500"}),s.jsx("span",{children:"High concentration risk"})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(rt,{size:"sm",variant:"outline",className:"flex-1 text-emerald-500 border-emerald-500/50",children:"Add Position"}),s.jsx(rt,{size:"sm",variant:"outline",className:"flex-1 text-red-500 border-red-500/50",children:"Reduce Position"})]})]})]},J.id))})}),E.positionCount>0&&s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"p-2 bg-emerald-500/10 border border-emerald-500/20 rounded",children:[s.jsx("div",{className:"text-muted-foreground",children:"Top Gainer"}),s.jsx("div",{className:"font-medium",children:E.topGainer.symbol}),s.jsx("div",{className:"text-emerald-500",children:G(E.topGainer.unrealizedPnLPercent)})]}),s.jsxs("div",{className:"p-2 bg-red-500/10 border border-red-500/20 rounded",children:[s.jsx("div",{className:"text-muted-foreground",children:"Top Loser"}),s.jsx("div",{className:"font-medium",children:E.topLoser.symbol}),s.jsx("div",{className:"text-red-500",children:G(E.topLoser.unrealizedPnLPercent)})]})]})]})}function Bxe({refreshTrigger:e=0}){const{user:t}=sn(),[i,r]=V.useState(!0),[a,o]=V.useState("all"),{data:u}=yt({queryKey:[`/api/orders/user/${t==null?void 0:t.id}`,e],enabled:!!(t!=null&&t.id),refetchInterval:i?5e3:!1}),x=(()=>{const W=[];if(u&&Array.isArray(u)){const we=u.slice(0,10).map(_e=>{var de;return{id:_e.id,timestamp:_e.createdAt,symbol:((de=_e.asset)==null?void 0:de.symbol)||"N/A",side:_e.type,quantity:parseFloat(_e.quantity||"0"),price:parseFloat(_e.price||"0"),status:_e.status,type:_e.orderType||"market"}});W.push(...we)}const Z=["SPIDER","BATMAN","XMEN","AVENG","WOLVR"],pe=new Date;for(let we=0;we<15;we++){const _e=new Date(pe.getTime()-we*3e4),de=Z[Math.floor(Math.random()*Z.length)],Ae=Math.random()>.5,We=50+Math.random()*100,tt=Math.floor(Math.random()*500)+100,Xe={id:`trade_${Date.now()}_${we}`,timestamp:_e.toISOString(),symbol:de,side:Ae?"buy":"sell",quantity:tt,price:We,value:tt*We,type:Math.random()>.7?"limit":"market"};W.push(Xe)}const me=[{id:"alert_1",timestamp:new Date(pe.getTime()-6e4).toISOString(),type:"volume_spike",symbol:"SPIDER",message:"Volume spike detected - 300% above average",severity:"warning"},{id:"alert_2",timestamp:new Date(pe.getTime()-18e4).toISOString(),type:"news",message:"Market News: Comic-Con announces record attendance",severity:"info"},{id:"alert_3",timestamp:new Date(pe.getTime()-3e5).toISOString(),type:"volatility",symbol:"BATMAN",message:"High volatility detected - Price swing 5%+",severity:"high"}];return W.push(...me),W.sort((we,_e)=>new Date(_e.timestamp).getTime()-new Date(we.timestamp).getTime())})(),A=(()=>{switch(a){case"trades":return x.filter(W=>"value"in W);case"orders":return x.filter(W=>"status"in W&&!("severity"in W));case"alerts":return x.filter(W=>"severity"in W);default:return x}})(),E=W=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(W),O=W=>new Date(W).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),G=W=>{const Z=new Date,pe=new Date(W),me=Z.getTime()-pe.getTime(),we=Math.floor(me/1e3),_e=Math.floor(we/60);return we<60?`${we}s ago`:_e<60?`${_e}m ago`:O(W)},te=W=>s.jsxs("div",{className:"p-2 hover:bg-muted/30 rounded transition-colors","data-testid":`trade-execution-${W.symbol}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[W.side==="buy"?s.jsx(ns,{className:"h-4 w-4 text-emerald-500"}):s.jsx(vi,{className:"h-4 w-4 text-red-500"}),s.jsx("span",{className:"font-medium text-sm",children:W.symbol}),s.jsx(st,{variant:"outline",className:"text-xs",children:W.type.toUpperCase()})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:G(W.timestamp)})]}),s.jsxs("div",{className:"mt-1 text-sm",children:[s.jsxs("span",{className:W.side==="buy"?"text-emerald-500":"text-red-500",children:[W.side.toUpperCase()," ",W.quantity.toLocaleString()]}),s.jsx("span",{className:"text-muted-foreground",children:" @ "}),s.jsx("span",{className:"font-medium",children:E(W.price)})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Total: ",E(W.value)]})]},W.id),Q=W=>s.jsxs("div",{className:"p-2 hover:bg-muted/30 rounded transition-colors","data-testid":`order-update-${W.symbol}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[W.status==="filled"?s.jsx(BP,{className:"h-4 w-4 text-emerald-500"}):W.status==="cancelled"?s.jsx(pW,{className:"h-4 w-4 text-red-500"}):s.jsx(pn,{className:"h-4 w-4 text-yellow-500"}),s.jsx("span",{className:"font-medium text-sm",children:W.symbol}),s.jsx(st,{variant:W.status==="filled"?"default":W.status==="cancelled"?"destructive":"secondary",className:"text-xs",children:W.status.replace("_"," ").toUpperCase()})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:G(W.timestamp)})]}),s.jsxs("div",{className:"mt-1 text-sm",children:[s.jsxs("span",{className:W.side==="buy"?"text-emerald-500":"text-red-500",children:[W.side.toUpperCase()," ",W.quantity.toLocaleString()]}),s.jsx("span",{className:"text-muted-foreground",children:" @ "}),s.jsx("span",{className:"font-medium",children:E(W.price)})]}),s.jsxs("div",{className:"text-xs text-muted-foreground capitalize",children:[W.type," order"]})]},W.id),J=W=>s.jsxs("div",{className:`p-2 rounded transition-colors ${W.severity==="high"?"bg-red-500/10 border border-red-500/20":W.severity==="warning"?"bg-yellow-500/10 border border-yellow-500/20":"bg-blue-500/10 border border-blue-500/20"}`,"data-testid":`market-alert-${W.type}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sg,{className:`h-4 w-4 ${W.severity==="high"?"text-red-500":W.severity==="warning"?"text-yellow-500":"text-blue-500"}`}),W.symbol&&s.jsx("span",{className:"font-medium text-sm",children:W.symbol}),s.jsx(st,{variant:"outline",className:"text-xs capitalize",children:W.type.replace("_"," ")})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:G(W.timestamp)})]}),s.jsx("div",{className:"mt-1 text-sm",children:W.message})]},W.id),H=W=>"value"in W?te(W):"status"in W&&!("severity"in W)?Q(W):"severity"in W?J(W):null;return s.jsxs("div",{className:"space-y-4","data-testid":"trading-feed-component",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rt,{variant:i?"default":"outline",size:"sm",onClick:()=>r(!i),"data-testid":"button-toggle-live-feed",children:i?s.jsxs(s.Fragment,{children:[s.jsx(cee,{className:"h-3 w-3 mr-1"}),"Live"]}):s.jsxs(s.Fragment,{children:[s.jsx(dee,{className:"h-3 w-3 mr-1"}),"Paused"]})}),s.jsxs(st,{variant:"outline",className:"text-xs",children:[s.jsx(Ta,{className:"h-3 w-3 mr-1"}),A.length," items"]})]}),s.jsx(Ma,{value:a,onValueChange:W=>o(W),children:s.jsxs(Ea,{className:"h-8",children:[s.jsx(Ls,{value:"all",className:"text-xs px-2","data-testid":"filter-all",children:"All"}),s.jsx(Ls,{value:"trades",className:"text-xs px-2","data-testid":"filter-trades",children:"Trades"}),s.jsx(Ls,{value:"orders",className:"text-xs px-2","data-testid":"filter-orders",children:"Orders"}),s.jsx(Ls,{value:"alerts",className:"text-xs px-2","data-testid":"filter-alerts",children:"Alerts"})]})})]}),s.jsx(Lo,{className:"h-80",children:A.length===0?s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ta,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No feed data available"})]})}):s.jsx("div",{className:"space-y-1",children:A.map(H)})}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Last update: ",new Date().toLocaleTimeString()]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{children:i?"Auto-refresh: 5s":"Manual refresh"})})]})]})}function Wxe({selectedAsset:e,onAssetSelect:t,isMarketOpen:i,onRefresh:r}){var G;const[a,o]=V.useState(""),{data:u}=yt({queryKey:["/api/assets",e],queryFn:()=>fetch(`/api/assets/${e}`).then(te=>te.json()),enabled:!!e}),{data:m}=yt({queryKey:["/api/market/prices",e],queryFn:()=>fetch(`/api/market/prices?assetIds=${e}`).then(te=>te.json()),enabled:!!e,refetchInterval:5e3}),{data:x}=yt({queryKey:["/api/assets","search",a],queryFn:()=>{const te=a?`/api/assets?search=${encodeURIComponent(a)}&limit=20`:"/api/assets?limit=20";return fetch(te).then(Q=>Q.json())}}),w=(G=m==null?void 0:m.data)==null?void 0:G[0],A=w?parseFloat(w.dayChange||"0"):0,E=w?parseFloat(w.dayChangePercent||"0"):0,O=te=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(te);return s.jsx("div",{className:"border-b bg-card/50 backdrop-blur-sm","data-testid":"terminal-header",children:s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(Hc,{value:e,onValueChange:t,children:[s.jsx(Dl,{className:"w-48","data-testid":"select-asset",children:s.jsx(Vc,{placeholder:"Select Asset"})}),s.jsxs(Rl,{children:[s.jsx("div",{className:"p-2",children:s.jsx(ca,{placeholder:"Search assets...",value:a,onChange:te=>o(te.target.value),className:"mb-2","data-testid":"input-search-assets"})}),x&&Array.isArray(x)&&x.map(te=>s.jsx(Si,{value:te.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:te.symbol}),s.jsx("span",{className:"text-muted-foreground text-sm",children:te.name})]})},te.id))]})]})}),u&&s.jsxs("div",{className:"flex items-center gap-4","data-testid":"current-asset-info",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold",children:u.symbol}),s.jsx("p",{className:"text-sm text-muted-foreground",children:u.name})]}),w&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl font-bold",children:O(parseFloat(w.currentPrice))}),s.jsxs("div",{className:`flex items-center gap-1 ${A>=0?"text-emerald-500":"text-red-500"}`,children:[A>=0?s.jsx(ns,{className:"h-4 w-4"}):s.jsx(vi,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-medium",children:[O(Math.abs(A))," (",Math.abs(E).toFixed(2),"%)"]})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(st,{variant:i?"default":"secondary","data-testid":"market-status",children:[s.jsx(pn,{className:"h-3 w-3 mr-1"}),i?"Market Open":"Market Closed"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date().toLocaleTimeString("en-US",{timeStyle:"medium",timeZone:"America/New_York"})," EST"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(rt,{variant:"ghost",size:"sm",onClick:r,"data-testid":"button-refresh",children:s.jsx(UP,{className:"h-4 w-4"})}),s.jsx(rt,{variant:"ghost",size:"sm","data-testid":"button-alerts",children:s.jsx(zP,{className:"h-4 w-4"})}),s.jsx(rt,{variant:"ghost",size:"sm","data-testid":"button-settings",children:s.jsx(LC,{className:"h-4 w-4"})})]})]})]})})}function Hxe(){sn();const{toast:e}=bn(),[t,i]=V.useState("SPIDER"),[r,a]=V.useState(!1),[o,u]=V.useState(0),m=()=>{const w=new Date().getHours();return w>=9&&w<16};return V.useEffect(()=>{const x=w=>{if(!(w.target instanceof HTMLInputElement||w.target instanceof HTMLTextAreaElement))switch(w.key){case"F":w.ctrlKey&&(w.preventDefault(),a(!r));break;case"R":w.ctrlKey&&(w.preventDefault(),u(A=>A+1));break;case"Escape":r&&a(!1);break}};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[r]),r?s.jsxs("div",{className:"h-screen w-screen bg-background","data-testid":"terminal-fullscreen-chart",children:[s.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[s.jsxs("h2",{className:"",children:["Chart View - ",t]}),s.jsxs(rt,{variant:"outline",size:"sm",onClick:()=>a(!1),"data-testid":"button-exit-fullscreen",children:[s.jsx(aee,{className:"h-4 w-4 mr-2"}),"Exit Fullscreen"]})]}),s.jsx("div",{className:"h-[calc(100vh-60px)]",children:s.jsx(O4,{symbol:t,onAssetSelect:i,isFullscreen:!0})})]}):s.jsxs("div",{className:"h-[calc(100vh-80px)] flex flex-col","data-testid":"page-trading-terminal",children:[s.jsx(Wxe,{selectedAsset:t,onAssetSelect:i,isMarketOpen:m(),onRefresh:()=>u(x=>x+1)}),s.jsx("div",{className:"flex-1 p-4",children:s.jsxs(Xge,{direction:"horizontal",className:"h-full",children:[s.jsx(vA,{defaultSize:45,minSize:30,children:s.jsxs(Se,{className:"h-full","data-testid":"panel-chart",children:[s.jsx(Be,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ze,{className:"text-sm ",children:"Price Chart"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(st,{variant:m()?"default":"secondary",children:[s.jsx(pn,{className:"h-3 w-3 mr-1"}),m()?"Live":"Closed"]}),s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>a(!0),"data-testid":"button-fullscreen-chart",children:s.jsx(vW,{className:"h-4 w-4"})})]})]})}),s.jsx(Pe,{className:"p-0",children:s.jsx("div",{className:"h-[400px]",children:s.jsx(O4,{symbol:t,onAssetSelect:i,refreshTrigger:o})})})]})}),s.jsx(L4,{}),s.jsx(vA,{defaultSize:25,minSize:20,children:s.jsxs("div",{className:"h-full space-y-4",children:[s.jsxs(Se,{className:"flex-1","data-testid":"panel-order-book",children:[s.jsx(Be,{className:"pb-2",children:s.jsx(Ze,{className:"text-sm ",children:"Order Book"})}),s.jsx(Pe,{children:s.jsx(pxe,{symbol:t,refreshTrigger:o})})]}),s.jsxs(Se,{className:"flex-1","data-testid":"panel-order-entry",children:[s.jsx(Be,{className:"pb-2",children:s.jsx(Ze,{className:"text-sm ",children:"Order Entry"})}),s.jsx(Pe,{children:s.jsx(Fxe,{selectedAsset:t,onOrderPlaced:x=>{u(w=>w+1),e({title:"Order Placed",description:`Order ${x} submitted successfully`})}})})]})]})}),s.jsx(L4,{}),s.jsx(vA,{defaultSize:30,minSize:25,children:s.jsxs("div",{className:"h-full space-y-4",children:[s.jsxs(Se,{className:"flex-1","data-testid":"panel-market-watch",children:[s.jsx(Be,{className:"pb-2",children:s.jsx(Ze,{className:"text-sm ",children:"Market Watch"})}),s.jsx(Pe,{children:s.jsx(mxe,{onAssetSelect:i,refreshTrigger:o})})]}),s.jsx(Se,{className:"flex-1","data-testid":"panel-positions-feed",children:s.jsx(Pe,{className:"p-0",children:s.jsxs(Ma,{defaultValue:"positions",className:"h-full",children:[s.jsx("div",{className:"px-4 pt-4",children:s.jsxs(Ea,{className:"grid w-full grid-cols-2",children:[s.jsx(Ls,{value:"positions","data-testid":"tab-positions",children:"Positions"}),s.jsx(Ls,{value:"feed","data-testid":"tab-trading-feed",children:"Trading Feed"})]})}),s.jsx(qi,{value:"positions",className:"px-4 pb-4",children:s.jsx(zxe,{refreshTrigger:o})}),s.jsx(qi,{value:"feed",className:"px-4 pb-4",children:s.jsx(Bxe,{refreshTrigger:o})})]})})})]})})]})})]})}var Eq={exports:{}};(function(e,t){(function(i,r){i._Highcharts=r(),e.exports=i._Highcharts})(typeof window>"u"?TT:window,()=>(()=>{var Im;let i,r;var a,o,u,m,x,w,A,E,O,G,te,Q,J,H,W,Z,pe,me,we={};we.d=(F,l)=>{for(var h in l)we.o(l,h)&&!we.o(F,h)&&Object.defineProperty(F,h,{enumerable:!0,get:l[h]})},we.o=(F,l)=>Object.prototype.hasOwnProperty.call(F,l);var _e={};we.d(_e,{default:()=>V2}),function(F){var l,h,f,v,_,k,S;F.SVG_NS="http://www.w3.org/2000/svg",F.product="Highcharts",F.version="12.4.0",F.win=typeof window<"u"?window:{},F.doc=F.win.document,F.svg=!!((f=(h=(l=F.doc)==null?void 0:l.createElementNS)==null?void 0:h.call(l,F.SVG_NS,"svg"))!=null&&f.createSVGRect),F.pageLang=(k=(_=(v=F.doc)==null?void 0:v.documentElement)==null?void 0:_.closest("[lang]"))==null?void 0:k.lang,F.userAgent=((S=F.win.navigator)==null?void 0:S.userAgent)||"",F.isChrome=F.win.chrome,F.isFirefox=F.userAgent.indexOf("Firefox")!==-1,F.isMS=/(edge|msie|trident)/i.test(F.userAgent)&&!F.win.opera,F.isSafari=!F.isChrome&&F.userAgent.indexOf("Safari")!==-1,F.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(F.userAgent),F.isWebKit=F.userAgent.indexOf("AppleWebKit")!==-1,F.deg2rad=2*Math.PI/360,F.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],F.noop=function(){},F.supportsPassiveEvents=function(){let M=!1;if(!F.isMS){let R=Object.defineProperty({},"passive",{get:function(){M=!0}});F.win.addEventListener&&F.win.removeEventListener&&(F.win.addEventListener("testPassive",F.noop,R),F.win.removeEventListener("testPassive",F.noop,R))}return M}(),F.charts=[],F.composed=[],F.dateFormats={},F.seriesTypes={},F.symbolSizes={},F.chartCount=0}(a||(a={}));let de=a,{charts:Ae,doc:We,win:tt}=de;function Xe(F,l,h,f){let v=l?"Highcharts error":"Highcharts warning";F===32&&(F=`${v}: Deprecated member`);let _=Je(F),k=_?`${v} #${F}: www.highcharts.com/errors/${F}/`:F.toString();if(f!==void 0){let S="";_&&(k+="?"),qt(f,function(M,R){S+=`
 - ${R}: ${M}`,_&&(k+=encodeURI(R)+"="+encodeURI(M))}),k+=S}fs(de,"displayError",{chart:h,code:F,message:k,params:f},function(){if(l)throw Error(k);tt.console&&Xe.messages.indexOf(k)===-1&&console.warn(k)}),Xe.messages.push(k)}function lt(F,l){return parseInt(F,l||10)}function Qe(F){return typeof F=="string"}function wt(F){let l=Object.prototype.toString.call(F);return l==="[object Array]"||l==="[object Array Iterator]"}function ot(F,l){return!!F&&typeof F=="object"&&(!l||!wt(F))}function Tt(F){return ot(F)&&typeof F.nodeType=="number"}function ve(F){let l=F==null?void 0:F.constructor;return!!(ot(F,!0)&&!Tt(F)&&(l!=null&&l.name)&&l.name!=="Object")}function Je(F){return typeof F=="number"&&!isNaN(F)&&F<1/0&&F>-1/0}function mt(F){return F!=null}function Rt(F,l,h){let f,v=Qe(l)&&!mt(h),_=(k,S)=>{mt(k)?F.setAttribute(S,k):v?(f=F.getAttribute(S))||S!=="class"||(f=F.getAttribute(S+"Name")):F.removeAttribute(S)};return Qe(l)?_(h,l):qt(l,_),f}function ts(F){return wt(F)?F:[F]}function pt(F,l){let h;for(h in F||(F={}),l)F[h]=l[h];return F}function Lt(){let F=arguments,l=F.length;for(let h=0;h<l;h++){let f=F[h];if(f!=null)return f}}function Jt(F,l){pt(F.style,l)}function Bt(F){return Math.pow(10,Math.floor(Math.log(F)/Math.LN10))}function ct(F,l){return F>1e14?F:parseFloat(F.toPrecision(l||14))}(Xe||(Xe={})).messages=[],Math.easeInOutSine=function(F){return-.5*(Math.cos(Math.PI*F)-1)};let Ut=Array.prototype.find?function(F,l){return F.find(l)}:function(F,l){let h,f=F.length;for(h=0;h<f;h++)if(l(F[h],h))return F[h]};function qt(F,l,h){for(let f in F)Object.hasOwnProperty.call(F,f)&&l.call(h||F[f],F[f],f,F)}function es(F,l,h){function f(k,S){let M=F.removeEventListener;M&&M.call(F,k,S,!1)}function v(k){let S,M;F.nodeName&&(l?(S={})[l]=!0:S=k,qt(S,function(R,$){if(k[$])for(M=k[$].length;M--;)f($,k[$][M].fn)}))}let _=typeof F=="function"&&F.prototype||F;if(Object.hasOwnProperty.call(_,"hcEvents")){let k=_.hcEvents;if(l){let S=k[l]||[];h?(k[l]=S.filter(function(M){return h!==M.fn}),f(l,h)):(v(k),k[l]=[])}else v(k),delete _.hcEvents}}function fs(F,l,h,f){if(h=h||{},(We==null?void 0:We.createEvent)&&(F.dispatchEvent||F.fireEvent&&F!==de)){let v=We.createEvent("Events");v.initEvent(l,!0,!0),h=pt(v,h),F.dispatchEvent?F.dispatchEvent(h):F.fireEvent(l,h)}else if(F.hcEvents){h.target||pt(h,{preventDefault:function(){h.defaultPrevented=!0},target:F,type:l});let v=[],_=F,k=!1;for(;_.hcEvents;)Object.hasOwnProperty.call(_,"hcEvents")&&_.hcEvents[l]&&(v.length&&(k=!0),v.unshift.apply(v,_.hcEvents[l])),_=Object.getPrototypeOf(_);k&&v.sort((S,M)=>S.order-M.order),v.forEach(S=>{S.fn.call(F,h)===!1&&h.preventDefault()})}f&&!h.defaultPrevented&&f.call(F,h)}let ys=function(){let F=Math.random().toString(36).substring(2,9)+"-",l=0;return function(){return"highcharts-"+(i?"":F)+l++}}();tt.jQuery&&(tt.jQuery.fn.highcharts=function(){let F=[].slice.call(arguments);if(this[0])return F[0]?(new de[Qe(F[0])?F.shift():"Chart"](this[0],F[0],F[1]),this):Ae[Rt(this[0],"data-highcharts-chart")]});let ft={addEvent:function(F,l,h,f={}){let v=typeof F=="function"&&F.prototype||F;Object.hasOwnProperty.call(v,"hcEvents")||(v.hcEvents={});let _=v.hcEvents;de.Point&&F instanceof de.Point&&F.series&&F.series.chart&&(F.series.chart.runTrackerClick=!0);let k=F.addEventListener;k&&k.call(F,l,h,!!de.supportsPassiveEvents&&{passive:f.passive===void 0?l.indexOf("touch")!==-1:f.passive,capture:!1}),_[l]||(_[l]=[]);let S={fn:h,order:typeof f.order=="number"?f.order:1/0};return _[l].push(S),_[l].sort((M,R)=>M.order-R.order),function(){es(F,l,h)}},arrayMax:function(F){let l=F.length,h=F[0];for(;l--;)F[l]>h&&(h=F[l]);return h},arrayMin:function(F){let l=F.length,h=F[0];for(;l--;)F[l]<h&&(h=F[l]);return h},attr:Rt,clamp:function(F,l,h){return F>l?F<h?F:h:l},clearTimeout:function(F){mt(F)&&clearTimeout(F)},correctFloat:ct,createElement:function(F,l,h,f,v){let _=We.createElement(F);return l&&pt(_,l),v&&Jt(_,{padding:"0",border:"none",margin:"0"}),h&&Jt(_,h),f&&f.appendChild(_),_},crisp:function(F,l=0,h){let f=l%2/2,v=h?-1:1;return(Math.round(F*v-f)+f)*v},css:Jt,defined:mt,destroyObjectProperties:function(F,l,h){qt(F,function(f,v){f!==l&&(f!=null&&f.destroy)&&f.destroy(),(f!=null&&f.destroy||!h)&&delete F[v]})},diffObjects:function(F,l,h,f){let v={};return function _(k,S,M,R){let $=h?S:k;qt(k,function(z,K){if(!R&&f&&f.indexOf(K)>-1&&S[K]){z=ts(z),M[K]=[];for(let ee=0;ee<Math.max(z.length,S[K].length);ee++)S[K][ee]&&(z[ee]===void 0?M[K][ee]=S[K][ee]:(M[K][ee]={},_(z[ee],S[K][ee],M[K][ee],R+1)))}else ot(z,!0)&&!z.nodeType?(M[K]=wt(z)?[]:{},_(z,S[K]||{},M[K],R+1),Object.keys(M[K]).length===0&&(K!=="colorAxis"||R!==0)&&delete M[K]):(k[K]!==S[K]||K in k&&!(K in S))&&K!=="__proto__"&&K!=="constructor"&&(M[K]=$[K])})}(F,l,v,0),v},discardElement:function(F){var l;(l=F==null?void 0:F.parentElement)==null||l.removeChild(F)},erase:function(F,l){let h=F.length;for(;h--;)if(F[h]===l){F.splice(h,1);break}},error:Xe,extend:pt,extendClass:function(F,l){let h=function(){};return h.prototype=new F,pt(h.prototype,l),h},find:Ut,fireEvent:fs,getAlignFactor:(F="")=>({center:.5,right:1,middle:.5,bottom:1})[F]||0,getClosestDistance:function(F,l){let h,f,v,_=!l;return F.forEach(k=>{if(k.length>1)for(v=k.length-1;v>0;v--)(f=k[v]-k[v-1])<0&&!_?(l==null||l(),l=void 0):f&&(h===void 0||f<h)&&(h=f)}),h},getMagnitude:Bt,getNestedProperty:function(F,l){let h=F.split(".");for(;h.length&&mt(l);){let f=h.shift();if(f===void 0||f==="__proto__")return;if(f==="this"){let _;return ot(l)&&(_=l["@this"]),_??l}let v=l[f.replace(/[\\'"]/g,"")];if(!mt(v)||typeof v=="function"||typeof v.nodeType=="number"||v===tt)return;l=v}return l},getStyle:function F(l,h,f){var k;let v;if(h==="width"){let S=Math.min(l.offsetWidth,l.scrollWidth),M=(k=l.getBoundingClientRect)==null?void 0:k.call(l).width;return M<S&&M>=S-1&&(S=Math.floor(M)),Math.max(0,S-(F(l,"padding-left",!0)||0)-(F(l,"padding-right",!0)||0))}if(h==="height")return Math.max(0,Math.min(l.offsetHeight,l.scrollHeight)-(F(l,"padding-top",!0)||0)-(F(l,"padding-bottom",!0)||0));let _=tt.getComputedStyle(l,void 0);return _&&(v=_.getPropertyValue(h),Lt(f,h!=="opacity")&&(v=lt(v))),v},insertItem:function(F,l){let h,f=F.options.index,v=l.length;for(h=F.options.isInternal?v:0;h<v+1;h++)if(!l[h]||Je(f)&&f<Lt(l[h].options.index,l[h]._i)||l[h].options.isInternal){l.splice(h,0,F);break}return h},isArray:wt,isClass:ve,isDOMElement:Tt,isFunction:function(F){return typeof F=="function"},isNumber:Je,isObject:ot,isString:Qe,merge:function(F,...l){let h,f=[F,...l],v={},_=function(S,M){return typeof S!="object"&&(S={}),qt(M,function(R,$){$!=="__proto__"&&$!=="constructor"&&(!ot(R,!0)||ve(R)||Tt(R)?S[$]=M[$]:S[$]=_(S[$]||{},R))}),S};F===!0&&(v=f[1],f=Array.prototype.slice.call(f,2));let k=f.length;for(h=0;h<k;h++)v=_(v,f[h]);return v},normalizeTickInterval:function(F,l,h,f,v){let _,k=F;h=Lt(h,Bt(F));let S=F/h;for(!l&&(l=v?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],f===!1&&(h===1?l=l.filter(function(M){return M%1==0}):h<=.1&&(l=[1/h]))),_=0;_<l.length&&(k=l[_],(!v||!(k*h>=F))&&(v||!(S<=(l[_]+(l[_+1]||l[_]))/2)));_++);return ct(k*h,-Math.round(Math.log(.001)/Math.LN10))},objectEach:qt,offset:function(F){let l=We.documentElement,h=F.parentElement||F.parentNode?F.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:h.top+(tt.pageYOffset||l.scrollTop)-(l.clientTop||0),left:h.left+(tt.pageXOffset||l.scrollLeft)-(l.clientLeft||0),width:h.width,height:h.height}},pad:function(F,l,h){return Array((l||2)+1-String(F).replace("-","").length).join(h||"0")+F},pick:Lt,pInt:lt,pushUnique:function(F,l){return 0>F.indexOf(l)&&!!F.push(l)},relativeLength:function(F,l,h){return/%$/.test(F)?l*parseFloat(F)/100+(h||0):parseFloat(F)},removeEvent:es,replaceNested:function(F,...l){let h,f;do for(f of(h=F,l))F=F.replace(f[0],f[1]);while(F!==h);return F},splat:ts,stableSort:function(F,l){let h,f,v=F.length;for(f=0;f<v;f++)F[f].safeI=f;for(F.sort(function(_,k){return(h=l(_,k))===0?_.safeI-k.safeI:h}),f=0;f<v;f++)delete F[f].safeI},syncTimeout:function(F,l,h){return l>0?setTimeout(F,l,h):(F.call(0,h),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(F){return Qe(F)?F.substring(0,1).toUpperCase()+F.substring(1):String(F)},uniqueKey:ys,useSerialIds:function(F){return i=Lt(F,i)},wrap:function(F,l,h){let f=F[l];F[l]=function(){let v=arguments,_=this;return h.apply(this,[function(){return f.apply(_,arguments.length?arguments:v)}].concat([].slice.call(arguments)))}}},{pageLang:Ks,win:Xi}=de,{defined:wr,error:Ir,extend:Ii,isNumber:pr,isObject:Wl,isString:Hr,merge:Oe,objectEach:Me,pad:nt,splat:Ft,timeUnits:Et,ucfirst:St}=ft,Gt=de.isSafari&&Xi.Intl&&!Xi.Intl.DateTimeFormat.prototype.formatRange,Fs=F=>F.main===void 0,bi=class{constructor(F,l){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=Xi.Date,this.update(F),this.lang=l}update(F={}){this.dTLCache={},this.options=F=Oe(!0,this.options,F);let{timezoneOffset:l,useUTC:h,locale:f}=F;this.Date=F.Date||Xi.Date||Date;let v=F.timezone;wr(h)&&(v=h?"UTC":void 0),l&&l%60==0&&(v="Etc/GMT"+(l>0?"+":"")+l/60),this.variableTimezone=v!=="UTC"&&(v==null?void 0:v.indexOf("Etc/GMT"))!==0,this.timezone=v,this.lang&&f&&(this.lang.locale=f),["months","shortMonths","weekdays","shortWeekdays"].forEach(_=>{let k=/months/i.test(_),S=/short/.test(_),M={timeZone:"UTC"};M[k?"month":"weekday"]=S?"short":"long",this[_]=(k?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(R=>this.dateFormat(M,(k?31:1)*24*36e5*R))})}toParts(F){let[l,h,f,v,_,k,S]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},F,"es").split(/(?:, | |\/|:)/g);return[v,f-1,h,_,k,S,Math.floor(Number(F)||0)%1e3,"DLMXJVS".indexOf(l)].map(Number)}dateTimeFormat(F,l,h=this.options.locale||Ks){let f=JSON.stringify(F)+h;Hr(F)&&(F=this.str2dtf(F));let v=this.dTLCache[f];if(!v){F.timeZone??(F.timeZone=this.timezone);try{v=new Intl.DateTimeFormat(h,F)}catch(_){/Invalid time zone/i.test(_.message)?(Ir(34),F.timeZone="UTC",v=new Intl.DateTimeFormat(h,F)):Ir(_.message,!1)}}return this.dTLCache[f]=v,(v==null?void 0:v.format(l))||""}str2dtf(F,l={}){let h={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(h).forEach(f=>{F.indexOf(f)!==-1&&Ii(l,h[f])}),l}makeTime(F,l,h=1,f=0,v,_,k){let S=this.Date.UTC(F,l,h,f,v||0,_||0,k||0);if(this.timezone!=="UTC"){let M=this.getTimezoneOffset(S);if(S+=M,[2,3,8,9,10,11].indexOf(l)!==-1&&(f<5||f>20)){let R=this.getTimezoneOffset(S);M!==R?S+=R-M:M-36e5!==this.getTimezoneOffset(S-36e5)||Gt||(S-=36e5)}}return S}parse(F){if(!Hr(F))return F??void 0;let l=(F=F.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(F),h=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(F);l||h||(F+="Z");let f=Date.parse(F);if(pr(f))return f+(!l||h?this.getTimezoneOffset(f):0)}getTimezoneOffset(F){if(this.timezone!=="UTC"){let[l,h,f,v,_=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},F,"en").split(/(GMT|:)/).map(Number),k=-(60*(f+_/60)*6e4);if(pr(k))return k}return 0}dateFormat(F,l,h){let f=this.lang;if(!wr(l)||isNaN(l))return(f==null?void 0:f.invalidDate)||"";if(Hr(F=F??"%Y-%m-%d %H:%M:%S")){let v,_=/%\[([a-zA-Z]+)\]/g;for(;v=_.exec(F);)F=F.replace(v[0],this.dateTimeFormat(v[1],l,f==null?void 0:f.locale))}if(Hr(F)&&F.indexOf("%")!==-1){let v=this,[_,k,S,M,R,$,z,K]=this.toParts(l),ee=(f==null?void 0:f.weekdays)||this.weekdays,re=(f==null?void 0:f.shortWeekdays)||this.shortWeekdays,he=(f==null?void 0:f.months)||this.months,ce=(f==null?void 0:f.shortMonths)||this.shortMonths;Me(Ii({a:re?re[K]:ee[K].substr(0,3),A:ee[K],d:nt(S),e:nt(S,2," "),w:K,v:(f==null?void 0:f.weekFrom)??"",b:ce[k],B:he[k],m:nt(k+1),o:k+1,y:_.toString().substr(2,2),Y:_,H:nt(M),k:M,I:nt(M%12||12),l:M%12||12,M:nt(R),p:M<12?"AM":"PM",P:M<12?"am":"pm",S:nt($),L:nt(z,3)},de.dateFormats),function(ae,fe){if(Hr(F))for(;F.indexOf("%"+fe)!==-1;)F=F.replace("%"+fe,typeof ae=="function"?ae.call(v,l):ae)})}else if(Wl(F)){let v=(this.getTimezoneOffset(l)||0)/36e5,_=this.timezone||"Etc/GMT"+(v>=0?"+":"")+v,{prefix:k="",suffix:S=""}=F;F=k+this.dateTimeFormat(Ii({timeZone:_},F),l)+S}return h?St(F):F}resolveDTLFormat(F){return Wl(F,!0)?Wl(F,!0)&&Fs(F)?{main:F}:F:{main:(F=Ft(F))[0],from:F[1],to:F[2]}}getDateFormat(F,l,h,f){let v=this.dateFormat("%m-%d %H:%M:%S.%L",l),_="01-01 00:00:00.000",k={millisecond:15,second:12,minute:9,hour:6,day:3},S="millisecond",M=S;for(S in Et){if(F&&F===Et.week&&+this.dateFormat("%w",l)===h&&v.substr(6)===_.substr(6)){S="week";break}if(F&&Et[S]>F){S=M;break}if(k[S]&&v.substr(k[S])!==_.substr(k[S]))break;S!=="week"&&(M=S)}return this.resolveDTLFormat(f[S]).main}},{defined:Ti,extend:Dg,timeUnits:fi}=ft,rn=class extends bi{getTimeTicks(F,l,h,f){let v=this,_=[],k={},{count:S=1,unitRange:M}=F,[R,$,z,K,ee,re]=v.toParts(l),he=(l||0)%1e3,ce;if(f??(f=1),Ti(l)){if(he=M>=fi.second?0:S*Math.floor(he/S),M>=fi.second&&(re=M>=fi.minute?0:S*Math.floor(re/S)),M>=fi.minute&&(ee=M>=fi.hour?0:S*Math.floor(ee/S)),M>=fi.hour&&(K=M>=fi.day?0:S*Math.floor(K/S)),M>=fi.day&&(z=M>=fi.month?1:Math.max(1,S*Math.floor(z/S))),M>=fi.month&&($=M>=fi.year?0:S*Math.floor($/S)),M>=fi.year&&(R-=R%S),M===fi.week){S&&(l=v.makeTime(R,$,z,K,ee,re,he));let ge=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},l,"es"),Ie="DLMXJVS".indexOf(ge);z+=-Ie+f+(Ie<f?-7:0)}l=v.makeTime(R,$,z,K,ee,re,he),v.variableTimezone&&Ti(h)&&(ce=h-l>4*fi.month||v.getTimezoneOffset(l)!==v.getTimezoneOffset(h));let ae=l,fe=1;for(;ae<h;)_.push(ae),M===fi.year?ae=v.makeTime(R+fe*S,0):M===fi.month?ae=v.makeTime(R,$+fe*S):ce&&(M===fi.day||M===fi.week)?ae=v.makeTime(R,$,z+fe*S*(M===fi.day?1:7)):ce&&M===fi.hour&&S>1?ae=v.makeTime(R,$,z,K+fe*S):ae+=M*S,fe++;_.push(ae),M<=fi.hour&&_.length<1e4&&_.forEach(ge=>{ge%18e5==0&&v.dateFormat("%H%M%S%L",ge)==="000000000"&&(k[ge]="day")})}return _.info=Dg(F,{higherRanks:k,totalRange:M*S}),_}},{isTouchDevice:Rg}=de,{fireEvent:qc,merge:Fg}=ft,Hn={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:F=>Math.sqrt(1-Math.pow(F-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:Rg?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},zg=new rn(Hn.time,Hn.lang),Vn={defaultOptions:Hn,defaultTime:zg,getOptions:function(){return Hn},setOptions:function(F){var l;return qc(de,"setOptions",{options:F}),Fg(!0,Hn,F),F.time&&zg.update(Hn.time),F.lang&&"locale"in F.lang&&zg.update({locale:F.lang.locale}),(l=F.lang)!=null&&l.chartTitle&&(Hn.title={...Hn.title,text:F.lang.chartTitle}),Hn}},{win:zv}=de,{isNumber:_u,isString:Fi,merge:Bg,pInt:Vr,defined:Bv}=ft,Wv=(F,l,h)=>`color-mix(in srgb,${F},${l} ${100*h}%)`,ua=F=>Fi(F)&&!!F&&F!=="none";class ui{static parse(l){return l?new ui(l):ui.None}constructor(l){let h,f,v,_;this.rgba=[NaN,NaN,NaN,NaN],this.input=l;let k=de.Color;if(k&&k!==ui)return new k(l);if(typeof l=="object"&&l.stops!==void 0)this.stops=l.stops.map(S=>new ui(S[1]));else if(typeof l=="string")for(this.input=l=ui.names[l.toLowerCase()]||l,v=ui.parsers.length;v--&&!f;)(h=(_=ui.parsers[v]).regex.exec(l))&&(f=_.parse(h));f&&(this.rgba=f)}get(l){let h=this.input,f=this.rgba;if(this.output)return this.output;if(typeof h=="object"&&this.stops!==void 0){let v=Bg(h);return v.stops=[].slice.call(v.stops),this.stops.forEach((_,k)=>{v.stops[k]=[v.stops[k][0],_.get(l)]}),v}return f&&_u(f[0])?l!=="rgb"&&(l||f[3]!==1)?l==="a"?`${f[3]}`:"rgba("+f.join(",")+")":"rgb("+f[0]+","+f[1]+","+f[2]+")":h}brighten(l){let h=this.rgba;if(this.stops)this.stops.forEach(function(f){f.brighten(l)});else if(_u(l)&&l!==0)if(_u(h[0]))for(let f=0;f<3;f++)h[f]+=Vr(255*l),h[f]<0&&(h[f]=0),h[f]>255&&(h[f]=255);else ui.useColorMix&&ua(this.input)&&(this.output=Wv(this.input,l>0?"white":"black",Math.abs(l)));return this}setOpacity(l){return this.rgba[3]=l,this}tweenTo(l,h){let f=this.rgba,v=l.rgba;if(!_u(f[0])||!_u(v[0]))return ui.useColorMix&&ua(this.input)&&ua(l.input)&&h<.99?Wv(this.input,l.input,h):l.input||"none";let _=v[3]!==1||f[3]!==1,k=(M,R)=>M+(f[R]-M)*(1-h),S=v.slice(0,3).map(k).map(Math.round);return _&&S.push(k(v[3],3)),(_?"rgba(":"rgb(")+S.join(",")+")"}}ui.names={white:"#ffffff",black:"#000000"},ui.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(F){return[Vr(F[1]),Vr(F[2]),Vr(F[3]),parseFloat(F[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(F){return[Vr(F[1]),Vr(F[2]),Vr(F[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(F){return[Vr(F[1]+F[1],16),Vr(F[2]+F[2],16),Vr(F[3]+F[3],16),Bv(F[4])?Vr(F[4]+F[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(F){return[Vr(F[1],16),Vr(F[2],16),Vr(F[3],16),Bv(F[4])?Vr(F[4],16)/255:1]}}],ui.useColorMix=(Im=zv.CSS)==null?void 0:Im.supports("color","color-mix(in srgb,red,blue 9%)"),ui.None=new ui("");let{parse:zi}=ui,{win:Tj}=de,{isNumber:Hl,objectEach:Pj}=ft;class $r{constructor(l,h,f){this.pos=NaN,this.options=h,this.elem=l,this.prop=f}dSetter(){let l=this.paths,h=l==null?void 0:l[0],f=l==null?void 0:l[1],v=this.now||0,_=[];if(v!==1&&h&&f)if(h.length===f.length&&v<1)for(let k=0;k<f.length;k++){let S=h[k],M=f[k],R=[];for(let $=0;$<M.length;$++){let z=S[$],K=M[$];Hl(z)&&Hl(K)&&(M[0]!=="A"||$!==4&&$!==5)?R[$]=z+v*(K-z):R[$]=K}_.push(R)}else _=f;else _=this.toD||[];this.elem.attr("d",_,void 0,!0)}update(){let l=this.elem,h=this.prop,f=this.now,v=this.options.step;this[h+"Setter"]?this[h+"Setter"]():l.attr?l.element&&l.attr(h,f,null,!0):l.style[h]=f+this.unit,v&&v.call(l,f,this)}run(l,h,f){let v=this,_=v.options,k=function(R){return!k.stopped&&v.step(R)},S=Tj.requestAnimationFrame||function(R){setTimeout(R,13)},M=function(){for(let R=0;R<$r.timers.length;R++)$r.timers[R]()||$r.timers.splice(R--,1);$r.timers.length&&S(M)};l!==h||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=l,this.end=h,this.unit=f,this.now=this.start,this.pos=0,k.elem=this.elem,k.prop=this.prop,k()&&$r.timers.push(k)===1&&S(M)):(delete _.curAnim[this.prop],_.complete&&Object.keys(_.curAnim).length===0&&_.complete.call(this.elem))}step(l){let h,f,v=+new Date,_=this.options,k=this.elem,S=_.complete,M=_.duration,R=_.curAnim;return k.attr&&!k.element?h=!1:l||v>=M+this.startTime?(this.now=this.end,this.pos=1,this.update(),R[this.prop]=!0,f=!0,Pj(R,function($){$!==!0&&(f=!1)}),f&&S&&S.call(k),h=!1):(this.pos=_.easing((v-this.startTime)/M),this.now=this.start+(this.end-this.start)*this.pos,this.update(),h=!0),h}initPath(l,h,f){let v=l.startX,_=l.endX,k=f.slice(),S=l.isArea,M=S?2:1,R=h&&f.length>h.length&&f.hasStackedCliffs,$,z,K,ee,re=h==null?void 0:h.slice();if(!re||R)return[k,k];function he(ae,fe){for(;ae.length<z;){let ge=ae[0],Ie=fe[z-ae.length];if(Ie&&ge[0]==="M"&&(Ie[0]==="C"?ae[0]=["C",ge[1],ge[2],ge[1],ge[2],ge[1],ge[2]]:ae[0]=["L",ge[1],ge[2]]),ae.unshift(ge),S){let Te=ae.pop();ae.push(ae[ae.length-1],Te)}}}function ce(ae){for(;ae.length<z;){let fe=ae[Math.floor(ae.length/M)-1].slice();if(fe[0]==="C"&&(fe[1]=fe[5],fe[2]=fe[6]),S){let ge=ae[Math.floor(ae.length/M)].slice();ae.splice(ae.length/2,0,fe,ge)}else ae.push(fe)}}if(v&&_&&_.length){for(K=0;K<v.length;K++)if(v[K]===_[0]){$=K;break}else if(v[0]===_[_.length-v.length+K]){$=K,ee=!0;break}else if(v[v.length-1]===_[_.length-v.length+K]){$=v.length-K;break}$===void 0&&(re=[])}return re.length&&Hl($)&&(z=k.length+$*M,ee?(he(re,k),ce(k)):(he(k,re),ce(re))),[re,k]}fillSetter(){$r.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,zi(this.start).tweenTo(zi(this.end),this.pos),void 0,!0)}}$r.timers=[];let{defined:Ur,getStyle:Hv,isArray:Vv,isNumber:Wg,isObject:ri,merge:Hg,objectEach:Mj,pick:Vg}=ft;function $g(F){return ri(F)?Hg({duration:500,defer:0},F):{duration:500*!!F,defer:0}}function Lr(F,l){let h=$r.timers.length;for(;h--;)$r.timers[h].elem!==F||l&&l!==$r.timers[h].prop||($r.timers[h].stopped=!0)}let _r={animate:function(F,l,h){let f,v="",_,k,S;ri(h)||(S=arguments,h={duration:S[2],easing:S[3],complete:S[4]}),Wg(h.duration)||(h.duration=400),h.easing=typeof h.easing=="function"?h.easing:Math[h.easing]||Math.easeInOutSine,h.curAnim=Hg(l),Mj(l,function(M,R){Lr(F,R),k=new $r(F,h,R),_=void 0,R==="d"&&Vv(l.d)?(k.paths=k.initPath(F,F.pathArray,l.d),k.toD=l.d,f=0,_=1):F.attr?f=F.attr(R):(f=parseFloat(Hv(F,R))||0,R!=="opacity"&&(v="px")),_||(_=M),typeof _=="string"&&_.match("px")&&(_=_.replace(/px/g,"")),k.run(f,_,v)})},animObject:$g,getDeferredAnimation:function(F,l,h){let f=$g(l),v=h?[h]:F.series,_=0,k=0;return v.forEach(S=>{let M=$g(S.options.animation);_=ri(l)&&Ur(l.defer)?f.defer:Math.max(_,M.duration+M.defer),k=Math.min(f.duration,M.duration)}),F.renderer.forExport&&(_=0),{defer:Math.max(0,_-k),duration:Math.min(_,k)}},setAnimation:function(F,l){l.renderer.globalAnimation=Vg(F,l.options.chart.animation,!0)},stop:Lr},{SVG_NS:$v,win:Ej}=de,{attr:Ij,createElement:Ug,css:Uv,error:Gv,isFunction:Lj,isString:pp,objectEach:Gg,splat:Nr}=ft,{trustedTypes:mp}=Ej,fp=mp&&Lj(mp.createPolicy)&&mp.createPolicy("highcharts",{createHTML:F=>F}),Oj=fp?fp.createHTML(""):"";class gi{static filterUserAttributes(l){return Gg(l,(h,f)=>{let v=!0;gi.allowedAttributes.indexOf(f)===-1&&(v=!1),["background","dynsrc","href","lowsrc","src"].indexOf(f)!==-1&&(v=pp(h)&&gi.allowedReferences.some(_=>h.indexOf(_)===0)),v||(Gv(33,!1,void 0,{"Invalid attribute in config":`${f}`}),delete l[f]),pp(h)&&l[f]&&(l[f]=h.replace(/</g,"&lt;"))}),l}static parseStyle(l){return l.split(";").reduce((h,f)=>{let v=f.split(":").map(k=>k.trim()),_=v.shift();return _&&v.length&&(h[_.replace(/-([a-z])/g,k=>k[1].toUpperCase())]=v.join(":")),h},{})}static setElementHTML(l,h){l.innerHTML=gi.emptyHTML,h&&new gi(h).addToDOM(l)}constructor(l){this.nodes=typeof l=="string"?this.parseMarkup(l):l}addToDOM(l){return function h(f,v){let _;return Nr(f).forEach(function(k){let S,M=k.tagName,R=k.textContent?de.doc.createTextNode(k.textContent):void 0,$=gi.bypassHTMLFiltering;if(M)if(M==="#text")S=R;else if(gi.allowedTags.indexOf(M)!==-1||$){let z=M==="svg"?$v:v.namespaceURI||$v,K=de.doc.createElementNS(z,M),ee=k.attributes||{};Gg(k,function(re,he){he!=="tagName"&&he!=="attributes"&&he!=="children"&&he!=="style"&&he!=="textContent"&&(ee[he]=re)}),Ij(K,$?ee:gi.filterUserAttributes(ee)),k.style&&Uv(K,k.style),R&&K.appendChild(R),h(k.children||[],K),S=K}else Gv(33,!1,void 0,{"Invalid tagName in config":M});S&&v.appendChild(S),_=S}),_}(this.nodes,l)}parseMarkup(l){let h,f=[];l=l.trim().replace(/ style=(["'])/g," data-style=$1");try{h=new DOMParser().parseFromString(fp?fp.createHTML(l):l,"text/html")}catch{}if(!h){let _=Ug("div");_.innerHTML=l,h={body:_}}let v=(_,k)=>{let S=_.nodeName.toLowerCase(),M={tagName:S};S==="#text"&&(M.textContent=_.textContent||"");let R=_.attributes;if(R){let $={};[].forEach.call(R,z=>{z.name==="data-style"?M.style=gi.parseStyle(z.value):$[z.name]=z.value}),M.attributes=$}if(_.childNodes.length){let $=[];[].forEach.call(_.childNodes,z=>{v(z,$)}),$.length&&(M.children=$)}k.push(M)};return[].forEach.call(h.body.childNodes,_=>v(_,f)),f}}gi.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],gi.allowedReferences=["https://","http://","mailto:","/","../","./","#"],gi.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],gi.emptyHTML=Oj,gi.bypassHTMLFiltering=!1;let{defaultOptions:qv,defaultTime:qg}=Vn,{pageLang:Dj}=de,{extend:Kv,getNestedProperty:Yv,isArray:Rj,isNumber:gp,isObject:xp,isString:Fj,pick:xi,ucfirst:Xv}=ft,Nu={add:(F,l)=>F+l,divide:(F,l)=>l!==0?F/l:"",eq:(F,l)=>F==l,each:function(F){let l=arguments[arguments.length-1];return!!Rj(F)&&F.map((h,f)=>yp(l.body,Kv(xp(h)?h:{"@this":h},{"@index":f,"@first":f===0,"@last":f===F.length-1}))).join("")},ge:(F,l)=>F>=l,gt:(F,l)=>F>l,if:F=>!!F,le:(F,l)=>F<=l,lt:(F,l)=>F<l,multiply:(F,l)=>F*l,ne:(F,l)=>F!=l,subtract:(F,l)=>F-l,ucfirst:Xv,unless:F=>!F},Zv={},Qv=F=>/^["'].+["']$/.test(F);function yp(F="",l,h){var ce;let f=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'’= #\(\)]+)\}/g,v=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,_=[],k=/f$/,S=/\.(\d)/,M=((ce=h==null?void 0:h.options)==null?void 0:ce.lang)||qv.lang,R=(h==null?void 0:h.time)||qg,$=(h==null?void 0:h.numberFormatter)||Jv.bind(h),z=(ae="")=>{let fe;return ae==="true"||ae!=="false"&&((fe=Number(ae)).toString()===ae?fe:Qv(ae)?ae.slice(1,-1):Yv(ae,l))},K,ee,re=0,he;for(;(K=f.exec(F))!==null;){let ae=K,fe=v.exec(K[1]);fe&&(K=fe,he=!0),ee!=null&&ee.isBlock||(ee={ctx:l,expression:K[1],find:K[0],isBlock:K[1].charAt(0)==="#",start:K.index,startInner:K.index+K[0].length,length:K[0].length});let ge=(ee.isBlock?ae:K)[1].split(" ")[0].replace("#","");Nu[ge]&&(ee.isBlock&&ge===ee.fn&&re++,ee.fn||(ee.fn=ge));let Ie=K[1]==="else";if(ee.isBlock&&ee.fn&&(K[1]===`/${ee.fn}`||Ie))if(re)!Ie&&re--;else{let Te=ee.startInner,Ee=F.substr(Te,K.index-Te);ee.body===void 0?(ee.body=Ee,ee.startInner=K.index+K[0].length):ee.elseBody=Ee,ee.find+=Ee+K[0],Ie||(_.push(ee),ee=void 0)}else ee.isBlock||_.push(ee);if(fe&&!(ee!=null&&ee.isBlock))break}return _.forEach(ae=>{let fe,ge,{body:Ie,elseBody:Te,expression:Ee,fn:Ge}=ae;if(Ge){let ze=[ae],qe=[],it=Ee.length,at=0,vt;for(ge=0;ge<=it;ge++){let Nt=Ee.charAt(ge);vt||Nt!=='"'&&Nt!=="'"?vt===Nt&&(vt=""):vt=Nt,vt||Nt!==" "&&ge!==it||(qe.push(Ee.substr(at,ge-at)),at=ge+1)}for(ge=Nu[Ge].length;ge--;)ze.unshift(z(qe[ge+1]));fe=Nu[Ge].apply(l,ze),ae.isBlock&&typeof fe=="boolean"&&(fe=yp(fe?Ie:Te,l,h))}else{let ze=Qv(Ee)?[Ee]:Ee.split(":"),qe=(fe=z(ze.shift()||""))%1!=0;if(typeof fe=="number"&&(ze.length||qe)){let it=ze.join(":");if(k.test(it)||qe){let at=parseInt((it.match(S)||["","-1"])[1],10);fe!==null&&(fe=$(fe,at,M.decimalPoint,it.indexOf(",")>-1?M.thousandsSep:""))}else fe=R.dateFormat(it,fe)}v.lastIndex=0,v.test(ae.find)&&Fj(fe)&&(fe=`"${fe}"`)}F=F.replace(ae.find,xi(fe,""))}),he?yp(F,l,h):F}function Jv(F,l,h,f){var he;l*=1;let v,_,[k,S]=(F=+F||0).toString().split("e").map(Number),M=((he=this==null?void 0:this.options)==null?void 0:he.lang)||qv.lang,R=(F.toString().split(".")[1]||"").split("e")[0].length,$=l,z={};h??(h=M.decimalPoint),f??(f=M.thousandsSep),l===-1?l=Math.min(R,20):gp(l)?l&&S<0&&((_=l+S)>=0?(k=+k.toExponential(_).split("e")[0],l=_):(k=Math.floor(k),F=l<20?+(k*Math.pow(10,S)).toFixed(l):0,S=0)):l=2,S&&(l??(l=2),F=k),gp(l)&&l>=0&&(z.minimumFractionDigits=l,z.maximumFractionDigits=l),f===""&&(z.useGrouping=!1);let K=f||h,ee=K?"en":(this==null?void 0:this.locale)||M.locale||Dj,re=JSON.stringify(z)+ee;return v=(Zv[re]??(Zv[re]=new Intl.NumberFormat(ee,z))).format(F),K&&(v=v.replace(/([,\.])/g,"_$1").replace(/_\,/g,f??",").replace("_.",h??".")),(l||+v!=0)&&(!(S<0)||$)||(v="0"),S&&+v!=0&&(v+="e"+(S<0?"":"+")+S),v}let wn={dateFormat:function(F,l,h){return qg.dateFormat(F,l,h)},format:yp,helpers:Nu,numberFormat:Jv};(function(F){let l;F.rendererTypes={},F.getRendererType=function(h=l){return F.rendererTypes[h]||F.rendererTypes[l]},F.registerRendererType=function(h,f,v){F.rendererTypes[h]=f,(!l||v)&&(l=h,de.Renderer=f)}})(o||(o={}));let ju=o,{clamp:zj,pick:Bj,pushUnique:Wj,stableSort:Kc}=ft;(u||(u={})).distribute=function F(l,h,f){let v=l,_=v.reducedLen||h,k=(ge,Ie)=>ge.target-Ie.target,S=[],M=l.length,R=[],$=S.push,z,K,ee,re=!0,he,ce,ae=0,fe;for(z=M;z--;)ae+=l[z].size;if(ae>_){for(Kc(l,(ge,Ie)=>(Ie.rank||0)-(ge.rank||0)),ee=(fe=l[0].rank===l[l.length-1].rank)?M/2:-1,K=fe?ee:M-1;ee&&ae>_;)he=l[z=Math.floor(K)],Wj(R,z)&&(ae-=he.size),K+=ee,fe&&K>=l.length&&(ee/=2,K=ee);R.sort((ge,Ie)=>Ie-ge).forEach(ge=>$.apply(S,l.splice(ge,1)))}for(Kc(l,k),l=l.map(ge=>({size:ge.size,targets:[ge.target],align:Bj(ge.align,.5)}));re;){for(z=l.length;z--;)he=l[z],ce=(Math.min.apply(0,he.targets)+Math.max.apply(0,he.targets))/2,he.pos=zj(ce-he.size*he.align,0,h-he.size);for(z=l.length,re=!1;z--;)z>0&&l[z-1].pos+l[z-1].size>l[z].pos&&(l[z-1].size+=l[z].size,l[z-1].targets=l[z-1].targets.concat(l[z].targets),l[z-1].align=.5,l[z-1].pos+l[z-1].size>h&&(l[z-1].pos=h-l[z-1].size),l.splice(z,1),re=!0)}return $.apply(v,S),z=0,l.some(ge=>{let Ie=0;return(ge.targets||[]).some(()=>(v[z].pos=ge.pos+Ie,f!==void 0&&Math.abs(v[z].pos-v[z].target)>f?(v.slice(0,z+1).forEach(Te=>delete Te.pos),v.reducedLen=(v.reducedLen||h)-.1*h,v.reducedLen>.1*h&&F(v,h,f),!0):(Ie+=v[z].size,z++,!1)))}),Kc(v,k),v};let ku=u,{animate:eb,animObject:vp,stop:Kg}=_r,{deg2rad:Or,doc:$n,svg:Hj,SVG_NS:bp,win:Vj,isFirefox:Yg}=de,{addEvent:Su,attr:Xg,createElement:$j,crisp:Au,css:Zg,defined:Gr,erase:Uj,extend:Go,fireEvent:Qg,getAlignFactor:Jg,isArray:tb,isFunction:wp,isNumber:Gj,isObject:_p,isString:ex,merge:Un,objectEach:Yc,pick:_n,pInt:Xc,pushUnique:tx,replaceNested:sb,syncTimeout:ib,uniqueKey:rb}=ft;class rr{_defaultGetter(l){let h=_n(this[l+"Value"],this[l],this.element?this.element.getAttribute(l):null,0);return/^-?[\d\.]+$/.test(h)&&(h=parseFloat(h)),h}_defaultSetter(l,h,f){f.setAttribute(h,l)}add(l){let h,f=this.renderer,v=this.element;return l&&(this.parentGroup=l),this.textStr!==void 0&&this.element.nodeName==="text"&&f.buildText(this),this.added=!0,(!l||l.handleZ||this.zIndex)&&(h=this.zIndexSetter()),h||(l?l.element:f.box).appendChild(v),this.onAdd&&this.onAdd(),this}addClass(l,h){let f=h?"":this.attr("class")||"";return(l=(l||"").split(/ /g).reduce(function(v,_){return f.indexOf(_)===-1&&v.push(_),v},f?[f]:[]).join(" "))!==f&&this.attr("class",l),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(l,h,f,v=!0){let _=this.renderer,k=_.alignedObjects,S=!!l;l?(this.alignOptions=l,this.alignByTranslate=h,this.alignTo=f):(l=this.alignOptions||{},h=this.alignByTranslate,f=this.alignTo);let M=!f||ex(f)?f||"renderer":void 0;M&&(S&&tx(k,this),f=void 0);let R=_n(f,_[M],_),$=(R.x||0)+(l.x||0)+((R.width||0)-(l.width||0))*Jg(l.align),z=(R.y||0)+(l.y||0)+((R.height||0)-(l.height||0))*Jg(l.verticalAlign),K={"text-align":l==null?void 0:l.align};return K[h?"translateX":"x"]=Math.round($),K[h?"translateY":"y"]=Math.round(z),v&&(this[this.placed?"animate":"attr"](K),this.placed=!0),this.alignAttr=K,this}alignSetter(l){let h={left:"start",center:"middle",right:"end"};h[l]&&(this.alignValue=l,this.element.setAttribute("text-anchor",h[l]))}animate(l,h,f){let v=vp(_n(h,this.renderer.globalAnimation,!0)),_=v.defer;return $n.hidden&&(v.duration=0),v.duration!==0?(f&&(v.complete=f),ib(()=>{this.element&&eb(this,l,v)},_)):(this.attr(l,void 0,f||v.complete),Yc(l,function(k,S){v.step&&v.step.call(this,k,{prop:S,pos:1,elem:this})},this)),this}applyTextOutline(l){let h=this.element;l.indexOf("contrast")!==-1&&(l=l.replace(/contrast/g,this.renderer.getContrast(h.style.fill)));let f=l.indexOf(" "),v=l.substring(f+1),_=l.substring(0,f);if(_&&_!=="none"&&de.svg){this.fakeTS=!0,_=_.replace(/(^[\d\.]+)(.*?)$/g,function($,z,K){return 2*Number(z)+K}),this.removeTextOutline();let k=$n.createElementNS(bp,"tspan");Xg(k,{class:"highcharts-text-outline",fill:v,stroke:v,"stroke-width":_,"stroke-linejoin":"round"});let S=h.querySelector("textPath")||h;[].forEach.call(S.childNodes,$=>{let z=$.cloneNode(!0);z.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(K=>z.removeAttribute(K)),k.appendChild(z)});let M=0;[].forEach.call(S.querySelectorAll("text tspan"),$=>{M+=Number($.getAttribute("dy"))});let R=$n.createElementNS(bp,"tspan");R.textContent="​",Xg(R,{x:Number(h.getAttribute("x")),dy:-M}),k.appendChild(R),S.insertBefore(k,S.firstChild)}}attr(l,h,f,v){let{element:_}=this,k=rr.symbolCustomAttribs,S,M,R=this,$;return typeof l=="string"&&h!==void 0&&(S=l,(l={})[S]=h),typeof l=="string"?R=(this[l+"Getter"]||this._defaultGetter).call(this,l,_):(Yc(l,function(z,K){$=!1,v||Kg(this,K),this.symbolName&&k.indexOf(K)!==-1&&(M||(this.symbolAttr(l),M=!0),$=!0),this.rotation&&(K==="x"||K==="y")&&(this.doTransform=!0),$||(this[K+"Setter"]||this._defaultSetter).call(this,z,K,_)},this),this.afterSetters()),f&&f.call(this),R}clip(l){if(l&&!l.clipPath){let h=rb()+"-",f=this.renderer.createElement("clipPath").attr({id:h}).add(this.renderer.defs);Go(l,{clipPath:f,id:h,count:0}),l.add(f)}return this.attr("clip-path",l?`url(${this.renderer.url}#${l.id})`:"none")}crisp(l,h){h=Math.round(h||l.strokeWidth||0);let f=l.x||this.x||0,v=l.y||this.y||0,_=(l.width||this.width||0)+f,k=(l.height||this.height||0)+v,S=Au(f,h),M=Au(v,h);return Go(l,{x:S,y:M,width:Au(_,h)-S,height:Au(k,h)-M}),Gr(l.strokeWidth)&&(l.strokeWidth=h),l}complexColor(l,h,f){let v=this.renderer,_,k,S,M,R,$,z,K,ee,re,he=[],ce;Qg(this.renderer,"complexColor",{args:arguments},function(){if(l.radialGradient?k="radialGradient":l.linearGradient&&(k="linearGradient"),k){if(S=l[k],R=v.gradients,$=l.stops,ee=f.radialReference,tb(S)&&(l[k]=S={x1:S[0],y1:S[1],x2:S[2],y2:S[3],gradientUnits:"userSpaceOnUse"}),k==="radialGradient"&&ee&&!Gr(S.gradientUnits)&&(M=S,S=Un(S,v.getRadialAttr(ee,M),{gradientUnits:"userSpaceOnUse"})),Yc(S,function(ae,fe){fe!=="id"&&he.push(fe,ae)}),Yc($,function(ae){he.push(ae)}),R[he=he.join(",")])re=R[he].attr("id");else{S.id=re=rb();let ae=R[he]=v.createElement(k).attr(S).add(v.defs);ae.radAttr=M,ae.stops=[],$.forEach(function(fe){fe[1].indexOf("rgba")===0?(z=(_=ui.parse(fe[1])).get("rgb"),K=_.get("a")):(z=fe[1],K=1);let ge=v.createElement("stop").attr({offset:fe[0],"stop-color":z,"stop-opacity":K}).add(ae);ae.stops.push(ge)})}ce="url("+v.url+"#"+re+")",f.setAttribute(h,ce),f.gradient=he,l.toString=function(){return ce}}})}css(l){let h=this.styles,f={},v=this.element,_,k=!h;if(h&&Yc(l,function(S,M){h&&h[M]!==S&&(f[M]=S,k=!0)}),k){h&&(l=Go(h,f)),l.width===null||l.width==="auto"?delete this.textWidth:v.nodeName.toLowerCase()==="text"&&l.width&&(_=this.textWidth=Xc(l.width)),Go(this.styles,l),_&&!Hj&&this.renderer.forExport&&delete l.width;let S=Yg&&l.fontSize||null;S&&(Gj(S)||/^\d+$/.test(S))&&(l.fontSize+="px");let M=Un(l);v.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(R=>M&&delete M[R]),M.color&&(M.fill=M.color,delete M.color)),Zg(v,M)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),l.textOutline&&this.applyTextOutline(l.textOutline)),this}dashstyleSetter(l){let h,f=this["stroke-width"];if(f==="inherit"&&(f=1),l){let v=(l=l.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(h=v.length;h--;)v[h]=""+Xc(v[h])*_n(f,NaN);l=v.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",l)}}destroy(){let l=this,h=l.element||{},f=l.renderer,v=h.ownerSVGElement,_=h.nodeName==="SPAN"&&l.parentGroup||void 0,k,S;if(h.onclick=h.onmouseout=h.onmouseover=h.onmousemove=h.point=null,Kg(l),l.clipPath&&v){let M=l.clipPath;[].forEach.call(v.querySelectorAll("[clip-path],[CLIP-PATH]"),function(R){R.getAttribute("clip-path").indexOf(M.element.id)>-1&&R.removeAttribute("clip-path")}),l.clipPath=M.destroy()}if(l.stops){for(S=0;S<l.stops.length;S++)l.stops[S].destroy();l.stops.length=0,l.stops=void 0}for(l.safeRemoveChild(h);_!=null&&_.div&&_.div.childNodes.length===0;)k=_.parentGroup,l.safeRemoveChild(_.div),delete _.div,_=k;l.alignOptions&&Uj(f.alignedObjects,l),Yc(l,(M,R)=>{var $,z,K;((($=l[R])==null?void 0:$.parentGroup)===l||["connector","foreignObject"].indexOf(R)!==-1)&&((K=(z=l[R])==null?void 0:z.destroy)==null||K.call(z)),delete l[R]})}dSetter(l,h,f){tb(l)&&(typeof l[0]=="string"&&(l=this.renderer.pathToSegments(l)),this.pathArray=l,l=l.reduce((v,_,k)=>_!=null&&_.join?(k?v+" ":"")+_.join(" "):(_||"").toString(),"")),/(NaN| {2}|^$)/.test(l)&&(l="M 0 0"),this[h]!==l&&(f.setAttribute(h,l),this[h]=l)}fillSetter(l,h,f){typeof l=="string"?f.setAttribute(h,l):l&&this.complexColor(l,h,f)}hrefSetter(l,h,f){f.setAttributeNS("http://www.w3.org/1999/xlink",h,l)}getBBox(l,h){let f,v,_,k,{alignValue:S,element:M,renderer:R,styles:$,textStr:z}=this,{cache:K,cacheKeys:ee}=R,re=M.namespaceURI===this.SVG_NS,he=_n(h,this.rotation,0),ce=R.styledMode?M&&rr.prototype.getStyle.call(M,"font-size"):$.fontSize;if(Gr(z)&&((k=z.toString()).indexOf("<")===-1&&(k=k.replace(/\d/g,"0")),k+=["",R.rootFontSize,ce,he,this.textWidth,S,$.lineClamp,$.textOverflow,$.fontWeight].join(",")),k&&!l&&(f=K[k]),!f||f.polygon){if(re||R.forExport){try{_=this.fakeTS&&function(fe){let ge=M.querySelector(".highcharts-text-outline");ge&&Zg(ge,{display:fe})},wp(_)&&_("none"),f=M.getBBox?Go({},M.getBBox()):{width:M.offsetWidth,height:M.offsetHeight,x:0,y:0},wp(_)&&_("")}catch{}(!f||f.width<0)&&(f={x:0,y:0,width:0,height:0})}else f=this.htmlGetBBox();v=f.height,re&&(f.height=v={"11px,17":14,"13px,20":16}[`${ce||""},${Math.round(v)}`]||v),he&&(f=this.getRotatedBox(f,he));let ae={bBox:f};Qg(this,"afterGetBBox",ae),f=ae.bBox}if(k&&(z===""||f.height>0)){for(;ee.length>250;)delete K[ee.shift()];K[k]||ee.push(k),K[k]=f}return f}getRotatedBox(l,h){let{x:f,y:v,width:_,height:k}=l,{alignValue:S,translateY:M,rotationOriginX:R=0,rotationOriginY:$=0}=this,z=Jg(S),K=Number(this.element.getAttribute("y")||0)-(M?0:v),ee=h*Or,re=(h-90)*Or,he=Math.cos(ee),ce=Math.sin(ee),ae=_*he,fe=_*ce,ge=Math.cos(re),Ie=Math.sin(re),[[Te,Ee],[Ge,ze]]=[R,$].map(Cs=>[Cs-Cs*he,Cs*ce]),qe=f+z*(_-ae)+Te+ze+K*ge,it=qe+ae,at=it-k*ge,vt=at-ae,Nt=v+K-z*fe-Ee+Ge+K*Ie,Wt=Nt+fe,Dt=Wt-k*Ie,Kt=Dt-fe,Pt=Math.min(qe,it,at,vt),Xt=Math.min(Nt,Wt,Dt,Kt),ws=Math.max(qe,it,at,vt)-Pt,Ns=Math.max(Nt,Wt,Dt,Kt)-Xt;return{x:Pt,y:Xt,width:ws,height:Ns,polygon:[[qe,Nt],[it,Wt],[at,Dt],[vt,Kt]]}}getStyle(l){return Vj.getComputedStyle(this.element||this,"").getPropertyValue(l)}hasClass(l){return(""+this.attr("class")).split(" ").indexOf(l)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(l,h){this.onEvents={},this.opacity=1,this.SVG_NS=bp,this.element=h==="span"||h==="body"?$j(h):$n.createElementNS(this.SVG_NS,h),this.renderer=l,this.styles={},Qg(this,"afterInit")}on(l,h){let{onEvents:f}=this;return f[l]&&f[l](),f[l]=Su(this.element,l,h),this}opacitySetter(l,h,f){let v=Number(Number(l).toFixed(3));this.opacity=v,f.setAttribute(h,v)}reAlign(){var l;(l=this.alignOptions)!=null&&l.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(l){return this.attr("class",(""+this.attr("class")).replace(ex(l)?RegExp(`(^| )${l}( |$)`):l," ").replace(/ +/g," ").trim())}removeTextOutline(){let l=this.element.querySelector("tspan.highcharts-text-outline");l&&this.safeRemoveChild(l)}safeRemoveChild(l){let h=l.parentNode;h&&h.removeChild(l)}setRadialReference(l){let h=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=l,h!=null&&h.radAttr&&h.animate(this.renderer.getRadialAttr(l,h.radAttr)),this}shadow(l){var _;let{renderer:h}=this,f=Un(((_=this.parentGroup)==null?void 0:_.rotation)===90?{offsetX:-1,offsetY:-1}:{},_p(l)?l:{}),v=h.shadowDefinition(f);return this.attr({filter:l?`url(${h.url}#${v})`:"none"})}show(l=!0){return this.attr({visibility:l?"inherit":"visible"})}"stroke-widthSetter"(l,h,f){this[h]=l,f.setAttribute(h,l)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let l=this.getStyle("stroke-width"),h=0,f;return/px$/.test(l)?h=Xc(l):l!==""&&(Xg(f=$n.createElementNS(bp,"rect"),{width:l,"stroke-width":0}),this.element.parentNode.appendChild(f),h=f.getBBox().width,f.parentNode.removeChild(f)),h}symbolAttr(l){let h=this;rr.symbolCustomAttribs.forEach(function(f){h[f]=_n(l[f],h[f])}),h.attr({d:h.renderer.symbols[h.symbolName](h.x,h.y,h.width,h.height,h)})}textSetter(l){l!==this.textStr&&(delete this.textPxLength,this.textStr=l,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(l){let h=this.element,f=h.getElementsByTagName("title")[0]||$n.createElementNS(this.SVG_NS,"title");h.insertBefore?h.insertBefore(f,h.firstChild):h.appendChild(f),f.textContent=sb(_n(l,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let l=this.element;return l.parentNode.appendChild(l),this}translate(l,h){return this.attr({translateX:l,translateY:h})}updateTransform(l="transform"){let{element:h,foreignObject:f,matrix:v,padding:_,rotation:k=0,rotationOriginX:S,rotationOriginY:M,scaleX:R,scaleY:$,text:z,translateX:K=0,translateY:ee=0}=this,re=["translate("+K+","+ee+")"];Gr(v)&&re.push("matrix("+v.join(",")+")"),k&&(re.push("rotate("+k+" "+(S??h.getAttribute("x")??this.x??0)+" "+(M??h.getAttribute("y")??this.y??0)+")"),(z==null?void 0:z.element.tagName)!=="SPAN"||z!=null&&z.foreignObject||z.attr({rotation:k,rotationOriginX:(S||0)-_,rotationOriginY:(M||0)-_})),(Gr(R)||Gr($))&&re.push("scale("+_n(R,1)+" "+_n($,1)+")"),re.length&&!(z||this).textPath&&((f==null?void 0:f.element)||h).setAttribute(l,re.join(" "))}visibilitySetter(l,h,f){l==="inherit"?f.removeAttribute(h):this[h]!==l&&f.setAttribute(h,l),this[h]=l}xGetter(l){return this.element.nodeName==="circle"&&(l==="x"?l="cx":l==="y"&&(l="cy")),this._defaultGetter(l)}zIndexSetter(l,h){let f=this.renderer,v=this.parentGroup,_=(v||f).element||f.box,k=this.element,S=_===f.box,M,R,$,z=!1,K,ee=this.added,re;if(Gr(l)?(k.setAttribute("data-z-index",l),l*=1,this[h]===l&&(ee=!1)):Gr(this[h])&&k.removeAttribute("data-z-index"),this[h]=l,ee){for((l=this.zIndex)&&v&&(v.handleZ=!0),re=(M=_.childNodes).length-1;re>=0&&!z;re--)K=!Gr($=(R=M[re]).getAttribute("data-z-index")),R!==k&&(l<0&&K&&!S&&!re?(_.insertBefore(k,M[re]),z=!0):(Xc($)<=l||K&&(!Gr(l)||l>=0))&&(_.insertBefore(k,M[re+1]),z=!0));z||(_.insertBefore(k,M[3*!!S]),z=!0)}return z}}rr.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],rr.prototype.strokeSetter=rr.prototype.fillSetter,rr.prototype.yGetter=rr.prototype.xGetter,rr.prototype.matrixSetter=rr.prototype.rotationOriginXSetter=rr.prototype.rotationOriginYSetter=rr.prototype.rotationSetter=rr.prototype.scaleXSetter=rr.prototype.scaleYSetter=rr.prototype.translateXSetter=rr.prototype.translateYSetter=rr.prototype.verticalAlignSetter=function(F,l){this[l]=F,this.doTransform=!0};let ha=rr,{defined:Np,extend:Zc,getAlignFactor:Oa,isNumber:qo,merge:qj,pick:jp,removeEvent:nb}=ft;class Ko extends ha{constructor(l,h,f,v,_,k,S,M,R,$){let z;super(l,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=h,this.x=f,this.y=v,this.anchorX=k,this.anchorY=S,this.baseline=R,this.className=$,this.addClass($==="button"?"highcharts-no-tooltip":"highcharts-label"),$&&this.addClass("highcharts-"+$),this.text=l.text(void 0,0,0,M).attr({zIndex:1}),typeof _=="string"&&((z=/^url\((.*?)\)$/.test(_))||this.renderer.symbols[_])&&(this.symbolKey=_),this.bBox=Ko.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=l.styledMode||z,this.deferredAttr={},this.alignFactor=0}alignSetter(l){let h=Oa(l);this.textAlign=l,h!==this.alignFactor&&(this.alignFactor=h,this.bBox&&qo(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(l,h){this.anchorX=l,this.boxAttr(h,Math.round(l)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(l,h){this.anchorY=l,this.boxAttr(h,l-this.ySetting)}boxAttr(l,h){this.box?this.box.attr(l,h):this.deferredAttr[l]=h}css(l){if(l){let h={};l=qj(l),Ko.textProps.forEach(f=>{l[f]!==void 0&&(h[f]=l[f],delete l[f])}),this.text.css(h),"fontSize"in h||"fontWeight"in h?this.updateTextPadding():("width"in h||"textOverflow"in h)&&this.updateBoxSize()}return ha.prototype.css.call(this,l)}destroy(){nb(this.element,"mouseenter"),nb(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),ha.prototype.destroy.call(this)}fillSetter(l,h){l&&(this.needsBox=!0),this.fill=l,this.boxAttr(h,l)}getBBox(l,h){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:f,height:v=0,translateX:_=0,translateY:k=0,width:S=0}=this,M=jp(this.paddingLeft,f),R=h??(this.rotation||0),$={width:S,height:v,x:_+this.bBox.x-M,y:k+this.bBox.y-f+this.baselineOffset};return R&&($=this.getRotatedBox($,R)),$}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(l){this.heightSetting=l,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:jp(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&Np(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(l,h){qo(l)?l!==this[h]&&(this[h]=l,this.updateTextPadding()):this[h]=void 0}rSetter(l,h){this.boxAttr(h,l)}strokeSetter(l,h){this.stroke=l,this.boxAttr(h,l)}"stroke-widthSetter"(l,h){l&&(this.needsBox=!0),this["stroke-width"]=l,this.boxAttr(h,l)}"text-alignSetter"(l){this.textAlign=this["text-align"]=l,this.updateTextPadding()}textSetter(l){l!==void 0&&this.text.attr({text:l}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let l,h=this.text,f={},v=this.padding,_=this.bBox=(!qo(this.widthSetting)||!qo(this.heightSetting)||this.textAlign)&&Np(h.textStr)?h.getBBox(void 0,0):Ko.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||_.height||0)+2*v;let k=this.renderer.fontMetrics(h);if(this.baselineOffset=v+Math.min((this.text.firstLineMetrics||k).b,_.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-k.h)/2),this.needsBox&&!h.textPath){if(!this.box){let S=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();S.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),S.add(this)}f.x=l=this.getCrispAdjust(),f.y=(this.baseline?-this.baselineOffset:0)+l,f.width=Math.round(this.width),f.height=Math.round(this.height),this.box.attr(Zc(f,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let l=this.text,h=l.styles.textAlign||this.textAlign;if(!l.textPath){this.updateBoxSize();let f=this.baseline?0:this.baselineOffset,v=(this.paddingLeft??this.padding)+Oa(h)*(this.widthSetting??this.bBox.width);(v!==l.x||f!==l.y)&&(l.attr({align:h,x:v}),f!==void 0&&l.attr("y",f)),l.x=v,l.y=f}}widthSetter(l){this.widthSetting=qo(l)?l:void 0,this.doUpdate=!0}getPaddedWidth(){let l=this.padding,h=jp(this.paddingLeft,l),f=jp(this.paddingRight,l);return(this.widthSetting||this.bBox.width||0)+h+f}xSetter(l){this.x=l,this.alignFactor&&(l-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(l),this.attr("translateX",this.xSetting)}ySetter(l){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(l),this.attr("translateY",this.ySetting)}}Ko.emptyBBox={width:0,height:0,x:0,y:0},Ko.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Zi,isNumber:Gn,pick:Qc}=ft;function ab(F,l,h,f,v){let _=[];if(v){let k=v.start||0,S=v.end||0,M=Qc(v.r,h),R=Qc(v.r,f||h),$=2e-4/(v.borderRadius?1:Math.max(M,1)),z=Math.abs(S-k-2*Math.PI)<$;z&&(k=Math.PI/2,S=2.5*Math.PI-$);let K=v.innerR,ee=Qc(v.open,z),re=Math.cos(k),he=Math.sin(k),ce=Math.cos(S),ae=Math.sin(S),fe=Qc(v.longArc,S-k-Math.PI<$?0:1),ge=["A",M,R,0,fe,Qc(v.clockwise,1),F+M*ce,l+R*ae];ge.params={start:k,end:S,cx:F,cy:l},_.push(["M",F+M*re,l+R*he],ge),Zi(K)&&((ge=["A",K,K,0,fe,Zi(v.clockwise)?1-v.clockwise:0,F+K*re,l+K*he]).params={start:S,end:k,cx:F,cy:l},_.push(ee?["M",F+K*ce,l+K*ae]:["L",F+K*ce,l+K*ae],ge)),ee||_.push(["Z"])}return _}function sx(F,l,h,f,v){return v!=null&&v.r?Vl(F,l,h,f,v):[["M",F,l],["L",F+h,l],["L",F+h,l+f],["L",F,l+f],["Z"]]}function Vl(F,l,h,f,v){let _=(v==null?void 0:v.r)||0;return[["M",F+_,l],["L",F+h-_,l],["A",_,_,0,0,1,F+h,l+_],["L",F+h,l+f-_],["A",_,_,0,0,1,F+h-_,l+f],["L",F+_,l+f],["A",_,_,0,0,1,F,l+f-_],["L",F,l+_],["A",_,_,0,0,1,F+_,l],["Z"]]}let ob={arc:ab,callout:function(F,l,h,f,v){let _=Math.min((v==null?void 0:v.r)||0,h,f),k=_+6,S=v==null?void 0:v.anchorX,M=(v==null?void 0:v.anchorY)||0,R=Vl(F,l,h,f,{r:_});if(!Gn(S)||S<h&&S>0&&M<f&&M>0)return R;if(F+S>h-k)if(M>l+k&&M<l+f-k)R.splice(3,1,["L",F+h,M-6],["L",F+h+6,M],["L",F+h,M+6],["L",F+h,l+f-_]);else if(S<h){let $=M<l+k,z=$?l:l+f;R.splice($?2:5,0,["L",S,M],["L",F+h-_,z])}else R.splice(3,1,["L",F+h,f/2],["L",S,M],["L",F+h,f/2],["L",F+h,l+f-_]);else if(F+S<k)if(M>l+k&&M<l+f-k)R.splice(7,1,["L",F,M+6],["L",F-6,M],["L",F,M-6],["L",F,l+_]);else if(S>0){let $=M<l+k,z=$?l:l+f;R.splice($?1:6,0,["L",S,M],["L",F+_,z])}else R.splice(7,1,["L",F,f/2],["L",S,M],["L",F,f/2],["L",F,l+_]);else M>f&&S<h-k?R.splice(5,1,["L",S+6,l+f],["L",S,l+f+6],["L",S-6,l+f],["L",F+_,l+f]):M<0&&S>k&&R.splice(1,1,["L",S-6,l],["L",S,l-6],["L",S+6,l],["L",h-_,l]);return R},circle:function(F,l,h,f){return ab(F+h/2,l+f/2,h/2,f/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(F,l,h,f){return[["M",F+h/2,l],["L",F+h,l+f/2],["L",F+h/2,l+f],["L",F,l+f/2],["Z"]]},rect:sx,roundedRect:Vl,square:sx,triangle:function(F,l,h,f){return[["M",F+h/2,l],["L",F+h,l+f],["L",F,l+f],["Z"]]},"triangle-down":function(F,l,h,f){return[["M",F,l],["L",F+h,l],["L",F+h/2,l+f],["Z"]]}},{doc:Jc,SVG_NS:lb,win:Yo}=de,{attr:kp,extend:Kj,fireEvent:Cu,isString:cb,objectEach:db,pick:ix}=ft,Tu=(F,l)=>F.substring(0,l)+"…",rx=class{constructor(F){let l=F.styles;this.renderer=F.renderer,this.svgElement=F,this.width=F.textWidth,this.textLineHeight=l==null?void 0:l.lineHeight,this.textOutline=l==null?void 0:l.textOutline,this.ellipsis=(l==null?void 0:l.textOverflow)==="ellipsis",this.lineClamp=l==null?void 0:l.lineClamp,this.noWrap=(l==null?void 0:l.whiteSpace)==="nowrap"}buildSVG(){let F=this.svgElement,l=F.element,h=F.renderer,f=ix(F.textStr,"").toString(),v=f.indexOf("<")!==-1,_=l.childNodes,k=!F.added&&h.box,S=[f,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,F.getStyle("font-size"),F.styles.lineClamp,this.width].join(",");if(S!==F.textCache){F.textCache=S,delete F.actualWidth;for(let M=_.length;M--;)l.removeChild(_[M]);if(v||this.ellipsis||this.width||F.textPath||f.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(f))){if(f!==""){k&&k.appendChild(l);let M=new gi(f);this.modifyTree(M.nodes),M.addToDOM(l),this.modifyDOM(),this.ellipsis&&(l.textContent||"").indexOf("…")!==-1&&F.attr("title",this.unescapeEntities(F.textStr||"",["&lt;","&gt;"])),k&&k.removeChild(l)}}else l.appendChild(Jc.createTextNode(this.unescapeEntities(f)));cb(this.textOutline)&&F.applyTextOutline&&F.applyTextOutline(this.textOutline)}}modifyDOM(){let F,l=this.svgElement,h=kp(l.element,"x");for(l.firstLineMetrics=void 0;(F=l.element.firstChild)&&/^[\s\u200B]*$/.test(F.textContent||" ");)l.element.removeChild(F);[].forEach.call(l.element.querySelectorAll("tspan.highcharts-br"),(k,S)=>{k.nextSibling&&k.previousSibling&&(S===0&&k.previousSibling.nodeType===1&&(l.firstLineMetrics=l.renderer.fontMetrics(k.previousSibling)),kp(k,{dy:this.getLineHeight(k.nextSibling),x:h}))});let f=this.width||0;if(!f)return;let v=(k,S)=>{var he;let M=k.textContent||"",R=M.replace(/([^\^])-/g,"$1- ").split(" "),$=!this.noWrap&&(R.length>1||l.element.childNodes.length>1),z=this.getLineHeight(S),K=Math.max(0,f-.8*z),ee=0,re=l.actualWidth;if($){let ce=[],ae=[];for(;S.firstChild&&S.firstChild!==k;)ae.push(S.firstChild),S.removeChild(S.firstChild);for(;R.length;)if(R.length&&!this.noWrap&&ee>0&&(ce.push(k.textContent||""),k.textContent=R.join(" ").replace(/- /g,"-")),this.truncate(k,void 0,R,ee===0&&re||0,f,K,(fe,ge)=>R.slice(0,ge).join(" ").replace(/- /g,"-")),re=l.actualWidth,ee++,this.lineClamp&&ee>=this.lineClamp){R.length&&(this.truncate(k,k.textContent||"",void 0,0,f,K,Tu),k.textContent=((he=k.textContent)==null?void 0:he.replace("…",""))+"…");break}ae.forEach(fe=>{S.insertBefore(fe,k)}),ce.forEach(fe=>{S.insertBefore(Jc.createTextNode(fe),k);let ge=Jc.createElementNS(lb,"tspan");ge.textContent="​",kp(ge,{dy:z,x:h}),S.insertBefore(ge,k)})}else this.ellipsis&&M&&this.truncate(k,M,void 0,0,f,K,Tu)},_=k=>{[].slice.call(k.childNodes).forEach(S=>{S.nodeType===Yo.Node.TEXT_NODE?v(S,k):(S.className.baseVal.indexOf("highcharts-br")!==-1&&(l.actualWidth=0),_(S))})};_(l.element)}getLineHeight(F){let l=F.nodeType===Yo.Node.TEXT_NODE?F.parentElement:F;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(l||this.svgElement.element).h}modifyTree(F){let l=(h,f)=>{let{attributes:v={},children:_,style:k={},tagName:S}=h,M=this.renderer.styledMode;if(S==="b"||S==="strong"?M?v.class="highcharts-strong":k.fontWeight="bold":(S==="i"||S==="em")&&(M?v.class="highcharts-emphasized":k.fontStyle="italic"),k!=null&&k.color&&(k.fill=k.color),S==="br"){v.class="highcharts-br",h.textContent="​";let R=F[f+1];R!=null&&R.textContent&&(R.textContent=R.textContent.replace(/^ +/gm,""))}else S==="a"&&_&&_.some(R=>R.tagName==="#text")&&(h.children=[{children:_,tagName:"tspan"}]);S!=="#text"&&S!=="a"&&(h.tagName="tspan"),Kj(h,{attributes:v,style:k}),_&&_.filter(R=>R.tagName!=="#text").forEach(l)};F.forEach(l),Cu(this.svgElement,"afterModifyTree",{nodes:F})}truncate(F,l,h,f,v,_,k){let S,M,R=this.svgElement,{rotation:$}=R,z=[],K=h&&!f?1:0,ee=(l||h||"").length,re=ee;h||(v=_);let he=function(ce,ae){let fe=ae||ce,ge=F.parentNode;if(ge&&z[fe]===void 0&&ge.getSubStringLength)try{z[fe]=f+ge.getSubStringLength(0,h?fe+1:fe)}catch{}return z[fe]};if(R.rotation=0,f+(M=he(F.textContent.length))>v){for(;K<=ee;)re=Math.ceil((K+ee)/2),h&&(S=k(h,re)),M=he(re,S&&S.length-1),K===ee?K=ee+1:M>v?ee=re-1:K=re;ee===0?F.textContent="":l&&ee===l.length-1||(F.textContent=S||k(l||h,re)),this.ellipsis&&M>v&&this.truncate(F,F.textContent||"",void 0,0,v,_,Tu)}h&&h.splice(0,re),R.actualWidth=M,R.rotation=$}unescapeEntities(F,l){return db(this.renderer.escapes,function(h,f){l&&l.indexOf(h)!==-1||(F=F.toString().replace(RegExp(h,"g"),f))}),F}},{defaultOptions:Yj}=Vn,{charts:ub,deg2rad:Sp,doc:ed,isFirefox:hb,isMS:pb,isWebKit:Xj,noop:Zj,SVG_NS:nx,symbolSizes:ax,win:ox}=de,{addEvent:Ap,attr:Pu,createElement:td,crisp:lx,css:Mu,defined:$l,destroyObjectProperties:Qj,extend:Ul,isArray:cx,isNumber:uo,isObject:Xo,isString:Cp,merge:dx,pick:Tp,pInt:Pp,replaceNested:Gl,uniqueKey:Jj}=ft;class Da{constructor(l,h,f,v,_,k,S){let M,R;this.x=0,this.y=0;let $=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),z=$.element;S||$.css(this.getStyle(v||{})),l.appendChild(z),Pu(l,"dir","ltr"),l.innerHTML.indexOf("xmlns")===-1&&Pu(z,"xmlns",this.SVG_NS),this.box=z,this.boxWrapper=$,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(ed.createTextNode("Created with Highcharts 12.4.0")),this.defs=this.createElement("defs").add(),this.allowHTML=k,this.forExport=_,this.styledMode=S,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=$.getStyle("font-size"),this.setSize(h,f,!1),hb&&l.getBoundingClientRect&&((M=function(){Mu(l,{left:0,top:0}),R=l.getBoundingClientRect(),Mu(l,{left:Math.ceil(R.left)-R.left+"px",top:Math.ceil(R.top)-R.top+"px"})})(),this.unSubPixelFix=Ap(ox,"resize",M))}definition(l){return new gi([l]).addToDOM(this.defs.element)}getReferenceURL(){if((hb||Xj)&&ed.getElementsByTagName("base").length){if(!$l(r)){let l=Jj(),h=new gi([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:l},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${l})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(ed.body);Mu(h,{position:"fixed",top:0,left:0,zIndex:9e5});let f=ed.elementFromPoint(6,6);r=(f==null?void 0:f.id)==="hitme",ed.body.removeChild(h)}if(r)return Gl(ox.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(l){return this.style=Ul({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},l),this.style}setStyle(l){this.boxWrapper.css(this.getStyle(l))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let l=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),Qj(this.gradients||{}),this.gradients=null,this.defs=l.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(l){return new this.Element(this,l)}getRadialAttr(l,h){return{cx:l[0]-l[2]/2+(h.cx||0)*l[2],cy:l[1]-l[2]/2+(h.cy||0)*l[2],r:(h.r||0)*l[2]}}shadowDefinition(l){let h=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(l).map(v=>`${v}-${l[v]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),f=dx({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},l);return this.defs.element.querySelector(`#${h}`)||this.definition({tagName:"filter",attributes:{id:h,filterUnits:f.filterUnits},children:this.getShadowFilterContent(f)}),h}getShadowFilterContent(l){return[{tagName:"feDropShadow",attributes:{dx:l.offsetX,dy:l.offsetY,"flood-color":l.color,"flood-opacity":Math.min(5*l.opacity,1),stdDeviation:l.width/2}}]}buildText(l){new rx(l).buildSVG()}getContrast(l){if(l==="transparent")return"#000000";let h=ui.parse(l).rgba,f=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(uo(h[0])||!ui.useColorMix){let v=h.map(k=>{let S=k/255;return S<=.04?S/12.92:Math.pow((S+.055)/1.055,2.4)}),_=.2126*v[0]+.7152*v[1]+.0722*v[2];return 1.05/(_+.05)>(_+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+l+" srgb"+f+f+f+")"}button(l,h,f,v,_={},k,S,M,R,$){let z=this.label(l,h,f,R,void 0,void 0,$,void 0,"button"),K=this.styledMode,ee=arguments,re=0;_=dx(Yj.global.buttonTheme,_),K&&(delete _.fill,delete _.stroke,delete _["stroke-width"]);let he=_.states||{},ce=_.style||{};delete _.states,delete _.style;let ae=[gi.filterUserAttributes(_)],fe=[ce];return K||["hover","select","disabled"].forEach((ge,Ie)=>{ae.push(dx(ae[0],gi.filterUserAttributes(ee[Ie+5]||he[ge]||{}))),fe.push(ae[Ie+1].style),delete ae[Ie+1].style}),Ap(z.element,pb?"mouseover":"mouseenter",function(){re!==3&&z.setState(1)}),Ap(z.element,pb?"mouseout":"mouseleave",function(){re!==3&&z.setState(re)}),z.setState=(ge=0)=>{if(ge!==1&&(z.state=re=ge),z.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][ge]),!K){z.attr(ae[ge]);let Ie=fe[ge];Xo(Ie)&&z.css(Ie)}},z.attr(ae[0]),!K&&(z.css(Ul({cursor:"default"},ce)),$&&z.text.css({pointerEvents:"none"})),z.on("touchstart",ge=>ge.stopPropagation()).on("click",function(ge){re!==3&&(v==null||v.call(z,ge))})}crispLine(l,h){let[f,v]=l;return $l(f[1])&&f[1]===v[1]&&(f[1]=v[1]=lx(f[1],h)),$l(f[2])&&f[2]===v[2]&&(f[2]=v[2]=lx(f[2],h)),l}path(l){let h=this.styledMode?{}:{fill:"none"};return cx(l)?h.d=l:Xo(l)&&Ul(h,l),this.createElement("path").attr(h)}circle(l,h,f){let v=Xo(l)?l:l===void 0?{}:{x:l,y:h,r:f},_=this.createElement("circle");return _.xSetter=_.ySetter=function(k,S,M){M.setAttribute("c"+S,k)},_.attr(v)}arc(l,h,f,v,_,k){let S;Xo(l)?(h=(S=l).y,f=S.r,v=S.innerR,_=S.start,k=S.end,l=S.x):S={innerR:v,start:_,end:k};let M=this.symbol("arc",l,h,f,f,S);return M.r=f,M}rect(l,h,f,v,_,k){let S=Xo(l)?l:l===void 0?{}:{x:l,y:h,r:_,width:Math.max(f||0,0),height:Math.max(v||0,0)},M=this.createElement("rect");return this.styledMode||(k!==void 0&&(S["stroke-width"]=k,Ul(S,M.crisp(S))),S.fill="none"),M.rSetter=function(R,$,z){M.r=R,Pu(z,{rx:R,ry:R})},M.rGetter=function(){return M.r||0},M.attr(S)}roundedRect(l){return this.symbol("roundedRect").attr(l)}setSize(l,h,f){this.width=l,this.height=h,this.boxWrapper.animate({width:l,height:h},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Tp(f,!0)?void 0:0}),this.alignElements()}g(l){let h=this.createElement("g");return l?h.attr({class:"highcharts-"+l}):h}image(l,h,f,v,_,k){let S={preserveAspectRatio:"none"};uo(h)&&(S.x=h),uo(f)&&(S.y=f),uo(v)&&(S.width=v),uo(_)&&(S.height=_);let M=this.createElement("image").attr(S),R=function($){M.attr({href:l}),k.call(M,$)};if(k){M.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let $=new ox.Image;Ap($,"load",R),$.src=l,$.complete&&R({})}else M.attr({href:l});return M}symbol(l,h,f,v,_,k){var ce,ae;let S,M,R,$,z=this,K=/^url\((.*?)\)$/,ee=K.test(l),re=!ee&&(this.symbols[l]?l:"circle"),he=re&&this.symbols[re];if(he)typeof h=="number"&&(M=he.call(this.symbols,h||0,f||0,v||0,_||0,k)),S=this.path(M),z.styledMode||S.attr("fill","none"),Ul(S,{symbolName:re||void 0,x:h,y:f,width:v,height:_}),k&&Ul(S,k);else if(ee){R=l.match(K)[1];let fe=S=this.image(R);fe.imgwidth=Tp(k==null?void 0:k.width,(ce=ax[R])==null?void 0:ce.width),fe.imgheight=Tp(k==null?void 0:k.height,(ae=ax[R])==null?void 0:ae.height),$=ge=>ge.attr({width:ge.width,height:ge.height}),["width","height"].forEach(ge=>{fe[`${ge}Setter`]=function(Ie,Te){this[Te]=Ie;let{alignByTranslate:Ee,element:Ge,width:ze,height:qe,imgwidth:it,imgheight:at}=this,vt=Te==="width"?it:at,Nt=1;k&&k.backgroundSize==="within"&&ze&&qe&&it&&at?(Nt=Math.min(ze/it,qe/at),Pu(Ge,{width:Math.round(it*Nt),height:Math.round(at*Nt)})):Ge&&vt&&Ge.setAttribute(Te,vt),!Ee&&it&&at&&this.translate(((ze||0)-it*Nt)/2,((qe||0)-at*Nt)/2)}}),$l(h)&&fe.attr({x:h,y:f}),fe.isImg=!0,fe.symbolUrl=l,$l(fe.imgwidth)&&$l(fe.imgheight)?$(fe):(fe.attr({width:0,height:0}),td("img",{onload:function(){let ge=ub[z.chartIndex];this.width===0&&(Mu(this,{position:"absolute",top:"-999em"}),ed.body.appendChild(this)),ax[R]={width:this.width,height:this.height},fe.imgwidth=this.width,fe.imgheight=this.height,fe.element&&$(fe),this.parentNode&&this.parentNode.removeChild(this),z.imgCount--,z.imgCount||!ge||ge.hasLoaded||ge.onload()},src:R}),this.imgCount++)}return S}clipRect(l,h,f,v){return this.rect(l,h,f,v,0)}text(l,h,f,v){let _={};if(v&&(this.allowHTML||!this.forExport))return this.html(l,h,f);_.x=Math.round(h||0),f&&(_.y=Math.round(f)),$l(l)&&(_.text=l);let k=this.createElement("text").attr(_);return v&&(!this.forExport||this.allowHTML)||(k.xSetter=function(S,M,R){let $=R.getElementsByTagName("tspan"),z=R.getAttribute(M);for(let K=0,ee;K<$.length;K++)(ee=$[K]).getAttribute(M)===z&&ee.setAttribute(M,S);R.setAttribute(M,S)}),k}fontMetrics(l){let h=uo(l)?l:Pp(ha.prototype.getStyle.call(l,"font-size")||0),f=h<24?h+3:Math.round(1.2*h),v=Math.round(.8*f);return{h:f,b:v,f:h}}rotCorr(l,h,f){let v=l;return h&&f&&(v=Math.max(v*Math.cos(h*Sp),4)),{x:-l/3*Math.sin(h*Sp),y:v}}pathToSegments(l){let h=[],f=[],v={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let _=0;_<l.length;_++)Cp(f[0])&&uo(l[_])&&f.length===v[f[0].toUpperCase()]&&l.splice(_,0,f[0].replace("M","L").replace("m","l")),typeof l[_]=="string"&&(f.length&&h.push(f.slice(0)),f.length=0),f.push(l[_]);return h.push(f.slice(0)),h}label(l,h,f,v,_,k,S,M,R){return new Ko(this,l,h,f,v,_,k,S,M,R)}alignElements(){this.alignedObjects.forEach(l=>l.align())}}Ul(Da.prototype,{Element:ha,SVG_NS:nx,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:ob,draw:Zj}),ju.registerRendererType("svg",Da,!0);let{composed:ek,isFirefox:ql}=de,{attr:Eu,css:Zo,createElement:ux,defined:Mp,extend:tk,getAlignFactor:sk,isNumber:Ep,pInt:Iu,pushUnique:ik}=ft;function mb(F,l,h){var v;let f=(v=this.div)==null?void 0:v.style;ha.prototype[`${l}Setter`].call(this,F,l,h),f&&(h.style[l]=f[l]=F)}let rk=(F,l)=>{var h;if(!F.div){let f=Eu(F.element,"class"),v=F.css,_=ux("div",f?{className:f}:void 0,{position:"absolute",left:`${F.translateX||0}px`,top:`${F.translateY||0}px`,...F.styles,display:F.display,opacity:F.opacity,visibility:F.visibility},((h=F.parentGroup)==null?void 0:h.div)||l);F.classSetter=(k,S,M)=>{M.setAttribute("class",k),_.className=k},F.translateXSetter=F.translateYSetter=(k,S)=>{F[S]=k,_.style[S==="translateX"?"left":"top"]=`${k}px`,F.doTransform=!0},F.scaleXSetter=F.scaleYSetter=(k,S)=>{F[S]=k,F.doTransform=!0},F.opacitySetter=F.visibilitySetter=mb,F.css=k=>(v.call(F,k),k.cursor&&(_.style.cursor=k.cursor),k.pointerEvents&&(_.style.pointerEvents=k.pointerEvents),F),F.on=function(){return ha.prototype.on.apply({element:_,onEvents:F.onEvents},arguments),F},F.div=_}return F.div};class Nn extends ha{static compose(l){ik(ek,this.compose)&&(l.prototype.html=function(h,f,v){return new Nn(this,"span").attr({text:h,x:Math.round(f),y:Math.round(v)})})}constructor(l,h){super(l,h),Nn.useForeignObject?this.foreignObject=l.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...l.styledMode?{}:{fontFamily:l.style.fontFamily,fontSize:l.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(l,h,f){this.xCorr=-l*f,this.yCorr=-h}css(l){let h,{element:f}=this,v=f.tagName==="SPAN"&&l&&"width"in l,_=v&&l.width;return v&&(delete l.width,this.textWidth=Iu(_)||void 0,h=!0),(l==null?void 0:l.textOverflow)==="ellipsis"&&(l.overflow="hidden",l.whiteSpace="nowrap"),l!=null&&l.lineClamp&&(l.display="-webkit-box",l.WebkitLineClamp=l.lineClamp,l.WebkitBoxOrient="vertical",l.overflow="hidden"),Ep(Number(l==null?void 0:l.fontSize))&&(l.fontSize+="px"),tk(this.styles,l),Zo(f,l),h&&this.updateTransform(),this}htmlGetBBox(){let{element:l}=this;return{x:l.offsetLeft,y:l.offsetTop,width:l.offsetWidth,height:l.offsetHeight}}updateTransform(){var fe;if(!this.added){this.alignOnAdd=!0;return}let{element:l,foreignObject:h,oldTextWidth:f,renderer:v,rotation:_,rotationOriginX:k,rotationOriginY:S,scaleX:M,scaleY:R,styles:{display:$="inline-block",whiteSpace:z},textAlign:K="left",textWidth:ee,translateX:re=0,translateY:he=0,x:ce=0,y:ae=0}=this;if(h||Zo(l,{marginLeft:`${re}px`,marginTop:`${he}px`}),l.tagName==="SPAN"){let ge,Ie=[_,K,l.innerHTML,ee,this.textAlign].join(","),Te=-(((fe=this.parentGroup)==null?void 0:fe.padding)*1)||0;if(ee!==f){let qe=this.textPxLength?this.textPxLength:(Zo(l,{width:"",whiteSpace:z||"nowrap"}),l.offsetWidth),it=ee||0,at=!v.styledMode&&l.style.textOverflow===""&&l.style.webkitLineClamp;(it>f||qe>it||at)&&(/[\-\s\u00AD]/.test(l.textContent||l.innerText)||l.style.textOverflow==="ellipsis")&&(Zo(l,{width:(_||M||qe>it||at)&&Ep(ee)?ee+"px":"auto",display:$,whiteSpace:z||"normal"}),this.oldTextWidth=ee)}h&&(Zo(l,{display:"inline-block",verticalAlign:"top"}),h.attr({width:v.width,height:v.height})),Ie!==this.cTT&&(ge=v.fontMetrics(l).b,Mp(_)&&!h&&(_!==(this.oldRotation||0)||K!==this.oldAlign)&&Zo(l,{transform:`rotate(${_}deg)`,transformOrigin:`${Te}% ${Te}px`}),this.getSpanCorrection(!Mp(_)&&!this.textWidth&&this.textPxLength||l.offsetWidth,ge,sk(K)));let{xCorr:Ee=0,yCorr:Ge=0}=this,ze={left:`${ce+Ee}px`,top:`${ae+Ge}px`,textAlign:K,transformOrigin:`${(k??ce)-Ee-ce-Te}px ${(S??ae)-Ge-ae-Te}px`};(M||R)&&(ze.transform=`scale(${M??1},${R??1})`),h?(super.updateTransform(),Ep(ce)&&Ep(ae)?(h.attr({x:ce+Ee,y:ae+Ge,width:l.offsetWidth+3,height:l.offsetHeight,"transform-origin":l.getAttribute("transform-origin")||"0 0"}),Zo(l,{display:$,textAlign:K})):ql&&h.attr({width:0,height:0})):Zo(l,ze),this.cTT=Ie,this.oldRotation=_,this.oldAlign=K}}add(l){let{foreignObject:h,renderer:f}=this,v=f.box.parentNode,_=[];if(h)h.add(l),super.add(f.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(h));else{let k;if(this.parentGroup=l,l&&!(k=l.div)){let S=l;for(;S;)_.push(S),S=S.parentGroup;for(let M of _.reverse())k=rk(M,v)}(k||v).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(l){l!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,gi.setElementHTML(this.element,l??""),this.textStr=l,this.doTransform=!0)}alignSetter(l){this.alignValue=this.textAlign=l,this.doTransform=!0}xSetter(l,h){this[h]=l,this.doTransform=!0}}let Kl=Nn.prototype;Kl.visibilitySetter=Kl.opacitySetter=mb,Kl.ySetter=Kl.rotationSetter=Kl.rotationOriginXSetter=Kl.rotationOriginYSetter=Kl.xSetter,function(F){F.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},F.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:l}=this.axis.chart;return l(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(m||(m={}));let fb=m,{addEvent:nk,isFunction:ak,objectEach:Ip,removeEvent:ok}=ft;(x||(x={})).registerEventOptions=function(F,l){F.eventOptions=F.eventOptions||{},Ip(l.events,function(h,f){F.eventOptions[f]!==h&&(F.eventOptions[f]&&(ok(F,f,F.eventOptions[f]),delete F.eventOptions[f]),ak(h)&&(F.eventOptions[f]=h,nk(F,f,h,{order:0})))})};let Lp=x,{deg2rad:Op}=de,{clamp:lk,correctFloat:ho,defined:po,destroyObjectProperties:ck,extend:gb,fireEvent:Lu,getAlignFactor:dk,isNumber:Dp,merge:Rp,objectEach:hx,pick:Ra}=ft,mo=class{constructor(F,l,h,f,v){this.isNew=!0,this.isNewLabel=!0,this.axis=F,this.pos=l,this.type=h||"",this.parameters=v||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,Lu(this,"init"),h||f||this.addLabel()}addLabel(){var Ge,ze;let F=this,l=F.axis,h=l.options,f=l.chart,v=l.categories,_=l.logarithmic,k=l.names,S=F.pos,M=Ra((Ge=F.options)==null?void 0:Ge.labels,h.labels),R=l.tickPositions,$=S===R[0],z=S===R[R.length-1],K=(!M.step||M.step===1)&&l.tickInterval===1,ee=R.info,re=F.label,he,ce,ae,fe=this.parameters.category||(v?Ra(v[S],k[S],S):S);_&&Dp(fe)&&(fe=ho(_.lin2log(fe))),l.dateTime&&(ee?he=(ce=f.time.resolveDTLFormat(h.dateTimeLabelFormats[!((ze=h.grid)!=null&&ze.enabled)&&ee.higherRanks[S]||ee.unitName])).main:Dp(fe)&&(he=l.dateTime.getXDateFormat(fe,h.dateTimeLabelFormats||{}))),F.isFirst=$,F.isLast=z;let ge={axis:l,chart:f,dateTimeLabelFormat:he,isFirst:$,isLast:z,pos:S,tick:F,tickPositionInfo:ee,value:fe};Lu(this,"labelFormat",ge);let Ie=qe=>M.formatter?M.formatter.call(qe,qe):M.format?(qe.text=l.defaultLabelFormatter.call(qe),wn.format(M.format,qe,f)):l.defaultLabelFormatter.call(qe),Te=Ie.call(ge,ge),Ee=ce==null?void 0:ce.list;Ee?F.shortenLabel=function(){for(ae=0;ae<Ee.length;ae++)if(gb(ge,{dateTimeLabelFormat:Ee[ae]}),re.attr({text:Ie.call(ge,ge)}),re.getBBox().width<l.getSlotWidth(F)-2*(M.padding||0))return;re.attr({text:""})}:F.shortenLabel=void 0,K&&l._addedPlotLB&&F.moveLabel(Te,M),po(re)||F.movedLabel?re&&re.textStr!==Te&&!K&&(!re.textWidth||M.style.width||re.styles.width||re.css({width:null}),re.attr({text:Te}),re.textPxLength=re.getBBox().width):(F.label=re=F.createLabel(Te,M),F.rotation=0)}createLabel(F,l,h){let f=this.axis,{renderer:v,styledMode:_}=f.chart,k=l.style.whiteSpace,S=po(F)&&l.enabled?v.text(F,h==null?void 0:h.x,h==null?void 0:h.y,l.useHTML).add(f.labelGroup):void 0;return S&&(_||S.css(Rp(l.style)),S.textPxLength=S.getBBox().width,!_&&k&&S.css({whiteSpace:k})),S}destroy(){ck(this,this.axis)}getPosition(F,l,h,f){let v=this.axis,_=v.chart,k=f&&_.oldChartHeight||_.chartHeight,S={x:F?ho(v.translate(l+h,void 0,void 0,f)+v.transB):v.left+v.offset+(v.opposite?(f&&_.oldChartWidth||_.chartWidth)-v.right-v.left:0),y:F?k-v.bottom+v.offset-(v.opposite?v.height:0):ho(k-v.translate(l+h,void 0,void 0,f)-v.transB)};return S.y=lk(S.y,-1e9,1e9),Lu(this,"afterGetPosition",{pos:S}),S}getLabelPosition(F,l,h,f,v,_,k,S){let M,R,$=this.axis,z=$.transA,K=$.isLinked&&$.linkedParent?$.linkedParent.reversed:$.reversed,ee=$.staggerLines,re=$.tickRotCorr||{x:0,y:0},he=f||$.reserveSpaceDefault?0:-$.labelOffset*($.labelAlign==="center"?.5:1),ce=v.distance,ae={};return M=$.side===0?h.rotation?-ce:-h.getBBox().height:$.side===2?re.y+ce:Math.cos(h.rotation*Op)*(re.y-h.getBBox(!1,0).height/2),po(v.y)&&(M=$.side===0&&$.horiz?v.y+M:v.y),F=F+Ra(v.x,[0,1,0,-1][$.side]*ce)+he+re.x-(_&&f?_*z*(K?-1:1):0),l=l+M-(_&&!f?_*z*(K?1:-1):0),ee&&(R=k/(S||1)%ee,$.opposite&&(R=ee-R-1),l+=R*($.labelOffset/ee)),ae.x=F,ae.y=Math.round(l),Lu(this,"afterGetLabelPosition",{pos:ae,tickmarkOffset:_,index:k}),ae}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(F,l,h,f,v=!1,_){return _.crispLine([["M",F,l],["L",F+(v?0:-h),l+(v?h:0)]],f)}handleOverflow(F){var ce;let l=this.axis,h=l.options.labels,f=F.x,v=l.chart.chartWidth,_=l.chart.spacing,k=Ra(l.labelLeft,Math.min(l.pos,_[3])),S=Ra(l.labelRight,Math.max(l.isRadial?0:l.pos+l.len,v-_[1])),M=this.label,R=this.rotation,$=dk(l.labelAlign||M.attr("align")),z=M.getBBox().width,K=l.getSlotWidth(this),ee=K,re=1,he;R||h.overflow!=="justify"?R<0&&f-$*z<k?he=Math.round(f/Math.cos(R*Op)-k):R>0&&f+$*z>S&&(he=Math.round((v-f)/Math.cos(R*Op))):(f-$*z<k?ee=F.x+ee*(1-$)-k:f+(1-$)*z>S&&(ee=S-F.x+ee*$,re=-1),(ee=Math.min(K,ee))<K&&l.labelAlign==="center"&&(F.x+=re*(K-ee-$*(K-Math.min(z,ee)))),(z>ee||l.autoRotation&&((ce=M==null?void 0:M.styles)!=null&&ce.width))&&(he=ee)),he&&M&&(this.shortenLabel?this.shortenLabel():M.css(gb({},{width:Math.floor(he)+"px",lineClamp:+!l.isRadial})))}moveLabel(F,l){let h=this,f=h.label,v=h.axis,_=!1,k;f&&f.textStr===F?(h.movedLabel=f,_=!0,delete h.label):hx(v.ticks,function(S){_||S.isNew||S===h||!S.label||S.label.textStr!==F||(h.movedLabel=S.label,_=!0,S.labelPos=h.movedLabel.xy,delete S.label)}),!_&&(h.labelPos||f)&&(k=h.labelPos||f.xy,h.movedLabel=h.createLabel(F,l,k),h.movedLabel&&h.movedLabel.attr({opacity:0}))}render(F,l,h){var re;let f=this.axis,v=f.horiz,_=this.pos,k=Ra(this.tickmarkOffset,f.tickmarkOffset),S=this.getPosition(v,_,k,l),M=S.x,R=S.y,$=f.pos,z=$+f.len,K=v?M:R,ee=Ra(h,(re=this.label)==null?void 0:re.newOpacity,1);!f.chart.polar&&(ho(K)<$||K>z)&&(h=0),h??(h=1),this.isActive=!0,this.renderGridLine(l,h),this.renderMark(S,h),this.renderLabel(S,l,ee,F),this.isNew=!1,Lu(this,"afterRender")}renderGridLine(F,l){let h=this.axis,f=h.options,v={},_=this.pos,k=this.type,S=Ra(this.tickmarkOffset,h.tickmarkOffset),M=h.chart.renderer,R=this.gridLine,$,z=f.gridLineWidth,K=f.gridLineColor,ee=f.gridLineDashStyle;this.type==="minor"&&(z=f.minorGridLineWidth,K=f.minorGridLineColor,ee=f.minorGridLineDashStyle),R||(h.chart.styledMode||(v.stroke=K,v["stroke-width"]=z||0,v.dashstyle=ee),k||(v.zIndex=1),F&&(l=0),this.gridLine=R=M.path().attr(v).addClass("highcharts-"+(k?k+"-":"")+"grid-line").add(h.gridGroup)),R&&($=h.getPlotLinePath({value:_+S,lineWidth:R.strokeWidth(),force:"pass",old:F,acrossPanes:!1}))&&R[F||this.isNew?"attr":"animate"]({d:$,opacity:l})}renderMark(F,l){let h=this.axis,f=h.options,v=h.chart.renderer,_=this.type,k=h.tickSize(_?_+"Tick":"tick"),S=F.x,M=F.y,R=Ra(f[_!=="minor"?"tickWidth":"minorTickWidth"],!_&&h.isXAxis?1:0),$=f[_!=="minor"?"tickColor":"minorTickColor"],z=this.mark,K=!z;k&&(h.opposite&&(k[0]=-k[0]),!z&&(this.mark=z=v.path().addClass("highcharts-"+(_?_+"-":"")+"tick").add(h.axisGroup),h.chart.styledMode||z.attr({stroke:$,"stroke-width":R})),z[K?"attr":"animate"]({d:this.getMarkPath(S,M,k[0],z.strokeWidth(),h.horiz,v),opacity:l}))}renderLabel(F,l,h,f){let v=this.axis,_=v.horiz,k=v.options,S=this.label,M=k.labels,R=M.step,$=Ra(this.tickmarkOffset,v.tickmarkOffset),z=F.x,K=F.y,ee=!0;S&&Dp(z)&&(S.xy=F=this.getLabelPosition(z,K,S,_,M,$,f,R),(!this.isFirst||this.isLast||k.showFirstLabel)&&(!this.isLast||this.isFirst||k.showLastLabel)?!_||M.step||M.rotation||l||h===0||this.handleOverflow(F):ee=!1,R&&f%R&&(ee=!1),ee&&Dp(F.y)?(F.opacity=h,S[this.isNewLabel?"attr":"animate"](F).show(!0),this.isNewLabel=!1):(S.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let F=this.label,l=this.axis;F&&!this.isNew&&(F.animate({opacity:0},void 0,F.destroy),delete this.label),l.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:px}=_r,{xAxis:xb,yAxis:yb}=fb,{defaultOptions:Yl}=Vn,{registerEventOptions:uk}=Lp,{deg2rad:Fp}=de,{arrayMax:vb,arrayMin:hk,clamp:qn,correctFloat:mr,defined:ei,destroyObjectProperties:bb,erase:wb,error:Ou,extend:zp,fireEvent:wi,getClosestDistance:mx,insertItem:pk,isArray:Bp,isNumber:Ht,isString:Qs,merge:Wp,normalizeTickInterval:_b,objectEach:sd,pick:vs,relativeLength:ni,removeEvent:Nb,splat:mk,syncTimeout:jb}=ft,rs=(F,l)=>_b(l,void 0,void 0,vs(F.options.allowDecimals,l<.5||F.tickAmount!==void 0),!!F.tickAmount);zp(Yl,{xAxis:xb,yAxis:Wp(xb,yb)});class Xl{constructor(l,h,f){this.init(l,h,f)}init(l,h,f=this.coll){let v=f==="xAxis",_=this.isZAxis||(l.inverted?!v:v);this.chart=l,this.horiz=_,this.isXAxis=v,this.coll=f,wi(this,"init",{userOptions:h}),this.opposite=vs(h.opposite,this.opposite),this.side=vs(h.side,this.side,_?2*!this.opposite:this.opposite?1:3),this.setOptions(h);let k=this.options,S=k.labels;this.type??(this.type=k.type||"linear"),this.uniqueNames??(this.uniqueNames=k.uniqueNames??!0),wi(this,"afterSetType"),this.userOptions=h,this.minPixelPadding=0,this.reversed=vs(k.reversed,this.reversed),this.visible=k.visible,this.zoomEnabled=k.zoomEnabled,this.hasNames=this.type==="category"||k.categories===!0,this.categories=Bp(k.categories)&&k.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=ei(k.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=k.minRange||k.maxZoom,this.range=k.range,this.offset=k.offset||0,this.max=void 0,this.min=void 0;let M=vs(k.crosshair,mk(l.options.tooltip.crosshairs)[+!v]);this.crosshair=M===!0?{}:M,l.axes.indexOf(this)===-1&&(v?l.axes.splice(l.xAxis.length,0,this):l.axes.push(this),pk(this,l[this.coll])),l.orderItems(this.coll),this.series=this.series||[],l.inverted&&!this.isZAxis&&v&&!ei(this.reversed)&&(this.reversed=!0),this.labelRotation=Ht(S.rotation)?S.rotation:void 0,uk(this,k),wi(this,"afterInit")}setOptions(l){let h=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=Wp(h,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},Yl[this.coll],l),wi(this,"afterSetOptions",{userOptions:l})}defaultLabelFormatter(){let l=this.axis,{numberFormatter:h}=this.chart,f=Ht(this.value)?this.value:NaN,v=l.chart.time,_=l.categories,k=this.dateTimeLabelFormat,S=Yl.lang,M=S.numericSymbols,R=S.numericSymbolMagnitude||1e3,$=l.logarithmic?Math.abs(f):l.tickInterval,z=M==null?void 0:M.length,K,ee;if(_)ee=`${this.value}`;else if(k)ee=v.dateFormat(k,f,!0);else if(z&&M&&$>=1e3)for(;z--&&ee===void 0;)$>=(K=Math.pow(R,z+1))&&10*f%K==0&&M[z]!==null&&f!==0&&(ee=h(f/K,-1)+M[z]);return ee===void 0&&(ee=Math.abs(f)>=1e4?h(f,-1):h(f,-1,void 0,"")),ee}getSeriesExtremes(){let l,h=this;wi(this,"getSeriesExtremes",null,function(){h.hasVisibleSeries=!1,h.dataMin=h.dataMax=h.threshold=void 0,h.softThreshold=!h.isXAxis,h.series.forEach(f=>{if(f.reserveSpace()){let v=f.options,_,k=v.threshold,S,M;if(h.hasVisibleSeries=!0,h.positiveValuesOnly&&0>=(k||0)&&(k=void 0),h.isXAxis)(_=f.getColumn("x")).length&&(_=h.logarithmic?_.filter(R=>R>0):_,S=(l=f.getXExtremes(_)).min,M=l.max,Ht(S)||S instanceof Date||(_=_.filter(Ht),S=(l=f.getXExtremes(_)).min,M=l.max),_.length&&(h.dataMin=Math.min(vs(h.dataMin,S),S),h.dataMax=Math.max(vs(h.dataMax,M),M)));else{let R=f.applyExtremes();Ht(R.dataMin)&&(S=R.dataMin,h.dataMin=Math.min(vs(h.dataMin,S),S)),Ht(R.dataMax)&&(M=R.dataMax,h.dataMax=Math.max(vs(h.dataMax,M),M)),ei(k)&&(h.threshold=k),(!v.softThreshold||h.positiveValuesOnly)&&(h.softThreshold=!1)}}})}),wi(this,"afterGetSeriesExtremes")}translate(l,h,f,v,_,k){var he;let S=this.linkedParent||this,M=v&&S.old?S.old.min:S.min;if(!Ht(M))return NaN;let R=S.minPixelPadding,$=(S.isOrdinal||((he=S.brokenAxis)==null?void 0:he.hasBreaks)||S.logarithmic&&_)&&!!S.lin2val,z=1,K=0,ee=v&&S.old?S.old.transA:S.transA,re=0;return ee||(ee=S.transA),f&&(z*=-1,K=S.len),S.reversed&&(z*=-1,K-=z*(S.sector||S.len)),h?(re=(l=l*z+K-R)/ee+M,$&&(re=S.lin2val(re))):($&&(l=S.val2lin(l)),re=z*(l-M)*ee+K+z*R+(Ht(k)?ee*k:0),S.isRadial||(re=mr(re))),re}toPixels(l,h){var f;return this.translate(((f=this.chart)==null?void 0:f.time.parse(l))??NaN,!1,!this.horiz,void 0,!0)+(h?0:this.pos)}toValue(l,h){return this.translate(l-(h?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(l){let h=this,f=h.chart,v=h.left,_=h.top,k=l.old,S=l.value,M=l.lineWidth,R=k&&f.oldChartHeight||f.chartHeight,$=k&&f.oldChartWidth||f.chartWidth,z=h.transB,K=l.translatedValue,ee=l.force,re,he,ce,ae,fe;function ge(Te,Ee,Ge){return ee!=="pass"&&(Te<Ee||Te>Ge)&&(ee?Te=qn(Te,Ee,Ge):fe=!0),Te}let Ie={value:S,lineWidth:M,old:k,force:ee,acrossPanes:l.acrossPanes,translatedValue:K};return wi(this,"getPlotLinePath",Ie,function(Te){re=ce=(K=qn(K=vs(K,h.translate(S,void 0,void 0,k)),-1e9,1e9))+z,he=ae=R-K-z,Ht(K)?h.horiz?(he=_,ae=R-h.bottom+(h.options.isInternal?0:f.scrollablePixelsY||0),re=ce=ge(re,v,v+h.width)):(re=v,ce=$-h.right+(f.scrollablePixelsX||0),he=ae=ge(he,_,_+h.height)):(fe=!0,ee=!1),Te.path=fe&&!ee?void 0:f.renderer.crispLine([["M",re,he],["L",ce,ae]],M||1)}),Ie.path}getLinearTickPositions(l,h,f){let v,_,k,S=mr(Math.floor(h/l)*l),M=mr(Math.ceil(f/l)*l),R=[];if(mr(S+l)===S&&(k=20),this.single)return[h];for(v=S;v<=M&&(R.push(v),(v=mr(v+l,k))!==_);)_=v;return R}getMinorTickInterval(){let{minorTicks:l,minorTickInterval:h}=this.options;return l===!0?vs(h,"auto"):l!==!1?h:void 0}getMinorTickPositions(){var $;let l=this.options,h=this.tickPositions,f=this.minorTickInterval,v=this.pointRangePadding||0,_=(this.min||0)-v,k=(this.max||0)+v,S=($=this.brokenAxis)!=null&&$.hasBreaks?this.brokenAxis.unitLength:k-_,M=[],R;if(S&&S/f<this.len/3){let z=this.logarithmic;if(z)this.paddedTicks.forEach(function(K,ee,re){ee&&M.push.apply(M,z.getLogTickPositions(f,re[ee-1],re[ee],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")M=M.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(f),_,k,l.startOfWeek));else for(R=_+(h[0]-_)%f;R<=k&&R!==M[0];R+=f)M.push(R)}return M.length!==0&&this.trimTicks(M),M}adjustForMinRange(){let l=this.options,h=this.logarithmic,f=this.chart.time,{max:v,min:_,minRange:k}=this,S,M,R,$;this.isXAxis&&k===void 0&&!h&&(k=ei(l.min)||ei(l.max)||ei(l.floor)||ei(l.ceiling)?null:Math.min(5*(mx(this.series.map(z=>{let K=z.getColumn("x");return z.xIncrement?K.slice(0,2):K}))||0),this.dataMax-this.dataMin)),Ht(v)&&Ht(_)&&Ht(k)&&v-_<k&&(M=this.dataMax-this.dataMin>=k,S=(k-v+_)/2,R=[_-S,f.parse(l.min)??_-S],M&&(R[2]=h?h.log2lin(this.dataMin):this.dataMin),$=[(_=vb(R))+k,f.parse(l.max)??_+k],M&&($[2]=h?h.log2lin(this.dataMax):this.dataMax),(v=hk($))-_<k&&(R[0]=v-k,R[1]=f.parse(l.min)??v-k,_=vb(R))),this.minRange=k,this.min=_,this.max=v}getClosest(){let l,h;if(this.categories)h=1;else{let f=[];this.series.forEach(function(v){let _=v.closestPointRange,k=v.getColumn("x");k.length===1?f.push(k[0]):v.sorted&&ei(_)&&v.reserveSpace()&&(h=ei(h)?Math.min(h,_):_)}),f.length&&(f.sort((v,_)=>v-_),l=mx([f]))}return l&&h?Math.min(l,h):l||h}nameToX(l){let h=Bp(this.options.categories),f=h?this.categories:this.names,v=l.options.x,_;return l.series.requireSorting=!1,ei(v)||(v=this.uniqueNames&&f?h?f.indexOf(l.name):vs(f.keys[l.name],-1):l.series.autoIncrement()),v===-1?!h&&f&&(_=f.length):Ht(v)&&(_=v),_!==void 0?(this.names[_]=l.name,this.names.keys[l.name]=_):l.x&&(_=l.x),_}updateNames(){let l=this,h=this.names;h.length>0&&(Object.keys(h.keys).forEach(function(f){delete h.keys[f]}),h.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(f=>{f.xIncrement=null,(!f.points||f.isDirtyData)&&(l.max=Math.max(l.max||0,f.dataTable.rowCount-1),f.processData(),f.generatePoints());let v=f.getColumn("x").slice();f.data.forEach((_,k)=>{let S=v[k];_!=null&&_.options&&_.name!==void 0&&(S=l.nameToX(_))!==void 0&&S!==_.x&&(v[k]=_.x=S)}),f.dataTable.setColumn("x",v)}))}setAxisTranslation(){var K;let l=this,h=l.max-l.min,f=l.linkedParent,v=!!l.categories,_=l.isXAxis,k=l.axisPointRange||0,S,M=0,R=0,$,z=l.transA;(_||v||k)&&(S=l.getClosest(),f?(M=f.minPointOffset,R=f.pointRangePadding):l.series.forEach(function(ee){let re=v?1:_?vs(ee.options.pointRange,S,0):l.axisPointRange||0,he=ee.options.pointPlacement;if(k=Math.max(k,re),!l.single||v){let ce=ee.is("xrange")?!_:_;M=Math.max(M,ce&&Qs(he)?0:re/2),R=Math.max(R,ce&&he==="on"?0:re)}}),$=(K=l.ordinal)!=null&&K.slope&&S?l.ordinal.slope/S:1,l.minPointOffset=M*=$,l.pointRangePadding=R*=$,l.pointRange=Math.min(k,l.single&&v?1:h),_&&(l.closestPointRange=S)),l.translationSlope=l.transA=z=l.staticScale||l.len/(h+R||1),l.transB=l.horiz?l.left:l.bottom,l.minPixelPadding=z*M,wi(this,"afterSetAxisTranslation")}minFromRange(){let{max:l,min:h}=this;return Ht(l)&&Ht(h)&&l-h||void 0}setTickInterval(l){var Dt,Kt,Pt,Xt;let{categories:h,chart:f,dataMax:v,dataMin:_,dateTime:k,isXAxis:S,logarithmic:M,options:R,softThreshold:$}=this,z=f.time,K=Ht(this.threshold)?this.threshold:void 0,ee=this.minRange||0,{ceiling:re,floor:he,linkedTo:ce,softMax:ae,softMin:fe}=R,ge=Ht(ce)&&((Dt=f[this.coll])==null?void 0:Dt[ce]),Ie=R.tickPixelInterval,Te=R.maxPadding,Ee=R.minPadding,Ge=0,ze,qe=Ht(R.tickInterval)&&R.tickInterval>=0?R.tickInterval:void 0,it,at,vt,Nt;if(k||h||ge||this.getTickAmount(),vt=vs(this.userMin,z.parse(R.min)),Nt=vs(this.userMax,z.parse(R.max)),ge?(this.linkedParent=ge,ze=ge.getExtremes(),this.min=vs(ze.min,ze.dataMin),this.max=vs(ze.max,ze.dataMax),this.type!==ge.type&&Ou(11,!0,f)):($&&ei(K)&&Ht(v)&&Ht(_)&&(_>=K?(it=K,Ee=0):v<=K&&(at=K,Te=0)),this.min=vs(vt,it,_),this.max=vs(Nt,at,v)),Ht(this.max)&&Ht(this.min)&&(M&&(this.positiveValuesOnly&&!l&&0>=Math.min(this.min,vs(_,this.min))&&Ou(10,!0,f),this.min=mr(M.log2lin(this.min),16),this.max=mr(M.log2lin(this.max),16)),this.range&&Ht(_)&&(this.userMin=this.min=vt=Math.max(_,this.minFromRange()||0),this.userMax=Nt=this.max,this.range=void 0)),wi(this,"foundExtremes"),this.adjustForMinRange(),Ht(this.min)&&Ht(this.max)){if(!Ht(this.userMin)&&Ht(fe)&&fe<this.min&&(this.min=vt=fe),!Ht(this.userMax)&&Ht(ae)&&ae>this.max&&(this.max=Nt=ae),h||this.axisPointRange||(Kt=this.stacking)!=null&&Kt.usePercentage||ge||(Ge=this.max-this.min)&&(!ei(vt)&&Ee&&(this.min-=Ge*Ee),!ei(Nt)&&Te&&(this.max+=Ge*Te)),!Ht(this.userMin)&&Ht(he)&&(this.min=Math.max(this.min,he)),!Ht(this.userMax)&&Ht(re)&&(this.max=Math.min(this.max,re)),$&&Ht(_)&&Ht(v)){let ws=K||0;!ei(vt)&&this.min<ws&&_>=ws?this.min=R.minRange?Math.min(ws,this.max-ee):ws:!ei(Nt)&&this.max>ws&&v<=ws&&(this.max=R.minRange?Math.max(ws,this.min+ee):ws)}!f.polar&&this.min>this.max&&(ei(R.min)?this.max=this.min:ei(R.max)&&(this.min=this.max)),Ge=this.max-this.min}if(this.min!==this.max&&Ht(this.min)&&Ht(this.max)?ge&&!qe&&Ie===ge.options.tickPixelInterval?this.tickInterval=qe=ge.tickInterval:this.tickInterval=vs(qe,this.tickAmount?Ge/Math.max(this.tickAmount-1,1):void 0,h?1:Ge*Ie/Math.max(this.len,Ie)):this.tickInterval=1,S&&!l){let ws=this.min!==((Pt=this.old)==null?void 0:Pt.min)||this.max!==((Xt=this.old)==null?void 0:Xt.max);this.series.forEach(function(Ns){var Cs;Ns.forceCrop=(Cs=Ns.forceCropping)==null?void 0:Cs.call(Ns),Ns.processData(ws)}),wi(this,"postProcessData",{hasExtremesChanged:ws})}this.setAxisTranslation(),wi(this,"initialAxisTranslation"),this.pointRange&&!qe&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let Wt=vs(R.minTickInterval,k&&!this.series.some(ws=>!ws.sorted)?this.closestPointRange:0);!qe&&Wt&&this.tickInterval<Wt&&(this.tickInterval=Wt),k||M||qe||(this.tickInterval=rs(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var $,z;let l=this.options,h=l.tickPositions,f=l.tickPositioner,v=this.getMinorTickInterval(),_=!this.isPanning,k=_&&l.startOnTick,S=_&&l.endOnTick,M=[],R;if(this.tickmarkOffset=this.categories&&l.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&ei(this.min)&&!this.tickAmount&&(this.min%1==0||l.allowDecimals!==!1),h)M=h.slice();else if(Ht(this.min)&&Ht(this.max)){if(!(($=this.ordinal)!=null&&$.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))M=[this.min,this.max],Ou(19,!1,this.chart);else if(this.dateTime)M=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,l.units),this.min,this.max,l.startOfWeek,(z=this.ordinal)==null?void 0:z.positions,this.closestPointRange,!0);else if(this.logarithmic)M=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let K=this.tickInterval,ee=K;for(;ee<=2*K&&(M=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&M.length>this.tickAmount);)this.tickInterval=rs(this,ee*=1.1)}M.length>this.len&&(M=[M[0],M[M.length-1]])[0]===M[1]&&(M.length=1),f&&(this.tickPositions=M,(R=f.apply(this,[this.min,this.max]))&&(M=R))}this.tickPositions=M,this.minorTickInterval=v==="auto"&&this.tickInterval?this.tickInterval/l.minorTicksPerMajor:v,this.paddedTicks=M.slice(0),this.trimTicks(M,k,S),!this.isLinked&&Ht(this.min)&&Ht(this.max)&&(this.single&&M.length<2&&!this.categories&&!this.series.some(K=>K.is("heatmap")&&K.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),h||R||this.adjustTickAmount()),wi(this,"afterSetTickPositions")}trimTicks(l,h,f){let v=l[0],_=l[l.length-1],k=!this.isOrdinal&&this.minPointOffset||0;if(wi(this,"trimTicks"),!this.isLinked||!this.grid){if(h&&v!==-1/0)this.min=v;else for(;this.min-k>l[0];)l.shift();if(f)this.max=_;else for(;this.max+k<l[l.length-1];)l.pop();l.length===0&&ei(v)&&!this.options.tickPositions&&l.push((_+v)/2)}}alignToOthers(){let l,h=this,f=h.chart,v=[this],_=h.options,k=f.options.chart,S=this.coll==="yAxis"&&k.alignThresholds,M=[];if(h.thresholdAlignment=void 0,(k.alignTicks!==!1&&_.alignTicks||S)&&_.startOnTick!==!1&&_.endOnTick!==!1&&!h.logarithmic){let R=z=>{let{horiz:K,options:ee}=z;return[K?ee.left:ee.top,ee.width,ee.height,ee.pane].join(",")},$=R(this);f[this.coll].forEach(function(z){let{series:K}=z;K.length&&K.some(ee=>ee.visible)&&z!==h&&R(z)===$&&(l=!0,v.push(z))})}if(l&&S){v.forEach($=>{let z=$.getThresholdAlignment(h);Ht(z)&&M.push(z)});let R=M.length>1?M.reduce(($,z)=>$+=z,0)/M.length:void 0;v.forEach($=>{$.thresholdAlignment=R})}return l}getThresholdAlignment(l){if((!Ht(this.dataMin)||this!==l&&this.series.some(h=>h.isDirty||h.isDirtyData))&&this.getSeriesExtremes(),Ht(this.threshold)){let h=qn((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(h=1-h),h}}getTickAmount(){let l=this.options,h=l.tickPixelInterval,f=l.tickAmount;ei(l.tickInterval)||f||!(this.len<h)||this.isRadial||this.logarithmic||!l.startOnTick||!l.endOnTick||(f=2),!f&&this.alignToOthers()&&(f=Math.ceil(this.len/h)+1),f<4&&(this.finalTickAmt=f,f=5),this.tickAmount=f}adjustTickAmount(){let l=this,{finalTickAmt:h,max:f,min:v,options:_,tickPositions:k,tickAmount:S,thresholdAlignment:M}=l,R=k==null?void 0:k.length,$=vs(l.threshold,l.softThreshold?0:null),z,K,ee=l.tickInterval,re,he=()=>k.push(mr(k[k.length-1]+ee)),ce=()=>k.unshift(mr(k[0]-ee));if(Ht(M)&&(re=M<.5?Math.ceil(M*(S-1)):Math.floor(M*(S-1)),_.reversed&&(re=S-1-re)),l.hasData()&&Ht(v)&&Ht(f)){let ae=()=>{l.transA*=(R-1)/(S-1),l.min=_.startOnTick?k[0]:Math.min(v,k[0]),l.max=_.endOnTick?k[k.length-1]:Math.max(f,k[k.length-1])};if(Ht(re)&&Ht(l.threshold)){for(;k[re]!==$||k.length!==S||k[0]>v||k[k.length-1]<f;){for(k.length=0,k.push(l.threshold);k.length<S;)k[re]===void 0||k[re]>l.threshold?ce():he();if(ee>8*l.tickInterval)break;ee*=2}ae()}else if(R<S){for(;k.length<S;)k.length%2||v===$?he():ce();ae()}if(ei(h)){for(K=z=k.length;K--;)(h===3&&K%2==1||h<=2&&K>0&&K<z-1)&&k.splice(K,1);l.finalTickAmt=void 0}}}setScale(){var k,S,M,R,$;let{coll:l,stacking:h}=this,f=!1,v=!1;this.series.forEach(z=>{var K;f=f||z.isDirtyData||z.isDirty,v=v||((K=z.xAxis)==null?void 0:K.isDirty)||!1}),this.setAxisSize();let _=this.len!==((k=this.old)==null?void 0:k.len);_||f||v||this.isLinked||this.forceRedraw||this.userMin!==((S=this.old)==null?void 0:S.userMin)||this.userMax!==((M=this.old)==null?void 0:M.userMax)||this.alignToOthers()?(h&&l==="yAxis"&&h.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),h&&l==="xAxis"&&h.buildStacks(),this.isDirty||(this.isDirty=_||this.min!==((R=this.old)==null?void 0:R.min)||this.max!==(($=this.old)==null?void 0:$.max))):h&&h.cleanStacks(),f&&delete this.allExtremes,wi(this,"afterSetScale")}setExtremes(l,h,f=!0,v,_){let k=this.chart;this.series.forEach(S=>{delete S.kdTree}),l=k.time.parse(l),h=k.time.parse(h),wi(this,"setExtremes",_=zp(_,{min:l,max:h}),S=>{this.userMin=S.min,this.userMax=S.max,this.eventArgs=S,f&&k.redraw(v)})}setAxisSize(){let l=this.chart,h=this.options,f=h.offsets||[0,0,0,0],v=this.horiz,_=this.width=Math.round(ni(vs(h.width,l.plotWidth-f[3]+f[1]),l.plotWidth)),k=this.height=Math.round(ni(vs(h.height,l.plotHeight-f[0]+f[2]),l.plotHeight)),S=this.top=Math.round(ni(vs(h.top,l.plotTop+f[0]),l.plotHeight,l.plotTop)),M=this.left=Math.round(ni(vs(h.left,l.plotLeft+f[3]),l.plotWidth,l.plotLeft));this.bottom=l.chartHeight-k-S,this.right=l.chartWidth-_-M,this.len=Math.max(v?_:k,0),this.pos=v?M:S}getExtremes(){let l=this.logarithmic;return{min:l?mr(l.lin2log(this.min)):this.min,max:l?mr(l.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(l){let h=this.logarithmic,f=h?h.lin2log(this.min):this.min,v=h?h.lin2log(this.max):this.max;return l===null||l===-1/0?l=f:l===1/0?l=v:f>l?l=f:v<l&&(l=v),this.translate(l,0,1,0,1)}autoLabelAlign(l){let h=(vs(l,0)-90*this.side+720)%360,f={align:"center"};return wi(this,"autoLabelAlign",f,function(v){h>15&&h<165?v.align="right":h>195&&h<345&&(v.align="left")}),f.align}tickSize(l){let h=this.options,f=vs(h[l==="tick"?"tickWidth":"minorTickWidth"],l==="tick"&&this.isXAxis&&!this.categories?1:0),v=h[l==="tick"?"tickLength":"minorTickLength"],_;f&&v&&(h[l+"Position"]==="inside"&&(v=-v),_=[v,f]);let k={tickSize:_};return wi(this,"afterTickSize",k),k.tickSize}labelMetrics(){let l=this.chart.renderer,h=this.ticks,f=h[Object.keys(h)[0]]||{};return this.chart.renderer.fontMetrics(f.label||f.movedLabel||l.box)}unsquish(){let l=this.options.labels,h=l.padding||0,f=this.horiz,v=this.tickInterval,_=this.len/((+!!this.categories+this.max-this.min)/v),k=l.rotation,S=mr(.8*this.labelMetrics().h),M=Math.max(this.max-this.min,0),R=function(re){let he=(re+2*h)/(_||1);return(he=he>1?Math.ceil(he):1)*v>M&&re!==1/0&&_!==1/0&&M&&(he=Math.ceil(M/v)),mr(he*v)},$=v,z,K=Number.MAX_VALUE,ee;if(f){if(!l.staggerLines&&(Ht(k)?ee=[k]:_<l.autoRotationLimit&&(ee=l.autoRotation)),ee){let re,he;for(let ce of ee)(ce===k||ce&&ce>=-90&&ce<=90)&&(he=(re=R(Math.abs(S/Math.sin(Fp*ce))))+Math.abs(ce/360))<K&&(K=he,z=ce,$=re)}}else $=R(.75*S);return this.autoRotation=ee,this.labelRotation=vs(z,Ht(k)?k:0),l.step?v:$}getSlotWidth(l){let h=this.chart,f=this.horiz,v=this.options.labels,_=Math.max(this.tickPositions.length-!this.categories,1),k=h.margin[3];if(l&&Ht(l.slotWidth))return l.slotWidth;if(f&&v.step<2&&!this.isRadial)return v.rotation?0:(this.staggerLines||1)*this.len/_;if(!f){let S=v.style.width;if(S!==void 0)return parseInt(String(S),10);if(!this.opposite&&k)return k-h.spacing[3]}return .33*h.chartWidth}renderUnsquish(){let l=this.chart,h=l.renderer,f=this.tickPositions,v=this.ticks,_=this.options.labels,k=_.style,S=this.horiz,M=this.getSlotWidth(),R=Math.max(1,Math.round(M-(S?2*(_.padding||0):_.distance||0))),$={},z=this.labelMetrics(),K=k.lineClamp,ee,re=K??(Math.floor(this.len/(f.length*z.h))||1),he=0;Qs(_.rotation)||($.rotation=_.rotation||0),f.forEach(function(ce){var ge;let ae=v[ce];ae.movedLabel&&ae.replaceMovedLabel();let fe=((ge=ae.label)==null?void 0:ge.textPxLength)||0;fe>he&&(he=fe)}),this.maxLabelLength=he,this.autoRotation?he>R&&he>z.h?$.rotation=this.labelRotation:this.labelRotation=0:M&&(ee=R),$.rotation&&(ee=he>.5*l.chartHeight?.33*l.chartHeight:he,K||(re=1)),this.labelAlign=_.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&($.align=this.labelAlign),f.forEach(function(ce){let ae=v[ce],fe=ae==null?void 0:ae.label,ge=k.width,Ie={};fe&&(fe.attr($),ae.shortenLabel?ae.shortenLabel():ee&&!ge&&k.whiteSpace!=="nowrap"&&(ee<(fe.textPxLength||0)||fe.element.tagName==="SPAN")?fe.css(zp(Ie,{width:`${ee}px`,lineClamp:re})):!fe.styles.width||Ie.width||ge||fe.css({width:"auto"}),ae.rotation=$.rotation)},this),this.tickRotCorr=h.rotCorr(z.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(l){return l.hasData()})||this.options.showEmpty&&ei(this.min)&&ei(this.max)}addTitle(l){let h,f=this.chart.renderer,v=this.horiz,_=this.opposite,k=this.options.title,S=this.chart.styledMode;this.axisTitle||((h=k.textAlign)||(h=(v?{low:"left",middle:"center",high:"right"}:{low:_?"right":"left",middle:"center",high:_?"left":"right"})[k.align]),this.axisTitle=f.text(k.text||"",0,0,k.useHTML).attr({zIndex:7,rotation:k.rotation||0,align:h}).addClass("highcharts-axis-title"),S||this.axisTitle.css(Wp(k.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),S||k.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[l?"show":"hide"](l)}generateTick(l){let h=this.ticks;h[l]?h[l].addLabel():h[l]=new mo(this,l)}createGroups(){let{axisParent:l,chart:h,coll:f,options:v}=this,_=h.renderer,k=(S,M,R)=>_.g(S).attr({zIndex:R}).addClass(`highcharts-${f.toLowerCase()}${M} `+(this.isRadial?`highcharts-radial-axis${M} `:"")+(v.className||"")).add(l);this.axisGroup||(this.gridGroup=k("grid","-grid",v.gridZIndex),this.axisGroup=k("axis","",v.zIndex),this.labelGroup=k("axis-labels","-labels",v.labels.zIndex))}getOffset(){let l=this,{chart:h,horiz:f,options:v,side:_,ticks:k,tickPositions:S,coll:M}=l,R=h.inverted&&!l.isZAxis?[1,0,3,2][_]:_,$=l.hasData(),z=v.title,K=v.labels,ee=Ht(v.crossing),re=h.axisOffset,he=h.clipOffset,ce=[-1,1,1,-1][_],ae,fe=0,ge,Ie=0,Te=0,Ee,Ge;if(l.showAxis=ae=$||v.showEmpty,l.staggerLines=l.horiz&&K.staggerLines||void 0,l.createGroups(),$||l.isLinked?(S.forEach(function(ze){l.generateTick(ze)}),l.renderUnsquish(),l.reserveSpaceDefault=_===0||_===2||{1:"left",3:"right"}[_]===l.labelAlign,vs(K.reserveSpace,!ee&&null,l.labelAlign==="center"||null,l.reserveSpaceDefault)&&S.forEach(function(ze){Te=Math.max(k[ze].getLabelSize(),Te)}),l.staggerLines&&(Te*=l.staggerLines),l.labelOffset=Te*(l.opposite?-1:1)):sd(k,function(ze,qe){ze.destroy(),delete k[qe]}),z!=null&&z.text&&z.enabled!==!1&&(l.addTitle(ae),ae&&!ee&&z.reserveSpace!==!1&&(l.titleOffset=fe=l.axisTitle.getBBox()[f?"height":"width"],Ie=ei(ge=z.offset)?0:vs(z.margin,f?5:10))),l.renderLine(),l.offset=ce*vs(v.offset,re[_]?re[_]+(v.margin||0):0),l.tickRotCorr=l.tickRotCorr||{x:0,y:0},Ge=_===0?-l.labelMetrics().h:_===2?l.tickRotCorr.y:0,Ee=Math.abs(Te)+Ie,Te&&(Ee-=Ge,Ee+=ce*(f?vs(K.y,l.tickRotCorr.y+ce*K.distance):vs(K.x,ce*K.distance))),l.axisTitleMargin=vs(ge,Ee),l.getMaxLabelDimensions&&(l.maxLabelDimensions=l.getMaxLabelDimensions(k,S)),M!=="colorAxis"&&he){let ze=this.tickSize("tick");re[_]=Math.max(re[_],(l.axisTitleMargin||0)+fe+ce*l.offset,Ee,S!=null&&S.length&&ze?ze[0]+ce*l.offset:0);let qe=!l.axisLine||v.offset?0:l.axisLine.strokeWidth()/2;he[R]=Math.max(he[R],qe)}wi(this,"afterGetOffset")}getLinePath(l){let h=this.chart,f=this.opposite,v=this.offset,_=this.horiz,k=this.left+(f?this.width:0)+v,S=h.chartHeight-this.bottom-(f?this.height:0)+v;return f&&(l*=-1),h.renderer.crispLine([["M",_?this.left:k,_?S:this.top],["L",_?h.chartWidth-this.right:k,_?S:h.chartHeight-this.bottom]],l)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(l){let h=this.horiz,f=this.left,v=this.top,_=this.len,k=this.options.title,S=h?f:v,M=this.opposite,R=this.offset,$=k.x,z=k.y,K=this.chart.renderer.fontMetrics(l),ee=l?Math.max(l.getBBox(!1,0).height-K.h-1,0):0,re={low:S+(h?0:_),middle:S+_/2,high:S+(h?_:0)}[k.align],he=(h?v+this.height:f)+(h?1:-1)*(M?-1:1)*(this.axisTitleMargin||0)+[-ee,ee,K.f,-ee][this.side],ce={x:h?re+$:he+(M?this.width:0)+R+$,y:h?he+z-(M?this.height:0)+R:re+z};return wi(this,"afterGetTitlePosition",{titlePosition:ce}),ce}renderMinorTick(l,h){let f=this.minorTicks;f[l]||(f[l]=new mo(this,l,"minor")),h&&f[l].isNew&&f[l].render(null,!0),f[l].render(null,!1,1)}renderTick(l,h,f){var k;let v=this.isLinked,_=this.ticks;(!v||l>=this.min&&l<=this.max||(k=this.grid)!=null&&k.isColumn)&&(_[l]||(_[l]=new mo(this,l)),f&&_[l].isNew&&_[l].render(h,!0,-1),_[l].render(h))}render(){let l,h,f=this,v=f.chart,_=f.logarithmic,k=v.renderer,S=f.options,M=f.isLinked,R=f.tickPositions,$=f.axisTitle,z=f.ticks,K=f.minorTicks,ee=f.alternateBands,re=S.stackLabels,he=S.alternateGridColor,ce=S.crossing,ae=f.tickmarkOffset,fe=f.axisLine,ge=f.showAxis,Ie=px(k.globalAnimation);if(f.labelEdge.length=0,f.overlap=!1,[z,K,ee].forEach(function(Te){sd(Te,function(Ee){Ee.isActive=!1})}),Ht(ce)){let Te=this.isXAxis?v.yAxis[0]:v.xAxis[0],Ee=[1,-1,-1,1][this.side];if(Te){let Ge=Te.toPixels(ce,!0);f.horiz&&(Ge=Te.len-Ge),f.offset=Ee*Ge}}if(f.hasData()||M){let Te=f.chart.hasRendered&&f.old&&Ht(f.old.min);f.minorTickInterval&&!f.categories&&f.getMinorTickPositions().forEach(function(Ee){f.renderMinorTick(Ee,Te)}),R.length&&(R.forEach(function(Ee,Ge){f.renderTick(Ee,Ge,Te)}),ae&&(f.min===0||f.single)&&(z[-1]||(z[-1]=new mo(f,-1,null,!0)),z[-1].render(-1))),he&&R.forEach(function(Ee,Ge){h=R[Ge+1]!==void 0?R[Ge+1]+ae:f.max-ae,Ge%2==0&&Ee<f.max&&h<=f.max+(v.polar?-ae:ae)&&(ee[Ee]||(ee[Ee]=new de.PlotLineOrBand(f,{})),l=Ee+ae,ee[Ee].options={from:_?_.lin2log(l):l,to:_?_.lin2log(h):h,color:he,className:"highcharts-alternate-grid"},ee[Ee].render(),ee[Ee].isActive=!0)}),f._addedPlotLB||(f._addedPlotLB=!0,(S.plotLines||[]).concat(S.plotBands||[]).forEach(function(Ee){f.addPlotBandOrLine(Ee)}))}[z,K,ee].forEach(function(Te){let Ee=[],Ge=Ie.duration;sd(Te,function(ze,qe){ze.isActive||(ze.render(qe,!1,0),ze.isActive=!1,Ee.push(qe))}),jb(function(){let ze=Ee.length;for(;ze--;)Te[Ee[ze]]&&!Te[Ee[ze]].isActive&&(Te[Ee[ze]].destroy(),delete Te[Ee[ze]])},Te!==ee&&v.hasRendered&&Ge?Ge:0)}),fe&&(fe[fe.isPlaced?"animate":"attr"]({d:this.getLinePath(fe.strokeWidth())}),fe.isPlaced=!0,fe[ge?"show":"hide"](ge)),$&&ge&&($[$.isNew?"attr":"animate"](f.getTitlePosition($)),$.isNew=!1),re!=null&&re.enabled&&f.stacking&&f.stacking.renderStackTotals(),f.old={len:f.len,max:f.max,min:f.min,transA:f.transA,userMax:f.userMax,userMin:f.userMin},f.isDirty=!1,wi(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(l){l.render()})),this.series.forEach(function(l){l.isDirty=!0})}getKeepProps(){return this.keepProps||Xl.keepProps}destroy(l){let h=this,f=h.plotLinesAndBands,v=this.eventOptions;if(wi(this,"destroy",{keepEvents:l}),l||Nb(h),[h.ticks,h.minorTicks,h.alternateBands].forEach(function(_){bb(_)}),f){let _=f.length;for(;_--;)f[_].destroy()}for(let _ in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(k){h[k]&&(h[k]=h[k].destroy())}),h.plotLinesAndBandsGroups)h.plotLinesAndBandsGroups[_]=h.plotLinesAndBandsGroups[_].destroy();sd(h,function(_,k){h.getKeepProps().indexOf(k)===-1&&delete h[k]}),this.eventOptions=v}drawCrosshair(l,h){var z;let f=this.crosshair,v=(f==null?void 0:f.snap)??!0,_=this.chart,k,S,M,R=this.cross,$;if(wi(this,"drawCrosshair",{e:l,point:h}),l||(l=(z=this.cross)==null?void 0:z.e),f&&(ei(h)||!v)!==!1){if(v?ei(h)&&(S=vs(this.coll!=="colorAxis"?h.crosshairPos:null,this.isXAxis?h.plotX:this.len-h.plotY)):S=l&&(this.horiz?l.chartX-this.pos:this.len-l.chartY+this.pos),ei(S)&&($={value:h&&(this.isXAxis?h.x:vs(h.stackY,h.y)),translatedValue:S},_.polar&&zp($,{isCrosshair:!0,chartX:l==null?void 0:l.chartX,chartY:l==null?void 0:l.chartY,point:h}),k=this.getPlotLinePath($)||null),!ei(k))return void this.hideCrosshair();M=this.categories&&!this.isRadial,R||(this.cross=R=_.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(M?"category ":"thin ")+(f.className||"")).attr({zIndex:vs(f.zIndex,2)}).add(),!_.styledMode&&(R.attr({stroke:f.color||(M?ui.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":vs(f.width,1)}).css({"pointer-events":"none"}),f.dashStyle&&R.attr({dashstyle:f.dashStyle}))),R.show().attr({d:k}),M&&!f.width&&R.attr({"stroke-width":this.transA}),this.cross.e=l}else this.hideCrosshair();wi(this,"afterDrawCrosshair",{e:l,point:h})}hideCrosshair(){this.cross&&this.cross.hide(),wi(this,"afterHideCrosshair")}update(l,h){let f=this.chart;l=Wp(this.userOptions,l),this.destroy(!0),this.init(f,l),f.isDirtyBox=!0,vs(h,!0)&&f.redraw()}remove(l){let h=this.chart,f=this.coll,v=this.series,_=v.length;for(;_--;)v[_]&&v[_].remove(!1);wb(h.axes,this),wb(h[f]||[],this),h.orderItems(f),this.destroy(),h.isDirtyBox=!0,vs(l,!0)&&h.redraw()}setTitle(l,h){this.update({title:l},h)}setCategories(l,h){this.update({categories:l},h)}}Xl.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:Hp,getMagnitude:fk,normalizeTickInterval:Vp,timeUnits:bs}=ft;(function(F){function l(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function h(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new f(this))}F.compose=function(v){return v.keepProps.includes("dateTime")||(v.keepProps.push("dateTime"),v.prototype.getTimeTicks=l,Hp(v,"afterSetType",h)),v};class f{constructor(_){this.axis=_}normalizeTimeTickInterval(_,k){let S=k||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],M=S[S.length-1],R=bs[M[0]],$=M[1],z;for(z=0;z<S.length&&(R=bs[(M=S[z])[0]],$=M[1],!S[z+1]||!(_<=(R*$[$.length-1]+bs[S[z+1][0]])/2));z++);R===bs.year&&_<5*R&&($=[1,2,5]);let K=Vp(_/R,$,M[0]==="year"?Math.max(fk(_/R),1):1);return{unitRange:R,count:K,unitName:M[0]}}getXDateFormat(_,k){let{axis:S}=this,M=S.chart.time;return S.closestPointRange?M.getDateFormat(S.closestPointRange,_,S.options.startOfWeek,k)||M.resolveDTLFormat(k.year).main:M.resolveDTLFormat(k.day).main}}F.Additions=f})(w||(w={}));let $p=w,{addEvent:kb,normalizeTickInterval:gk,pick:xk}=ft;(function(F){function l(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new f(this))}function h(){let v=this.logarithmic;v&&(this.lin2val=function(_){return v.lin2log(_)},this.val2lin=function(_){return v.log2lin(_)})}F.compose=function(v){return v.keepProps.includes("logarithmic")||(v.keepProps.push("logarithmic"),kb(v,"afterSetType",l),kb(v,"afterInit",h)),v};class f{constructor(_){this.axis=_}getLogTickPositions(_,k,S,M){let R=this.axis,$=R.len,z=R.options,K=[];if(M||(this.minorAutoInterval=void 0),_>=.5)_=Math.round(_),K=R.getLinearTickPositions(_,k,S);else if(_>=.08){let ee,re,he,ce,ae,fe,ge,Ie=Math.floor(k);for(ee=_>.3?[1,2,4]:_>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],re=Ie;re<S+1&&!ge;re++)for(he=0,ce=ee.length;he<ce&&!ge;he++)(ae=this.log2lin(this.lin2log(re)*ee[he]))>k&&(!M||fe<=S)&&fe!==void 0&&K.push(fe),fe>S&&(ge=!0),fe=ae}else{let ee=this.lin2log(k),re=this.lin2log(S),he=M?R.getMinorTickInterval():z.tickInterval,ce=z.tickPixelInterval/(M?5:1),ae=M?$/R.tickPositions.length:$;_=gk(_=xk(he==="auto"?null:he,this.minorAutoInterval,(re-ee)*ce/(ae||1))),K=R.getLinearTickPositions(_,ee,re).map(this.log2lin),M||(this.minorAutoInterval=_/5)}return M||(R.tickInterval=_),K}lin2log(_){return Math.pow(10,_)}log2lin(_){return Math.log(_)/Math.LN10}}F.Additions=f})(A||(A={}));let Sb=A,{erase:fo,extend:yk,isNumber:Ab}=ft;(function(F){let l;function h(R){return this.addPlotBandOrLine(R,"plotBands")}function f(R,$){let z=this.userOptions,K=new l(this,R);if(this.visible&&(K=K.render()),K){if(this._addedPlotLB||(this._addedPlotLB=!0,(z.plotLines||[]).concat(z.plotBands||[]).forEach(ee=>{this.addPlotBandOrLine(ee)})),$){let ee=z[$]||[];ee.push(R),z[$]=ee}this.plotLinesAndBands.push(K)}return K}function v(R){return this.addPlotBandOrLine(R,"plotLines")}function _(R,$,z){z=z||this.options;let K=this.getPlotLinePath({value:$,force:!0,acrossPanes:z.acrossPanes}),ee=[],re=this.horiz,he=!Ab(this.min)||!Ab(this.max)||R<this.min&&$<this.min||R>this.max&&$>this.max,ce=this.getPlotLinePath({value:R,force:!0,acrossPanes:z.acrossPanes}),ae,fe=1,ge;if(ce&&K)for(he&&(ge=ce.toString()===K.toString(),fe=0),ae=0;ae<ce.length;ae+=2){let Ie=ce[ae],Te=ce[ae+1],Ee=K[ae],Ge=K[ae+1];(Ie[0]==="M"||Ie[0]==="L")&&(Te[0]==="M"||Te[0]==="L")&&(Ee[0]==="M"||Ee[0]==="L")&&(Ge[0]==="M"||Ge[0]==="L")&&(re&&Ee[1]===Ie[1]?(Ee[1]+=fe,Ge[1]+=fe):re||Ee[2]!==Ie[2]||(Ee[2]+=fe,Ge[2]+=fe),ee.push(["M",Ie[1],Ie[2]],["L",Te[1],Te[2]],["L",Ge[1],Ge[2]],["L",Ee[1],Ee[2]],["Z"])),ee.isFlat=ge}return ee}function k(R){this.removePlotBandOrLine(R)}function S(R){let $=this.plotLinesAndBands,z=this.options,K=this.userOptions;if($){let ee=$.length;for(;ee--;)$[ee].id===R&&$[ee].destroy();[z.plotLines||[],K.plotLines||[],z.plotBands||[],K.plotBands||[]].forEach(function(re){var he;for(ee=re.length;ee--;)((he=re[ee])==null?void 0:he.id)===R&&fo(re,re[ee])})}}function M(R){this.removePlotBandOrLine(R)}F.compose=function(R,$){let z=$.prototype;return z.addPlotBand||(l=R,yk(z,{addPlotBand:h,addPlotLine:v,addPlotBandOrLine:f,getPlotBandPath:_,removePlotBand:k,removePlotLine:M,removePlotBandOrLine:S})),$}})(E||(E={}));let vk=E,{addEvent:Up,arrayMax:fx,arrayMin:gx,defined:Fa,destroyObjectProperties:bk,erase:wk,fireEvent:_k,merge:Cb,objectEach:Tb,pick:Nk}=ft;class Gp{static compose(l,h){return Up(l,"afterInit",function(){this.labelCollectors.push(()=>{var v;let f=[];for(let _ of this.axes)for(let{label:k,options:S}of _.plotLinesAndBands)k&&!((v=S==null?void 0:S.label)!=null&&v.allowOverlap)&&f.push(k);return f})}),vk.compose(Gp,h)}constructor(l,h){this.axis=l,this.options=h,this.id=h.id}render(){_k(this,"render");let{axis:l,options:h}=this,{horiz:f,logarithmic:v}=l,{color:_,events:k,zIndex:S=0}=h,{renderer:M,time:R}=l.chart,$={},z=R.parse(h.to),K=R.parse(h.from),ee=R.parse(h.value),re=h.borderWidth,he=h.label,{label:ce,svgElem:ae}=this,fe=[],ge,Ie=Fa(K)&&Fa(z),Te=Fa(ee),Ee=!ae,Ge={class:"highcharts-plot-"+(Ie?"band ":"line ")+(h.className||"")},ze=Ie?"bands":"lines";if(!l.chart.styledMode&&(Te?(Ge.stroke=_||"#999999",Ge["stroke-width"]=Nk(h.width,1),h.dashStyle&&(Ge.dashstyle=h.dashStyle)):Ie&&(Ge.fill=_||"#e6e9ff",re&&(Ge.stroke=h.borderColor,Ge["stroke-width"]=re))),$.zIndex=S,ze+="-"+S,(ge=l.plotLinesAndBandsGroups[ze])||(l.plotLinesAndBandsGroups[ze]=ge=M.g("plot-"+ze).attr($).add()),ae||(this.svgElem=ae=M.path().attr(Ge).add(ge)),Fa(ee))fe=l.getPlotLinePath({value:(v==null?void 0:v.log2lin(ee))??ee,lineWidth:ae.strokeWidth(),acrossPanes:h.acrossPanes});else{if(!(Fa(K)&&Fa(z)))return;fe=l.getPlotBandPath((v==null?void 0:v.log2lin(K))??K,(v==null?void 0:v.log2lin(z))??z,h)}return!this.eventsAdded&&k&&(Tb(k,(qe,it)=>{ae==null||ae.on(it,at=>{k[it].apply(this,[at])})}),this.eventsAdded=!0),(Ee||!ae.d)&&(fe!=null&&fe.length)?ae.attr({d:fe}):ae&&(fe?(ae.show(),ae.animate({d:fe})):ae.d&&(ae.hide(),ce&&(this.label=ce=ce.destroy()))),he&&(Fa(he.text)||Fa(he.formatter))&&(fe!=null&&fe.length)&&l.width>0&&l.height>0&&!fe.isFlat?(he=Cb({align:f&&Ie?"center":void 0,x:f?!Ie&&4:10,verticalAlign:!f&&Ie?"middle":void 0,y:f?Ie?16:10:Ie?6:-4,rotation:f&&!Ie?90:0,...Ie?{inside:!0}:{}},he),this.renderLabel(he,fe,Ie,S)):ce&&ce.hide(),this}renderLabel(l,h,f,v){var re,he,ce;let _=this.axis,k=_.chart.renderer,S=l.inside,M=this.label;M||(this.label=M=k.text(this.getLabelText(l),0,0,l.useHTML).attr({align:l.textAlign||l.align,rotation:l.rotation,class:"highcharts-plot-"+(f?"band":"line")+"-label "+(l.className||""),zIndex:v}),_.chart.styledMode||M.css(Cb({color:(he=(re=_.chart.options.title)==null?void 0:re.style)==null?void 0:he.color,fontSize:"0.8em",textOverflow:f&&!S?"":"ellipsis"},l.style)),M.add());let R=h.xBounds||[h[0][1],h[1][1],f?h[2][1]:h[0][1]],$=h.yBounds||[h[0][2],h[1][2],f?h[2][2]:h[0][2]],z=gx(R),K=gx($),ee=fx(R)-z;M.align(l,!1,{x:z,y:K,width:ee,height:fx($)-K}),M.alignAttr.y-=k.fontMetrics(M).b,(!M.alignValue||M.alignValue==="left"||Fa(S))&&M.css({width:(((ce=l.style)==null?void 0:ce.width)||(f&&S?ee:M.rotation===90?_.height-(M.alignAttr.y-_.top):(l.clip?_.width:_.chart.chartWidth)-(M.alignAttr.x-_.left)))+"px"}),M.show(!0)}getLabelText(l){return Fa(l.formatter)?l.formatter.call(this):l.text}destroy(){wk(this.axis.plotLinesAndBands,this),delete this.axis,bk(this)}}let{animObject:Pb}=_r,{format:xx}=wn,{composed:za,dateFormats:jk,doc:Mb,isSafari:kk}=de,{distribute:Eb}=ku,{addEvent:Sk,clamp:id,css:Du,discardElement:Ak,extend:Ib,fireEvent:yx,getAlignFactor:Lb,isArray:Ob,isNumber:Ck,isObject:Tk,isString:vx,merge:rd,pick:Zl,pushUnique:Pk,splat:bx,syncTimeout:wx}=ft;class qp{constructor(l,h,f){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=l,this.init(l,h),this.pointer=f}bodyFormatter(l){return l.map(h=>{let f=h.series.tooltipOptions,v=h.formatPrefix||"point";return(f[v+"Formatter"]||h.tooltipFormatter).call(h,f[v+"Format"]||"")})}cleanSplit(l){this.chart.series.forEach(function(h){let f=h==null?void 0:h.tt;f&&(!f.isActive||l?h.tt=f.destroy():f.isActive=!1)})}defaultFormatter(l){let h,f=this.points||bx(this);return(h=(h=[l.headerFooterFormatter(f[0])]).concat(l.bodyFormatter(f))).push(l.headerFooterFormatter(f[0],!0)),h}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),Ak(this.container)),ft.clearTimeout(this.hideTimer)}getAnchor(l,h){var $;let f,{chart:v,pointer:_}=this,k=v.inverted,S=v.plotTop,M=v.plotLeft;if(l=bx(l),($=l[0].series)!=null&&$.yAxis&&!l[0].series.yAxis.options.reversedStacks&&(l=l.slice().reverse()),this.followPointer&&h)h.chartX===void 0&&(h=_.normalize(h)),f=[h.chartX-M,h.chartY-S];else if(l[0].tooltipPos)f=l[0].tooltipPos;else{let z=0,K=0;l.forEach(function(ee){let re=ee.pos(!0);re&&(z+=re[0],K+=re[1])}),z/=l.length,K/=l.length,this.shared&&l.length>1&&h&&(k?z=h.chartX:K=h.chartY),f=[z-M,K-S]}let R={point:l[0],ret:f};return yx(this,"getAnchor",R),R.ret.map(Math.round)}getClassName(l,h,f){let v=this.options,_=l.series,k=_.options;return[v.className,"highcharts-label",f&&"highcharts-tooltip-header",h?"highcharts-tooltip-box":"highcharts-tooltip",!f&&"highcharts-color-"+Zl(l.colorIndex,_.colorIndex),k==null?void 0:k.className].filter(vx).join(" ")}getLabel({anchorX:l,anchorY:h}={anchorX:0,anchorY:0}){let f=this,v=this.chart.styledMode,_=this.options,k=this.split&&this.allowShared,S=this.container,M=this.chart.renderer;if(this.label){let R=!this.label.hasClass("highcharts-label");(!k&&R||k&&!R)&&this.destroy()}if(!this.label){if(this.outside){let R=this.chart,$=R.options.chart.style,z=ju.getRendererType();this.container=S=de.doc.createElement("div"),S.className="highcharts-tooltip-container "+(R.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),Du(S,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(($==null?void 0:$.zIndex)||0)+3)}),this.renderer=M=new z(S,0,0,$,void 0,void 0,M.styledMode)}if(k?this.label=M.g("tooltip"):(this.label=M.label("",l,h,_.shape||"callout",void 0,void 0,_.useHTML,void 0,"tooltip").attr({padding:_.padding,r:_.borderRadius}),v||this.label.attr({fill:_.backgroundColor,"stroke-width":_.borderWidth||0}).css(_.style).css({pointerEvents:_.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),f.outside){let R=this.label;[R.xSetter,R.ySetter].forEach(($,z)=>{R[z?"ySetter":"xSetter"]=K=>{$.call(R,f.distance),R[z?"y":"x"]=K,S&&(S.style[z?"top":"left"]=`${K}px`)}})}this.label.attr({zIndex:8}).shadow(_.shadow??!_.fixed).add()}return S&&!S.parentElement&&de.doc.body.appendChild(S),this.label}getPlayingField(){let{body:l,documentElement:h}=Mb,{chart:f,distance:v,outside:_}=this;return{width:_?Math.max(l.scrollWidth,h.scrollWidth,l.offsetWidth,h.offsetWidth,h.clientWidth)-2*v-2:f.chartWidth,height:_?Math.max(l.scrollHeight,h.scrollHeight,l.offsetHeight,h.offsetHeight,h.clientHeight):f.chartHeight}}getPosition(l,h,f){var Dt,Kt;let{distance:v,chart:_,outside:k,pointer:S}=this,{inverted:M,plotLeft:R,plotTop:$,polar:z}=_,{plotX:K=0,plotY:ee=0}=f,re={},he=M&&f.h||0,{height:ce,width:ae}=this.getPlayingField(),fe=S.getChartPosition(),ge=Pt=>Pt*fe.scaleX,Ie=Pt=>Pt*fe.scaleY,Te=Pt=>{let Xt=Pt==="x";return[Pt,Xt?ae:ce,Xt?l:h].concat(k?[Xt?ge(l):Ie(h),Xt?fe.left-v+ge(K+R):fe.top-v+Ie(ee+$),0,Xt?ae:ce]:[Xt?l:h,Xt?K+R:ee+$,Xt?R:$,Xt?R+_.plotWidth:$+_.plotHeight])},Ee=Te("y"),Ge=Te("x"),ze,qe=!!f.negative;!z&&((Kt=(Dt=_.hoverSeries)==null?void 0:Dt.yAxis)!=null&&Kt.reversed)&&(qe=!qe);let it=!this.followPointer&&Zl(f.ttBelow,!z&&!M===qe),at=function(Pt,Xt,ws,Ns,Cs,fr,js){let $s=k?Pt==="y"?Ie(v):ge(v):v,ds=(ws-Ns)/2,os=Ns<Cs-v,Oi=Cs+v+Ns<Xt,Bs=Cs-$s-ws+ds,oi=Cs+$s-ds;if(it&&Oi)re[Pt]=oi;else if(!it&&os)re[Pt]=Bs;else if(os)re[Pt]=Math.min(js-Ns,Bs-he<0?Bs:Bs-he);else{if(!Oi)return re[Pt]=0,!1;re[Pt]=Math.max(fr,oi+he+ws>Xt?oi:oi+he)}},vt=function(Pt,Xt,ws,Ns,Cs){if(Cs<v||Cs>Xt-v)return!1;Cs<ws/2?re[Pt]=1:Cs>Xt-Ns/2?re[Pt]=Xt-Ns-2:re[Pt]=Cs-ws/2},Nt=function(Pt){[Ee,Ge]=[Ge,Ee],ze=Pt},Wt=()=>{at.apply(0,Ee)!==!1?vt.apply(0,Ge)!==!1||ze||(Nt(!0),Wt()):ze?re.x=re.y=0:(Nt(!0),Wt())};return(M&&!z||this.len>1)&&Nt(),Wt(),re}getFixedPosition(l,h,f){var K;let v=f.series,{chart:_,options:k,split:S}=this,M=k.position,R=M.relativeTo,$=k.shared||(K=v==null?void 0:v.yAxis)!=null&&K.isRadial&&(R==="pane"||!R)?"plotBox":R,z=$==="chart"?_.renderer:_[$]||_.getClipBox(v,!0);return{x:z.x+(z.width-l)*Lb(M.align)+M.x,y:z.y+(z.height-h)*Lb(M.verticalAlign)+(!S&&M.y||0)}}hide(l){let h=this;ft.clearTimeout(this.hideTimer),l=Zl(l,this.options.hideDelay),this.isHidden||(this.hideTimer=wx(function(){let f=h.getLabel();h.getLabel().animate({opacity:0},{duration:l&&150,complete:()=>{f.hide(),h.container&&h.container.remove()}}),h.isHidden=!0},l))}init(l,h){this.chart=l,this.options=h,this.crosshairs=[],this.isHidden=!0,this.split=h.split&&!l.inverted&&!l.polar,this.shared=h.shared||this.split,this.outside=Zl(h.outside,!!(l.scrollablePixelsX||l.scrollablePixelsY))}shouldStickOnContact(l){return!!(!this.followPointer&&this.options.stickOnContact&&(!l||this.pointer.inClass(l.target,"highcharts-tooltip")))}move(l,h,f,v){let{followPointer:_,options:k}=this,S=Pb(!_&&!this.isHidden&&!k.fixed&&k.animation),M=_||(this.len||0)>1,R={x:l,y:h};M?R.anchorX=R.anchorY=NaN:(R.anchorX=f,R.anchorY=v),S.step=()=>this.drawTracker(),this.getLabel().animate(R,S)}refresh(l,h){let{chart:f,options:v,pointer:_,shared:k}=this,S=bx(l),M=S[0],R=v.format,$=v.formatter||this.defaultFormatter,z=f.styledMode,K=this.allowShared;if(!v.enabled||!M.series)return;ft.clearTimeout(this.hideTimer),this.allowShared=!(!Ob(l)&&l.series&&l.series.noSharedTooltip),K=K&&!this.allowShared,this.followPointer=!this.split&&M.series.tooltipOptions.followPointer;let ee=this.getAnchor(l,h),re=ee[0],he=ee[1];k&&this.allowShared&&(_.applyInactiveState(S),S.forEach(fe=>fe.setState("hover")),M.points=S),this.len=S.length;let ce=vx(R)?xx(R,M,f):$.call(M,this);M.points=void 0;let ae=M.series;if(this.distance=Zl(ae.tooltipOptions.distance,16),ce===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(ce,S);else{let fe=re,ge=he;if(h&&_.isDirectTouch&&(fe=h.chartX-f.plotLeft,ge=h.chartY-f.plotTop),!(f.polar||ae.options.clip===!1||S.some(Ie=>_.isDirectTouch||Ie.series.shouldShowTooltip(fe,ge))))return void this.hide();{let Ie=this.getLabel(K&&this.tt||{});(!v.style.width||z)&&Ie.css({width:(this.outside?this.getPlayingField():f.spacingBox).width+"px"}),Ie.attr({class:this.getClassName(M),text:ce&&ce.join?ce.join(""):ce}),this.outside&&Ie.attr({x:id(Ie.x||0,0,this.getPlayingField().width-(Ie.width||0)-1)}),z||Ie.attr({stroke:v.borderColor||M.color||ae.color||"#666666"}),this.updatePosition({plotX:re,plotY:he,negative:M.negative,ttBelow:M.ttBelow,series:ae,h:ee[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}yx(this,"refresh")}renderSplit(l,h){var Cs,fr;let f=this,{chart:v,chart:{chartWidth:_,chartHeight:k,plotHeight:S,plotLeft:M,plotTop:R,scrollablePixelsY:$=0,scrollablePixelsX:z,styledMode:K},distance:ee,options:re,options:{fixed:he,position:ce,positioner:ae},pointer:fe}=f,{scrollLeft:ge=0,scrollTop:Ie=0}=((Cs=v.scrollablePlotArea)==null?void 0:Cs.scrollingContainer)||{},Te=f.outside&&typeof z!="number"?Mb.documentElement.getBoundingClientRect():{left:ge,right:ge+_,top:Ie,bottom:Ie+k},Ee=f.getLabel(),Ge=this.renderer||v.renderer,ze=!!((fr=v.xAxis[0])!=null&&fr.opposite),{left:qe,top:it}=fe.getChartPosition(),at=ae||he,vt=R+Ie,Nt=0,Wt=S-$,Dt=function(js,$s,ds,os=[0,0],Oi=!0){let Bs,oi;if(ds.isHeader)oi=ze?0:Wt,Bs=id(os[0]-js/2,Te.left,Te.right-js-(f.outside?qe:0));else if(he&&ds){let lr=f.getFixedPosition(js,$s,ds);Bs=lr.x,oi=lr.y-vt}else oi=os[1]-vt,Bs=id(Bs=Oi?os[0]-js-ee:os[0]+ee,Oi?Bs:Te.left,Te.right);return{x:Bs,y:oi}};vx(l)&&(l=[!1,l]);let Kt=l.slice(0,h.length+1).reduce(function(js,$s,ds){if($s!==!1&&$s!==""){let os=h[ds-1]||{isHeader:!0,plotX:h[0].plotX,plotY:S,series:{}},Oi=os.isHeader,Bs=Oi?f:os.series,oi=Bs.tt=function(gr,hi,lh){let cl=gr,{isHeader:dl,series:ch}=hi,xa=ch.tooltipOptions||re;if(!cl){let xd={padding:xa.padding,r:xa.borderRadius};K||(xd.fill=xa.backgroundColor,xd["stroke-width"]=xa.borderWidth??(he&&!dl?0:1)),cl=Ge.label("",0,0,xa[dl?"headerShape":"shape"]||(he&&!dl?"rect":"callout"),void 0,void 0,xa.useHTML).addClass(f.getClassName(hi,!0,dl)).attr(xd).add(Ee)}return cl.isActive=!0,cl.attr({text:lh}),K||cl.css(xa.style).attr({stroke:xa.borderColor||hi.color||ch.color||"#333333"}),cl}(Bs.tt,os,$s.toString()),lr=oi.getBBox(),Ga=lr.width+oi.strokeWidth();Oi&&(Nt=lr.height,Wt+=Nt,ze&&(vt-=Nt));let{anchorX:An,anchorY:kr}=function(gr){let hi,lh,{isHeader:cl,plotX:dl=0,plotY:ch=0,series:xa}=gr;if(cl)hi=Math.max(M+dl,M),lh=R+S/2;else{let{xAxis:xd,yAxis:Zw}=xa;hi=xd.pos+id(dl,-ee,xd.len+ee),xa.shouldShowTooltip(0,Zw.pos-R+ch,{ignoreX:!0})&&(lh=Zw.pos+ch)}return{anchorX:hi=id(hi,Te.left-ee,Te.right+ee),anchorY:lh}}(os);if(typeof kr=="number"){let gr=lr.height+1,hi=(ae||Dt).call(f,Ga,gr,os,[An,kr]);js.push({align:at?0:void 0,anchorX:An,anchorY:kr,boxWidth:Ga,point:os,rank:Zl(hi.rank,+!!Oi),size:gr,target:hi.y,tt:oi,x:hi.x})}else oi.isActive=!1}return js},[]);!at&&Kt.some(js=>{let{outside:$s}=f,ds=($s?qe:0)+js.anchorX;return ds<Te.left&&ds+js.boxWidth<Te.right||ds<qe-Te.left+js.boxWidth&&Te.right-ds>ds})&&(Kt=Kt.map(js=>{let{x:$s,y:ds}=Dt.call(this,js.boxWidth,js.size,js.point,[js.anchorX,js.anchorY],!1);return Ib(js,{target:ds,x:$s})})),f.cleanSplit(),Eb(Kt,Wt);let Pt={left:qe,right:qe};Kt.forEach(function(js){let{x:$s,boxWidth:ds,isHeader:os}=js;!os&&(f.outside&&qe+$s<Pt.left&&(Pt.left=qe+$s),!os&&f.outside&&Pt.left+ds>Pt.right&&(Pt.right=qe+$s))}),Kt.forEach(function(js){let{x:$s,anchorX:ds,anchorY:os,pos:Oi,point:{isHeader:Bs}}=js,oi={visibility:Oi===void 0?"hidden":"inherit",x:$s,y:(Oi||0)+vt+(he&&ce.y||0),anchorX:ds,anchorY:os};if(f.outside&&$s<ds){let lr=qe-Pt.left;lr>0&&(Bs||(oi.x=$s+lr,oi.anchorX=ds+lr),Bs&&(oi.x=(Pt.right-Pt.left)/2,oi.anchorX=ds+lr))}js.tt.attr(oi)});let{container:Xt,outside:ws,renderer:Ns}=f;if(ws&&Xt&&Ns){let{width:js,height:$s,x:ds,y:os}=Ee.getBBox();Ns.setSize(js+ds,$s+os,!1),Xt.style.left=Pt.left+"px",Xt.style.top=it+"px"}kk&&Ee.attr({opacity:Ee.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let l=this.chart,h=this.label,f=this.shared?l.hoverPoints:l.hoverPoint;if(!h||!f)return;let v={x:0,y:0,width:0,height:0},_=this.getAnchor(f),k=h.getBBox();_[0]+=l.plotLeft-(h.translateX||0),_[1]+=l.plotTop-(h.translateY||0),v.x=Math.min(0,_[0]),v.y=Math.min(0,_[1]),v.width=_[0]<0?Math.max(Math.abs(_[0]),k.width-_[0]):Math.max(Math.abs(_[0]),k.width),v.height=_[1]<0?Math.max(Math.abs(_[1]),k.height-Math.abs(_[1])):Math.max(Math.abs(_[1]),k.height),this.tracker?this.tracker.attr(v):(this.tracker=h.renderer.rect(v).addClass("highcharts-tracker").add(h),l.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(l){return l.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(l,h){let f=l.series,v=f.tooltipOptions,_=f.xAxis,k=_==null?void 0:_.dateTime,S={isFooter:h,point:l},M=v.xDateFormat||"",R=v[h?"footerFormat":"headerFormat"];return yx(this,"headerFormatter",S,function($){if(k&&!M&&Ck(l.key)&&(M=k.getXDateFormat(l.key,v.dateTimeLabelFormats)),k&&M){if(Tk(M)){let z=M;jk[0]=K=>f.chart.time.dateFormat(z,K),M="%0"}(l.tooltipDateKeys||["key"]).forEach(z=>{R=R.replace(RegExp("point\\."+z+"([ \\)}])"),`(point.${z}:${M})$1`)})}f.chart.styledMode&&(R=this.styledModeFormat(R)),$.text=xx(R,l,this.chart)}),S.text||""}update(l){this.destroy(),this.init(this.chart,rd(!0,this.options,l))}updatePosition(l){var Te;let{chart:h,container:f,distance:v,options:_,pointer:k,renderer:S}=this,{height:M=0,width:R=0}=this.getLabel(),{fixed:$,positioner:z}=_,{left:K,top:ee,scaleX:re,scaleY:he}=k.getChartPosition(),ce=(z||$&&this.getFixedPosition||this.getPosition).call(this,R,M,l),ae=de.doc,fe=(l.plotX||0)+h.plotLeft,ge=(l.plotY||0)+h.plotTop,Ie;if(S&&f){if(z||$){let{scrollLeft:Ee=0,scrollTop:Ge=0}=((Te=h.scrollablePlotArea)==null?void 0:Te.scrollingContainer)||{};ce.x+=Ee+K-v,ce.y+=Ge+ee-v}Ie=(_.borderWidth||0)+2*v+2,S.setSize(id(R+Ie,0,ae.documentElement.clientWidth)-1,M+Ie,!1),(re!==1||he!==1)&&(Du(f,{transform:`scale(${re}, ${he})`}),fe*=re,ge*=he),fe+=K-ce.x,ge+=ee-ce.y}this.move(Math.round(ce.x),Math.round(ce.y||0),fe,ge)}}(function(F){F.compose=function(l){Pk(za,"Core.Tooltip")&&Sk(l,"afterInit",function(){let h=this.chart;h.options.tooltip&&(h.tooltip=new F(h,h.options.tooltip,this))})}})(qp||(qp={}));let Db=qp,{animObject:Mk}=_r,{defaultOptions:Ek}=Vn,{format:_x}=wn,{addEvent:Ik,crisp:nd,erase:Lk,extend:ad,fireEvent:Nx,getNestedProperty:jx,isArray:Rb,isFunction:Ok,isNumber:Qo,isObject:Kp,merge:Fb,pick:Jo,syncTimeout:Dk,removeEvent:Ru,uniqueKey:kx}=ft;class Fu{animateBeforeDestroy(){let l=this,h={x:l.startXPos,opacity:0},f=l.getGraphicalProps();f.singular.forEach(function(v){l[v]=l[v].animate(v==="dataLabel"?{x:l[v].startXPos,y:l[v].startYPos,opacity:0}:h)}),f.plural.forEach(function(v){l[v].forEach(function(_){_.element&&_.animate(ad({x:l.startXPos},_.startYPos?{x:_.startXPos,y:_.startYPos}:{}))})})}applyOptions(l,h){let f=this.series,v=f.options.pointValKey||f.pointValKey;return ad(this,l=Fu.prototype.optionsToObject.call(this,l)),this.options=this.options?ad(this.options,l):l,l.group&&delete this.group,l.dataLabels&&delete this.dataLabels,v&&(this.y=Fu.prototype.getNestedProperty.call(this,v)),this.selected&&(this.state="select"),"name"in this&&h===void 0&&f.xAxis&&f.xAxis.hasNames&&(this.x=f.xAxis.nameToX(this)),this.x===void 0&&f?this.x=h??f.autoIncrement():Qo(l.x)&&f.options.relativeXValue?this.x=f.autoIncrement(l.x):typeof this.x=="string"&&(h??(h=f.chart.time.parse(this.x)),Qo(h)&&(this.x=h)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let l=this,h=l.series,f=h.chart,v=h.options.dataSorting,_=f.hoverPoints,k=Mk(l.series.chart.renderer.globalAnimation),S=()=>{for(let M in(l.graphic||l.graphics||l.dataLabel||l.dataLabels)&&(Ru(l),l.destroyElements()),l)delete l[M]};l.legendItem&&f.legend.destroyItem(l),_&&(l.setState(),Lk(_,l),_.length||(f.hoverPoints=null)),l===f.hoverPoint&&l.onMouseOut(),v!=null&&v.enabled?(this.animateBeforeDestroy(),Dk(S,k.duration)):S(),f.pointCount--}this.destroyed=!0}destroyElements(l){let h=this,f=h.getGraphicalProps(l);f.singular.forEach(function(v){h[v]=h[v].destroy()}),f.plural.forEach(function(v){h[v].forEach(function(_){_!=null&&_.element&&_.destroy()}),delete h[v]})}firePointEvent(l,h,f){let v=this,_=this.series.options;v.manageEvent(l),l==="click"&&_.allowPointSelect&&(f=function(k){!v.destroyed&&v.select&&v.select(null,k.ctrlKey||k.metaKey||k.shiftKey)}),Nx(v,l,h,f)}getClassName(){var l;return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+((l=this.zone)!=null&&l.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(l){let h,f,v=this,_=[],k={singular:[],plural:[]};for((l=l||{graphic:1,dataLabel:1}).graphic&&_.push("graphic","connector"),l.dataLabel&&_.push("dataLabel","dataLabelPath","dataLabelUpper"),f=_.length;f--;)v[h=_[f]]&&k.singular.push(h);return["graphic","dataLabel"].forEach(function(S){let M=S+"s";l[S]&&v[M]&&k.plural.push(M)}),k}getNestedProperty(l){if(l)return l.indexOf("custom.")===0?jx(l,this.options):this[l]}getZone(){let l=this.series,h=l.zones,f=l.zoneAxis||"y",v,_=0;for(v=h[0];this[f]>=v.value;)v=h[++_];return this.nonZonedColor||(this.nonZonedColor=this.color),v!=null&&v.color&&!this.options.color?this.color=v.color:this.color=this.nonZonedColor,v}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(l,h,f){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=l,this.applyOptions(h,f),this.id??(this.id=kx()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=l.options.nullInteraction),l.chart.pointCount++,Nx(this,"afterInit")}isValid(){return(Qo(this.x)||this.x instanceof Date)&&Qo(this.y)}optionsToObject(l){var $;let h=this.series,f=h.options.keys,v=f||h.pointArrayMap||["y"],_=v.length,k={},S,M=0,R=0;if(Qo(l)||l===null)k[v[0]]=l;else if(Rb(l))for(!f&&l.length>_&&((S=typeof l[0])=="string"?($=h.xAxis)!=null&&$.dateTime?k.x=h.chart.time.parse(l[0]):k.name=l[0]:S==="number"&&(k.x=l[0]),M++);R<_;)f&&l[M]===void 0||(v[R].indexOf(".")>0?Fu.prototype.setNestedProperty(k,l[M],v[R]):k[v[R]]=l[M]),M++,R++;else typeof l=="object"&&(k=l,l.dataLabels&&(h.hasDataLabels=()=>!0),l.marker&&(h._hasPointMarkers=!0));return k}pos(l,h=this.plotY){if(!this.destroyed){let{plotX:f,series:v}=this,{chart:_,xAxis:k,yAxis:S}=v,M=0,R=0;if(Qo(f)&&Qo(h))return l&&(M=k?k.pos:_.plotLeft,R=S?S.pos:_.plotTop),_.inverted&&k&&S?[S.len-h+R,k.len-f+M]:[f+M,h+R]}}resolveColor(){let l=this.series,h=l.chart.options.chart,f=l.chart.styledMode,v,_,k=h.colorCount,S;delete this.nonZonedColor,l.options.colorByPoint?(f||(v=(_=l.options.colors||l.chart.options.colors)[l.colorCounter],k=_.length),S=l.colorCounter,l.colorCounter++,l.colorCounter===k&&(l.colorCounter=0)):(f||(v=l.color),S=l.colorIndex),this.colorIndex=Jo(this.options.colorIndex,S),this.color=Jo(this.options.color,v)}setNestedProperty(l,h,f){return f.split(".").reduce(function(v,_,k,S){let M=S.length-1===k;return v[_]=M?h:Kp(v[_],!0)?v[_]:{},v[_]},l),l}shouldDraw(){return!this.isNull}tooltipFormatter(l){var M;let{chart:h,pointArrayMap:f=["y"],tooltipOptions:v}=this.series,{valueDecimals:_="",valuePrefix:k="",valueSuffix:S=""}=v;return h.styledMode&&(l=((M=h.tooltip)==null?void 0:M.styledModeFormat(l))||l),f.forEach(R=>{R="{point."+R,(k||S)&&(l=l.replace(RegExp(R+"}","g"),k+R+"}"+S)),l=l.replace(RegExp(R+"}","g"),R+":,."+_+"f}")}),_x(l,this,h)}update(l,h,f,v){let _,k=this,S=k.series,M=k.graphic,R=S.chart,$=S.options;function z(){k.applyOptions(l);let K=M&&k.hasMockGraphic,ee=k.y===null?!K:K;M&&ee&&(k.graphic=M.destroy(),delete k.hasMockGraphic),Kp(l,!0)&&(M!=null&&M.element&&l&&l.marker&&l.marker.symbol!==void 0&&(k.graphic=M.destroy()),l!=null&&l.dataLabels&&k.dataLabel&&(k.dataLabel=k.dataLabel.destroy())),_=k.index;let re={};for(let he of S.dataColumnKeys())re[he]=k[he];S.dataTable.setRow(re,_),$.data[_]=Kp($.data[_],!0)||Kp(l,!0)?k.options:Jo(l,$.data[_]),S.isDirty=S.isDirtyData=!0,!S.fixedBox&&S.hasCartesianSeries&&(R.isDirtyBox=!0),$.legendType==="point"&&(R.isDirtyLegend=!0),h&&R.redraw(f)}h=Jo(h,!0),v===!1?z():k.firePointEvent("update",{options:l},z)}remove(l,h){this.series.removePoint(this.series.data.indexOf(this),l,h)}select(l,h){let f=this,v=f.series,_=v.chart;l=Jo(l,!f.selected),this.selectedStaging=l,f.firePointEvent(l?"select":"unselect",{accumulate:h},function(){f.selected=f.options.selected=l,v.options.data[v.data.indexOf(f)]=f.options,f.setState(l&&"select"),h||_.getSelectedPoints().forEach(function(k){let S=k.series;k.selected&&k!==f&&(k.selected=k.options.selected=!1,S.options.data[S.data.indexOf(k)]=k.options,k.setState(_.hoverPoints&&S.options.inactiveOtherPoints?"inactive":""),k.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(l){let{inverted:h,pointer:f}=this.series.chart;f&&(l=l?f.normalize(l):f.getChartCoordinatesFromPoint(this,h),f.runPointActions(l,this))}onMouseOut(){let l=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(l.hoverPoints||[]).forEach(function(h){h.setState()}),l.hoverPoints=l.hoverPoint=null}manageEvent(l){var v,_,k,S,M,R,$;let h=Fb(this.series.options.point,this.options),f=(v=h.events)==null?void 0:v[l];Ok(f)&&(!((_=this.hcEvents)!=null&&_[l])||((S=(k=this.hcEvents)==null?void 0:k[l])==null?void 0:S.map(z=>z.fn).indexOf(f))===-1)?((M=this.importedUserEvent)==null||M.call(this),this.importedUserEvent=Ik(this,l,f),this.hcEvents&&(this.hcEvents[l].userEvent=!0)):this.importedUserEvent&&!f&&((R=this.hcEvents)!=null&&R[l])&&(($=this.hcEvents)!=null&&$[l].userEvent)&&(Ru(this,l),delete this.hcEvents[l],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(l,h){var Ee,Ge;let f=this.series,v=this.state,_=f.options.states[l||"normal"]||{},k=Ek.plotOptions[f.type].marker&&f.options.marker,S=k&&k.enabled===!1,M=((Ee=k==null?void 0:k.states)==null?void 0:Ee[l||"normal"])||{},R=M.enabled===!1,$=this.marker||{},z=f.chart,K=k&&f.markerAttribs,ee=f.halo,re,he,ce,ae=f.stateMarkerGraphic,fe;if((l=l||"")===this.state&&!h||this.selected&&l!=="select"||_.enabled===!1||l&&(R||S&&M.enabled===!1)||l&&$.states&&$.states[l]&&$.states[l].enabled===!1)return;if(this.state=l,K&&(re=f.markerAttribs(this,l)),this.graphic&&!this.hasMockGraphic){if(v&&this.graphic.removeClass("highcharts-point-"+v),l&&this.graphic.addClass("highcharts-point-"+l),!z.styledMode){he=f.pointAttribs(this,l),ce=Jo(z.options.chart.animation,_.animation);let ze=he.opacity;f.options.inactiveOtherPoints&&Qo(ze)&&(this.dataLabels||[]).forEach(function(qe){qe&&!qe.hasClass("highcharts-data-label-hidden")&&(qe.animate({opacity:ze},ce),qe.connector&&qe.connector.animate({opacity:ze},ce))}),this.graphic.animate(he,ce)}re&&this.graphic.animate(re,Jo(z.options.chart.animation,M.animation,k.animation)),ae&&ae.hide()}else l&&M&&(fe=$.symbol||f.symbol,ae&&ae.currentSymbol!==fe&&(ae=ae.destroy()),re&&(ae?ae[h?"animate":"attr"]({x:re.x,y:re.y}):fe&&(f.stateMarkerGraphic=ae=z.renderer.symbol(fe,re.x,re.y,re.width,re.height,Fb(k,M)).add(f.markerGroup),ae.currentSymbol=fe)),!z.styledMode&&ae&&this.state!=="inactive"&&ae.attr(f.pointAttribs(this,l))),ae&&(ae[l&&this.isInside?"show":"hide"](),ae.element.point=this,ae.addClass(this.getClassName(),!0));let ge=_.halo,Ie=this.graphic||ae,Te=(Ie==null?void 0:Ie.visibility)||"inherit";ge!=null&&ge.size&&Ie&&Te!=="hidden"&&!this.isCluster?(ee||(f.halo=ee=z.renderer.path().add(Ie.parentGroup)),ee.show()[h?"animate":"attr"]({d:this.haloPath(ge.size)}),ee.attr({class:"highcharts-halo highcharts-color-"+Jo(this.colorIndex,f.colorIndex)+(this.className?" "+this.className:""),visibility:Te,zIndex:-1}),ee.point=this,z.styledMode||ee.attr(ad({fill:this.color||f.color,"fill-opacity":ge.opacity},gi.filterUserAttributes(ge.attributes||{})))):(Ge=ee==null?void 0:ee.point)!=null&&Ge.haloPath&&!ee.point.destroyed&&ee.animate({d:ee.point.haloPath(0)},null,ee.hide),Nx(this,"afterSetState",{state:l})}haloPath(l){let h=this.pos();return h?this.series.chart.renderer.symbols.circle(nd(h[0],1)-l,h[1]-l,2*l,2*l):[]}}let el=Fu,{parse:Rk}=ui,{charts:Ba,composed:Yp,isTouchDevice:zb}=de,{addEvent:nr,attr:Fk,css:Xp,extend:Sx,find:od,fireEvent:Dr,isNumber:Zp,isObject:ld,objectEach:zk,offset:Bk,pick:Bi,pushUnique:Wk,splat:Qp}=ft;class Wi{applyInactiveState(l=[]){var f,v;let h=[];for(let _ of(l.forEach(k=>{let S=k.series;h.push(S),S.linkedParent&&h.push(S.linkedParent),S.linkedSeries&&h.push.apply(h,S.linkedSeries),S.navigatorSeries&&h.push(S.navigatorSeries),S.boosted&&S.markerGroup&&h.push.apply(h,this.chart.series.filter(M=>M.markerGroup===S.markerGroup))}),this.chart.series)){let k=_.options;((v=(f=k.states)==null?void 0:f.inactive)==null?void 0:v.enabled)!==!1&&(h.indexOf(_)===-1?_.setState("inactive",!0):k.inactiveOtherPoints&&_.setAllPointsToState("inactive"))}}destroy(){let l=this;this.eventsToUnbind.forEach(h=>h()),this.eventsToUnbind=[],!de.chartCount&&(Wi.unbindDocumentMouseUp.forEach(h=>h.unbind()),Wi.unbindDocumentMouseUp.length=0,Wi.unbindDocumentTouchEnd&&(Wi.unbindDocumentTouchEnd=Wi.unbindDocumentTouchEnd())),clearInterval(l.tooltipTimeout),zk(l,function(h,f){l[f]=void 0})}getSelectionMarkerAttrs(l,h){let f={args:{chartX:l,chartY:h},attrs:{},shapeType:"rect"};return Dr(this,"getSelectionMarkerAttrs",f,v=>{let _,{chart:k,zoomHor:S,zoomVert:M}=this,{mouseDownX:R=0,mouseDownY:$=0}=k,z=v.attrs;z.x=k.plotLeft,z.y=k.plotTop,z.width=S?1:k.plotWidth,z.height=M?1:k.plotHeight,S&&(z.width=Math.max(1,Math.abs(_=l-R)),z.x=(_>0?0:_)+R),M&&(z.height=Math.max(1,Math.abs(_=h-$)),z.y=(_>0?0:_)+$)}),f}drag(l){let{chart:h}=this,{mouseDownX:f=0,mouseDownY:v=0}=h,{panning:_,panKey:k,selectionMarkerFill:S}=h.options.chart,M=h.plotLeft,R=h.plotTop,$=h.plotWidth,z=h.plotHeight,K=ld(_)?_.enabled:_,ee=k&&l[`${k}Key`],re=l.chartX,he=l.chartY,ce,ae=this.selectionMarker;if((!ae||!ae.touch)&&(re<M?re=M:re>M+$&&(re=M+$),he<R?he=R:he>R+z&&(he=R+z),this.hasDragged=Math.sqrt(Math.pow(f-re,2)+Math.pow(v-he,2)),this.hasDragged>10)){ce=h.isInsidePlot(f-M,v-R,{visiblePlotOnly:!0});let{shapeType:fe,attrs:ge}=this.getSelectionMarkerAttrs(re,he);this.hasZoom&&ce&&!ee&&!ae&&(this.selectionMarker=ae=h.renderer[fe](),ae.attr({class:"highcharts-selection-marker",zIndex:7}).add(),h.styledMode||ae.attr({fill:S||Rk("#334eff").setOpacity(.25).get()})),ae&&ae.attr(ge),ce&&!ae&&K&&h.pan(l,_)}}dragStart(l){let h=this.chart;h.mouseIsDown=l.type,h.cancelClick=!1,h.mouseDownX=l.chartX,h.mouseDownY=l.chartY}getSelectionBox(l){let h={args:{marker:l},result:l.getBBox()};return Dr(this,"getSelectionBox",h),h.result}drop(l){let h,{chart:f,selectionMarker:v}=this;for(let _ of f.axes)_.isPanning&&(_.isPanning=!1,(_.options.startOnTick||_.options.endOnTick||_.series.some(k=>k.boosted))&&(_.forceRedraw=!0,_.setExtremes(_.userMin,_.userMax,!1),h=!0));if(h&&f.redraw(),v&&l){if(this.hasDragged){let _=this.getSelectionBox(v);f.transform({axes:f.axes.filter(k=>k.zoomEnabled&&(k.coll==="xAxis"&&this.zoomX||k.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:l,xAxis:[],yAxis:[],..._},from:_})}Zp(f.index)&&(this.selectionMarker=v.destroy())}f&&Zp(f.index)&&(Xp(f.container,{cursor:f._cursor}),f.cancelClick=this.hasDragged>10,f.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(l,h,f){let v;return l.forEach(function(_){let k=!(_.noSharedTooltip&&h)&&0>_.options.findNearestPointBy.indexOf("y"),S=_.searchPoint(f,k);ld(S,!0)&&S.series&&(!ld(v,!0)||function(M,R){var ee,re;let $=M.distX-R.distX,z=M.dist-R.dist,K=((ee=R.series.group)==null?void 0:ee.zIndex)-((re=M.series.group)==null?void 0:re.zIndex);return $!==0&&h?$:z!==0?z:K!==0?K:M.series.index>R.series.index?-1:1}(v,S)>0)&&(v=S)}),v}getChartCoordinatesFromPoint(l,h){let{xAxis:f,yAxis:v}=l.series,_=l.shapeArgs;if(f&&v){let k=l.clientX??l.plotX??0,S=l.plotY||0;return l.isNode&&_&&Zp(_.x)&&Zp(_.y)&&(k=_.x,S=_.y),h?{chartX:v.len+v.pos-S,chartY:f.len+f.pos-k}:{chartX:k+f.pos,chartY:S+v.pos}}if(_!=null&&_.x&&_.y)return{chartX:_.x,chartY:_.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:l}=this.chart,h=Bk(l);this.chartPosition={left:h.left,top:h.top,scaleX:1,scaleY:1};let{offsetHeight:f,offsetWidth:v}=l;return v>2&&f>2&&(this.chartPosition.scaleX=h.width/v,this.chartPosition.scaleY=h.height/f),this.chartPosition}getCoordinates(l){let h={xAxis:[],yAxis:[]};for(let f of this.chart.axes)h[f.isXAxis?"xAxis":"yAxis"].push({axis:f,value:f.toValue(l[f.horiz?"chartX":"chartY"])});return h}getHoverData(l,h,f,v,_,k){let S=[],M=function(ee){return ee.visible&&!(!_&&ee.directTouch)&&Bi(ee.options.enableMouseTracking,!0)},R=h,$,z={chartX:k?k.chartX:void 0,chartY:k?k.chartY:void 0,shared:_};Dr(this,"beforeGetHoverData",z),$=R&&!R.stickyTracking?[R]:f.filter(ee=>ee.stickyTracking&&(z.filter||M)(ee));let K=v&&l||!k?l:this.findNearestKDPoint($,_,k);return R=K==null?void 0:K.series,K&&(_&&!R.noSharedTooltip?($=f.filter(function(ee){return z.filter?z.filter(ee):M(ee)&&!ee.noSharedTooltip})).forEach(function(ee){var ce;let re=(ce=ee.options)==null?void 0:ce.nullInteraction,he=od(ee.points,function(ae){return ae.x===K.x&&(!ae.isNull||!!re)});ld(he)&&(ee.boosted&&ee.boost&&(he=ee.boost.getPoint(he)),S.push(he))}):S.push(K)),Dr(this,"afterGetHoverData",z={hoverPoint:K}),{hoverPoint:z.hoverPoint,hoverSeries:R,hoverPoints:S}}getPointFromEvent(l){let h=l.target,f;for(;h&&!f;)f=h.point,h=h.parentNode;return f}onTrackerMouseOut(l){let h=this.chart,f=l.relatedTarget,v=h.hoverSeries;this.isDirectTouch=!1,!v||!f||v.stickyTracking||this.inClass(f,"highcharts-tooltip")||this.inClass(f,"highcharts-series-"+v.index)&&this.inClass(f,"highcharts-tracker")||v.onMouseOut()}inClass(l,h){let f=l,v;for(;f;){if(v=Fk(f,"class")){if(v.indexOf(h)!==-1)return!0;if(v.indexOf("highcharts-container")!==-1)return!1}f=f.parentElement}}constructor(l,h){var f;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=h,this.chart=l,this.runChartClick=!!((f=h.chart.events)!=null&&f.click),this.pinchDown=[],this.setDOMEvents(),Dr(this,"afterInit")}normalize(l,h){let f=l.touches,v=f?f.length?f.item(0):Bi(f.changedTouches,l.changedTouches)[0]:l;h||(h=this.getChartPosition());let _=v.pageX-h.left,k=v.pageY-h.top;return Sx(l,{chartX:Math.round(_/=h.scaleX),chartY:Math.round(k/=h.scaleY)})}onContainerClick(l){let h=this.chart,f=h.hoverPoint,v=this.normalize(l),_=h.plotLeft,k=h.plotTop;!h.cancelClick&&(f&&this.inClass(v.target,"highcharts-tracker")?(Dr(f.series,"click",Sx(v,{point:f})),h.hoverPoint&&f.firePointEvent("click",v)):(Sx(v,this.getCoordinates(v)),h.isInsidePlot(v.chartX-_,v.chartY-k,{visiblePlotOnly:!0})&&Dr(h,"click",v)))}onContainerMouseDown(l){var f;let h=(1&(l.buttons||l.button))==1;l=this.normalize(l),de.isFirefox&&l.button!==0&&this.onContainerMouseMove(l),(l.button===void 0||h)&&(this.zoomOption(l),h&&((f=l.preventDefault)==null||f.call(l)),this.dragStart(l))}onContainerMouseLeave(l){let{pointer:h}=Ba[Bi(Wi.hoverChartIndex,-1)]||{};l=this.normalize(l),this.onContainerMouseMove(l),h&&!this.inClass(l.relatedTarget,"highcharts-tooltip")&&(h.reset(),h.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(l){var _;let h=this.chart,f=h.tooltip,v=this.normalize(l);this.setHoverChartIndex(l),(h.mouseIsDown==="mousedown"||this.touchSelect(v))&&this.drag(v),!((_=h.exporting)!=null&&_.openMenu)&&(this.inClass(v.target,"highcharts-tracker")||h.isInsidePlot(v.chartX-h.plotLeft,v.chartY-h.plotTop,{visiblePlotOnly:!0}))&&!(f!=null&&f.shouldStickOnContact(v))&&(this.inClass(v.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(v))}onDocumentTouchEnd(l){this.onDocumentMouseUp(l)}onContainerTouchMove(l){this.touchSelect(l)?this.onContainerMouseMove(l):this.touch(l)}onContainerTouchStart(l){this.touchSelect(l)?this.onContainerMouseDown(l):(this.zoomOption(l),this.touch(l,!0))}onDocumentMouseMove(l){let h=this.chart,f=h.tooltip,v=this.chartPosition,_=this.normalize(l,v);!v||h.isInsidePlot(_.chartX-h.plotLeft,_.chartY-h.plotTop,{visiblePlotOnly:!0})||f!=null&&f.shouldStickOnContact(_)||_.target!==h.container.ownerDocument&&this.inClass(_.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(l){var h,f,v;l!=null&&l.touches&&this.hasPinchMoved&&((h=l==null?void 0:l.preventDefault)==null||h.call(l)),(v=(f=Ba[Bi(Wi.hoverChartIndex,-1)])==null?void 0:f.pointer)==null||v.drop(l)}pinch(l){let h=this,{chart:f,hasZoom:v,lastTouches:_}=h,k=[].map.call(l.touches||[],z=>h.normalize(z)),S=k.length,M=S===1&&(h.inClass(l.target,"highcharts-tracker")&&f.runTrackerClick||h.runChartClick),R=f.tooltip,$=S===1&&Bi(R==null?void 0:R.options.followTouchMove,!0);S>1?h.initiated=!0:$&&(h.initiated=!1),v&&h.initiated&&!M&&l.cancelable!==!1&&l.preventDefault(),l.type==="touchstart"?(h.pinchDown=k,h.res=!0,f.mouseDownX=l.chartX):$?this.runPointActions(h.normalize(l)):_&&(Dr(f,"touchpan",{originalEvent:l,touches:k},()=>{let z=K=>{let ee=K[0],re=K[1]||ee;return{x:ee.chartX,y:ee.chartY,width:re.chartX-ee.chartX,height:re.chartY-ee.chartY}};f.transform({axes:f.axes.filter(K=>K.zoomEnabled&&(this.zoomHor&&K.horiz||this.zoomVert&&!K.horiz)),to:z(k),from:z(_),trigger:l.type})}),h.res&&(h.res=!1,this.reset(!1,0))),h.lastTouches=k}reset(l,h){let f=this.chart,v=f.hoverSeries,_=f.hoverPoint,k=f.hoverPoints,S=f.tooltip,M=S!=null&&S.shared?k:_;l&&M&&Qp(M).forEach(function(R){R.series.isCartesian&&R.plotX===void 0&&(l=!1)}),l?S&&M&&Qp(M).length&&(S.refresh(M),S.shared&&k?k.forEach(function(R){R.setState(R.state,!0),R.series.isCartesian&&(R.series.xAxis.crosshair&&R.series.xAxis.drawCrosshair(null,R),R.series.yAxis.crosshair&&R.series.yAxis.drawCrosshair(null,R))}):_&&(_.setState(_.state,!0),f.axes.forEach(function(R){R.crosshair&&_.series[R.coll]===R&&R.drawCrosshair(null,_)}))):(_&&_.onMouseOut(),k&&k.forEach(function(R){R.setState()}),v&&v.onMouseOut(),S&&S.hide(h),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),f.axes.forEach(function(R){R.hideCrosshair()}),f.hoverPoints=f.hoverPoint=void 0)}runPointActions(l,h,f){var he;let v=this.chart,_=v.series,k=(he=v.tooltip)!=null&&he.options.enabled?v.tooltip:void 0,S=!!k&&k.shared,M=h||v.hoverPoint,R=(M==null?void 0:M.series)||v.hoverSeries,$=(!l||l.type!=="touchmove")&&(!!h||(R==null?void 0:R.directTouch)&&this.isDirectTouch),z=this.getHoverData(M,R,_,$,S,l);M=z.hoverPoint,R=z.hoverSeries;let K=z.hoverPoints,ee=(R==null?void 0:R.tooltipOptions.followPointer)&&!R.tooltipOptions.split,re=S&&R&&!R.noSharedTooltip;if(M&&(f||M!==v.hoverPoint||k!=null&&k.isHidden)){if((v.hoverPoints||[]).forEach(function(ce){K.indexOf(ce)===-1&&ce.setState()}),v.hoverSeries!==R&&R.onMouseOver(),this.applyInactiveState(K),(K||[]).forEach(function(ce){ce.setState("hover")}),v.hoverPoint&&v.hoverPoint.firePointEvent("mouseOut"),!M.series)return;v.hoverPoints=K,v.hoverPoint=M,M.firePointEvent("mouseOver",void 0,()=>{k&&M&&k.refresh(re?K:M,l)})}else if(ee&&k&&!k.isHidden){let ce=k.getAnchor([{}],l);v.isInsidePlot(ce[0],ce[1],{visiblePlotOnly:!0})&&k.updatePosition({plotX:ce[0],plotY:ce[1]})}this.unDocMouseMove||(this.unDocMouseMove=nr(v.container.ownerDocument,"mousemove",ce=>{var ae,fe;return(fe=(ae=Ba[Wi.hoverChartIndex??-1])==null?void 0:ae.pointer)==null?void 0:fe.onDocumentMouseMove(ce)}),this.eventsToUnbind.push(this.unDocMouseMove)),v.axes.forEach(function(ce){var ge;let ae,fe=((ge=ce.crosshair)==null?void 0:ge.snap)??!0;fe&&((ae=v.hoverPoint)&&ae.series[ce.coll]===ce||(ae=od(K,Ie=>{var Te;return((Te=Ie.series)==null?void 0:Te[ce.coll])===ce}))),ae||!fe?ce.drawCrosshair(l,ae):ce.hideCrosshair()})}setDOMEvents(){let l=this.chart.container,h=l.ownerDocument;l.onmousedown=this.onContainerMouseDown.bind(this),l.onmousemove=this.onContainerMouseMove.bind(this),l.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(nr(l,"mouseenter",this.onContainerMouseEnter.bind(this)),nr(l,"mouseleave",this.onContainerMouseLeave.bind(this))),Wi.unbindDocumentMouseUp.some(v=>v.doc===h)||Wi.unbindDocumentMouseUp.push({doc:h,unbind:nr(h,"mouseup",this.onDocumentMouseUp.bind(this))});let f=this.chart.renderTo.parentElement;for(;f&&f.tagName!=="BODY";)this.eventsToUnbind.push(nr(f,"scroll",()=>{delete this.chartPosition})),f=f.parentElement;this.eventsToUnbind.push(nr(l,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),nr(l,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Wi.unbindDocumentTouchEnd||(Wi.unbindDocumentTouchEnd=nr(h,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),nr(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var _,k;if(!zb)return;let l=this.pointerCaptureEventsToUnbind,h=this.chart,f=h.container,v=Bi((_=h.options.tooltip)==null?void 0:_.followTouchMove,!0)&&h.series.some(S=>S.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&v?(l.push(nr(f,"pointerdown",S=>{var M,R;(M=S.target)!=null&&M.hasPointerCapture(S.pointerId)&&((R=S.target)==null||R.releasePointerCapture(S.pointerId))}),nr(f,"pointermove",S=>{var M,R;(R=(M=h.pointer)==null?void 0:M.getPointFromEvent(S))==null||R.onMouseOver(S)})),h.styledMode||Xp(f,{"touch-action":"none"}),f.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!v&&(l.forEach(S=>S()),l.length=0,h.styledMode||Xp(f,{"touch-action":Bi((k=h.options.chart.style)==null?void 0:k["touch-action"],"manipulation")}),f.className=f.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(l){var v;let h=this.chart,f=de.charts[Bi(Wi.hoverChartIndex,-1)];if(f&&f!==h){let _={relatedTarget:h.container};l&&!(l!=null&&l.relatedTarget)&&Object.assign({},l,_),(v=f.pointer)==null||v.onContainerMouseLeave(l||_)}f!=null&&f.mouseIsDown||(Wi.hoverChartIndex=h.index)}touch(l,h){var k;let f,{chart:v,pinchDown:_=[]}=this;this.setHoverChartIndex(),(l=this.normalize(l)).touches.length===1?v.isInsidePlot(l.chartX-v.plotLeft,l.chartY-v.plotTop,{visiblePlotOnly:!0})&&!((k=v.exporting)!=null&&k.openMenu)?(h&&this.runPointActions(l),l.type==="touchmove"&&(this.hasPinchMoved=f=!!_[0]&&Math.pow(_[0].chartX-l.chartX,2)+Math.pow(_[0].chartY-l.chartY,2)>=16),Bi(f,!0)&&this.pinch(l)):h&&this.reset():l.touches.length===2&&this.pinch(l)}touchSelect(l){return!!(this.chart.zooming.singleTouch&&l.touches&&l.touches.length===1)}zoomOption(l){let h=this.chart,f=h.inverted,v=h.zooming.type||"",_,k;/touch/.test(l.type)&&(v=Bi(h.zooming.pinchType,v)),this.zoomX=_=/x/.test(v),this.zoomY=k=/y/.test(v),this.zoomHor=_&&!f||k&&f,this.zoomVert=k&&!f||_&&f,this.hasZoom=_||k}}Wi.unbindDocumentMouseUp=[],function(F){F.compose=function(l){Wk(Yp,"Core.Pointer")&&nr(l,"beforeRender",function(){this.pointer=new F(this,this.options)})}}(Wi||(Wi={}));let Ax=Wi;(function(F){F.setLength=function(l,h,f){return Array.isArray(l)?(l.length=h,l):l[f?"subarray":"slice"](0,h)},F.splice=function(l,h,f,v,_=[]){if(Array.isArray(l))return Array.isArray(_)||(_=Array.from(_)),{removed:l.splice(h,f,..._),array:l};let k=Object.getPrototypeOf(l).constructor,S=l[v?"subarray":"slice"](h,h+f),M=new k(l.length-f+_.length);return M.set(l.subarray(0,h),0),M.set(_,h),M.set(l.subarray(h+f),h+_.length),{removed:S,array:M}}})(O||(O={}));let{setLength:tl,splice:zu}=O,{fireEvent:cd,objectEach:Bu,uniqueKey:Wu}=ft,jn=class{constructor(F={}){this.autoId=!F.id,this.columns={},this.id=F.id||Wu(),this.modified=this,this.rowCount=0,this.versionTag=Wu();let l=0;Bu(F.columns||{},(h,f)=>{this.columns[f]=h.slice(),l=Math.max(l,h.length)}),this.applyRowCount(l)}applyRowCount(F){this.rowCount=F,Bu(this.columns,(l,h)=>{l.length!==F&&(this.columns[h]=tl(l,F))})}deleteRows(F,l=1){if(l>0&&F<this.rowCount){let h=0;Bu(this.columns,(f,v)=>{this.columns[v]=zu(f,F,l).array,h=f.length}),this.rowCount=h}cd(this,"afterDeleteRows",{rowIndex:F,rowCount:l}),this.versionTag=Wu()}getColumn(F,l){return this.columns[F]}getColumns(F,l){return(F||Object.keys(this.columns)).reduce((h,f)=>(h[f]=this.columns[f],h),{})}getRow(F,l){return(l||Object.keys(this.columns)).map(h=>{var f;return(f=this.columns[h])==null?void 0:f[F]})}setColumn(F,l=[],h=0,f){this.setColumns({[F]:l},h,f)}setColumns(F,l,h){let f=this.rowCount;Bu(F,(v,_)=>{this.columns[_]=v.slice(),f=v.length}),this.applyRowCount(f),h!=null&&h.silent||(cd(this,"afterSetColumns"),this.versionTag=Wu())}setRow(F,l=this.rowCount,h,f){let{columns:v}=this,_=h?this.rowCount+1:l+1;Bu(F,(k,S)=>{let M=v[S]||(f==null?void 0:f.addColumns)!==!1&&Array(_);M&&(h?M=zu(M,l,0,!0,[k]).array:M[l]=k,v[S]=M)}),_>this.rowCount&&this.applyRowCount(_),f!=null&&f.silent||(cd(this,"afterSetRows"),this.versionTag=Wu())}},{extend:Hk,merge:Bb,pick:Qi}=ft;(function(F){function l(h,f,v){var Ie,Te;let _=this.legendItem=this.legendItem||{},{chart:k,options:S}=this,{baseline:M=0,symbolWidth:R,symbolHeight:$}=h,z=this.symbol||"circle",K=$/2,ee=k.renderer,re=_.group,he=M-Math.round((((Ie=h.fontMetrics)==null?void 0:Ie.b)||$)*(v?.4:.3)),ce={},ae,fe=S.marker,ge=0;if(k.styledMode||(ce["stroke-width"]=Math.min(S.lineWidth||0,24),S.dashStyle?ce.dashstyle=S.dashStyle:S.linecap!=="square"&&(ce["stroke-linecap"]="round")),_.line=ee.path().addClass("highcharts-graph").attr(ce).add(re),v&&(_.area=ee.path().addClass("highcharts-area").add(re)),ce["stroke-linecap"]&&(ge=Math.min(_.line.strokeWidth(),R)/2),R){let Ee=[["M",ge,he],["L",R-ge,he]];_.line.attr({d:Ee}),(Te=_.area)==null||Te.attr({d:[...Ee,["L",R-ge,M],["L",ge,M]]})}if(fe&&fe.enabled!==!1&&R){let Ee=Math.min(Qi(fe.radius,K),K);z.indexOf("url")===0&&(fe=Bb(fe,{width:$,height:$}),Ee=0),_.symbol=ae=ee.symbol(z,R/2-Ee,he-Ee,2*Ee,2*Ee,Hk({context:"legend"},fe)).addClass("highcharts-point").add(re),ae.isMarker=!0}}F.areaMarker=function(h,f){l.call(this,h,f,!0)},F.lineMarker=l,F.rectangle=function(h,f){let v=f.legendItem||{},_=h.options,k=h.symbolHeight,S=_.squareSymbol,M=S?k:h.symbolWidth;v.symbol=this.chart.renderer.rect(S?(h.symbolWidth-k)/2:0,h.baseline-k+1,M,k,Qi(h.options.symbolRadius,k/2)).addClass("highcharts-point").attr({zIndex:3}).add(v.group)}})(G||(G={}));let Cx=G,{defaultOptions:Wb}=Vn,{extend:Hb,extendClass:Tx,merge:Hu}=ft;(function(F){function l(h,f){let v=Wb.plotOptions||{},_=f.defaultOptions,k=f.prototype;return k.type=h,k.pointClass||(k.pointClass=el),!F.seriesTypes[h]&&(_&&(v[h]=_),F.seriesTypes[h]=f,!0)}F.seriesTypes=de.seriesTypes,F.registerSeriesType=l,F.seriesType=function(h,f,v,_,k){let S=Wb.plotOptions||{};if(f=f||"",S[h]=Hu(S[f],v),delete F.seriesTypes[h],l(h,Tx(F.seriesTypes[f]||qr,_)),F.seriesTypes[h].prototype.type=h,k){class M extends el{}Hb(M.prototype,k),F.seriesTypes[h].prototype.pointClass=M}return F.seriesTypes[h]}})(te||(te={}));let ai=te,{animObject:Ql,setAnimation:Vk}=_r,{defaultOptions:Jp}=Vn,{registerEventOptions:Vb}=Lp,{svg:$b,win:Ub}=de,{seriesTypes:dd}=ai,{format:$k}=wn,{arrayMax:Px,arrayMin:Es,clamp:Mx,correctFloat:Gb,crisp:em,defined:Ji,destroyObjectProperties:Uk,diffObjects:Gk,erase:Jl,error:tm,extend:sl,find:qb,fireEvent:yi,getClosestDistance:Kb,getNestedProperty:Yb,insertItem:Hi,isArray:Xb,isNumber:ar,isString:Zb,merge:il,objectEach:rl,pick:_i,removeEvent:Ni,syncTimeout:Qb}=ft;class Kn{constructor(){this.zoneAxis="y"}init(l,h){var M,R,$;let f;yi(this,"init",{options:h}),this.dataTable??(this.dataTable=new jn);let v=l.series;this.eventsToUnbind=[],this.chart=l,this.options=this.setOptions(h);let _=this.options,k=_.visible!==!1;this.linkedSeries=[],this.bindAxes(),sl(this,{name:_.name,state:"",visible:k,selected:_.selected===!0}),Vb(this,_);let S=_.events;(S!=null&&S.click||(R=(M=_.point)==null?void 0:M.events)!=null&&R.click||_.allowPointSelect)&&(l.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(l.hasCartesianSeries=!0),v.length&&(f=v[v.length-1]),this._i=_i(f==null?void 0:f._i,-1)+1,this.opacity=this.options.opacity,l.orderItems("series",Hi(this,v)),($=_.dataSorting)!=null&&$.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(_.data,!1),yi(this,"afterInit")}is(l){return dd[l]&&this instanceof dd[l]}bindAxes(){let l,h=this,f=h.options,v=h.chart;yi(this,"bindAxes",null,function(){(h.axisTypes||[]).forEach(function(_){(v[_]||[]).forEach(function(k){l=k.options,(_i(f[_],0)===k.index||f[_]!==void 0&&f[_]===l.id)&&(Hi(h,k.series),h[_]=k,k.isDirty=!0)}),h[_]||h.optionalAxis===_||tm(18,!0,v)})}),yi(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(l,h){let f=l.marker,v=h.marker||{};return f&&(v.enabled&&!f.enabled||v.symbol!==f.symbol||v.height!==f.height||v.width!==f.width)}autoIncrement(l){let h,f=this.options,{pointIntervalUnit:v,relativeXValue:_}=this.options,k=this.chart.time,S=this.xIncrement??k.parse(f.pointStart)??0;if(this.pointInterval=h=_i(this.pointInterval,f.pointInterval,1),_&&ar(l)&&(h*=l),v){let M=k.toParts(S);v==="day"?M[2]+=h:v==="month"?M[1]+=h:v==="year"&&(M[0]+=h),h=k.makeTime.apply(k,M)-S}return _&&ar(l)?S+h:(this.xIncrement=S+h,S)}setDataSortingOptions(){let l=this.options;sl(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Ji(l.pointRange)||(l.pointRange=1)}setOptions(l){var ce,ae;let h,f=this.chart,v=f.options.plotOptions,_=f.userOptions||{},k=il(l),S=f.styledMode,M={plotOptions:v,userOptions:k};yi(this,"setOptions",M);let R=M.plotOptions[this.type],$=_.plotOptions||{},z=$.series||{},K=Jp.plotOptions[this.type]||{},ee=$[this.type]||{};R.dataLabels=this.mergeArrays(K.dataLabels,R.dataLabels),this.userOptions=M.userOptions;let re=il(R,v.series,ee,k);this.tooltipOptions=il(Jp.tooltip,(ce=Jp.plotOptions.series)==null?void 0:ce.tooltip,K==null?void 0:K.tooltip,f.userOptions.tooltip,(ae=$.series)==null?void 0:ae.tooltip,ee.tooltip,k.tooltip),this.stickyTracking=_i(k.stickyTracking,ee.stickyTracking,z.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||re.stickyTracking),R.marker===null&&delete re.marker,this.zoneAxis=re.zoneAxis||"y";let he=this.zones=(re.zones||[]).map(fe=>({...fe}));return(re.negativeColor||re.negativeFillColor)&&!re.zones&&(h={value:re[this.zoneAxis+"Threshold"]||re.threshold||0,className:"highcharts-negative"},S||(h.color=re.negativeColor,h.fillColor=re.negativeFillColor),he.push(h)),he.length&&Ji(he[he.length-1].value)&&he.push(S?{}:{color:this.color,fillColor:this.fillColor}),yi(this,"afterSetOptions",{options:re}),re}getName(){return this.options.name??$k(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(l,h,f){let v,_,k=this.chart,S=`${l}Index`,M=`${l}Counter`,R=(f==null?void 0:f.length)||k.options.chart.colorCount;!h&&(Ji(_=_i(l==="color"?this.options.colorIndex:void 0,this[S]))?v=_:(k.series.length||(k[M]=0),v=k[M]%R,k[M]+=1),f&&(h=f[v])),v!==void 0&&(this[S]=v),this[l]=h}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||Jp.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let l=this.options.marker;this.getCyclic("symbol",l.symbol,this.chart.options.symbols)}getColumn(l,h){return(h?this.dataTable.modified:this.dataTable).getColumn(l,!0)||[]}findPointIndex(l,h){var z;let f,v,_,{id:k,x:S}=l,M=this.points,R=this.options.dataSorting,$=this.cropStart||0;if(k){let K=this.chart.get(k);K instanceof el&&(f=K)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let K=ee=>!ee.touched&&ee.index===l.index;if(R!=null&&R.matchByName?K=ee=>!ee.touched&&ee.name===l.name:this.options.relativeXValue&&(K=ee=>!ee.touched&&ee.options.x===l.x),!(f=qb(M,K)))return}return f&&(_=f==null?void 0:f.index)!==void 0&&(v=!0),_===void 0&&ar(S)&&(_=this.getColumn("x").indexOf(S,h)),_!==-1&&_!==void 0&&this.cropped&&(_=_>=$?_-$:_),!v&&ar(_)&&((z=M[_])!=null&&z.touched)&&(_=void 0),_}updateData(l,h){var he;let{options:f,requireSorting:v}=this,_=f.dataSorting,k=this.points,S=[],M=l.length===k.length,R,$,z,K,ee=!0;if(this.xIncrement=null,l.forEach((ce,ae)=>{var Ee;let fe,ge=Ji(ce)&&this.pointClass.prototype.optionsToObject.call({series:this},ce)||{},{id:Ie,x:Te}=ge;Ie||ar(Te)?((fe=this.findPointIndex(ge,K))===-1||fe===void 0?S.push(ce):k[fe]&&ce!==((Ee=f.data)==null?void 0:Ee[fe])?(k[fe].update(ce,!1,void 0,!1),k[fe].touched=!0,v&&(K=fe+1)):k[fe]&&(k[fe].touched=!0),(!M||ae!==fe||_!=null&&_.enabled||this.hasDerivedData)&&(R=!0)):S.push(ce)},this),R)for($=k.length;$--;)(z=k[$])&&!z.touched&&((he=z.remove)==null||he.call(z,!1,h));else M&&!(_!=null&&_.enabled)?(l.forEach((ce,ae)=>{ce===k[ae].y||k[ae].destroyed||k[ae].update(ce,!1,void 0,!1)}),S.length=0):ee=!1;if(k.forEach(ce=>{ce&&(ce.touched=!1)}),!ee)return!1;S.forEach(ce=>{this.addPoint(ce,!1,void 0,void 0,!1)},this);let re=this.getColumn("x");return this.xIncrement===null&&re.length&&(this.xIncrement=Px(re),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(l,h=!0,f,v){var Ge,ze;let _=this.points,k=(_==null?void 0:_.length)||0,S=this.options,M=this.chart,R=S.dataSorting,$=this.xAxis,z=S.turboThreshold,K=this.dataTable,ee=this.dataColumnKeys(),re=this.pointValKey||"y",he=(this.pointArrayMap||[]).length,ce=S.keys,ae,fe,ge=0,Ie=1,Te;M.options.chart.allowMutatingData||(S.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,Te=il(!0,l));let Ee=(l=Te||l||[]).length;if(R!=null&&R.enabled&&(l=this.sortData(l)),M.options.chart.allowMutatingData&&v!==!1&&Ee&&k&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(fe=this.updateData(l,f)),!fe){this.xIncrement=null,this.colorCounter=0;let qe=z&&!S.relativeXValue&&Ee>z;if(qe){let it=this.getFirstValidPoint(l),at=this.getFirstValidPoint(l,Ee-1,-1),vt=Nt=>!!(Xb(Nt)&&(ce||ar(Nt[0])));if(ar(it)&&ar(at)){let Nt=[],Wt=[];for(let Dt of l)Nt.push(this.autoIncrement()),Wt.push(Dt);K.setColumns({x:Nt,[re]:Wt})}else if(vt(it)&&vt(at))if(he){let Nt=+(it.length===he),Wt=Array(ee.length).fill(0).map(()=>[]);for(let Dt of l){Nt&&Wt[0].push(this.autoIncrement());for(let Kt=Nt;Kt<=he;Kt++)(Ge=Wt[Kt])==null||Ge.push(Dt[Kt-Nt])}K.setColumns(ee.reduce((Dt,Kt,Pt)=>(Dt[Kt]=Wt[Pt],Dt),{}))}else{ce&&(ge=ce.indexOf("x"),Ie=ce.indexOf("y"),ge=ge>=0?ge:0,Ie=Ie>=0?Ie:1),it.length===1&&(Ie=0);let Nt=[],Wt=[];if(ge===Ie)for(let Dt of l)Nt.push(this.autoIncrement()),Wt.push(Dt[Ie]);else for(let Dt of l)Nt.push(Dt[ge]),Wt.push(Dt[Ie]);K.setColumns({x:Nt,[re]:Wt})}else qe=!1}if(!qe){let it=ee.reduce((at,vt)=>(at[vt]=[],at),{});for(ae=0;ae<Ee;ae++){let at=this.pointClass.prototype.applyOptions.apply({series:this},[l[ae]]);for(let vt of ee)it[vt][ae]=at[vt]}K.setColumns(it)}for(Zb(this.getColumn("y")[0])&&tm(14,!0,M),this.data=[],this.options.data=this.userOptions.data=l,ae=k;ae--;)(ze=_[ae])==null||ze.destroy();$&&($.minRange=$.userMinRange),this.isDirty=M.isDirtyBox=!0,this.isDirtyData=!!_,f=!1}S.legendType==="point"&&(this.processData(),this.generatePoints()),h&&M.redraw(f)}sortData(l){let h=this,f=h.options.dataSorting.sortKey||"y",v=function(_,k){return Ji(k)&&_.pointClass.prototype.optionsToObject.call({series:_},k)||{}};return l.forEach(function(_,k){l[k]=v(h,_),l[k].index=k},this),l.concat().sort((_,k)=>{let S=Yb(f,_),M=Yb(f,k);return M<S?-1:+(M>S)}).forEach(function(_,k){_.x=k},this),h.linkedSeries&&h.linkedSeries.forEach(function(_){var M;let k=_.options,S=k.data;!((M=k.dataSorting)!=null&&M.enabled)&&S&&(S.forEach(function(R,$){S[$]=v(_,R),l[$]&&(S[$].x=l[$].x,S[$].index=$)}),_.setData(S,!1))}),l}getProcessedData(l){let h=this,{dataTable:f,isCartesian:v,options:_,xAxis:k}=h,S=_.cropThreshold,M=l||h.getExtremesFromAll,R=k==null?void 0:k.logarithmic,$=f.rowCount,z,K,ee=0,re,he,ce,ae=h.getColumn("x"),fe=f,ge=!1;return k&&(he=(re=k.getExtremes()).min,ce=re.max,ge=!!(k.categories&&!k.names.length),v&&h.sorted&&!M&&(!S||$>S||h.forceCrop)&&(ae[$-1]<he||ae[0]>ce?fe=new jn:h.getColumn(h.pointValKey||"y").length&&(ae[0]<he||ae[$-1]>ce)&&(fe=(z=this.cropData(f,he,ce)).modified,ee=z.start,K=!0))),ae=fe.getColumn("x")||[],{modified:fe,cropped:K,cropStart:ee,closestPointRange:Kb([R?ae.map(R.log2lin):ae],()=>h.requireSorting&&!ge&&tm(15,!1,h.chart))}}processData(l){let h=this.xAxis,f=this.dataTable;if(this.isCartesian&&!this.isDirty&&!h.isDirty&&!this.yAxis.isDirty&&!l)return!1;let v=this.getProcessedData();f.modified=v.modified,this.cropped=v.cropped,this.cropStart=v.cropStart,this.closestPointRange=this.basePointRange=v.closestPointRange,yi(this,"afterProcessData")}cropData(l,h,f){let v=l.getColumn("x",!0)||[],_=v.length,k={},S,M,R=0,$=_;for(S=0;S<_;S++)if(v[S]>=h){R=Math.max(0,S-1);break}for(M=S;M<_;M++)if(v[M]>f){$=M+1;break}for(let z of this.dataColumnKeys()){let K=l.getColumn(z,!0);K&&(k[z]=K.slice(R,$))}return{modified:new jn({columns:k}),start:R,end:$}}generatePoints(){var Te,Ee,Ge;let l=this.options,h=this.processedData||l.data,f=this.dataTable.modified,v=this.getColumn("x",!0),_=this.pointClass,k=f.rowCount,S=this.cropStart||0,M=this.hasGroupedData,R=l.keys,$=[],z=(Te=l.dataGrouping)!=null&&Te.groupAll?S:0,K=(Ee=this.xAxis)==null?void 0:Ee.categories,ee=this.pointArrayMap||["y"],re=this.dataColumnKeys(),he,ce,ae,fe,ge=this.data,Ie;if(!ge&&!M){let ze=[];ze.length=(h==null?void 0:h.length)||0,ge=this.data=ze}for(R&&M&&(this.options.keys=!1),fe=0;fe<k;fe++)ce=S+fe,M?((ae=new _(this,f.getRow(fe,re)||[])).dataGroup=this.groupMap[z+fe],(Ge=ae.dataGroup)!=null&&Ge.options&&(ae.options=ae.dataGroup.options,sl(ae,ae.dataGroup.options),delete ae.dataLabels)):(ae=ge[ce],Ie=h?h[ce]:f.getRow(fe,ee),ae||Ie===void 0||(ge[ce]=ae=new _(this,Ie,v[fe]))),ae&&(ae.index=M?z+fe:ce,$[fe]=ae,ae.category=(K==null?void 0:K[ae.x])??ae.x,ae.key=ae.name??ae.category);if(this.options.keys=R,ge&&(k!==(he=ge.length)||M))for(fe=0;fe<he;fe++)fe!==S||M||(fe+=k),ge[fe]&&(ge[fe].destroyElements(),ge[fe].plotX=void 0);this.data=ge,this.points=$,yi(this,"afterGeneratePoints")}getXExtremes(l){return{min:Es(l),max:Px(l)}}getExtremes(l,h){var Te;let{xAxis:f,yAxis:v}=this,_=h||this.getExtremesFromAll||this.options.getExtremesFromAll,k=_&&this.cropped?this.dataTable:this.dataTable.modified,S=k.rowCount,M=l||this.stackedYData,R=M?[M]:((Te=this.keysAffectYAxis||this.pointArrayMap||["y"])==null?void 0:Te.map(Ee=>k.getColumn(Ee,!0)||[]))||[],$=this.getColumn("x",!0),z=[],K=this.requireSorting&&!this.is("column")?1:0,ee=!!v&&v.positiveValuesOnly,re=_||this.cropped||!f,he,ce,ae,fe=0,ge=0;for(f&&(fe=(he=f.getExtremes()).min,ge=he.max),ae=0;ae<S;ae++)if(ce=$[ae],re||($[ae+K]||ce)>=fe&&($[ae-K]||ce)<=ge)for(let Ee of R){let Ge=Ee[ae];ar(Ge)&&(Ge>0||!ee)&&z.push(Ge)}let Ie={activeYData:z,dataMin:Es(z),dataMax:Px(z)};return yi(this,"afterGetExtremes",{dataExtremes:Ie}),Ie}applyExtremes(){let l=this.getExtremes();return this.dataMin=l.dataMin,this.dataMax=l.dataMax,l}getFirstValidPoint(l,h=0,f=1){let v=l.length,_=h;for(;_>=0&&_<v;){if(Ji(l[_]))return l[_];_+=f}}translate(){var ge;this.generatePoints();let l=this.options,h=l.stacking,f=this.xAxis,v=this.enabledDataSorting,_=this.yAxis,k=this.points,S=k.length,M=this.pointPlacementToXValue(),R=!!M,$=l.threshold,z=l.startFromThreshold?$:0,K=(l==null?void 0:l.nullInteraction)&&_.len,ee,re,he,ce,ae=Number.MAX_VALUE;function fe(Ie){return Mx(Ie,-1e9,1e9)}for(ee=0;ee<S;ee++){let Ie,Te=k[ee],Ee=Te.x,Ge,ze,qe=Te.y,it=Te.low,at=h&&((ge=_.stacking)==null?void 0:ge.stacks[(this.negStacks&&qe<(z?0:$)?"-":"")+this.stackKey]);Te.plotX=ar(re=f.translate(Ee,!1,!1,!1,!0,M))?Gb(fe(re)):void 0,h&&this.visible&&at&&at[Ee]&&(ce=this.getStackIndicator(ce,Ee,this.index),!Te.isNull&&ce.key&&(ze=(Ge=at[Ee]).points[ce.key]),Ge&&Xb(ze)&&(it=ze[0],qe=ze[1],it===z&&ce.key===at[Ee].base&&(it=_i(ar($)?$:_.min)),_.positiveValuesOnly&&Ji(it)&&it<=0&&(it=void 0),Te.total=Te.stackTotal=_i(Ge.total),Te.percentage=Ji(Te.y)&&Ge.total?Te.y/Ge.total*100:void 0,Te.stackY=qe,this.irregularWidths||Ge.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Te.yBottom=Ji(it)?fe(_.translate(it,!1,!0,!1,!0)):void 0,this.dataModify&&(qe=this.dataModify.modifyValue(qe,ee)),ar(qe)&&Te.plotX!==void 0?Ie=ar(Ie=_.translate(qe,!1,!0,!1,!0))?fe(Ie):void 0:!ar(qe)&&K&&(Ie=K),Te.plotY=Ie,Te.isInside=this.isPointInside(Te),Te.clientX=R?Gb(f.translate(Ee,!1,!1,!1,!0,M)):re,Te.negative=(Te.y||0)<($||0),Te.isNull||Te.visible===!1||(he!==void 0&&(ae=Math.min(ae,Math.abs(re-he))),he=re),Te.zone=this.zones.length?Te.getZone():void 0,!Te.graphic&&this.group&&v&&(Te.isNew=!0)}this.closestPointRangePx=ae,yi(this,"afterTranslate")}getValidPoints(l,h,f){let v=this.chart;return(l||this.points||[]).filter(function(_){let{plotX:k,plotY:S}=_;return(!!f||!_.isNull&&!!ar(S))&&(!h||!!v.isInsidePlot(k,S,{inverted:v.inverted}))&&_.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:l,group:h,markerGroup:f}=this,v=l.sharedClips,_=l.renderer,k=l.getClipBox(this),S=this.getSharedClipKey(),M=v[S];M?M.animate(k):v[S]=M=_.clipRect(k),h&&h.clip(this.options.clip===!1?void 0:M),f&&f.clip()}animate(l){let{chart:h,group:f,markerGroup:v}=this,_=h.inverted,k=Ql(this.options.animation),S=[this.getSharedClipKey(),k.duration,k.easing,k.defer].join(","),M=h.sharedClips[S],R=h.sharedClips[S+"m"];if(l&&f){let $=h.getClipBox(this);if(M)M.attr("height",$.height);else{$.width=0,_&&($.x=h.plotHeight),M=h.renderer.clipRect($),h.sharedClips[S]=M;let z={x:-99,y:-99,width:_?h.plotWidth+199:99,height:_?99:h.plotHeight+199};R=h.renderer.clipRect(z),h.sharedClips[S+"m"]=R}f.clip(M),v==null||v.clip(R)}else if(M&&!M.hasClass("highcharts-animating")){let $=h.getClipBox(this),z=k.step;(v!=null&&v.element.childNodes.length||h.series.length>1)&&(k.step=function(K,ee){z&&z.apply(ee,arguments),ee.prop==="width"&&(R!=null&&R.element)&&R.attr(_?"height":"width",K+99)}),M.addClass("highcharts-animating").animate($,k)}}afterAnimate(){this.setClip(),rl(this.chart.sharedClips,(l,h,f)=>{l&&!this.chart.container.querySelector(`[clip-path="url(#${l.id})"]`)&&(l.destroy(),delete f[h])}),this.finishedAnimating=!0,yi(this,"afterAnimate")}drawPoints(l=this.points){let h,f,v,_,k,S,M,R=this.chart,$=R.styledMode,{colorAxis:z,options:K}=this,ee=K.marker,re=K.nullInteraction,he=this[this.specialGroup||"markerGroup"],ce=this.xAxis,ae=_i(ee.enabled,!ce||!!ce.isRadial||null,this.closestPointRangePx>=ee.enabledThreshold*ee.radius);if(ee.enabled!==!1||this._hasPointMarkers)for(h=0;h<l.length;h++){_=(v=(f=l[h]).graphic)?"animate":"attr",k=f.marker||{},S=!!f.marker;let fe=f.isNull;if((ae&&!Ji(k.enabled)||k.enabled)&&(!fe||re)&&f.visible!==!1){let ge=_i(k.symbol,this.symbol,"rect");M=this.markerAttribs(f,f.selected&&"select"),this.enabledDataSorting&&(f.startXPos=ce.reversed?-(M.width||0):ce.width);let Ie=f.isInside!==!1;if(!v&&Ie&&((M.width||0)>0||f.hasImage)&&(f.graphic=v=R.renderer.symbol(ge,M.x,M.y,M.width,M.height,S?k:ee).add(he),this.enabledDataSorting&&R.hasRendered&&(v.attr({x:f.startXPos}),_="animate")),v&&_==="animate"&&v[Ie?"show":"hide"](Ie).animate(M),v){let Te=this.pointAttribs(f,$||!f.selected?void 0:"select");$?z&&v.css({fill:Te.fill}):v[_](Te)}v&&v.addClass(f.getClassName(),!0)}else v&&(f.graphic=v.destroy())}}markerAttribs(l,h){let f=this.options,v=f.marker,_=l.marker||{},k=_.symbol||v.symbol,S={},M,R,$=_i(_.radius,v==null?void 0:v.radius);h&&(M=v.states[h],R=_.states&&_.states[h],$=_i(R==null?void 0:R.radius,M==null?void 0:M.radius,$&&$+((M==null?void 0:M.radiusPlus)||0))),l.hasImage=k&&k.indexOf("url")===0,l.hasImage&&($=0);let z=l.pos();return ar($)&&z&&(f.crisp&&(z[0]=em(z[0],l.hasImage?0:k==="rect"?(v==null?void 0:v.lineWidth)||0:1)),S.x=z[0]-$,S.y=z[1]-$),$&&(S.width=S.height=2*$),S}pointAttribs(l,h){var ae;let f=this.options,v=f.marker,_=l==null?void 0:l.options,k=(_==null?void 0:_.marker)||{},S=_==null?void 0:_.color,M=l==null?void 0:l.color,R=(ae=l==null?void 0:l.zone)==null?void 0:ae.color,$,z,K=this.color,ee,re,he=_i(k.lineWidth,v.lineWidth),ce=l!=null&&l.isNull&&f.nullInteraction?0:1;return K=S||R||M||K,ee=k.fillColor||v.fillColor||K,re=k.lineColor||v.lineColor||K,h=h||"normal",$=v.states[h]||{},he=_i((z=k.states&&k.states[h]||{}).lineWidth,$.lineWidth,he+_i(z.lineWidthPlus,$.lineWidthPlus,0)),ee=z.fillColor||$.fillColor||ee,re=z.lineColor||$.lineColor||re,{stroke:re,"stroke-width":he,fill:ee,opacity:ce=_i(z.opacity,$.opacity,ce)}}destroy(l){var M,R;let h,f,v=this,_=v.chart,k=/AppleWebKit\/533/.test(Ub.navigator.userAgent),S=v.data||[];for(yi(v,"destroy",{keepEventsForUpdate:l}),this.removeEvents(l),(v.axisTypes||[]).forEach(function($){f=v[$],f!=null&&f.series&&(Jl(f.series,v),f.isDirty=f.forceRedraw=!0)}),v.legendItem&&v.chart.legend.destroyItem(v),h=S.length;h--;)(R=(M=S[h])==null?void 0:M.destroy)==null||R.call(M);for(let $ of v.zones)Uk($,void 0,!0);ft.clearTimeout(v.animationTimeout),rl(v,function($,z){$ instanceof ha&&!$.survive&&$[k&&z==="group"?"hide":"destroy"]()}),_.hoverSeries===v&&(_.hoverSeries=void 0),Jl(_.series,v),_.orderItems("series"),rl(v,function($,z){l&&z==="hcEvents"||delete v[z]})}applyZones(){let{area:l,chart:h,graph:f,zones:v,points:_,xAxis:k,yAxis:S,zoneAxis:M}=this,{inverted:R,renderer:$}=h,z=this[`${M}Axis`],{isXAxis:K,len:ee=0,minPointOffset:re=0}=z||{},he=((f==null?void 0:f.strokeWidth())||0)/2+1,ce=(ae,fe=0,ge=0)=>{R&&(ge=ee-ge);let{translated:Ie=0,lineClip:Te}=ae,Ee=ge-Ie;Te==null||Te.push(["L",fe,Math.abs(Ee)<he?ge-he*(Ee<=0?-1:1):Ie])};if(v.length&&(f||l)&&z&&ar(z.min)){let ae=z.getExtremes().max+re,fe=Te=>{Te.forEach((Ee,Ge)=>{(Ee[0]==="M"||Ee[0]==="L")&&(Te[Ge]=[Ee[0],K?ee-Ee[1]:Ee[1],K?Ee[2]:ee-Ee[2]])})};if(v.forEach(Te=>{Te.lineClip=[],Te.translated=Mx(z.toPixels(_i(Te.value,ae),!0)||0,0,ee)}),f&&!this.showLine&&f.hide(),l&&l.hide(),M==="y"&&_.length<k.len)for(let Te of _){let{plotX:Ee,plotY:Ge,zone:ze}=Te,qe=ze&&v[v.indexOf(ze)-1];ze&&ce(ze,Ee,Ge),qe&&ce(qe,Ee,Ge)}let ge=[],Ie=z.toPixels(z.getExtremes().min-re,!0);v.forEach(Te=>{var Kt,Pt;let Ee=Te.lineClip||[],Ge=Math.round(Te.translated||0);k.reversed&&Ee.reverse();let{clip:ze,simpleClip:qe}=Te,it=0,at=0,vt=k.len,Nt=S.len;K?(it=Ge,vt=Ie):(at=Ge,Nt=Ie);let Wt=[["M",it,at],["L",vt,at],["L",vt,Nt],["L",it,Nt],["Z"]],Dt=[Wt[0],...Ee,Wt[1],Wt[2],...ge,Wt[3],Wt[4]];ge=Ee.reverse(),Ie=Ge,R&&(fe(Dt),l&&fe(Wt)),ze?(ze.animate({d:Dt}),qe==null||qe.animate({d:Wt})):(ze=Te.clip=$.path(Dt),l&&(qe=Te.simpleClip=$.path(Wt))),f&&((Kt=Te.graph)==null||Kt.clip(ze)),l&&((Pt=Te.area)==null||Pt.clip(qe))})}else this.visible&&(f&&f.show(),l&&l.show())}plotGroup(l,h,f,v,_){let k=this[l],S=!k,M={visibility:f,zIndex:v||.1};return Ji(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(M.opacity=this.opacity),k||(this[l]=k=this.chart.renderer.g().add(_)),k.addClass("highcharts-"+h+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Ji(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(k.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),k.attr(M)[S?"attr":"animate"](this.getPlotBox(h)),k}getPlotBox(l){let h=this.xAxis,f=this.yAxis,v=this.chart,_=v.inverted&&!v.polar&&h&&this.invertible&&l==="series";v.inverted&&(h=f,f=this.xAxis);let k={scale:1,translateX:h?h.left:v.plotLeft,translateY:f?f.top:v.plotTop,name:l};yi(this,"getPlotBox",k);let{scale:S,translateX:M,translateY:R}=k;return{translateX:M,translateY:R,rotation:90*!!_,rotationOriginX:_?S*(h.len-f.len)/2:0,rotationOriginY:_?S*(h.len+f.len)/2:0,scaleX:_?-S:S,scaleY:S}}removeEvents(l){let{eventsToUnbind:h}=this;l||Ni(this),h.length&&(h.forEach(f=>{f()}),h.length=0)}render(){var $,z,K,ee,re;let l=this,{chart:h,options:f,hasRendered:v}=l,_=Ql(f.animation),k=l.visible?"inherit":"hidden",S=f.zIndex,M=h.seriesGroup,R=l.finishedAnimating?0:_.duration;yi(this,"render"),l.plotGroup("group","series",k,S,M),l.markerGroup=l.plotGroup("markerGroup","markers",k,S,M),f.clip!==!1&&l.setClip(),R&&(($=l.animate)==null||$.call(l,!0)),l.drawGraph&&(l.drawGraph(),l.applyZones()),l.visible&&l.drawPoints(),(z=l.drawDataLabels)==null||z.call(l),(K=l.redrawPoints)==null||K.call(l),f.enableMouseTracking&&((ee=l.drawTracker)==null||ee.call(l)),R&&((re=l.animate)==null||re.call(l)),v||(R&&_.defer&&(R+=_.defer),l.animationTimeout=Qb(()=>{l.afterAnimate()},R||0)),l.isDirty=!1,l.hasRendered=!0,yi(l,"afterRender")}redraw(){let l=this.isDirty||this.isDirtyData;this.translate(),this.render(),l&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(l,h){let{xAxis:f,yAxis:v}=this,_=this.chart.inverted;return this.searchKDTree({clientX:_?f.len-l.chartY+f.pos:l.chartX-f.pos,plotY:_?v.len-l.chartX+v.pos:l.chartY-v.pos},h,l)}buildKDTree(l){this.buildingKdTree=!0;let h=this,f=h.options,v=f.findNearestPointBy.indexOf("y")>-1?2:1;delete h.kdTree,Qb(function(){h.kdTree=function _(k,S,M){let R,$,z=k==null?void 0:k.length;if(z)return R=h.kdAxisArray[S%M],k.sort((K,ee)=>(K[R]||0)-(ee[R]||0)),{point:k[$=Math.floor(z/2)],left:_(k.slice(0,$),S+1,M),right:_(k.slice($+1),S+1,M)}}(h.getValidPoints(void 0,!h.directTouch,f==null?void 0:f.nullInteraction),v,v),h.buildingKdTree=!1},f.kdNow||(l==null?void 0:l.type)==="touchstart"?0:1)}searchKDTree(l,h,f,v,_){let k=this,[S,M]=this.kdAxisArray,R=h?"distX":"dist",$=(k.options.findNearestPointBy||"").indexOf("y")>-1?2:1,z=!!k.isBubble,K=v||((re,he,ce)=>{let ae=re[ce]||0,fe=he[ce]||0;return[ae===fe&&re.index>he.index||ae<fe?re:he,!1]}),ee=_||((re,he)=>re<he);if(this.kdTree||this.buildingKdTree||this.buildKDTree(f),this.kdTree)return function re(he,ce,ae,fe){var it;let ge=ce.point,Ie=k.kdAxisArray[ae%fe],Te=ge,Ee=!1;(function(at,vt){var Ns;let Nt=at[S],Wt=vt[S],Dt=Ji(Nt)&&Ji(Wt)?Nt-Wt:null,Kt=at[M],Pt=vt[M],Xt=Ji(Kt)&&Ji(Pt)?Kt-Pt:0,ws=z&&((Ns=vt.marker)==null?void 0:Ns.radius)||0;vt.dist=Math.sqrt((Dt&&Dt*Dt||0)+Xt*Xt)-ws,vt.distX=Ji(Dt)?Math.abs(Dt)-ws:Number.MAX_VALUE})(he,ge);let Ge=(he[Ie]||0)-(ge[Ie]||0)+(z&&((it=ge.marker)==null?void 0:it.radius)||0),ze=Ge<0?"left":"right",qe=Ge<0?"right":"left";return ce[ze]&&([Te,Ee]=K(ge,re(he,ce[ze],ae+1,fe),R)),ce[qe]&&ee(Math.sqrt(Ge*Ge),Te[R],Ee)&&(Te=K(Te,re(he,ce[qe],ae+1,fe),R)[0]),Te}(l,this.kdTree,$,$)}pointPlacementToXValue(){let{options:l,xAxis:h}=this,f=l.pointPlacement;return f==="between"&&(f=h.reversed?-.5:.5),ar(f)?f*(l.pointRange||h.pointRange):0}isPointInside(l){let{chart:h,xAxis:f,yAxis:v}=this,{plotX:_=-1,plotY:k=-1}=l;return k>=0&&k<=(v?v.len:h.plotHeight)&&_>=0&&_<=(f?f.len:h.plotWidth)}drawTracker(){var K;let l=this,h=l.options,f=h.trackByArea,v=[].concat((f?l.areaPath:l.graphPath)||[]),_=l.chart,k=_.pointer,S=_.renderer,M=((K=_.options.tooltip)==null?void 0:K.snap)||0,R=()=>{h.enableMouseTracking&&_.hoverSeries!==l&&l.onMouseOver()},$="rgba(192,192,192,"+($b?1e-4:.002)+")",z=l.tracker;z?z.attr({d:v}):l.graph&&(l.tracker=z=S.path(v).attr({visibility:l.visible?"inherit":"hidden",zIndex:2}).addClass(f?"highcharts-tracker-area":"highcharts-tracker-line").add(l.group),_.styledMode||z.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:$,fill:f?$:"none","stroke-width":l.graph.strokeWidth()+(f?0:2*M)}),[l.tracker,l.markerGroup,l.dataLabelsGroup].forEach(ee=>{ee&&(ee.addClass("highcharts-tracker").on("mouseover",R).on("mouseout",re=>{k==null||k.onTrackerMouseOut(re)}),h.cursor&&!_.styledMode&&ee.css({cursor:h.cursor}),ee.on("touchstart",R))})),yi(this,"afterDrawTracker")}addPoint(l,h,f,v,_){let k,S,M=this.options,{chart:R,data:$,dataTable:z,xAxis:K}=this,ee=(K==null?void 0:K.hasNames)&&K.names,re=M.data,he=this.getColumn("x");h=_i(h,!0);let ce={series:this};this.pointClass.prototype.applyOptions.apply(ce,[l]);let ae=ce.x;if(S=he.length,this.requireSorting&&ae<he[S-1])for(k=!0;S&&he[S-1]>ae;)S--;z.setRow(ce,S,!0,{addColumns:!1}),ee&&ce.name&&(ee[ae]=ce.name),re==null||re.splice(S,0,l),(k||this.processedData)&&(this.data.splice(S,0,null),this.processData()),M.legendType==="point"&&this.generatePoints(),f&&($[0]&&$[0].remove?$[0].remove(!1):([$,re].filter(Ji).forEach(fe=>{fe.shift()}),z.deleteRows(0))),_!==!1&&yi(this,"addPoint",{point:ce}),this.isDirty=!0,this.isDirtyData=!0,h&&R.redraw(v)}removePoint(l,h,f){let v=this,{chart:_,data:k,points:S,dataTable:M}=v,R=k[l],$=function(){[(S==null?void 0:S.length)===k.length?S:void 0,k,v.options.data].filter(Ji).forEach(z=>{z.splice(l,1)}),M.deleteRows(l),R==null||R.destroy(),v.isDirty=!0,v.isDirtyData=!0,h&&_.redraw()};Vk(f,_),h=_i(h,!0),R?R.firePointEvent("remove",null,$):$()}remove(l,h,f,v){let _=this,k=_.chart;function S(){_.destroy(v),k.isDirtyLegend=k.isDirtyBox=!0,k.linkSeries(v),_i(l,!0)&&k.redraw(h)}f!==!1?yi(_,"remove",null,S):S()}update(l,h){var ae,fe;yi(this,"update",{options:l=Gk(l,this.userOptions)});let f=this,v=f.chart,_=f.userOptions,k=f.initialType||f.type,S=v.options.plotOptions,M=dd[k].prototype,R=f.finishedAnimating&&{animation:!1},$={},z,K,ee=Kn.keepProps.slice(),re=l.type||_.type||v.options.chart.type,he=!(this.hasDerivedData||re&&re!==this.type||l.keys!==void 0||l.pointStart!==void 0||l.pointInterval!==void 0||l.relativeXValue!==void 0||l.joinBy||l.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(ge=>f.hasOptionChanged(ge)));re=re||k,he?(ee.push.apply(ee,Kn.keepPropsForPoints),l.visible!==!1&&ee.push("area","graph"),f.parallelArrays.forEach(function(ge){ee.push(ge+"Data")}),l.data&&(l.dataSorting&&sl(f.options.dataSorting,l.dataSorting),this.setData(l.data,!1))):this.dataTable.modified=this.dataTable,l=il(_,{index:_.index===void 0?f.index:_.index,pointStart:((ae=S==null?void 0:S.series)==null?void 0:ae.pointStart)??_.pointStart??f.getColumn("x")[0]},!he&&{data:f.options.data},l,R),he&&l.data&&(l.data=f.options.data),(ee=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(ee)).forEach(function(ge){ee[ge]=f[ge],delete f[ge]});let ce=!1;if(dd[re]){if(ce=re!==f.type,f.remove(!1,!1,!1,!0),ce)if(v.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(f,dd[re].prototype);else{let ge=Object.hasOwnProperty.call(f,"hcEvents")&&f.hcEvents;for(K in M)f[K]=void 0;sl(f,dd[re].prototype),ge?f.hcEvents=ge:delete f.hcEvents}}else tm(17,!0,v,{missingModuleFor:re});if(ee.forEach(function(ge){f[ge]=ee[ge]}),f.init(v,l),he&&this.points)for(let ge of((z=f.options).visible===!1?($.graphic=1,$.dataLabel=1):(this.hasMarkerChanged(z,_)&&($.graphic=1),(fe=f.hasDataLabels)!=null&&fe.call(f)||($.dataLabel=1)),this.points))ge!=null&&ge.series&&(ge.resolveColor(),Object.keys($).length&&ge.destroyElements($),z.showInLegend===!1&&ge.legendItem&&v.legend.destroyItem(ge));f.initialType=k,v.linkSeries(),v.setSortedData(),ce&&f.linkedSeries.length&&(f.isDirtyData=!0),yi(this,"afterUpdate"),_i(h,!0)&&v.redraw(!!he&&void 0)}setName(l){this.name=this.options.name=this.userOptions.name=l,this.chart.isDirtyLegend=!0}hasOptionChanged(l){var S,M;let h=this.chart,f=this.options[l],v=h.options.plotOptions,_=this.userOptions[l],k=_i((S=v==null?void 0:v[this.type])==null?void 0:S[l],(M=v==null?void 0:v.series)==null?void 0:M[l]);return _&&!Ji(k)?f!==_:f!==_i(k,f)}onMouseOver(){let l=this.chart,h=l.hoverSeries,f=l.pointer;f==null||f.setHoverChartIndex(),h&&h!==this&&h.onMouseOut(),this.options.events.mouseOver&&yi(this,"mouseOver"),this.setState("hover"),l.hoverSeries=this}onMouseOut(){let l=this.options,h=this.chart,f=h.tooltip,v=h.hoverPoint;h.hoverSeries=null,v&&v.onMouseOut(),this&&l.events.mouseOut&&yi(this,"mouseOut"),f&&!this.stickyTracking&&(!f.shared||this.noSharedTooltip)&&f.hide(),h.series.forEach(function(_){_.setState("",!0)})}setState(l,h){let f=this,v=f.options,_=f.graph,k=v.inactiveOtherPoints,S=v.states,M=_i(S[l||"normal"]&&S[l||"normal"].animation,f.chart.options.chart.animation),R=v.lineWidth,$=v.opacity;if(l=l||"",f.state!==l&&([f.group,f.markerGroup,f.dataLabelsGroup].forEach(function(z){z&&(f.state&&z.removeClass("highcharts-series-"+f.state),l&&z.addClass("highcharts-series-"+l))}),f.state=l,!f.chart.styledMode)){if(S[l]&&S[l].enabled===!1)return;if(l&&(R=S[l].lineWidth||R+(S[l].lineWidthPlus||0),$=_i(S[l].opacity,$)),_&&!_.dashstyle&&ar(R))for(let z of[_,...this.zones.map(K=>K.graph)])z==null||z.animate({"stroke-width":R},M);k||[f.group,f.markerGroup,f.dataLabelsGroup,f.labelBySeries].forEach(function(z){z&&z.animate({opacity:$},M)})}h&&k&&f.points&&f.setAllPointsToState(l||void 0)}setAllPointsToState(l){this.points.forEach(function(h){h.setState&&h.setState(l)})}setVisible(l,h){var M;let f=this,v=f.chart,_=v.options.chart.ignoreHiddenSeries,k=f.visible;f.visible=l=f.options.visible=f.userOptions.visible=l===void 0?!k:l;let S=l?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(R=>{var $;($=f[R])==null||$[S]()}),(v.hoverSeries===f||((M=v.hoverPoint)==null?void 0:M.series)===f)&&f.onMouseOut(),f.legendItem&&v.legend.colorizeItem(f,l),f.isDirty=!0,f.options.stacking&&v.series.forEach(R=>{R.options.stacking&&R.visible&&(R.isDirty=!0)}),f.linkedSeries.forEach(R=>{R.setVisible(l,!1)}),_&&(v.isDirtyBox=!0),yi(f,S),h!==!1&&v.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(l){this.selected=l=this.options.selected=l===void 0?!this.selected:l,this.checkbox&&(this.checkbox.checked=l),yi(this,l?"select":"unselect")}shouldShowTooltip(l,h,f={}){return f.series=this,f.visiblePlotOnly=!0,this.chart.isInsidePlot(l,h,f)}drawLegendSymbol(l,h){var f;(f=Cx[this.options.legendSymbol||"rectangle"])==null||f.call(this,l,h)}}Kn.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:F}=this.series.chart;return typeof this.y!="number"?"":F(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},Kn.types=ai.seriesTypes,Kn.registerType=ai.registerSeriesType,Kn.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],Kn.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],sl(Kn.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:el,requireSorting:!0,sorted:!0}),ai.series=Kn;let qr=Kn,{animObject:Jb,setAnimation:or}=_r,{registerEventOptions:ew}=Lp,{composed:Vu,marginNames:sm}=de,{distribute:ji}=ku,{format:qk}=wn,{addEvent:$u,createElement:pa,css:Kr,defined:Ex,discardElement:Kk,find:tw,fireEvent:go,isNumber:Ix,merge:ec,pick:ma,pushUnique:im,relativeLength:Yk,stableSort:Xk,syncTimeout:Lx}=ft;class Ox{constructor(l,h){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=l,this.setOptions(h),h.enabled&&(this.render(),ew(this,h),$u(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),$u(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(l){let h=ma(l.padding,8);this.options=l,this.chart.styledMode||(this.itemStyle=l.itemStyle,this.itemHiddenStyle=ec(this.itemStyle,l.itemHiddenStyle)),this.itemMarginTop=l.itemMarginTop,this.itemMarginBottom=l.itemMarginBottom,this.padding=h,this.initialItemY=h-5,this.symbolWidth=ma(l.symbolWidth,16),this.pages=[],this.proximate=l.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(l,h){let f=this.chart;this.setOptions(ec(!0,this.options,l)),"events"in this.options&&ew(this,this.options),this.destroy(),f.isDirtyLegend=f.isDirtyBox=!0,ma(h,!0)&&f.redraw(),go(this,"afterUpdate",{redraw:h})}colorizeItem(l,h){var R;let f=l.color,{area:v,group:_,label:k,line:S,symbol:M}=l.legendItem||{};if((l instanceof qr||l instanceof el)&&(l.color=((R=l.options)==null?void 0:R.legendSymbolColor)||f),_==null||_[h?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:$={}}=this,z=$.color,{fillColor:K,fillOpacity:ee,lineColor:re,marker:he}=l.options,ce=ae=>(!h&&(ae.fill&&(ae.fill=z),ae.stroke&&(ae.stroke=z)),ae);k==null||k.css(ec(h?this.itemStyle:$)),S==null||S.attr(ce({stroke:re||l.color})),M&&M.attr(ce(he&&M.isMarker?l.pointAttribs():{fill:l.color})),v==null||v.attr(ce({fill:K||l.color,"fill-opacity":K?1:ee??.75}))}l.color=f,go(this,"afterColorizeItem",{item:l,visible:h})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(l){let{group:h,x:f=0,y:v=0}=l.legendItem||{},_=this.options,k=_.symbolPadding,S=!_.rtl,M=l.checkbox;if(h!=null&&h.element){let R={translateX:S?f:this.legendWidth-f-2*k-4,translateY:v};h[Ex(h.translateY)?"animate":"attr"](R,void 0,()=>{go(this,"afterPositionItem",{item:l})})}M&&(M.x=f,M.y=v)}destroyItem(l){let h=l.legendItem||{};for(let f of["group","label","line","symbol"])h[f]&&(h[f]=h[f].destroy());l.checkbox=Kk(l.checkbox),l.legendItem=void 0}destroy(){for(let l of this.getAllItems())this.destroyItem(l);for(let l of["clipRect","up","down","pager","nav","box","title","group"])this[l]&&(this[l]=this[l].destroy());this.display=null}positionCheckboxes(){var _;let l,h=(_=this.group)==null?void 0:_.alignAttr,f=this.clipHeight||this.legendHeight,v=this.titleHeight;h&&(l=h.translateY,this.allItems.forEach(function(k){let S,M=k.checkbox;M&&(S=l+v+M.y+(this.scrollOffset||0)+3,Kr(M,{left:h.translateX+k.checkboxOffset+M.x-20+"px",top:S+"px",display:this.proximate||S>l-6&&S<l+f-6?"":"none"}))},this))}renderTitle(){let l=this.options,h=this.padding,f=l.title,v,_=0;f.text&&(this.title||(this.title=this.chart.renderer.label(f.text,h-3,h-4,void 0,void 0,void 0,l.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(f.style),this.title.add(this.group)),f.width||this.title.css({width:this.maxLegendWidth+"px"}),_=(v=this.title.getBBox()).height,this.offsetWidth=v.width,this.contentGroup.attr({translateY:_})),this.titleHeight=_}setText(l){let h=this.options;l.legendItem.label.attr({text:h.labelFormat?qk(h.labelFormat,l,this.chart):h.labelFormatter.call(l)})}renderItem(l){var Ge;let h=l.legendItem=l.legendItem||{},f=this.chart,v=f.renderer,_=this.options,k=_.layout==="horizontal",S=this.symbolWidth,M=_.symbolPadding||0,R=this.itemStyle,$=this.itemHiddenStyle,z=k?ma(_.itemDistance,20):0,K=!_.rtl,ee=!l.series,re=!ee&&l.series.drawLegendSymbol?l.series:l,he=re.options,ce=!!this.createCheckboxForItem&&he&&he.showCheckbox,ae=_.useHTML,fe=l.options.className,ge=h.label,Ie=S+M+z+20*!!ce;!ge&&(h.group=v.g("legend-item").addClass("highcharts-"+re.type+"-series highcharts-color-"+l.colorIndex+(fe?" "+fe:"")+(ee?" highcharts-series-"+l.index:"")).attr({zIndex:1}).add(this.scrollGroup),h.label=ge=v.text("",K?S+M:-M,this.baseline||0,ae),f.styledMode||ge.css(ec(l.visible?R:$)),ge.attr({align:K?"left":"right",zIndex:2}).add(h.group),!this.baseline&&(this.fontMetrics=v.fontMetrics(ge),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,ge.attr("y",this.baseline),this.symbolHeight=ma(_.symbolHeight,this.fontMetrics.f),_.squareSymbol&&(this.symbolWidth=ma(_.symbolWidth,Math.max(this.symbolHeight,16)),Ie=this.symbolWidth+M+z+20*!!ce,K&&ge.attr("x",this.symbolWidth+M))),re.drawLegendSymbol(this,l),this.setItemEvents&&this.setItemEvents(l,ge,ae)),ce&&!l.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(l),this.colorizeItem(l,l.visible),(f.styledMode||!R.width)&&ge.css({width:(_.itemWidth||this.widthOption||f.spacingBox.width)-Ie+"px"}),this.setText(l);let Te=ge.getBBox(),Ee=((Ge=this.fontMetrics)==null?void 0:Ge.h)||0;l.itemWidth=l.checkboxOffset=_.itemWidth||h.labelWidth||Te.width+Ie,this.maxItemWidth=Math.max(this.maxItemWidth,l.itemWidth),this.totalItemWidth+=l.itemWidth,this.itemHeight=l.itemHeight=Math.round(h.labelHeight||(Te.height>1.5*Ee?Te.height:Ee))}layoutItem(l){let h=this.options,f=this.padding,v=h.layout==="horizontal",_=l.itemHeight,k=this.itemMarginBottom,S=this.itemMarginTop,M=v?ma(h.itemDistance,20):0,R=this.maxLegendWidth,$=h.alignColumns&&this.totalItemWidth>R?this.maxItemWidth:l.itemWidth,z=l.legendItem||{};v&&this.itemX-f+$>R&&(this.itemX=f,this.lastLineHeight&&(this.itemY+=S+this.lastLineHeight+k),this.lastLineHeight=0),this.lastItemY=S+this.itemY+k,this.lastLineHeight=Math.max(_,this.lastLineHeight),z.x=this.itemX,z.y=this.itemY,v?this.itemX+=$:(this.itemY+=S+_+k,this.lastLineHeight=_),this.offsetWidth=this.widthOption||Math.max((v?this.itemX-f-(l.checkbox?0:M):$)+f,this.offsetWidth)}getAllItems(){let l=[];return this.chart.series.forEach(function(h){var v;let f=h==null?void 0:h.options;h&&ma(f.showInLegend,!Ex(f.linkedTo)&&void 0,!0)&&(l=l.concat(((v=h.legendItem)==null?void 0:v.labels)||(f.legendType==="point"?h.data:h)))}),go(this,"afterGetAllItems",{allItems:l}),l}getAlignment(){let l=this.options;return this.proximate?l.align.charAt(0)+"tv":l.floating?"":l.align.charAt(0)+l.verticalAlign.charAt(0)+l.layout.charAt(0)}adjustMargins(l,h){let f=this.chart,v=this.options,_=this.getAlignment();_&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((k,S)=>{k.test(_)&&!Ex(l[S])&&(f[sm[S]]=Math.max(f[sm[S]],f.legend[(S+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][S]*v[S%2?"x":"y"]+(v.margin??12)+h[S]+(f.titleOffset[S]||0)))})}proximatePositions(){let l,h=this.chart,f=[],v=this.options.align==="left";for(let _ of(this.allItems.forEach(function(k){let S,M,R=v,$,z;k.yAxis&&(k.xAxis.options.reversed&&(R=!R),k.points&&(S=tw(R?k.points:k.points.slice(0).reverse(),function(K){return Ix(K.plotY)})),M=this.itemMarginTop+k.legendItem.label.getBBox().height+this.itemMarginBottom,z=k.yAxis.top-h.plotTop,$=k.visible?(S?S.plotY:k.yAxis.height)+(z-.3*M):z+k.yAxis.height,f.push({target:$,size:M,item:k}))},this),ji(f,h.plotHeight)))l=_.item.legendItem||{},Ix(_.pos)&&(l.y=h.plotTop-h.spacing[0]+_.pos)}render(){let l=this.chart,h=l.renderer,f=this.options,v=this.padding,_=this.getAllItems(),k,S,M,R=this.group,$,z=this.box;this.itemX=v,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=Yk(f.width,l.spacingBox.width-v),$=l.spacingBox.width-2*v-f.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&($/=2),this.maxLegendWidth=this.widthOption||$,R||(this.group=R=h.g("legend").addClass(f.className||"").attr({zIndex:7}).add(),this.contentGroup=h.g().attr({zIndex:1}).add(R),this.scrollGroup=h.g().add(this.contentGroup)),this.renderTitle(),Xk(_,(K,ee)=>{var re,he;return(((re=K.options)==null?void 0:re.legendIndex)||0)-(((he=ee.options)==null?void 0:he.legendIndex)||0)}),f.reversed&&_.reverse(),this.allItems=_,this.display=k=!!_.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,_.forEach(this.renderItem,this),_.forEach(this.layoutItem,this),S=(this.widthOption||this.offsetWidth)+v,M=this.lastItemY+this.lastLineHeight+this.titleHeight,M=this.handleOverflow(M)+v,z||(this.box=z=h.rect().addClass("highcharts-legend-box").attr({r:f.borderRadius}).add(R)),l.styledMode||z.attr({stroke:f.borderColor,"stroke-width":f.borderWidth||0,fill:f.backgroundColor||"none"}).shadow(f.shadow),S>0&&M>0&&z[z.placed?"animate":"attr"](z.crisp.call({},{x:0,y:0,width:S,height:M},z.strokeWidth())),R[k?"show":"hide"](),l.styledMode&&R.getStyle("display")==="none"&&(S=M=0),this.legendWidth=S,this.legendHeight=M,k&&this.align(),this.proximate||this.positionItems(),go(this,"afterRender")}align(l=this.chart.spacingBox){let h=this.chart,f=this.options,v=l.y;/(lth|ct|rth)/.test(this.getAlignment())&&h.titleOffset[0]>0?v+=h.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&h.titleOffset[2]>0&&(v-=h.titleOffset[2]),v!==l.y&&(l=ec(l,{y:v})),h.hasRendered||(this.group.placed=!1),this.group.align(ec(f,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":f.verticalAlign}),!0,l)}handleOverflow(l){let h=this,f=this.chart,v=f.renderer,_=this.options,k=_.y,S=_.verticalAlign==="top",M=this.padding,R=_.maxHeight,$=_.navigation,z=ma($.animation,!0),K=$.arrowSize||12,ee=this.pages,re=this.allItems,he=function(ze){typeof ze=="number"?Ge.attr({height:ze}):Ge&&(h.clipRect=Ge.destroy(),h.contentGroup.clip()),h.contentGroup.div&&(h.contentGroup.div.style.clip=ze?"rect("+M+"px,9999px,"+(M+ze)+"px,0)":"auto")},ce=function(ze){return h[ze]=v.circle(0,0,1.3*K).translate(K/2,K/2).add(Ee),f.styledMode||h[ze].attr("fill","rgba(0,0,0,0.0001)"),h[ze]},ae,fe,ge,Ie,Te=f.spacingBox.height+(S?-k:k)-M,Ee=this.nav,Ge=this.clipRect;return _.layout!=="horizontal"||_.verticalAlign==="middle"||_.floating||(Te/=2),R&&(Te=Math.min(Te,R)),ee.length=0,l&&Te>0&&l>Te&&$.enabled!==!1?(this.clipHeight=ae=Math.max(Te-20-this.titleHeight-M,0),this.currentPage=ma(this.currentPage,1),this.fullHeight=l,re.forEach((ze,qe)=>{let it=(ge=ze.legendItem||{}).y||0,at=Math.round(ge.label.getBBox().height),vt=ee.length;(!vt||it-ee[vt-1]>ae&&(fe||it)!==ee[vt-1])&&(ee.push(fe||it),vt++),ge.pageIx=vt-1,fe&&Ie&&(Ie.pageIx=vt-1),qe===re.length-1&&it+at-ee[vt-1]>ae&&it>ee[vt-1]&&(ee.push(it),ge.pageIx=vt),it!==fe&&(fe=it),Ie=ge}),Ge||(Ge=h.clipRect=v.clipRect(0,M-2,9999,0),h.contentGroup.clip(Ge)),he(ae),Ee||(this.nav=Ee=v.g().attr({zIndex:1}).add(this.group),this.up=v.symbol("triangle",0,0,K,K).add(Ee),ce("upTracker").on("click",function(){h.scroll(-1,z)}),this.pager=v.text("",15,10).addClass("highcharts-legend-navigation"),!f.styledMode&&$.style&&this.pager.css($.style),this.pager.add(Ee),this.down=v.symbol("triangle-down",0,0,K,K).add(Ee),ce("downTracker").on("click",function(){h.scroll(1,z)})),h.scroll(0),l=Te):Ee&&(he(),this.nav=Ee.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),l}scroll(l,h){let f=this.chart,v=this.pages,_=v.length,k=this.clipHeight,S=this.options.navigation,M=this.pager,R=this.padding,$=this.currentPage+l;$>_&&($=_),$>0&&(h!==void 0&&or(h,f),this.nav.attr({translateX:R,translateY:k+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(z){z.attr({class:$===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),M.attr({text:$+"/"+_}),[this.down,this.downTracker].forEach(function(z){z.attr({x:18+this.pager.getBBox().width,class:$===_?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),f.styledMode||(this.up.attr({fill:$===1?S.inactiveColor:S.activeColor}),this.upTracker.css({cursor:$===1?"default":"pointer"}),this.down.attr({fill:$===_?S.inactiveColor:S.activeColor}),this.downTracker.css({cursor:$===_?"default":"pointer"})),this.scrollOffset=-v[$-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=$,this.positionCheckboxes(),Lx(()=>{go(this,"afterScroll",{currentPage:$})},Jb(ma(h,f.renderer.globalAnimation,!0)).duration))}setItemEvents(l,h,f){let v=this,_=l.legendItem||{},k=v.chart.renderer.boxWrapper,S=l instanceof el,M=l instanceof qr,R="highcharts-legend-"+(S?"point":"series")+"-active",$=v.chart.styledMode,z=f?[h,_.symbol]:[_.group],K=ee=>{v.allItems.forEach(re=>{l!==re&&[re].concat(re.linkedSeries||[]).forEach(he=>{he.setState(ee,!S)})})};for(let ee of z)ee&&ee.on("mouseover",function(){l.visible&&K("inactive"),l.setState("hover"),l.visible&&k.addClass(R),$||h.css(v.options.itemHoverStyle)}).on("mouseout",function(){v.chart.styledMode||h.css(ec(l.visible?v.itemStyle:v.itemHiddenStyle)),K(""),k.removeClass(R),l.setState()}).on("click",function(re){let he=function(){l.setVisible&&l.setVisible(),K(l.visible?"inactive":"")};k.removeClass(R),go(v,"itemClick",{browserEvent:re,legendItem:l},he),S?l.firePointEvent("legendItemClick",{browserEvent:re}):M&&go(l,"legendItemClick",{browserEvent:re})})}createCheckboxForItem(l){l.checkbox=pa("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:l.selected,defaultChecked:l.selected},this.options.itemCheckboxStyle,this.chart.container),$u(l.checkbox,"click",function(h){let f=h.target;go(l.series||l,"checkboxClick",{checked:f.checked,item:l},function(){l.select()})})}}(function(F){F.compose=function(l){im(Vu,"Core.Legend")&&$u(l,"beforeMargins",function(){this.legend=new F(this,this.options.legend)})}})(Ox||(Ox={}));let sw=Ox,{animate:fa,animObject:iw,setAnimation:xo}=_r,{defaultOptions:kn}=Vn,{numberFormat:Zk}=wn,{registerEventOptions:rw}=Lp,{charts:tc,doc:Uu,marginNames:rm,svg:nw,win:nm}=de,{seriesTypes:Dx}=ai,{addEvent:Gu,attr:am,createElement:Rx,css:Yn,defined:nn,diffObjects:ud,discardElement:aw,erase:Qk,error:om,extend:Wa,find:qu,fireEvent:Is,getAlignFactor:Fx,getStyle:Sn,isArray:nl,isNumber:sc,isObject:Jk,isString:lm,merge:Xn,objectEach:Ha,pick:jr,pInt:Ds,relativeLength:ow,removeEvent:cm,splat:dm,syncTimeout:hd,uniqueKey:e2}=ft;class ga{static chart(l,h,f){return new ga(l,h,f)}constructor(l,h,f){this.sharedClips={};let v=[...arguments];(lm(l)||l.nodeName)&&(this.renderTo=v.shift()),this.init(v[0],v[1])}setZoomOptions(){let l=this.options.chart,h=l.zooming;this.zooming={...h,type:jr(l.zoomType,h.type),key:jr(l.zoomKey,h.key),pinchType:jr(l.pinchType,h.pinchType),singleTouch:jr(l.zoomBySingleTouch,h.singleTouch,!1),resetButton:Xn(h.resetButton,l.resetZoomButton)}}init(l,h){Is(this,"init",{args:arguments},function(){var k;let f=Xn(kn,l),v=f.chart,_=this.renderTo||v.renderTo;this.userOptions=Wa({},l),(this.renderTo=lm(_)?Uu.getElementById(_):_)||om(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=h,this.isResizing=0,this.options=f,this.axes=[],this.series=[],this.locale=f.lang.locale??((k=this.renderTo.closest("[lang]"))==null?void 0:k.lang),this.time=new rn(Wa(f.time||{},{locale:this.locale}),f.lang),f.time=this.time.options,this.numberFormatter=(v.numberFormatter||Zk).bind(this),this.styledMode=v.styledMode,this.hasCartesianSeries=v.showAxes,this.index=tc.length,tc.push(this),de.chartCount++,rw(this,v),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),Is(this,"afterInit"),this.firstRender()})}initSeries(l){let h=this.options.chart,f=l.type||h.type,v=Dx[f];v||om(17,!0,this,{missingModuleFor:f});let _=new v;return typeof _.init=="function"&&_.init(this,l),_}setSortedData(){this.getSeriesOrderByLinks().forEach(function(l){l.points||l.data||!l.enabledDataSorting||l.setData(l.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(l,h){return l.linkedSeries.length||h.linkedSeries.length?h.linkedSeries.length-l.linkedSeries.length:0})}orderItems(l,h=0){let f=this[l],v=this.options[l]=dm(this.options[l]).slice(),_=this.userOptions[l]=this.userOptions[l]?dm(this.userOptions[l]).slice():[];if(this.hasRendered&&(v.splice(h),_.splice(h)),f)for(let k=h,S=f.length;k<S;++k){let M=f[k];M&&(M.index=k,M instanceof qr&&(M.name=M.getName()),M.options.isInternal||(v[k]=M.options,_[k]=M.userOptions))}}getClipBox(l,h){var $,z;let f=this.inverted,{xAxis:v,yAxis:_}=l||{},{x:k,y:S,width:M,height:R}=Xn(this.clipBox);return l&&(v&&v.len!==this.plotSizeX&&(M=v.len),_&&_.len!==this.plotSizeY&&(R=_.len),f&&!l.invertible&&([M,R]=[R,M])),h&&(k+=(($=f?_:v)==null?void 0:$.pos)??this.plotLeft,S+=((z=f?v:_)==null?void 0:z.pos)??this.plotTop),{x:k,y:S,width:M,height:R}}isInsidePlot(l,h,f={}){var ce;let{inverted:v,plotBox:_,plotLeft:k,plotTop:S,scrollablePlotBox:M}=this,{scrollLeft:R=0,scrollTop:$=0}=f.visiblePlotOnly&&((ce=this.scrollablePlotArea)==null?void 0:ce.scrollingContainer)||{},z=f.series,K=f.visiblePlotOnly&&M||_,ee=f.inverted?h:l,re=f.inverted?l:h,he={x:ee,y:re,isInsidePlot:!0,options:f};if(!f.ignoreX){let ae=z&&(v&&!this.polar?z.yAxis:z.xAxis)||{pos:k,len:1/0},fe=f.paneCoordinates?ae.pos+ee:k+ee;fe>=Math.max(R+k,ae.pos)&&fe<=Math.min(R+k+K.width,ae.pos+ae.len)||(he.isInsidePlot=!1)}if(!f.ignoreY&&he.isInsidePlot){let ae=!v&&f.axis&&!f.axis.isXAxis&&f.axis||z&&(v?z.xAxis:z.yAxis)||{pos:S,len:1/0},fe=f.paneCoordinates?ae.pos+re:S+re;fe>=Math.max($+S,ae.pos)&&fe<=Math.min($+S+K.height,ae.pos+ae.len)||(he.isInsidePlot=!1)}return Is(this,"afterIsInsidePlot",he),he.isInsidePlot}redraw(l){Is(this,"beforeRedraw");let h=this.hasCartesianSeries?this.axes:this.colorAxis||[],f=this.series,v=this.pointer,_=this.legend,k=this.userOptions.legend,S=this.renderer,M=S.isHidden(),R=[],$,z,K,ee=this.isDirtyBox,re=this.isDirtyLegend,he;for(S.rootFontSize=S.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),xo(!!this.hasRendered&&l,this),M&&this.temporaryDisplay(),this.layOutTitles(!1),K=f.length;K--;)if(((he=f[K]).options.stacking||he.options.centerInCategory)&&(z=!0,he.isDirty)){$=!0;break}if($)for(K=f.length;K--;)(he=f[K]).options.stacking&&(he.isDirty=!0);f.forEach(function(ce){ce.isDirty&&(ce.options.legendType==="point"?(typeof ce.updateTotals=="function"&&ce.updateTotals(),re=!0):k&&(k.labelFormatter||k.labelFormat)&&(re=!0)),ce.isDirtyData&&Is(ce,"updatedData")}),re&&_&&_.options.enabled&&(_.render(),this.isDirtyLegend=!1),z&&this.getStacks(),h.forEach(function(ce){ce.updateNames(),ce.setScale()}),this.getMargins(),h.forEach(function(ce){ce.isDirty&&(ee=!0)}),h.forEach(function(ce){let ae=ce.min+","+ce.max;ce.extKey!==ae&&(ce.extKey=ae,R.push(function(){Is(ce,"afterSetExtremes",Wa(ce.eventArgs,ce.getExtremes())),delete ce.eventArgs})),(ee||z)&&ce.redraw()}),ee&&this.drawChartBox(),Is(this,"predraw"),f.forEach(function(ce){(ee||ce.isDirty)&&ce.visible&&ce.redraw(),ce.isDirtyData=!1}),v&&v.reset(!0),S.draw(),Is(this,"redraw"),Is(this,"render"),M&&this.temporaryDisplay(!0),R.forEach(function(ce){ce.call()})}get(l){let h=this.series;function f(_){return _.id===l||_.options&&_.options.id===l}let v=qu(this.axes,f)||qu(this.series,f);for(let _=0;!v&&_<h.length;_++)v=qu(h[_].points||[],f);return v}createAxes(){let l=this.userOptions;for(let h of(Is(this,"createAxes"),["xAxis","yAxis"]))for(let f of l[h]=dm(l[h]||{}))new Xl(this,f,h);Is(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((l,h)=>(h.getPointsCollection().forEach(f=>{jr(f.selectedStaging,f.selected)&&l.push(f)}),l),[])}getSelectedSeries(){return this.series.filter(l=>l.selected)}setTitle(l,h,f){this.applyDescription("title",l),this.applyDescription("subtitle",h),this.applyDescription("caption",void 0),this.layOutTitles(f)}applyDescription(l,h){var k;let f=this,v=this.options[l]=Xn(this.options[l],h),_=this[l];_&&h&&(this[l]=_=_.destroy()),v&&!_&&((_=this.renderer.text(v.text,0,0,v.useHTML).attr({align:v.align,class:"highcharts-"+l,zIndex:v.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(S,M){f.applyDescription(l,S),f.layOutTitles(M)},this.styledMode||_.css(Wa(l==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},v.style)),_.textPxLength=_.getBBox().width,_.css({whiteSpace:(k=v.style)==null?void 0:k.whiteSpace}),this[l]=_)}layOutTitles(l=!0){var S,M,R,$;let h=[0,0,0],{options:f,renderer:v,spacingBox:_}=this;["title","subtitle","caption"].forEach(z=>{var ce;let K=this[z],ee=this.options[z],re=Xn(_),he=(K==null?void 0:K.textPxLength)||0;if(K&&ee){Is(this,"layOutTitle",{alignTo:re,key:z,textPxLength:he});let ae=v.fontMetrics(K),fe=ae.b,ge=ae.h,Ie=ee.verticalAlign||"top",Te=Ie==="top",Ee=Te&&ee.minScale||1,Ge=z==="title"?Te?-3:0:Te?h[0]+2:0,ze=Math.min(re.width/he,1),qe=Math.max(Ee,ze),it=Xn({y:Ie==="bottom"?fe:Ge+fe},{align:z==="title"?ze<Ee?"left":"center":(ce=this.title)==null?void 0:ce.alignValue},ee),at=(ee.width||(ze>Ee?this.chartWidth:re.width)/qe)+"px";K.alignValue!==it.align&&(K.placed=!1);let vt=Math.round(K.css({width:at}).getBBox(ee.useHTML).height);if(it.height=vt,K.align(it,!1,re).attr({align:it.align,scaleX:qe,scaleY:qe,"transform-origin":`${re.x+he*qe*Fx(it.align)} ${ge}`}),!ee.floating){let Nt=vt*(vt<1.2*ge?1:qe);Ie==="top"?h[0]=Math.ceil(h[0]+Nt):Ie==="bottom"&&(h[2]=Math.ceil(h[2]+Nt))}}},this),h[0]&&(((S=f.title)==null?void 0:S.verticalAlign)||"top")==="top"&&(h[0]+=((M=f.title)==null?void 0:M.margin)||0),h[2]&&((R=f.caption)==null?void 0:R.verticalAlign)==="bottom"&&(h[2]+=(($=f.caption)==null?void 0:$.margin)||0);let k=!this.titleOffset||this.titleOffset.join(",")!==h.join(",");this.titleOffset=h,Is(this,"afterLayOutTitles"),!this.isDirtyBox&&k&&(this.isDirtyBox=this.isDirtyLegend=k,this.hasRendered&&l&&this.isDirtyBox&&this.redraw())}getContainerBox(){let l=[].map.call(this.renderTo.children,f=>{if(f!==this.container){let v=f.style.display;return f.style.display="none",[f,v]}}),h={width:Sn(this.renderTo,"width",!0)||0,height:Sn(this.renderTo,"height",!0)||0};return l.filter(Boolean).forEach(([f,v])=>{f.style.display=v}),h}getChartSize(){var k;let l=this.options.chart,h=l.width,f=l.height,v=this.getContainerBox(),_=v.height<=1||!((k=this.renderTo.parentElement)!=null&&k.style.height)&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,h||v.width||600),this.chartHeight=Math.max(0,ow(f,this.chartWidth)||(_?400:v.height)),this.containerBox=v}temporaryDisplay(l){let h=this.renderTo,f;if(l)for(;h!=null&&h.style;)h.hcOrigStyle&&(Yn(h,h.hcOrigStyle),delete h.hcOrigStyle),h.hcOrigDetached&&(Uu.body.removeChild(h),h.hcOrigDetached=!1),h=h.parentNode;else for(;h!=null&&h.style&&(Uu.body.contains(h)||h.parentNode||(h.hcOrigDetached=!0,Uu.body.appendChild(h)),(Sn(h,"display",!1)==="none"||h.hcOricDetached)&&(h.hcOrigStyle={display:h.style.display,height:h.style.height,overflow:h.style.overflow},f={display:"block",overflow:"hidden"},h!==this.renderTo&&(f.height=0),Yn(h,f),h.offsetWidth||h.style.setProperty("display","block","important")),(h=h.parentNode)!==Uu.body););}setClassName(l){this.container.className="highcharts-container "+(l||"")}getContainer(){var K,ee;let l,h=this.options,f=h.chart,v="data-highcharts-chart",_=e2(),k=this.renderTo,S=Ds(am(k,v));sc(S)&&tc[S]&&tc[S].hasRendered&&tc[S].destroy(),am(k,v,this.index),k.innerHTML=gi.emptyHTML,f.skipClone||k.offsetWidth||this.temporaryDisplay(),this.getChartSize();let M=this.chartHeight,R=this.chartWidth;Yn(k,{overflow:"hidden"}),this.styledMode||(l=Wa({position:"relative",overflow:"hidden",width:R+"px",height:M+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},f.style||{}));let $=Rx("div",{id:_},l,k);this.container=$,this.getChartSize(),R!==this.chartWidth&&(R=this.chartWidth,this.styledMode||Yn($,{width:jr((K=f.style)==null?void 0:K.width,R+"px")})),this.containerBox=this.getContainerBox(),this._cursor=$.style.cursor;let z=f.renderer||!nw?ju.getRendererType(f.renderer):Da;if(this.renderer=new z($,R,M,void 0,f.forExport,(ee=h.exporting)==null?void 0:ee.allowHTML,this.styledMode),xo(void 0,this),this.setClassName(f.className),this.styledMode)for(let re in h.defs)this.renderer.definition(h.defs[re]);else this.renderer.setStyle(f.style);this.renderer.chartIndex=this.index,Is(this,"afterGetContainer")}getMargins(l){var _;let{spacing:h,margin:f,titleOffset:v}=this;this.resetMargins(),v[0]&&!nn(f[0])&&(this.plotTop=Math.max(this.plotTop,v[0]+h[0])),v[2]&&!nn(f[2])&&(this.marginBottom=Math.max(this.marginBottom,v[2]+h[2])),(_=this.legend)!=null&&_.display&&this.legend.adjustMargins(f,h),Is(this,"getMargins"),l||this.getAxisMargins()}getAxisMargins(){let l=this,h=l.axisOffset=[0,0,0,0],f=l.colorAxis,v=l.margin,_=k=>{k.forEach(S=>{S.visible&&S.getOffset()})};l.hasCartesianSeries?_(l.axes):f!=null&&f.length&&_(f),rm.forEach((k,S)=>{nn(v[S])||(l[k]+=h[S])}),l.setChartSize()}getOptions(){return ud(this.userOptions,kn)}reflow(l){var _,k;let h=this,f=h.containerBox,v=h.getContainerBox();(_=h.pointer)==null||delete _.chartPosition,!((k=h.exporting)!=null&&k.isPrinting)&&!h.isResizing&&f&&v.width&&((v.width!==f.width||v.height!==f.height)&&(ft.clearTimeout(h.reflowTimeout),h.reflowTimeout=hd(function(){h.container&&h.setSize(void 0,void 0,!1)},100*!!l)),h.containerBox=v)}setReflow(){let l=this,h=f=>{var v;(v=l.options)!=null&&v.chart.reflow&&l.hasLoaded&&l.reflow(f)};if(typeof ResizeObserver=="function")new ResizeObserver(h).observe(l.renderTo);else{let f=Gu(nm,"resize",h);Gu(this,"destroy",f)}}setSize(l,h,f){let v=this,_=v.renderer;v.isResizing+=1,xo(f,v);let k=_.globalAnimation;v.oldChartHeight=v.chartHeight,v.oldChartWidth=v.chartWidth,l!==void 0&&(v.options.chart.width=l),h!==void 0&&(v.options.chart.height=h),v.getChartSize();let{chartWidth:S,chartHeight:M,scrollablePixelsX:R=0,scrollablePixelsY:$=0}=v;(v.isDirtyBox||S!==v.oldChartWidth||M!==v.oldChartHeight)&&(v.styledMode||(k?fa:Yn)(v.container,{width:`${S+R}px`,height:`${M+$}px`},k),v.setChartSize(!0),_.setSize(S,M,k),v.axes.forEach(function(z){z.isDirty=!0,z.setScale()}),v.isDirtyLegend=!0,v.isDirtyBox=!0,v.layOutTitles(),v.getMargins(),v.redraw(k),v.oldChartHeight=void 0,Is(v,"resize"),setTimeout(()=>{v&&Is(v,"endResize")},iw(k).duration)),v.isResizing-=1}setChartSize(l){let h,f,v,_,{chartHeight:k,chartWidth:S,inverted:M,spacing:R,renderer:$}=this,z=this.clipOffset,K=Math[M?"floor":"round"];this.plotLeft=h=Math.round(this.plotLeft),this.plotTop=f=Math.round(this.plotTop),this.plotWidth=v=Math.max(0,Math.round(S-h-(this.marginRight??0))),this.plotHeight=_=Math.max(0,Math.round(k-f-(this.marginBottom??0))),this.plotSizeX=M?_:v,this.plotSizeY=M?v:_,this.spacingBox=$.spacingBox={x:R[3],y:R[0],width:S-R[3]-R[1],height:k-R[0]-R[2]},this.plotBox=$.plotBox={x:h,y:f,width:v,height:_},z&&(this.clipBox={x:K(z[3]),y:K(z[0]),width:K(this.plotSizeX-z[1]-z[3]),height:K(this.plotSizeY-z[0]-z[2])}),l||(this.axes.forEach(function(ee){ee.setAxisSize(),ee.setAxisTranslation()}),$.alignElements()),Is(this,"afterSetChartSize",{skipAxes:l})}resetMargins(){Is(this,"resetMargins");let l=this,h=l.options.chart,f=h.plotBorderWidth||0,v=Math.round(f)/2;["margin","spacing"].forEach(_=>{let k=h[_],S=Jk(k)?k:[k,k,k,k];["Top","Right","Bottom","Left"].forEach((M,R)=>{l[_][R]=h[`${_}${M}`]??S[R]})}),rm.forEach((_,k)=>{l[_]=l.margin[k]??l.spacing[k]}),l.axisOffset=[0,0,0,0],l.clipOffset=[v,v,v,v],l.plotBorderWidth=f}drawChartBox(){let l=this.options.chart,h=this.renderer,f=this.chartWidth,v=this.chartHeight,_=this.styledMode,k=this.plotBGImage,S=l.backgroundColor,M=l.plotBackgroundColor,R=l.plotBackgroundImage,$=this.plotLeft,z=this.plotTop,K=this.plotWidth,ee=this.plotHeight,re=this.plotBox,he=this.clipRect,ce=this.clipBox,ae=this.chartBackground,fe=this.plotBackground,ge=this.plotBorder,Ie,Te,Ee,Ge="animate";ae||(this.chartBackground=ae=h.rect().addClass("highcharts-background").add(),Ge="attr"),_?Ie=Te=ae.strokeWidth():(Te=(Ie=l.borderWidth||0)+8*!!l.shadow,Ee={fill:S||"none"},(Ie||ae["stroke-width"])&&(Ee.stroke=l.borderColor,Ee["stroke-width"]=Ie),ae.attr(Ee).shadow(l.shadow)),ae[Ge]({x:Te/2,y:Te/2,width:f-Te-Ie%2,height:v-Te-Ie%2,r:l.borderRadius}),Ge="animate",fe||(Ge="attr",this.plotBackground=fe=h.rect().addClass("highcharts-plot-background").add()),fe[Ge](re),!_&&(fe.attr({fill:M||"none"}).shadow(l.plotShadow),R&&(k?(R!==k.attr("href")&&k.attr("href",R),k.animate(re)):this.plotBGImage=h.image(R,$,z,K,ee).add())),he?he.animate({width:ce.width,height:ce.height}):this.clipRect=h.clipRect(ce),Ge="animate",ge||(Ge="attr",this.plotBorder=ge=h.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),_||ge.attr({stroke:l.plotBorderColor,"stroke-width":l.plotBorderWidth||0,fill:"none"}),ge[Ge](ge.crisp(re,-ge.strokeWidth())),this.isDirtyBox=!1,Is(this,"afterDrawChartBox")}propFromSeries(){let l,h,f,v=this,_=v.options.chart,k=v.options.series;["inverted","angular","polar"].forEach(function(S){for(h=Dx[_.type],f=_[S]||h&&h.prototype[S],l=k==null?void 0:k.length;!f&&l--;)(h=Dx[k[l].type])&&h.prototype[S]&&(f=!0);v[S]=f})}linkSeries(l){let h=this,f=h.series;f.forEach(function(v){v.linkedSeries.length=0}),f.forEach(function(v){let{linkedTo:_}=v.options;if(lm(_)){let k;(k=_===":previous"?h.series[v.index-1]:h.get(_))&&k.linkedParent!==v&&(k.linkedSeries.push(v),v.linkedParent=k,k.enabledDataSorting&&v.setDataSortingOptions(),v.visible=jr(v.options.visible,k.options.visible,v.visible))}}),Is(this,"afterLinkSeries",{isUpdating:l})}renderSeries(){this.series.forEach(function(l){l.translate(),l.render()})}render(){var $;let l=this.axes,h=this.colorAxis,f=this.renderer,v=this.options.chart.axisLayoutRuns||2,_=z=>{z.forEach(K=>{K.visible&&K.render()})},k=0,S=!0,M,R=0;for(let z of(this.setTitle(),Is(this,"beforeMargins"),($=this.getStacks)==null||$.call(this),this.getMargins(!0),this.setChartSize(),l)){let{options:K}=z,{labels:ee}=K;if(this.hasCartesianSeries&&z.horiz&&z.visible&&ee.enabled&&z.series.length&&z.coll!=="colorAxis"&&!this.polar){k=K.tickLength,z.createGroups();let re=new mo(z,0,"",!0),he=re.createLabel("x",ee);if(re.destroy(),he&&jr(ee.reserveSpace,!sc(K.crossing))&&(k=he.getBBox().height+ee.distance+Math.max(K.offset||0,0)),k){he==null||he.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-k,0);(S||M||v>1)&&R<v;){let z=this.plotWidth,K=this.plotHeight;for(let ee of l)R===0?ee.setScale():(ee.horiz&&S||!ee.horiz&&M)&&ee.setTickInterval(!0);R===0?this.getAxisMargins():this.getMargins(),S=z/this.plotWidth>(R?1:1.1),M=K/this.plotHeight>(R?1:1.05),R++}this.drawChartBox(),this.hasCartesianSeries?_(l):h!=null&&h.length&&_(h),this.seriesGroup||(this.seriesGroup=f.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=f.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(l){let h=this,f=Xn(!0,this.options.credits,l);f.enabled&&!this.credits&&(this.credits=this.renderer.text(f.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){f.href&&(nm.location.href=f.href)}).attr({align:f.position.align,zIndex:8}),h.styledMode||this.credits.css(f.style),this.credits.add().align(f.position),this.credits.update=function(v){h.credits=h.credits.destroy(),h.addCredits(v)})}destroy(){var S,M;let l,h=this,f=h.axes,v=h.series,_=h.container,k=_==null?void 0:_.parentNode;for(Is(h,"destroy"),h.renderer.forExport?Qk(tc,h):tc[h.index]=void 0,de.chartCount--,h.renderTo.removeAttribute("data-highcharts-chart"),cm(h),l=f.length;l--;)f[l]=f[l].destroy();for((M=(S=this.scroller)==null?void 0:S.destroy)==null||M.call(S),l=v.length;l--;)v[l]=v[l].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(R=>{var $,z;h[R]=(z=($=h[R])==null?void 0:$.destroy)==null?void 0:z.call($)}),_&&(_.innerHTML=gi.emptyHTML,cm(_),k&&aw(_)),Ha(h,function(R,$){delete h[$]})}firstRender(){var v;let l=this,h=l.options;l.getContainer(),l.resetMargins(),l.setChartSize(),l.propFromSeries(),l.createAxes();let f=nl(h.series)?h.series:[];h.series=[],f.forEach(function(_){l.initSeries(_)}),l.linkSeries(),l.setSortedData(),Is(l,"beforeRender"),l.render(),(v=l.pointer)==null||v.getChartPosition(),l.renderer.imgCount||l.hasLoaded||l.onload(),l.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(l){l&&this.index!==void 0&&l.apply(this,[this])},this),Is(this,"load"),Is(this,"render"),nn(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:l,title:h}=this;l&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":((h==null?void 0:h.element.textContent)||"").replace(/</g,"&lt;")}),l.accessibility&&l.accessibility.enabled===!1||om('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(l,h,f){let v,_=this;return l&&(h=jr(h,!0),Is(_,"addSeries",{options:l},function(){v=_.initSeries(l),_.isDirtyLegend=!0,_.linkSeries(),v.enabledDataSorting&&v.setData(l.data,!1),Is(_,"afterAddSeries",{series:v}),h&&_.redraw(f)})),v}addAxis(l,h,f,v){return this.createAxis(h?"xAxis":"yAxis",{axis:l,redraw:f,animation:v})}addColorAxis(l,h,f){return this.createAxis("colorAxis",{axis:l,redraw:h,animation:f})}createAxis(l,h){let f=new Xl(this,h.axis,l);return jr(h.redraw,!0)&&this.redraw(h.animation),f}showLoading(l){let h=this,f=h.options,v=f.loading,_=function(){k&&Yn(k,{left:h.plotLeft+"px",top:h.plotTop+"px",width:h.plotWidth+"px",height:h.plotHeight+"px"})},k=h.loadingDiv,S=h.loadingSpan;k||(h.loadingDiv=k=Rx("div",{className:"highcharts-loading highcharts-loading-hidden"},null,h.container)),S||(h.loadingSpan=S=Rx("span",{className:"highcharts-loading-inner"},null,k),Gu(h,"redraw",_)),k.className="highcharts-loading",gi.setElementHTML(S,jr(l,f.lang.loading,"")),!h.styledMode&&(Yn(k,Wa(v.style,{zIndex:10})),Yn(S,v.labelStyle),h.loadingShown||(Yn(k,{opacity:0,display:""}),fa(k,{opacity:v.style.opacity||.5},{duration:v.showDuration||0}))),h.loadingShown=!0,_()}hideLoading(){let l=this.options,h=this.loadingDiv;h&&(h.className="highcharts-loading highcharts-loading-hidden",this.styledMode||fa(h,{opacity:0},{duration:l.loading.hideDuration||100,complete:function(){Yn(h,{display:"none"})}})),this.loadingShown=!1}update(l,h,f,v){let _,k,S,M=this,R={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},$=l.isResponsiveOptions,z=[];Is(M,"update",{options:l}),$||M.setResponsive(!1,!0),l=ud(l,M.options),M.userOptions=Xn(M.userOptions,l);let K=l.chart;K&&(Xn(!0,M.options.chart,K),this.setZoomOptions(),"className"in K&&M.setClassName(K.className),("inverted"in K||"polar"in K||"type"in K)&&(M.propFromSeries(),_=!0),"alignTicks"in K&&(_=!0),"events"in K&&rw(this,K),Ha(K,function(he,ce){M.propsRequireUpdateSeries.indexOf("chart."+ce)!==-1&&(k=!0),M.propsRequireDirtyBox.indexOf(ce)!==-1&&(M.isDirtyBox=!0),M.propsRequireReflow.indexOf(ce)!==-1&&(M.isDirtyBox=!0,$||(S=!0))}),!M.styledMode&&K.style&&M.renderer.setStyle(M.options.chart.style||{})),!M.styledMode&&l.colors&&(this.options.colors=l.colors),Ha(l,function(he,ce){M[ce]&&typeof M[ce].update=="function"?M[ce].update(he,!1):typeof M[R[ce]]=="function"?M[R[ce]](he):ce!=="colors"&&M.collectionsWithUpdate.indexOf(ce)===-1&&Xn(!0,M.options[ce],l[ce]),ce!=="chart"&&M.propsRequireUpdateSeries.indexOf(ce)!==-1&&(k=!0)}),this.collectionsWithUpdate.forEach(function(he){l[he]&&(dm(l[he]).forEach(function(ce,ae){let fe,ge=nn(ce.id);ge&&(fe=M.get(ce.id)),!fe&&M[he]&&(fe=M[he][jr(ce.index,ae)])&&(ge&&nn(fe.options.id)||fe.options.isInternal)&&(fe=void 0),fe&&fe.coll===he&&(fe.update(ce,!1),f&&(fe.touched=!0)),!fe&&f&&M.collectionsWithInit[he]&&(M.collectionsWithInit[he][0].apply(M,[ce].concat(M.collectionsWithInit[he][1]||[]).concat([!1])).touched=!0)}),f&&M[he].forEach(function(ce){ce.touched||ce.options.isInternal?delete ce.touched:z.push(ce)}))}),z.forEach(function(he){he.chart&&he.remove&&he.remove(!1)}),_&&M.axes.forEach(function(he){he.update({},!1)}),k&&M.getSeriesOrderByLinks().forEach(function(he){he.chart&&he.update({},!1)},this);let ee=K==null?void 0:K.width,re=K&&(lm(K.height)?ow(K.height,ee||M.chartWidth):K.height);S||sc(ee)&&ee!==M.chartWidth||sc(re)&&re!==M.chartHeight?M.setSize(ee,re,v):jr(h,!0)&&M.redraw(v),Is(M,"afterUpdate",{options:l,redraw:h,animation:v})}setSubtitle(l,h){this.applyDescription("subtitle",l),this.layOutTitles(h)}setCaption(l,h){this.applyDescription("caption",l),this.layOutTitles(h)}showResetZoom(){let l=this,h=kn.lang,f=l.zooming.resetButton,v=f.theme,_=f.relativeTo==="chart"||f.relativeTo==="spacingBox"?null:"plotBox";function k(){l.zoomOut()}Is(this,"beforeShowResetZoom",null,function(){l.resetZoomButton=l.renderer.button(h.resetZoom,null,null,k,v).attr({align:f.position.align,title:h.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(f.position,!1,_)}),Is(this,"afterShowResetZoom")}zoomOut(){Is(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(l,h){let f=this,v=typeof h=="object"?h:{enabled:h,type:"x"},_=v.type,k=_&&f[{x:"xAxis",xy:"axes",y:"yAxis"}[_]].filter(M=>M.options.panningEnabled&&!M.options.isInternal),S=f.options.chart;S!=null&&S.panning&&(S.panning=v),Is(this,"pan",{originalEvent:l},()=>{f.transform({axes:k,event:l,to:{x:l.chartX-(f.mouseDownX||0),y:l.chartY-(f.mouseDownY||0)},trigger:"pan"}),Yn(f.container,{cursor:"move"})})}transform(l){var re;let{axes:h=this.axes,event:f,from:v={},reset:_,selection:k,to:S={},trigger:M}=l,{inverted:R,time:$}=this;(re=this.hoverPoints)==null||re.forEach(he=>he.setState()),Is(this,"transform",l);let z=l.hasZoomed||!1,K,ee;for(let he of h){let{horiz:ce,len:ae,minPointOffset:fe=0,options:ge,reversed:Ie}=he,Te=ce?"width":"height",Ee=ce?"x":"y",Ge=jr(S[Te],he.len),ze=jr(v[Te],he.len),qe=10>Math.abs(Ge)?1:Ge/ze,it=(v[Ee]||0)+ze/2-he.pos,at=it-((S[Ee]??he.pos)+Ge/2-he.pos)/qe,vt=Ie&&!R||!Ie&&R?-1:1;if(!_&&(it<0||it>he.len))continue;let Nt=he.chart.polar||he.isOrdinal?0:fe*vt||0,Wt=he.toValue(at,!0),Dt=he.toValue(at+ae/qe,!0),Kt=Wt+Nt,Pt=Dt-Nt,Xt=he.allExtremes;if(k&&k[he.coll].push({axis:he,min:Math.min(Wt,Dt),max:Math.max(Wt,Dt)}),Kt>Pt&&([Kt,Pt]=[Pt,Kt]),qe===1&&!_&&he.coll==="yAxis"&&!Xt){for(let gr of he.series){let hi=gr.getExtremes(gr.getProcessedData(!0).modified.getColumn("y")||[],!0);Xt??(Xt={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),sc(hi.dataMin)&&sc(hi.dataMax)&&(Xt.dataMin=Math.min(hi.dataMin,Xt.dataMin),Xt.dataMax=Math.max(hi.dataMax,Xt.dataMax))}he.allExtremes=Xt}let{dataMin:ws,dataMax:Ns,min:Cs,max:fr}=Wa(he.getExtremes(),Xt||{}),js=$.parse(ge.min),$s=$.parse(ge.max),ds=ws??js,os=Ns??$s,Oi=Pt-Kt,Bs=he.categories?0:Math.min(Oi,os-ds),oi=ds-Bs*(nn(js)?0:ge.minPadding),lr=os+Bs*(nn($s)?0:ge.maxPadding),Ga=he.allowZoomOutside||qe===1||M!=="zoom"&&qe>1,An=Math.min(js??oi,oi,Ga?Cs:oi),kr=Math.max($s??lr,lr,Ga?fr:lr);(!he.isOrdinal||qe!==1||_)&&(Kt<An&&(Kt=An,qe>=1&&(Pt=Kt+Oi)),Pt>kr&&(Pt=kr,qe>=1&&(Kt=Pt-Oi)),(_||he.series.length&&(Kt!==Cs||Pt!==fr)&&Kt>=An&&Pt<=kr)&&(k?k[he.coll].push({axis:he,min:Kt,max:Pt}):(he.isPanning=M!=="zoom",he.isPanning&&(ee=!0),he.setExtremes(_?void 0:Kt,_?void 0:Pt,!1,!1,{move:at,trigger:M,scale:qe}),!_&&(Kt>An||Pt<kr)&&M!=="mousewheel"&&(K=!0)),z=!0),this.hasCartesianSeries||_||M==="mousewheel"||(K=!0),f&&(this[ce?"mouseDownX":"mouseDownY"]=f[ce?"chartX":"chartY"]))}return z&&(k?Is(this,"selection",k,()=>{delete l.selection,l.trigger="zoom",this.transform(l)}):(!K||ee||this.resetZoomButton?!K&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(M==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),z}}Wa(ga.prototype,{callbacks:[],collectionsWithInit:{xAxis:[ga.prototype.addAxis,[!0]],yAxis:[ga.prototype.addAxis,[!1]],series:[ga.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:Va}=_r,{composed:zx}=de,{addEvent:Li,createElement:um,css:hm,defined:pm,erase:mm,merge:lw,pushUnique:cw}=ft;function ic(){let F=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!F&&(this.scrollablePlotArea=F=new Yu(this)),F==null||F.applyFixed()}function Ku(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class Yu{static compose(l,h,f){cw(zx,this.compose)&&(Li(l,"afterInit",Ku),Li(h,"afterSetChartSize",v=>this.afterSetSize(v.target,v)),Li(h,"render",ic),Li(f,"show",Ku))}static afterSetSize(l,h){let f,v,_,{minWidth:k,minHeight:S}=l.options.chart.scrollablePlotArea||{},{clipBox:M,plotBox:R,inverted:$,renderer:z}=l;if(!z.forExport)if(k?(l.scrollablePixelsX=f=Math.max(0,k-l.chartWidth),f&&(l.scrollablePlotBox=lw(l.plotBox),R.width=l.plotWidth+=f,M[$?"height":"width"]+=f,_=!0)):S&&(l.scrollablePixelsY=v=Math.max(0,S-l.chartHeight),pm(v)&&(l.scrollablePlotBox=lw(l.plotBox),R.height=l.plotHeight+=v,M[$?"width":"height"]+=v,_=!1)),pm(_)){if(!h.skipAxes)for(let K of l.axes)(K.horiz===_||l.hasParallelCoordinates&&K.coll==="yAxis")&&(K.setAxisSize(),K.setAxisTranslation())}else delete l.scrollablePlotBox}constructor(l){var ee;let h,f=l.options.chart,v=ju.getRendererType(),_=f.scrollablePlotArea||{},k=this.moveFixedElements.bind(this),S={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};l.scrollablePixelsX&&(S.overflowX="auto"),l.scrollablePixelsY&&(S.overflowY="auto"),this.chart=l;let M=this.parentDiv=um("div",{className:"highcharts-scrolling-parent"},{position:"relative"},l.renderTo),R=this.scrollingContainer=um("div",{className:"highcharts-scrolling"},S,M),$=this.innerContainer=um("div",{className:"highcharts-inner-container"},void 0,R),z=this.fixedDiv=um("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((ee=f.style)==null?void 0:ee.zIndex)||0)+2,top:0},void 0,!0),K=this.fixedRenderer=new v(z,l.chartWidth,l.chartHeight,f.style);this.mask=K.path().attr({fill:f.backgroundColor||"#fff","fill-opacity":_.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),R.parentNode.insertBefore(z,R),hm(l.renderTo,{overflow:"visible"}),Li(l,"afterShowResetZoom",k),Li(l,"afterApplyDrilldown",k),Li(l,"afterLayOutTitles",k),Li(R,"scroll",()=>{let{pointer:re,hoverPoint:he}=l;re&&(delete re.chartPosition,he&&(h=he),re.runPointActions(void 0,h,!0))}),$.appendChild(l.container)}applyFixed(){var it;let{chart:l,fixedRenderer:h,isDirty:f,scrollingContainer:v}=this,{axisOffset:_,chartWidth:k,chartHeight:S,container:M,plotHeight:R,plotLeft:$,plotTop:z,plotWidth:K,scrollablePixelsX:ee=0,scrollablePixelsY:re=0}=l,{scrollPositionX:he=0,scrollPositionY:ce=0}=l.options.chart.scrollablePlotArea||{},ae=k+ee,fe=S+re;h.setSize(k,S),(f??!0)&&(this.isDirty=!1,this.moveFixedElements()),Va(l.container),hm(M,{width:`${ae}px`,height:`${fe}px`}),l.renderer.boxWrapper.attr({width:ae,height:fe,viewBox:[0,0,ae,fe].join(" ")}),(it=l.chartBackground)==null||it.attr({width:ae,height:fe}),hm(v,{width:`${k}px`,height:`${S}px`}),pm(f)||(v.scrollLeft=ee*he,v.scrollTop=re*ce);let ge=z-_[0]-1,Ie=$-_[3]-1,Te=z+R+_[2]+1,Ee=$+K+_[1]+1,Ge=$+K-ee,ze=z+R-re,qe=[["M",0,0]];ee?qe=[["M",0,ge],["L",$-1,ge],["L",$-1,Te],["L",0,Te],["Z"],["M",Ge,ge],["L",k,ge],["L",k,Te],["L",Ge,Te],["Z"]]:re&&(qe=[["M",Ie,0],["L",Ie,z-1],["L",Ee,z-1],["L",Ee,0],["Z"],["M",Ie,ze],["L",Ie,S],["L",Ee,S],["L",Ee,ze],["Z"]]),l.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:qe})}moveFixedElements(){let l,{container:h,inverted:f,scrollablePixelsX:v,scrollablePixelsY:_}=this.chart,k=this.fixedRenderer,S=Yu.fixedSelectors;if(v&&!f?l=".highcharts-yaxis":v&&f||_&&!f?l=".highcharts-xaxis":_&&f&&(l=".highcharts-yaxis"),l&&!(this.chart.hasParallelCoordinates&&l===".highcharts-yaxis"))for(let M of[`${l}:not(.highcharts-radial-axis)`,`${l}-labels:not(.highcharts-radial-axis-labels)`])cw(S,M);else for(let M of[".highcharts-xaxis",".highcharts-yaxis"])for(let R of[`${M}:not(.highcharts-radial-axis)`,`${M}-labels:not(.highcharts-radial-axis-labels)`])mm(S,R);for(let M of S)[].forEach.call(h.querySelectorAll(M),R=>{(R.namespaceURI===k.SVG_NS?k.box:k.box.parentNode).appendChild(R),R.style.pointerEvents="auto"})}}Yu.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:t2}=wn,{series:al}=ai,{destroyObjectProperties:fm,fireEvent:gm,getAlignFactor:Xu,isNumber:Bx,pick:pd}=ft,Wx=class{constructor(F,l,h,f,v){let _=F.chart.inverted,k=F.reversed;this.axis=F;let S=this.isNegative=!!h!=!!k;this.options=l=l||{},this.x=f,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=v,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:l.align||(_?S?"left":"right":"center"),verticalAlign:l.verticalAlign||(_?"middle":S?"bottom":"top"),y:l.y,x:l.x},this.textAlign=l.textAlign||(_?S?"right":"left":"center")}destroy(){fm(this,this.axis)}render(F){let l=this.axis.chart,h=this.options,f=h.format,v=f?t2(f,this,l):h.formatter.call(this);if(this.label)this.label.attr({text:v,visibility:"hidden"});else{this.label=l.renderer.label(v,null,void 0,h.shape,void 0,void 0,h.useHTML,!1,"stack-labels");let _={r:h.borderRadius||0,text:v,padding:pd(h.padding,5),visibility:"hidden"};l.styledMode||(_.fill=h.backgroundColor,_.stroke=h.borderColor,_["stroke-width"]=h.borderWidth,this.label.css(h.style||{})),this.label.attr(_),this.label.added||this.label.add(F)}this.label.labelrank=l.plotSizeY,gm(this,"afterRender")}setOffset(F,l,h,f,v,_){let{alignOptions:k,axis:S,label:M,options:R,textAlign:$}=this,z=S.chart,K=this.getStackBox({xOffset:F,width:l,boxBottom:h,boxTop:f,defaultX:v,xAxis:_}),{verticalAlign:ee}=k;if(M&&K){let re=M.getBBox(void 0,0),he=M.padding,ce=pd(R.overflow,"justify")==="justify",ae;k.x=R.x||0,k.y=R.y||0;let{x:fe,y:ge}=this.adjustStackPosition({labelBox:re,verticalAlign:ee,textAlign:$});K.x-=fe,K.y-=ge,M.align(k,!1,K),(ae=z.isInsidePlot(M.alignAttr.x+k.x+fe,M.alignAttr.y+k.y+ge))||(ce=!1),ce&&al.prototype.justifyDataLabel.call(S,M,k,M.alignAttr,re,K),M.attr({x:M.alignAttr.x,y:M.alignAttr.y,rotation:R.rotation,rotationOriginX:re.width*Xu(R.textAlign||"center"),rotationOriginY:re.height/2}),pd(!ce&&R.crop,!0)&&(ae=Bx(M.x)&&Bx(M.y)&&z.isInsidePlot(M.x-he+(M.width||0),M.y)&&z.isInsidePlot(M.x+he,M.y)),M[ae?"show":"hide"]()}gm(this,"afterSetOffset",{xOffset:F,width:l})}adjustStackPosition({labelBox:F,verticalAlign:l,textAlign:h}){return{x:F.width/2+F.width/2*(2*Xu(h)-1),y:F.height/2*2*(1-Xu(l))}}getStackBox(F){let l=this.axis,h=l.chart,{boxTop:f,defaultX:v,xOffset:_,width:k,boxBottom:S}=F,M=l.stacking.usePercentage?100:pd(f,this.total,0),R=l.toPixels(M),$=F.xAxis||h.xAxis[0],z=pd(v,$.translate(this.x))+_,K=Math.abs(R-l.toPixels(S||Bx(l.min)&&l.logarithmic&&l.logarithmic.lin2log(l.min)||0)),ee=h.inverted,re=this.isNegative;return ee?{x:(re?R:R-K)-h.plotLeft,y:$.height-z-k+$.top-h.plotTop,width:K,height:k}:{x:z+$.transB-h.plotLeft,y:(re?R-K:R)-h.plotTop,width:k,height:K}}},{getDeferredAnimation:s2}=_r,{series:{prototype:dw}}=ai,{addEvent:md,correctFloat:Zu,defined:uw,destroyObjectProperties:i2,fireEvent:hw,isNumber:Qu,objectEach:yo,pick:rc}=ft;function Hx(){let F=this.inverted;this.axes.forEach(l=>{var h;(h=l.stacking)!=null&&h.stacks&&l.hasVisibleSeries&&(l.stacking.oldStacks=l.stacking.stacks)}),this.series.forEach(l=>{var f;let h=((f=l.xAxis)==null?void 0:f.options)||{};l.options.stacking&&l.reserveSpace()&&(l.stackKey=[l.type,rc(l.options.stack,""),F?h.top:h.left,F?h.height:h.width].join(","))})}function r2(){var l;let F=this.stacking;if(F){let h=F.stacks;yo(h,(f,v)=>{i2(f),delete h[v]}),(l=F.stackTotalGroup)==null||l.destroy()}}function n2(){this.stacking||(this.stacking=new Vx(this))}function pw(F,l,h,f){return!uw(F)||F.x!==l||f&&F.stackKey!==f?F={x:l,index:0,key:f,stackKey:f}:F.index++,F.key=[h,l,F.index].join(","),F}function Ju(){let F,l=this,h=l.yAxis,f=l.stackKey||"",v=h.stacking.stacks,_=l.getColumn("x",!0),k=l.options.stacking,S=l[k+"Stacker"];S&&[f,"-"+f].forEach(M=>{var ee;let R=_.length,$,z,K;for(;R--;)$=_[R],F=l.getStackIndicator(F,$,l.index,M),z=(ee=v[M])==null?void 0:ee[$],(K=z==null?void 0:z.points[F.key||""])&&S.call(l,K,z,R)})}function mw(F,l,h){let f=l.total?100/l.total:0;F[0]=Zu(F[0]*f),F[1]=Zu(F[1]*f),this.stackedYData[h]=F[1]}function a2(F){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?dw.setStackedPoints.call(this,F,"group"):F.stacking.resetStacks())}function o2(F,l){var ze,qe;let h,f,v,_,k,S,M,R=l||this.options.stacking;if(!R||!this.reserveSpace()||({group:"xAxis"}[R]||"yAxis")!==F.coll)return;let $=this.getColumn("x",!0),z=this.getColumn(this.pointValKey||"y",!0),K=[],ee=z.length,re=this.options,he=re.threshold||0,ce=re.startFromThreshold?he:0,ae=re.stack,fe=l?`${this.type},${R}`:this.stackKey||"",ge="-"+fe,Ie=this.negStacks,Te=F.stacking,Ee=Te.stacks,Ge=Te.oldStacks;for(Te.stacksTouched+=1,M=0;M<ee;M++){let it=$[M]||0,at=z[M],vt=Qu(at)&&at||0;S=(h=this.getStackIndicator(h,it,this.index)).key||"",Ee[k=(f=Ie&&vt<(ce?0:he))?ge:fe]||(Ee[k]={}),Ee[k][it]||((ze=Ge[k])!=null&&ze[it]?(Ee[k][it]=Ge[k][it],Ee[k][it].total=null):Ee[k][it]=new Wx(F,F.options.stackLabels,!!f,it,ae)),v=Ee[k][it],at!==null?(v.points[S]=v.points[this.index]=[rc(v.cumulative,ce)],uw(v.cumulative)||(v.base=S),v.touched=Te.stacksTouched,h.index>0&&this.singleStacks===!1&&(v.points[S][0]=v.points[this.index+","+it+",0"][0])):(delete v.points[S],delete v.points[this.index]);let Nt=v.total||0;R==="percent"?(_=f?fe:ge,Nt=Ie&&((qe=Ee[_])!=null&&qe[it])?(_=Ee[_][it]).total=Math.max(_.total||0,Nt)+Math.abs(vt):Zu(Nt+Math.abs(vt))):R==="group"?Qu(at)&&Nt++:Nt=Zu(Nt+vt),R==="group"?v.cumulative=(Nt||1)-1:v.cumulative=Zu(rc(v.cumulative,ce)+vt),v.total=Nt,at!==null&&(v.points[S].push(v.cumulative),K[M]=v.cumulative,v.hasValidPoints=!0)}R==="percent"&&(Te.usePercentage=!0),R!=="group"&&(this.stackedYData=K),Te.oldStacks={}}class Vx{constructor(l){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=l}buildStacks(){let l,h,f=this.axis,v=f.series,_=f.coll==="xAxis",k=f.options.reversedStacks,S=v.length;for(this.resetStacks(),this.usePercentage=!1,h=S;h--;)l=v[k?h:S-h-1],_&&l.setGroupedPoints(f),l.setStackedPoints(f);if(!_)for(h=0;h<S;h++)v[h].modifyStacks();hw(f,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,yo(this.stacks,l=>{yo(l,h=>{h.cumulative=h.total})}))}resetStacks(){yo(this.stacks,l=>{yo(l,(h,f)=>{Qu(h.touched)&&h.touched<this.stacksTouched?(h.destroy(),delete l[f]):(h.total=null,h.cumulative=null)})})}renderStackTotals(){var S;let l=this.axis,h=l.chart,f=h.renderer,v=this.stacks,_=s2(h,((S=l.options.stackLabels)==null?void 0:S.animation)||!1),k=this.stackTotalGroup=this.stackTotalGroup||f.g("stack-labels").attr({zIndex:6,opacity:0}).add();k.translate(h.plotLeft,h.plotTop),yo(v,M=>{yo(M,R=>{R.render(k)})}),k.animate({opacity:1},_)}}(Q||(Q={})).compose=function(F,l,h){let f=l.prototype,v=h.prototype;f.getStacks||(md(F,"init",n2),md(F,"destroy",r2),f.getStacks=Hx,v.getStackIndicator=pw,v.modifyStacks=Ju,v.percentStacker=mw,v.setGroupedPoints=a2,v.setStackedPoints=o2)};let nc=Q,{defined:$x,merge:fw,isObject:l2}=ft;class gw extends qr{drawGraph(){let l=this.options,h=(this.gappedPath||this.getGraphPath).call(this),f=this.chart.styledMode;[this,...this.zones].forEach((v,_)=>{let k,S=v.graph,M=S?"animate":"attr",R=v.dashStyle||l.dashStyle;S?(S.endX=this.preventGraphAnimation?null:h.xMap,S.animate({d:h})):h.length&&(v.graph=S=this.chart.renderer.path(h).addClass("highcharts-graph"+(_?` highcharts-zone-graph-${_-1} `:" ")+(_&&v.className||"")).attr({zIndex:1}).add(this.group)),S&&!f&&(k={stroke:!_&&l.lineColor||v.color||this.color||"#cccccc","stroke-width":l.lineWidth||0,fill:this.fillGraph&&this.color||"none"},R?k.dashstyle=R:l.linecap!=="square"&&(k["stroke-linecap"]=k["stroke-linejoin"]="round"),S[M](k).shadow(l.shadow&&fw({filterUnits:"userSpaceOnUse"},l2(l.shadow)?l.shadow:{}))),S&&(S.startX=h.xMap,S.isArea=h.isArea)})}getGraphPath(l,h,f){let v=this,_=v.options,k=[],S=[],M,R=_.step,$=(l=l||v.points).reversed;return $&&l.reverse(),(R={right:1,center:2}[R]||R&&3)&&$&&(R=4-R),(l=this.getValidPoints(l,!1,_.nullInteraction||!(_.connectNulls&&!h&&!f))).forEach(function(z,K){let ee,re=z.plotX,he=z.plotY,ce=l[K-1],ae=z.isNull||typeof he!="number";(z.leftCliff||ce!=null&&ce.rightCliff)&&!f&&(M=!0),ae&&!$x(h)&&K>0?M=!_.connectNulls:ae&&!h?M=!0:(K===0||M?ee=[["M",z.plotX,z.plotY]]:v.getPointSpline?ee=[v.getPointSpline(l,z,K)]:R?(ee=R===1?[["L",ce.plotX,he]]:R===2?[["L",(ce.plotX+re)/2,ce.plotY],["L",(ce.plotX+re)/2,he]]:[["L",re,ce.plotY]]).push(["L",re,he]):ee=[["L",re,he]],S.push(z.x),R&&(S.push(z.x),R===2&&S.push(z.x)),k.push.apply(k,ee),M=!1)}),k.xMap=S,v.graphPath=k,k}}gw.defaultOptions=fw(qr.defaultOptions,{legendSymbol:"lineMarker"}),ai.registerSeriesType("line",gw);let{seriesTypes:{line:Ux}}=ai,{extend:c2,merge:d2,objectEach:u2,pick:xm}=ft;class Gx extends Ux{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:l,options:h}=this;[this,...this.zones].forEach((f,v)=>{let _={},k=f.fillColor||h.fillColor,S=f.area,M=S?"animate":"attr";S?(S.endX=this.preventGraphAnimation?null:l.xMap,S.animate({d:l})):(_.zIndex=0,(S=f.area=this.chart.renderer.path(l).addClass("highcharts-area"+(v?` highcharts-zone-area-${v-1} `:" ")+(v&&f.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(_.fill=k||f.color||this.color,_["fill-opacity"]=k?1:h.fillOpacity??.75,S.css({pointerEvents:this.stickyTracking?"none":"auto"})),S[M](_),S.startX=l.xMap,S.shiftUnit=h.step?2:1})}getGraphPath(l){let h,f,v,_=Ux.prototype.getGraphPath,k=this.options,S=k.stacking,M=this.yAxis,R=[],$=[],z=this.index,K=M.stacking.stacks[this.stackKey],ee=k.threshold,re=Math.round(M.getThreshold(k.threshold)),he=xm(k.connectNulls,S==="percent"),ce=function(Ee,Ge,ze){let qe=l[Ee],it=S&&K[qe.x].points[z],at=qe[ze+"Null"]||0,vt=qe[ze+"Cliff"]||0,Nt,Wt,Dt=!0;vt||at?(Nt=(at?it[0]:it[1])+vt,Wt=it[0]+vt,Dt=!!at):!S&&l[Ge]&&l[Ge].isNull&&(Nt=Wt=ee),Nt!==void 0&&($.push({plotX:h,plotY:Nt===null?re:M.getThreshold(Nt),isNull:Dt,isCliff:!0}),R.push({plotX:h,plotY:Wt===null?re:M.getThreshold(Wt),doCurve:!1}))};l=l||this.points,S&&(l=this.getStackPoints(l));for(let Ee=0,Ge=l.length;Ee<Ge;++Ee)S||(l[Ee].leftCliff=l[Ee].rightCliff=l[Ee].leftNull=l[Ee].rightNull=void 0),f=l[Ee].isNull,h=xm(l[Ee].rectPlotX,l[Ee].plotX),v=S?xm(l[Ee].yBottom,re):re,(!f||he)&&(he||ce(Ee,Ee-1,"left"),f&&!S&&he||($.push(l[Ee]),R.push({x:Ee,plotX:h,plotY:v})),he||ce(Ee,Ee+1,"right"));let ae=_.call(this,$,!0,!0);R.reversed=!0;let fe=_.call(this,R,!0,!0),ge=fe[0];ge&&ge[0]==="M"&&(fe[0]=["L",ge[1],ge[2]]);let Ie=ae.concat(fe);Ie.length&&Ie.push(["Z"]);let Te=_.call(this,$,!1,he);return this.chart.series.length>1&&S&&$.some(Ee=>Ee.isCliff)&&(Ie.hasStackedCliffs=Te.hasStackedCliffs=!0),Ie.xMap=ae.xMap,this.areaPath=Ie,Te}getStackPoints(l){let h=this,f=[],v=[],_=this.xAxis,k=this.yAxis,S=k.stacking.stacks[this.stackKey],M={},R=k.series,$=R.length,z=k.options.reversedStacks?1:-1,K=R.indexOf(h);if(l=l||this.points,this.options.stacking){for(let re=0;re<l.length;re++)l[re].leftNull=l[re].rightNull=void 0,M[l[re].x]=l[re];u2(S,function(re,he){re.total!==null&&v.push(he)}),v.sort(function(re,he){return re-he});let ee=R.map(re=>re.visible);v.forEach(function(re,he){let ce=0,ae,fe;if(M[re]&&!M[re].isNull)f.push(M[re]),[-1,1].forEach(function(ge){let Ie=ge===1?"rightNull":"leftNull",Te=S[v[he+ge]],Ee=0;if(Te){let Ge=K;for(;Ge>=0&&Ge<$;){let ze=R[Ge].index;!(ae=Te.points[ze])&&(ze===h.index?M[re][Ie]=!0:ee[Ge]&&(fe=S[re].points[ze])&&(Ee-=fe[1]-fe[0])),Ge+=z}}M[re][ge===1?"rightCliff":"leftCliff"]=Ee});else{let ge=K;for(;ge>=0&&ge<$;){let Ie=R[ge].index;if(ae=S[re].points[Ie]){ce=ae[1];break}ge+=z}ce=xm(ce,0),ce=k.translate(ce,0,1,0,1),f.push({isNull:!0,plotX:_.translate(re,0,0,0,1),x:re,plotY:ce,yBottom:ce})}})}return f}}Gx.defaultOptions=d2(Ux.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),c2(Gx.prototype,{singleStacks:!1}),ai.registerSeriesType("area",Gx);let{line:xw}=ai.seriesTypes,{merge:h2,pick:eh}=ft;class qx extends xw{getPointSpline(l,h,f){let v,_,k,S,M=h.plotX||0,R=h.plotY||0,$=l[f-1],z=l[f+1];function K(re){return re&&!re.isNull&&re.doCurve!==!1&&!h.isCliff}if(K($)&&K(z)){let re=$.plotX||0,he=$.plotY||0,ce=z.plotX||0,ae=z.plotY||0,fe=0;v=(1.5*M+re)/2.5,_=(1.5*R+he)/2.5,k=(1.5*M+ce)/2.5,S=(1.5*R+ae)/2.5,k!==v&&(fe=(S-_)*(k-M)/(k-v)+R-S),_+=fe,S+=fe,_>he&&_>R?(_=Math.max(he,R),S=2*R-_):_<he&&_<R&&(_=Math.min(he,R),S=2*R-_),S>ae&&S>R?(S=Math.max(ae,R),_=2*R-S):S<ae&&S<R&&(S=Math.min(ae,R),_=2*R-S),h.rightContX=k,h.rightContY=S,h.controlPoints={low:[v,_],high:[k,S]}}let ee=["C",eh($.rightContX,$.plotX,0),eh($.rightContY,$.plotY,0),eh(v,M,0),eh(_,R,0),M,R];return $.rightContX=$.rightContY=void 0,ee}}qx.defaultOptions=h2(xw.defaultOptions),ai.registerSeriesType("spline",qx);let Kx=qx,{area:Yx,area:{prototype:Xx}}=ai.seriesTypes,{extend:p2,merge:m2}=ft;class fd extends Kx{}fd.defaultOptions=m2(Kx.defaultOptions,Yx.defaultOptions),p2(fd.prototype,{getGraphPath:Xx.getGraphPath,getStackPoints:Xx.getStackPoints,drawGraph:Xx.drawGraph}),ai.registerSeriesType("areaspline",fd);let{animObject:Zx}=_r,{parse:yw}=ui,{noop:f2}=de,{clamp:ac,crisp:gd,defined:Qx,extend:vw,fireEvent:ym,isArray:bw,isNumber:vm,merge:th,pick:sh,objectEach:g2}=ft;class bm extends qr{animate(l){let h,f,v=this,_=this.yAxis,k=_.pos,S=_.reversed,M=v.options,{clipOffset:R,inverted:$}=this.chart,z={},K=$?"translateX":"translateY";l&&R?(z.scaleY=.001,f=ac(_.toPixels(M.threshold||0),k,k+_.len),$?z.translateX=(f+=S?-Math.floor(R[0]):Math.ceil(R[2]))-_.len:z.translateY=f+=S?Math.ceil(R[0]):-Math.floor(R[2]),v.clipBox&&v.setClip(),v.group.attr(z)):(h=Number(v.group.attr(K)),v.group.animate({scaleY:1},vw(Zx(v.options.animation),{step:function(ee,re){v.group&&(z[K]=h+re.pos*(k-h),v.group.attr(z))}})))}init(l,h){super.init.apply(this,arguments);let f=this;(l=f.chart).hasRendered&&l.series.forEach(function(v){v.type===f.type&&(v.isDirty=!0)})}getColumnMetrics(){var he,ce;let l=this,h=l.options,f=l.xAxis,v=l.yAxis,_=f.options.reversedStacks,k=f.reversed&&!_||!f.reversed&&_,S={},M,R=0;h.grouping===!1?R=1:l.chart.series.forEach(function(ae){let fe,ge=ae.yAxis,Ie=ae.options;ae.type===l.type&&ae.reserveSpace()&&v.len===ge.len&&v.pos===ge.pos&&(Ie.stacking&&Ie.stacking!=="group"?(S[M=ae.stackKey]===void 0&&(S[M]=R++),fe=S[M]):Ie.grouping!==!1&&(fe=R++),ae.columnIndex=fe)});let $=Math.min(Math.abs(f.transA)*(!((he=f.brokenAxis)!=null&&he.hasBreaks)&&((ce=f.ordinal)==null?void 0:ce.slope)||h.pointRange||f.closestPointRange||f.tickInterval||1),f.len),z=$*h.groupPadding,K=($-2*z)/(R||1),ee=Math.min(h.maxPointWidth||f.len,sh(h.pointWidth,K*(1-2*h.pointPadding))),re=(l.columnIndex||0)+ +!!k;return l.columnMetrics={width:ee,offset:(K-ee)/2+(z+re*K-$/2)*(k?-1:1),paddedWidth:K,columnCount:R},l.columnMetrics}crispCol(l,h,f,v){let _=this.borderWidth,k=this.chart.inverted;return v=gd(h+v,_,k)-(h=gd(h,_,k)),this.options.crisp&&(f=gd(l+f,_)-(l=gd(l,_))),{x:l,y:h,width:f,height:v}}adjustForMissingColumns(l,h,f,v){var _;if(!f.isNull&&v.columnCount>1){let k=this.xAxis.series.filter($=>$.visible).map($=>$.index),S=0,M=0;g2((_=this.xAxis.stacking)==null?void 0:_.stacks,$=>{var re;let z=typeof f.x=="number"?(re=$[f.x.toString()])==null?void 0:re.points:void 0,K=z==null?void 0:z[this.index],ee={};if(z&&bw(K)){let he=this.index,ce=Object.keys(z).filter(ae=>!ae.match(",")&&z[ae]&&z[ae].length>1).map(parseFloat).filter(ae=>k.indexOf(ae)!==-1).filter(ae=>{let fe=this.chart.series[ae].options,ge=fe.stacking&&fe.stack;if(Qx(ge)){if(vm(ee[ge]))return he===ae&&(he=ee[ge]),!1;ee[ge]=ae}return!0}).sort((ae,fe)=>fe-ae);S=ce.indexOf(he),M=ce.length}}),S=this.xAxis.reversed?M-1-S:S;let R=(M-1)*v.paddedWidth+h;l=(f.plotX||0)+R/2-h-S*v.paddedWidth}return l}translate(){let l=this,h=l.chart,f=l.options,v=l.dense=l.closestPointRange*l.xAxis.transA<2,_=l.borderWidth=sh(f.borderWidth,+!v),k=l.xAxis,S=l.yAxis,M=f.threshold,R=sh(f.minPointLength,5),$=l.getColumnMetrics(),z=$.width,K=l.pointXOffset=$.offset,ee=l.dataMin,re=l.dataMax,he=l.translatedThreshold=S.getThreshold(M),ce=l.barW=Math.max(z,1+2*_);f.pointPadding&&f.crisp&&(ce=Math.ceil(ce)),qr.prototype.translate.apply(l),l.points.forEach(function(ae){let fe=sh(ae.yBottom,he),ge=999+Math.abs(fe),Ie=ae.plotX||0,Te=ac(ae.plotY,-ge,S.len+ge),Ee,Ge=Math.min(Te,fe),ze=Math.max(Te,fe)-Ge,qe=z,it=Ie+K,at=ce;R&&Math.abs(ze)<R&&(ze=R,Ee=!S.reversed&&!ae.negative||S.reversed&&ae.negative,vm(M)&&vm(re)&&ae.y===M&&re<=M&&(S.min||0)<M&&(ee!==re||(S.max||0)<=M)&&(Ee=!Ee,ae.negative=!ae.negative),Ge=Math.abs(Ge-he)>R?fe-R:he-(Ee?R:0)),Qx(ae.options.pointWidth)&&(it-=Math.round(((qe=at=Math.ceil(ae.options.pointWidth))-z)/2)),f.centerInCategory&&(it=l.adjustForMissingColumns(it,qe,ae,$)),ae.barX=it,ae.pointWidth=qe,ae.tooltipPos=h.inverted?[ac(S.len+S.pos-h.plotLeft-Te,S.pos-h.plotLeft,S.len+S.pos-h.plotLeft),k.len+k.pos-h.plotTop-it-at/2,ze]:[k.left-h.plotLeft+it+at/2,ac(Te+S.pos-h.plotTop,S.pos-h.plotTop,S.len+S.pos-h.plotTop),ze],ae.shapeType=l.pointClass.prototype.shapeType||"roundedRect",ae.shapeArgs=l.crispCol(it,Ge,at,ae.isNull?0:ze)}),ym(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(l,h){let f=this.options,v=this.pointAttrToOptions||{},_=v.stroke||"borderColor",k=v["stroke-width"]||"borderWidth",S,M,R,$=l&&l.color||this.color,z=l&&l[_]||f[_]||$,K=l&&l.options.dashStyle||f.dashStyle,ee=l&&l[k]||f[k]||this[k]||0,re=l!=null&&l.isNull&&f.nullInteraction?0:(l==null?void 0:l.opacity)??f.opacity??1;l&&this.zones.length&&(M=l.getZone(),$=l.options.color||M&&(M.color||l.nonZonedColor)||this.color,M&&(z=M.borderColor||z,K=M.dashStyle||K,ee=M.borderWidth||ee)),h&&l&&(R=(S=th(f.states[h],l.options.states&&l.options.states[h]||{})).brightness,$=S.color||R!==void 0&&yw($).brighten(S.brightness).get()||$,z=S[_]||z,ee=S[k]||ee,K=S.dashStyle||K,re=sh(S.opacity,re));let he={fill:$,stroke:z,"stroke-width":ee,opacity:re};return K&&(he.dashstyle=K),he}drawPoints(l=this.points){let h,f=this,v=this.chart,_=f.options,k=_.nullInteraction,S=v.renderer,M=_.animationLimit||250;l.forEach(function(R){let $=R.plotY,z=R.graphic,K=!!z,ee=z&&v.pointCount<M?"animate":"attr";vm($)&&(R.y!==null||k)?(h=R.shapeArgs,z&&R.hasNewShapeType()&&(z=z.destroy()),f.enabledDataSorting&&(R.startXPos=f.xAxis.reversed?-(h&&h.width||0):f.xAxis.width),!z&&(R.graphic=z=S[R.shapeType](h).add(R.group||f.group),z&&f.enabledDataSorting&&v.hasRendered&&v.pointCount<M&&(z.attr({x:R.startXPos}),K=!0,ee="animate")),z&&K&&z[ee](th(h)),v.styledMode||z[ee](f.pointAttribs(R,R.selected&&"select")).shadow(R.allowShadow!==!1&&_.shadow),z&&(z.addClass(R.getClassName(),!0),z.attr({visibility:R.visible?"inherit":"hidden"}))):z&&(R.graphic=z.destroy())})}drawTracker(l=this.points){let h,f=this,v=f.chart,_=v.pointer,k=function(S){_==null||_.normalize(S);let M=_==null?void 0:_.getPointFromEvent(S);_&&M&&f.options.enableMouseTracking&&(v.isInsidePlot(S.chartX-v.plotLeft,S.chartY-v.plotTop,{visiblePlotOnly:!0})||_!=null&&_.inClass(S.target,"highcharts-data-label"))&&(_.isDirectTouch=!0,M.onMouseOver(S))};l.forEach(function(S){h=bw(S.dataLabels)?S.dataLabels:S.dataLabel?[S.dataLabel]:[],S.graphic&&(S.graphic.element.point=S),h.forEach(function(M){(M.div||M.element).point=S})}),f._hasTracking||(f.trackerGroups.forEach(function(S){f[S]&&(f[S].addClass("highcharts-tracker").on("mouseover",k).on("mouseout",function(M){_==null||_.onTrackerMouseOut(M)}).on("touchstart",k),!v.styledMode&&f.options.cursor&&f[S].css({cursor:f.options.cursor}))}),f._hasTracking=!0),ym(this,"afterDrawTracker")}remove(){let l=this,h=l.chart;h.hasRendered&&h.series.forEach(function(f){f.type===l.type&&(f.isDirty=!0)}),qr.prototype.remove.apply(l,arguments)}}bm.defaultOptions=th(qr.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),vw(bm.prototype,{directTouch:!0,getSymbol:f2,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),ai.registerSeriesType("column",bm);let oc=bm,{getDeferredAnimation:wm}=_r,{format:ww}=wn,{defined:ol,extend:Jx,fireEvent:_m,getAlignFactor:ih,isArray:$a,isString:vo,merge:rh,objectEach:Nm,pick:bo,pInt:x2,splat:_w}=ft;(function(F){function l(){return M(this).some($=>$==null?void 0:$.enabled)}function h($,z,K,ee,re){var it;let{chart:he,enabledDataSorting:ce}=this,ae=this.isCartesian&&he.inverted,fe=$.plotX,ge=$.plotY,Ie=K.rotation||0,Te=ol(fe)&&ol(ge)&&he.isInsidePlot(fe,Math.round(ge),{inverted:ae,paneCoordinates:!0,series:this}),Ee=Ie===0&&bo(K.overflow,ce?"none":"justify")==="justify",Ge=this.visible&&$.visible!==!1&&ol(fe)&&($.series.forceDL||ce&&!Ee||Te||bo(K.inside,!!this.options.stacking)&&ee&&he.isInsidePlot(fe,ae?ee.x+1:ee.y+ee.height-1,{inverted:ae,paneCoordinates:!0,series:this})),ze=$.pos();if(Ge&&ze){var qe;let at=z.getBBox(),vt=z.getBBox(void 0,0);if(ee=Jx({x:ze[0],y:Math.round(ze[1]),width:0,height:0},ee||{}),K.alignTo==="plotEdges"&&this.isCartesian&&(ee[ae?"x":"y"]=0,ee[ae?"width":"height"]=((it=this.yAxis)==null?void 0:it.len)||0),Jx(K,{width:at.width,height:at.height}),qe=ee,ce&&this.xAxis&&!Ee&&this.setDataLabelStartPos($,z,re,Te,qe),z.align(rh(K,{width:vt.width,height:vt.height}),!1,ee,!1),z.alignAttr.x+=ih(K.align)*(vt.width-at.width),z.alignAttr.y+=ih(K.verticalAlign)*(vt.height-at.height),z[z.placed?"animate":"attr"]({"text-align":z.alignAttr["text-align"]||"center",x:z.alignAttr.x+(at.width-vt.width)/2,y:z.alignAttr.y+(at.height-vt.height)/2,rotationOriginX:(z.width||0)/2,rotationOriginY:(z.height||0)/2}),Ee&&ee.height>=0)this.justifyDataLabel(z,K,z.alignAttr,at,ee,re);else if(bo(K.crop,!0)){let{x:Nt,y:Wt}=z.alignAttr;Ge=he.isInsidePlot(Nt,Wt,{paneCoordinates:!0,series:this})&&he.isInsidePlot(Nt+at.width-1,Wt+at.height-1,{paneCoordinates:!0,series:this})}K.shape&&!Ie&&z[re?"attr":"animate"]({anchorX:ze[0],anchorY:ze[1]})}re&&ce&&(z.placed=!1),Ge||ce&&!Ee?(z.show(),z.placed=!0):(z.hide(),z.placed=!1)}function f(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function v($){let z=this.hasRendered||0,K=this.initDataLabelsGroup().attr({opacity:+z});return!z&&K&&(this.visible&&K.show(),this.options.animation?K.animate({opacity:1},$):K.attr({opacity:1})),K}function _($){var Ge;let z;$=$||this.points;let K=this,ee=K.chart,re=K.options,he=ee.renderer,{backgroundColor:ce,plotBackgroundColor:ae}=ee.options.chart,fe=he.getContrast(vo(ae)&&ae||vo(ce)&&ce||"#000000"),ge=M(K),{animation:Ie,defer:Te}=ge[0],Ee=Te?wm(ee,Ie,K):{defer:0,duration:0};_m(this,"drawDataLabels"),(Ge=K.hasDataLabels)!=null&&Ge.call(K)&&(z=this.initDataLabels(Ee),$.forEach(ze=>{var vt,Nt,Wt;let qe=ze.dataLabels||[],it=ze.color||K.color;_w(S(ge,ze.dlOptions||((vt=ze.options)==null?void 0:vt.dataLabels))).forEach((Dt,Kt)=>{var oi;let Pt=Dt.enabled&&(ze.visible||ze.dataLabelOnHidden)&&(!ze.isNull||ze.dataLabelOnNull)&&function(lr,Ga){let An=Ga.filter;if(An){let kr=An.operator,gr=lr[An.property],hi=An.value;return kr===">"&&gr>hi||kr==="<"&&gr<hi||kr===">="&&gr>=hi||kr==="<="&&gr<=hi||kr==="=="&&gr==hi||kr==="==="&&gr===hi||kr==="!="&&gr!=hi||kr==="!=="&&gr!==hi||!1}return!0}(ze,Dt),{backgroundColor:Xt,borderColor:ws,distance:Ns,style:Cs={}}=Dt,fr,js,$s,ds={},os=qe[Kt],Oi=!os,Bs;Pt&&(js=ol(fr=bo(Dt[ze.formatPrefix+"Format"],Dt.format))?ww(fr,ze,ee):(Dt[ze.formatPrefix+"Formatter"]||Dt.formatter).call(ze,Dt),$s=Dt.rotation,!ee.styledMode&&(Cs.color=bo(Dt.color,Cs.color,vo(K.color)?K.color:void 0,"#000000"),Cs.color==="contrast"?(Xt!=="none"&&(Bs=Xt),ze.contrastColor=he.getContrast(Bs!=="auto"&&vo(Bs)&&Bs||(vo(it)?it:"")),Cs.color=Bs||!ol(Ns)&&Dt.inside||0>x2(Ns||0)||re.stacking?ze.contrastColor:fe):delete ze.contrastColor,re.cursor&&(Cs.cursor=re.cursor)),ds={r:Dt.borderRadius||0,rotation:$s,padding:Dt.padding,zIndex:1},ee.styledMode||(ds.fill=Xt==="auto"?ze.color:Xt,ds.stroke=ws==="auto"?ze.color:ws,ds["stroke-width"]=Dt.borderWidth),Nm(ds,(lr,Ga)=>{lr===void 0&&delete ds[Ga]})),!os||Pt&&ol(js)&&!!(os.div||(oi=os.text)!=null&&oi.foreignObject)==!!Dt.useHTML&&(os.rotation&&Dt.rotation||os.rotation===Dt.rotation)||(os=void 0,Oi=!0),Pt&&ol(js)&&js!==""&&(os?ds.text=js:(os=he.label(js,0,0,Dt.shape,void 0,void 0,Dt.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+ze.colorIndex+" "+(Dt.className||"")+(Dt.useHTML?" highcharts-tracker":"")),os&&(os.options=Dt,os.attr(ds),ee.styledMode?Cs.width&&os.css({width:Cs.width,textOverflow:Cs.textOverflow,whiteSpace:Cs.whiteSpace}):os.css(Cs).shadow(Dt.shadow),_m(os,"beforeAddingDataLabel",{labelOptions:Dt,point:ze}),os.added||os.add(z),K.alignDataLabel(ze,os,Dt,void 0,Oi),os.isActive=!0,qe[Kt]&&qe[Kt]!==os&&qe[Kt].destroy(),qe[Kt]=os))});let at=qe.length;for(;at--;)(Nt=qe[at])!=null&&Nt.isActive?qe[at].isActive=!1:((Wt=qe[at])==null||Wt.destroy(),qe.splice(at,1));ze.dataLabel=qe[0],ze.dataLabels=qe})),_m(this,"afterDrawDataLabels")}function k($,z,K,ee,re,he){let ce=this.chart,ae=z.align,fe=z.verticalAlign,ge=$.box?0:$.padding||0,Ie=ce.inverted?this.yAxis:this.xAxis,Te=Ie?Ie.left-ce.plotLeft:0,Ee=ce.inverted?this.xAxis:this.yAxis,Ge=Ee?Ee.top-ce.plotTop:0,{x:ze=0,y:qe=0}=z,it,at;return(it=(K.x||0)+ge+Te)<0&&(ae==="right"&&ze>=0?(z.align="left",z.inside=!0):ze-=it,at=!0),(it=(K.x||0)+ee.width-ge+Te)>ce.plotWidth&&(ae==="left"&&ze<=0?(z.align="right",z.inside=!0):ze+=ce.plotWidth-it,at=!0),(it=K.y+ge+Ge)<0&&(fe==="bottom"&&qe>=0?(z.verticalAlign="top",z.inside=!0):qe-=it,at=!0),(it=(K.y||0)+ee.height-ge+Ge)>ce.plotHeight&&(fe==="top"&&qe<=0?(z.verticalAlign="bottom",z.inside=!0):qe+=ce.plotHeight-it,at=!0),at&&(z.x=ze,z.y=qe,$.placed=!he,$.align(z,void 0,re)),at}function S($,z){let K=[],ee;if($a($)&&!$a(z))K=$.map(function(re){return rh(re,z)});else if($a(z)&&!$a($))K=z.map(function(re){return rh($,re)});else if($a($)||$a(z)){if($a($)&&$a(z))for(ee=Math.max($.length,z.length);ee--;)K[ee]=rh($[ee],z[ee])}else K=rh($,z);return K}function M($){var K,ee;let z=$.chart.options.plotOptions;return _w(S(S((K=z==null?void 0:z.series)==null?void 0:K.dataLabels,(ee=z==null?void 0:z[$.type])==null?void 0:ee.dataLabels),$.options.dataLabels))}function R($,z,K,ee,re){let he=this.chart,ce=he.inverted,ae=this.xAxis,fe=ae.reversed,ge=((ce?z.height:z.width)||0)/2,Ie=$.pointWidth,Te=Ie?Ie/2:0;z.startXPos=ce?re.x:fe?-ge-Te:ae.width-ge+Te,z.startYPos=ce?fe?this.yAxis.height-ge+Te:-ge-Te:re.y,ee?z.visibility==="hidden"&&(z.show(),z.attr({opacity:0}).animate({opacity:1})):z.attr({opacity:1}).animate({opacity:0},void 0,z.hide),he.hasRendered&&(K&&z.attr({x:z.startXPos,y:z.startYPos}),z.placed=!0)}F.compose=function($){let z=$.prototype;z.initDataLabels||(z.initDataLabels=v,z.initDataLabelsGroup=f,z.alignDataLabel=h,z.drawDataLabels=_,z.justifyDataLabel=k,z.mergeArrays=S,z.setDataLabelStartPos=R,z.hasDataLabels=l)}})(J||(J={}));let Ua=J,{composed:Nw}=de,{series:jm}=ai,{merge:jw,pushUnique:ll}=ft;(function(F){function l(h,f,v,_,k){var he,ce;let{chart:S,options:M}=this,R=S.inverted,$=((he=this.xAxis)==null?void 0:he.len)||S.plotSizeX||0,z=((ce=this.yAxis)==null?void 0:ce.len)||S.plotSizeY||0,K=h.dlBox||h.shapeArgs,ee=h.below??(h.plotY||0)>(this.translatedThreshold??z),re=v.inside??!!M.stacking;if(K){if(_=jw(K),v.overflow!=="allow"||v.crop!==!1||M.clip!==!1){_.y<0&&(_.height+=_.y,_.y=0);let ae=_.y+_.height-z;ae>0&&ae<_.height-1&&(_.height-=ae)}R&&(_={x:z-_.y-_.height,y:$-_.x-_.width,width:_.height,height:_.width}),re||(R?(_.x+=ee?0:_.width,_.width=0):(_.y+=ee?_.height:0,_.height=0))}v.align??(v.align=!R||re?"center":ee?"right":"left"),v.verticalAlign??(v.verticalAlign=R||re?"middle":ee?"top":"bottom"),jm.prototype.alignDataLabel.call(this,h,f,v,_,k),v.inside&&h.contrastColor&&f.css({color:h.contrastColor})}F.compose=function(h){Ua.compose(jm),ll(Nw,"ColumnDataLabel")&&(h.prototype.alignDataLabel=l)}})(H||(H={}));let nh=H,{extend:ah,merge:y2}=ft;class lc extends oc{}lc.defaultOptions=y2(oc.defaultOptions,{}),ah(lc.prototype,{inverted:!0}),ai.registerSeriesType("bar",lc);let{column:v2,line:e0}=ai.seriesTypes,{addEvent:km,extend:b2,merge:kw}=ft;class Sm extends e0{applyJitter(){let l=this,h=this.options.jitter,f=this.points.length;h&&this.points.forEach(function(v,_){["x","y"].forEach(function(k,S){if(h[k]&&!v.isNull){let M=`plot${k.toUpperCase()}`,R=l[`${k}Axis`],$=h[k]*R.transA;if(R&&!R.logarithmic){let z=Math.max(0,(v[M]||0)-$),K=Math.min(R.len,(v[M]||0)+$);v[M]=z+(K-z)*function(ee){let re=1e4*Math.sin(ee);return re-Math.floor(re)}(_+S*f),k==="x"&&(v.clientX=v.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}Sm.defaultOptions=kw(e0.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),b2(Sm.prototype,{drawTracker:v2.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),km(Sm,"afterTranslate",function(){this.applyJitter()}),ai.registerSeriesType("scatter",Sm);let{deg2rad:Sw}=de,{fireEvent:w2,isNumber:t0,pick:Am,relativeLength:s0}=ft;(function(F){F.getCenter=function(){let l=this.options,h=this.chart,f=2*(l.slicedOffset||0),v=h.plotWidth-2*f,_=h.plotHeight-2*f,k=l.center,S=Math.min(v,_),M=l.thickness,R,$=l.size,z=l.innerSize||0,K,ee;typeof $=="string"&&($=parseFloat($)),typeof z=="string"&&(z=parseFloat(z));let re=[Am(k==null?void 0:k[0],"50%"),Am(k==null?void 0:k[1],"50%"),Am($&&$<0?void 0:l.size,"100%"),Am(z&&z<0?void 0:l.innerSize||0,"0%")];for(!h.angular||this instanceof qr||(re[3]=0),K=0;K<4;++K)ee=re[K],R=K<2||K===2&&/%$/.test(ee),re[K]=s0(ee,[v,_,S,re[2]][K])+(R?f:0);return re[3]>re[2]&&(re[3]=re[2]),t0(M)&&2*M<re[2]&&M>0&&(re[3]=re[2]-2*M),w2(this,"afterGetCenter",{positions:re}),re},F.getStartAndEndRadians=function(l,h){let f=t0(l)?l:0,v=t0(h)&&h>f&&h-f<360?h:f+360;return{start:Sw*(f+-90),end:Sw*(v+-90)}}})(W||(W={}));let Aw=W,{setAnimation:Cw}=_r,{addEvent:Tw,defined:_2,extend:N2,isNumber:Cm,pick:Pw,relativeLength:j2}=ft;class Tm extends el{getConnectorPath(l){let h=l.dataLabelPosition,f=l.options||{},v=f.connectorShape,_=this.connectorShapes[v]||v;return h&&_.call(this,{...h.computed,alignment:h.alignment},h.connectorPosition,f)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(l){let h=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(h.x,h.y,h.r+l,h.r+l,{innerR:h.r-1,start:h.start,end:h.end,borderRadius:h.borderRadius})}constructor(l,h,f){super(l,h,f),this.half=0,this.name??(this.name=l.chart.options.lang.pieSliceName);let v=_=>{this.slice(_.type==="select")};Tw(this,"select",v),Tw(this,"unselect",v)}isValid(){return Cm(this.y)&&this.y>=0}setVisible(l,h=!0){l!==this.visible&&this.update({visible:l??!this.visible},h,void 0,!1)}slice(l,h,f){let v=this.series;Cw(f,v.chart),h=Pw(h,!0),this.sliced=this.options.sliced=l=_2(l)?l:!this.sliced,v.options.data[v.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}N2(Tm.prototype,{connectorShapes:{fixedOffset:function(F,l,h){let f=l.breakAt,v=l.touchingSliceAt,_=h.softConnector?["C",F.x+(F.alignment==="left"?-5:5),F.y,2*f.x-v.x,2*f.y-v.y,f.x,f.y]:["L",f.x,f.y];return[["M",F.x,F.y],_,["L",v.x,v.y]]},straight:function(F,l){let h=l.touchingSliceAt;return[["M",F.x,F.y],["L",h.x,h.y]]},crookedLine:function(F,l,h){let{angle:f=this.angle||0,breakAt:v,touchingSliceAt:_}=l,{series:k}=this,[S,M,R]=k.center,$=R/2,{plotLeft:z,plotWidth:K}=k.chart,ee=F.alignment==="left",{x:re,y:he}=F,ce=v.x;if(h.crookDistance){let fe=j2(h.crookDistance,1);ce=ee?S+$+(K+z-S-$)*(1-fe):z+(S-$)*fe}else ce=S+(M-he)*Math.tan(f-Math.PI/2);let ae=[["M",re,he]];return(ee?ce<=re&&ce>=v.x:ce>=re&&ce<=v.x)&&ae.push(["L",ce,he]),ae.push(["L",v.x,v.y],["L",_.x,_.y]),ae}}});let{getStartAndEndRadians:Pm}=Aw,{noop:Mw}=de,{clamp:Ew,extend:k2,fireEvent:i0,merge:r0,pick:S2}=ft;class n0 extends qr{animate(l){let h=this,f=h.points,v=h.startAngleRad;l||f.forEach(function(_){let k=_.graphic,S=_.shapeArgs;k&&S&&(k.attr({r:S2(_.startR,h.center&&h.center[3]/2),start:v,end:v}),k.animate({r:S.r,start:S.start,end:S.end},h.options.animation))})}drawEmpty(){let l,h,f=this.startAngleRad,v=this.endAngleRad,_=this.options;this.total===0&&this.center?(l=this.center[0],h=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(l,h,this.center[1]/2,0,f,v).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:ob.arc(l,h,this.center[2]/2,0,{start:f,end:v,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":_.borderWidth,fill:_.fillColor||"none",stroke:_.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let l=this.chart.renderer;this.points.forEach(function(h){h.graphic&&h.hasNewShapeType()&&(h.graphic=h.graphic.destroy()),h.graphic||(h.graphic=l[h.shapeType](h.shapeArgs).add(h.series.group),h.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(l,h,f,v){let _=this.center,k=this.radii?this.radii[f.index]||0:_[2]/2,S=v.dataLabelPosition,M=(S==null?void 0:S.distance)||0,R=Math.asin(Ew((l-_[1])/(k+M),-1,1));return _[0]+Math.cos(R)*(k+M)*(h?-1:1)+(M>0?(h?-1:1)*(v.padding||0):0)}hasData(){return this.points.some(l=>l.visible)}redrawPoints(){let l,h,f,v,_=this,k=_.chart;this.drawEmpty(),_.group&&!k.styledMode&&_.group.shadow(_.options.shadow),_.points.forEach(function(S){let M={};h=S.graphic,!S.isNull&&h?(v=S.shapeArgs,l=S.getTranslate(),k.styledMode||(f=_.pointAttribs(S,S.selected&&"select")),S.delayedRendering?(h.setRadialReference(_.center).attr(v).attr(l),k.styledMode||h.attr(f).attr({"stroke-linejoin":"round"}),S.delayedRendering=!1):(h.setRadialReference(_.center),k.styledMode||r0(!0,M,f),r0(!0,M,v,l),h.animate(M)),h.attr({visibility:S.visible?"inherit":"hidden"}),h.addClass(S.getClassName(),!0)):h&&(S.graphic=h.destroy())})}sortByAngle(l,h){l.sort(function(f,v){return f.angle!==void 0&&(v.angle-f.angle)*h})}translate(l){i0(this,"translate"),this.generatePoints();let h=this.options,f=h.slicedOffset,v=Pm(h.startAngle,h.endAngle),_=this.startAngleRad=v.start,k=(this.endAngleRad=v.end)-_,S=this.points,M=h.ignoreHiddenPoint,R=S.length,$,z,K,ee,re,he,ce,ae=0;for(l||(this.center=l=this.getCenter()),he=0;he<R;he++){ce=S[he],$=_+ae*k,ce.isValid()&&(!M||ce.visible)&&(ae+=ce.percentage/100),z=_+ae*k;let fe={x:l[0],y:l[1],r:l[2]/2,innerR:l[3]/2,start:Math.round(1e3*$)/1e3,end:Math.round(1e3*z)/1e3};ce.shapeType="arc",ce.shapeArgs=fe,(K=(z+$)/2)>1.5*Math.PI?K-=2*Math.PI:K<-Math.PI/2&&(K+=2*Math.PI),ce.slicedTranslation={translateX:Math.round(Math.cos(K)*f),translateY:Math.round(Math.sin(K)*f)},ee=Math.cos(K)*l[2]/2,re=Math.sin(K)*l[2]/2,ce.tooltipPos=[l[0]+.7*ee,l[1]+.7*re],ce.half=+(K<-Math.PI/2||K>Math.PI/2),ce.angle=K}i0(this,"afterTranslate")}updateTotals(){let l=this.points,h=l.length,f=this.options.ignoreHiddenPoint,v,_,k=0;for(v=0;v<h;v++)(_=l[v]).isValid()&&(!f||_.visible)&&(k+=_.y);for(v=0,this.total=k;v<h;v++)(_=l[v]).percentage=k>0&&(_.visible||!f)?_.y/k*100:0,_.total=k}}n0.defaultOptions=r0(qr.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),k2(n0.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:oc.prototype.drawTracker,getCenter:Aw.getCenter,getSymbol:Mw,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:oc.prototype.pointAttribs,pointClass:Tm,requireSorting:!1,searchPoint:Mw,trackerGroups:["group","dataLabelsGroup"]}),ai.registerSeriesType("pie",n0);let{composed:A2,noop:C2}=de,{distribute:Iw}=ku,{series:Lw}=ai,{arrayMax:Ow,clamp:Dw,defined:Rw,isNumber:Fw,pick:a0,pushUnique:T2,relativeLength:Mm}=ft;(function(F){let l={radialDistributionY:function(k,S){var M;return(((M=S.dataLabelPosition)==null?void 0:M.top)||0)+k.distributeBox.pos},radialDistributionX:function(k,S,M,R,$){let z=$.dataLabelPosition;return k.getX(M<((z==null?void 0:z.top)||0)+2||M>((z==null?void 0:z.bottom)||0)-2?R:M,S.half,S,$)},justify:function(k,S,M,R){var $;return R[0]+(k.half?-1:1)*(M+((($=S.dataLabelPosition)==null?void 0:$.distance)||0))},alignToPlotEdges:function(k,S,M,R){let $=k.getBBox().width;return S?$+R:M-$-R},alignToConnectors:function(k,S,M,R){let $=0,z;return k.forEach(function(K){(z=K.dataLabel.getBBox().width)>$&&($=z)}),S?$+R:M-$-R}};function h(k,S){let M=Math.PI/2,{start:R=0,end:$=0}=k.shapeArgs||{},z=k.angle||0;S>0&&R<M&&$>M&&z>M/2&&z<1.5*M&&(z=z<=M?Math.max(M/2,(R+M)/2):Math.min(1.5*M,(M+$)/2));let{center:K,options:ee}=this,re=K[2]/2,he=Math.cos(z),ce=Math.sin(z),ae=K[0]+he*re,fe=K[1]+ce*re,ge=Math.min((ee.slicedOffset||0)+(ee.borderWidth||0),S/5);return{natural:{x:ae+he*S,y:fe+ce*S},computed:{},alignment:S<0?"center":k.half?"right":"left",connectorPosition:{angle:z,breakAt:{x:ae+he*ge,y:fe+ce*ge},touchingSliceAt:{x:ae,y:fe}},distance:S}}function f(){var Ge;let k=this,S=k.points,M=k.chart,R=M.plotWidth,$=M.plotHeight,z=M.plotLeft,K=Math.round(M.chartWidth/3),ee=k.center,re=ee[2]/2,he=ee[1],ce=[[],[]],ae=[0,0,0,0],fe=k.dataLabelPositioners,ge,Ie,Te,Ee=0;k.visible&&((Ge=k.hasDataLabels)!=null&&Ge.call(k))&&(S.forEach(ze=>{(ze.dataLabels||[]).forEach(qe=>{qe.shortened&&(qe.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),qe.shortened=!1)})}),Lw.prototype.drawDataLabels.apply(k),S.forEach(ze=>{(ze.dataLabels||[]).forEach((qe,it)=>{var Wt;let at=ee[2]/2,vt=qe.options,Nt=Mm((vt==null?void 0:vt.distance)||0,at);it===0&&ce[ze.half].push(ze),!Rw((Wt=vt==null?void 0:vt.style)==null?void 0:Wt.width)&&qe.getBBox().width>K&&(qe.css({width:Math.round(.7*K)+"px"}),qe.shortened=!0),qe.dataLabelPosition=this.getDataLabelPosition(ze,Nt),Ee=Math.max(Ee,Nt)})}),ce.forEach((ze,qe)=>{let it=ze.length,at=[],vt,Nt,Wt=0,Dt;it&&(k.sortByAngle(ze,qe-.5),Ee>0&&(vt=Math.max(0,he-re-Ee),Nt=Math.min(he+re+Ee,M.plotHeight),ze.forEach(Kt=>{(Kt.dataLabels||[]).forEach(Pt=>{var ws;let Xt=Pt.dataLabelPosition;Xt&&Xt.distance>0&&(Xt.top=Math.max(0,he-re-Xt.distance),Xt.bottom=Math.min(he+re+Xt.distance,M.plotHeight),Wt=Pt.getBBox().height||21,Pt.lineHeight=M.renderer.fontMetrics(Pt.text||Pt).h+2*Pt.padding,Kt.distributeBox={target:(((ws=Pt.dataLabelPosition)==null?void 0:ws.natural.y)||0)-Xt.top+Pt.lineHeight/2,size:Wt,rank:Kt.y},at.push(Kt.distributeBox))})}),Iw(at,Dt=Nt+Wt-vt,Dt/5)),ze.forEach(Kt=>{(Kt.dataLabels||[]).forEach(Pt=>{let Xt=Pt.options||{},ws=Kt.distributeBox,Ns=Pt.dataLabelPosition,Cs=(Ns==null?void 0:Ns.natural.y)||0,fr=Xt.connectorPadding||0,js=Pt.lineHeight||21,$s=(js-Pt.getBBox().height)/2,ds=0,os=Cs,Oi="inherit";if(Ns){if(at&&Rw(ws)&&Ns.distance>0&&(ws.pos===void 0?Oi="hidden":(Te=ws.size,os=fe.radialDistributionY(Kt,Pt))),Xt.justify)ds=fe.justify(Kt,Pt,re,ee);else switch(Xt.alignTo){case"connectors":ds=fe.alignToConnectors(ze,qe,R,z);break;case"plotEdges":ds=fe.alignToPlotEdges(Pt,qe,R,z);break;default:ds=fe.radialDistributionX(k,Kt,os-$s,Cs,Pt)}if(Ns.attribs={visibility:Oi,align:Ns.alignment},Ns.posAttribs={x:ds+(Xt.x||0)+({left:fr,right:-fr}[Ns.alignment]||0),y:os+(Xt.y||0)-js/2},Ns.computed.x=ds,Ns.computed.y=os-$s,a0(Xt.crop,!0)){let Bs;ds-(Ie=Pt.getBBox().width)<fr&&qe===1?(Bs=Math.round(Ie-ds+fr),ae[3]=Math.max(Bs,ae[3])):ds+Ie>R-fr&&qe===0&&(Bs=Math.round(ds+Ie-R+fr),ae[1]=Math.max(Bs,ae[1])),os-Te/2<0?ae[0]=Math.max(Math.round(-os+Te/2),ae[0]):os+Te/2>$&&(ae[2]=Math.max(Math.round(os+Te/2-$),ae[2])),Ns.sideOverflow=Bs}}})}))}),(Ow(ae)===0||this.verifyDataLabelOverflow(ae))&&(this.placeDataLabels(),this.points.forEach(ze=>{(ze.dataLabels||[]).forEach(qe=>{var Nt;let{connectorColor:it,connectorWidth:at=1}=qe.options||{},vt=qe.dataLabelPosition;if(Fw(at)){let Wt;ge=qe.connector,vt&&vt.distance>0?(Wt=!ge,ge||(qe.connector=ge=M.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+ze.colorIndex+(ze.className?" "+ze.className:"")).add(k.dataLabelsGroup)),M.styledMode||ge.attr({"stroke-width":at,stroke:it||ze.color||"#666666"}),ge[Wt?"attr":"animate"]({d:ze.getConnectorPath(qe)}),ge.attr({visibility:(Nt=vt.attribs)==null?void 0:Nt.visibility})):ge&&(qe.connector=ge.destroy())}})})))}function v(){this.points.forEach(k=>{(k.dataLabels||[]).forEach(S=>{var R,$;let M=S.dataLabelPosition;M?(M.sideOverflow&&(S.css({width:Math.max(S.getBBox().width-M.sideOverflow,0)+"px",textOverflow:(($=(R=S.options)==null?void 0:R.style)==null?void 0:$.textOverflow)||"ellipsis"}),S.shortened=!0),S.attr(M.attribs),S[S.moved?"animate":"attr"](M.posAttribs),S.moved=!0):S&&S.attr({y:-9999})}),delete k.distributeBox},this)}function _(k){let S=this.center,M=this.options,R=M.center,$=M.minSize||80,z=$,K=M.size!==null;return!K&&(R[0]!==null?z=Math.max(S[2]-Math.max(k[1],k[3]),$):(z=Math.max(S[2]-k[1]-k[3],$),S[0]+=(k[3]-k[1])/2),R[1]!==null?z=Dw(z,$,S[2]-Math.max(k[0],k[2])):(z=Dw(z,$,S[2]-k[0]-k[2]),S[1]+=(k[0]-k[2])/2),z<S[2]?(S[2]=z,S[3]=Math.min(M.thickness?Math.max(0,z-2*M.thickness):Math.max(0,Mm(M.innerSize||0,z)),z),this.translate(S),this.drawDataLabels&&this.drawDataLabels()):K=!0),K}F.compose=function(k){if(Ua.compose(Lw),T2(A2,"PieDataLabel")){let S=k.prototype;S.dataLabelPositioners=l,S.alignDataLabel=C2,S.drawDataLabels=f,S.getDataLabelPosition=h,S.placeDataLabels=v,S.verifyDataLabelOverflow=_}}})(Z||(Z={}));let P2=Z;(function(F){F.getCenterOfPoints=function(l){let h=l.reduce((f,v)=>(f.x+=v.x,f.y+=v.y,f),{x:0,y:0});return{x:h.x/l.length,y:h.y/l.length}},F.getDistanceBetweenPoints=function(l,h){return Math.sqrt(Math.pow(h.x-l.x,2)+Math.pow(h.y-l.y,2))},F.getAngleBetweenPoints=function(l,h){return Math.atan2(h.x-l.x,h.y-l.y)},F.pointInPolygon=function({x:l,y:h},f){let v=f.length,_,k,S=!1;for(_=0,k=v-1;_<v;k=_++){let[M,R]=f[_],[$,z]=f[k];R>h!=z>h&&l<($-M)*(h-R)/(z-R)+M&&(S=!S)}return S}})(pe||(pe={}));let{pointInPolygon:M2}=pe,{addEvent:E2,getAlignFactor:zw,fireEvent:Bw,objectEach:o0,pick:Ww}=ft;function I2(F){let l=F.length,h=($,z)=>!(z.x>=$.x+$.width||z.x+z.width<=$.x||z.y>=$.y+$.height||z.y+z.height<=$.y),f=($,z)=>{for(let K of $)if(M2({x:K[0],y:K[1]},z))return!0;return!1},v,_,k,S,M,R=!1;for(let $=0;$<l;$++)(v=F[$])&&(v.oldOpacity=v.opacity,v.newOpacity=1,v.absoluteBox=function(z){var K,ee;if(z&&(!z.alignAttr||z.placed)){let re=z.box?0:z.padding||0,he=z.alignAttr||{x:z.attr("x"),y:z.attr("y")},{height:ce,polygon:ae,width:fe}=z.getBBox(),ge=zw(z.alignValue)*fe;return z.width=fe,z.height=ce,{x:he.x+(((K=z.parentGroup)==null?void 0:K.translateX)||0)+re-ge,y:he.y+(((ee=z.parentGroup)==null?void 0:ee.translateY)||0)+re,width:fe-2*re,height:ce-2*re,polygon:ae}}}(v));F.sort(($,z)=>(z.labelrank||0)-($.labelrank||0));for(let $=0;$<l;++$){S=(_=F[$])&&_.absoluteBox;let z=S==null?void 0:S.polygon;for(let K=$+1;K<l;++K){M=(k=F[K])&&k.absoluteBox;let ee=!1;if(S&&M&&_!==k&&_.newOpacity!==0&&k.newOpacity!==0&&_.visibility!=="hidden"&&k.visibility!=="hidden"){let re=M.polygon;if(z&&re&&z!==re?f(z,re)&&(ee=!0):h(S,M)&&(ee=!0),ee){let he=_.labelrank<k.labelrank?_:k,ce=he.text;he.newOpacity=0,ce!=null&&ce.element.querySelector("textPath")&&ce.hide()}}}}for(let $ of F)Hw($,this)&&(R=!0);R&&Bw(this,"afterHideAllOverlappingLabels")}function Hw(F,l){let h,f=!1;return F&&(h=F.newOpacity,F.oldOpacity!==h&&(F.hasClass("highcharts-data-label")?(F[h?"removeClass":"addClass"]("highcharts-data-label-hidden"),f=!0,F[F.isOld?"animate":"attr"]({opacity:h},void 0,function(){l.styledMode||F.css({pointerEvents:h?"auto":"none"})}),Bw(l,"afterHideOverlappingLabel")):F.attr({opacity:h})),F.isOld=!0),f}function L2(){var h;let F=this,l=[];for(let f of F.labelCollectors||[])l=l.concat(f());for(let f of F.yAxis||[])f.stacking&&f.options.stackLabels&&!f.options.stackLabels.allowOverlap&&o0(f.stacking.stacks,v=>{o0(v,_=>{_.label&&l.push(_.label)})});for(let f of F.series||[])if(f.visible&&((h=f.hasDataLabels)!=null&&h.call(f))){let v=_=>{for(let k of _)k.visible&&(k.dataLabels||[]).forEach(S=>{var R;let M=S.options||{};S.labelrank=Ww(M.labelrank,k.labelrank,(R=k.shapeArgs)==null?void 0:R.height),M.allowOverlap??Number(M.distance)>0?(S.oldOpacity=S.opacity,S.newOpacity=1,Hw(S,F)):l.push(S)})};v(f.nodes||[]),v(f.points)}this.hideOverlappingLabels(l)}let l0={compose:function(F){let l=F.prototype;l.hideOverlappingLabels||(l.hideOverlappingLabels=I2,E2(F,"render",L2))}},{defaultOptions:O2}=Vn,{noop:Vw}=de,{addEvent:$w,extend:D2,isObject:c0,merge:Uw,relativeLength:d0}=ft,R2={radius:0,scope:"stack",where:void 0},u0=Vw,Gw=Vw;function qw(F,l,h,f,v={}){let _=u0(F,l,h,f,v),{brStart:k=!0,brEnd:S=!0,innerR:M=0,r:R=h,start:$=0,end:z=0}=v;if(v.open||!v.borderRadius)return _;let K=z-$,ee=Math.sin(K/2),re=Math.max(Math.min(d0(v.borderRadius||0,R-M),(R-M)/2,R*ee/(1+ee)),0),he=Math.min(re,K/Math.PI*2*M),ce=_.length-1;for(;ce--;)(k||ce!==0&&ce!==3)&&(S||ce!==1&&ce!==2)&&function(ae,fe,ge){let Ie,Te,Ee,Ge=ae[fe],ze=ae[fe+1];if(ze[0]==="Z"&&(ze=ae[0]),(Ge[0]==="M"||Ge[0]==="L")&&ze[0]==="A"?(Ie=Ge,Te=ze,Ee=!0):Ge[0]==="A"&&(ze[0]==="M"||ze[0]==="L")&&(Ie=ze,Te=Ge),Ie&&Te&&Te.params){let qe=Te[1],it=Te[5],at=Te.params,{start:vt,end:Nt,cx:Wt,cy:Dt}=at,Kt=it?qe-ge:qe+ge,Pt=Kt?Math.asin(ge/Kt):0,Xt=it?Pt:-Pt,ws=Math.cos(Pt)*Kt;Ee?(at.start=vt+Xt,Ie[1]=Wt+ws*Math.cos(vt),Ie[2]=Dt+ws*Math.sin(vt),ae.splice(fe+1,0,["A",ge,ge,0,0,1,Wt+qe*Math.cos(at.start),Dt+qe*Math.sin(at.start)])):(at.end=Nt-Xt,Te[6]=Wt+qe*Math.cos(at.end),Te[7]=Dt+qe*Math.sin(at.end),ae.splice(fe+1,0,["A",ge,ge,0,0,1,Wt+ws*Math.cos(Nt),Dt+ws*Math.sin(Nt)])),Te[4]=Math.abs(at.end-at.start)<Math.PI?0:1}}(_,ce,ce>1?he:re);return _}function F2(){var F,l;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:h,yAxis:f}=this,v=h.stacking==="percent",_=(l=(F=O2.plotOptions)==null?void 0:F[this.type])==null?void 0:l.borderRadius,k=Em(h.borderRadius,c0(_)?_:{}),S=f.options.reversed;for(let M of this.points){let{shapeArgs:R}=M;if(M.shapeType==="roundedRect"&&R){let{width:$=0,height:z=0,y:K=0}=R,ee=K,re=z;if(k.scope==="stack"&&M.stackTotal){let fe=f.translate(v?100:M.stackTotal,!1,!0,!1,!0),ge=f.translate(h.threshold||0,!1,!0,!1,!0),Ie=this.crispCol(0,Math.min(fe,ge),0,Math.abs(fe-ge));ee=Ie.y,re=Ie.height}let he=(M.negative?-1:1)*(S?-1:1)==-1,ce=k.where;!ce&&this.is("waterfall")&&Math.abs((M.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(ce="all"),ce||(ce="end");let ae=Math.min(d0(k.radius,$),$/2,ce==="all"?z/2:1/0)||0;ce==="end"&&(he&&(ee-=ae),re+=ae),D2(R,{brBoxHeight:re,brBoxY:ee,r:ae})}}}}function Em(F,l){return c0(F)||(F={radius:F||0}),Uw(R2,l,F)}function Kw(){let F=Em(this.options.borderRadius);for(let l of this.points){let h=l.shapeArgs;h&&(h.borderRadius=d0(F.radius,(h.r||0)-(h.innerR||0)))}}function z2(F,l,h,f,v={}){let _=Gw(F,l,h,f,v),{r:k=0,brBoxHeight:S=f,brBoxY:M=l}=v,R=l-M,$=M+S-(l+f),z=R-k>-.1?0:k,K=$-k>-.1?0:k,ee=Math.max(z&&R,0),re=Math.max(K&&$,0),he=[F+z,l],ce=[F+h-z,l],ae=[F+h,l+z],fe=[F+h,l+f-K],ge=[F+h-K,l+f],Ie=[F+K,l+f],Te=[F,l+f-K],Ee=[F,l+z],Ge=(ze,qe)=>Math.sqrt(Math.pow(ze,2)-Math.pow(qe,2));if(ee){let ze=Ge(z,z-ee);he[0]-=ze,ce[0]+=ze,ae[1]=Ee[1]=l+z-ee}if(f<z-ee){let ze=Ge(z,z-ee-f);ae[0]=fe[0]=F+h-z+ze,ge[0]=Math.min(ae[0],ge[0]),Ie[0]=Math.max(fe[0],Ie[0]),Te[0]=Ee[0]=F+z-ze,ae[1]=Ee[1]=l+f}if(re){let ze=Ge(K,K-re);ge[0]+=ze,Ie[0]-=ze,fe[1]=Te[1]=l+f-K+re}if(f<K-re){let ze=Ge(K,K-re-f);ae[0]=fe[0]=F+h-K+ze,ce[0]=Math.min(ae[0],ce[0]),he[0]=Math.max(fe[0],he[0]),Te[0]=Ee[0]=F+K-ze,fe[1]=Te[1]=l}return _.length=0,_.push(["M",...he],["L",...ce],["A",z,z,0,0,1,...ae],["L",...fe],["A",K,K,0,0,1,...ge],["L",...Ie],["A",K,K,0,0,1,...Te],["L",...Ee],["A",z,z,0,0,1,...he],["Z"]),_}let{diffObjects:Yw,extend:B2,find:h0,merge:W2,pick:oh,uniqueKey:Xw}=ft;(function(F){function l(f,v){let _=f.condition;(_.callback||function(){return this.chartWidth<=oh(_.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=oh(_.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=oh(_.minWidth,0)&&this.chartHeight>=oh(_.minHeight,0)}).call(this)&&v.push(f._id)}function h(f,v){let _=this.options.responsive,k=this.currentResponsive,S=[],M;!v&&_&&_.rules&&_.rules.forEach(z=>{z._id===void 0&&(z._id=Xw()),this.matchResponsiveRule(z,S)},this);let R=W2(...S.map(z=>h0((_==null?void 0:_.rules)||[],K=>K._id===z)).map(z=>z==null?void 0:z.chartOptions));R.isResponsiveOptions=!0,S=S.toString()||void 0;let $=k==null?void 0:k.ruleIds;S!==$&&(k&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(k.undoOptions,f,!0),this.updatingResponsive=!1),S?((M=Yw(R,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:S,mergedOptions:R,undoOptions:M},this.updatingResponsive||this.update(R,f,!0)):this.currentResponsive=void 0)}F.compose=function(f){let v=f.prototype;return v.matchResponsiveRule||B2(v,{matchResponsiveRule:l,setResponsive:h}),f}})(me||(me={}));let H2=me;de.AST=gi,de.Axis=Xl,de.Chart=ga,de.Color=ui,de.DataLabel=Ua,de.DataTableCore=jn,de.Fx=$r,de.HTMLElement=Nn,de.Legend=sw,de.LegendSymbol=Cx,de.OverlappingDataLabels=de.OverlappingDataLabels||l0,de.PlotLineOrBand=Gp,de.Point=el,de.Pointer=Ax,de.RendererRegistry=ju,de.Series=qr,de.SeriesRegistry=ai,de.StackItem=Wx,de.SVGElement=ha,de.SVGRenderer=Da,de.Templating=wn,de.Tick=mo,de.Time=rn,de.Tooltip=Db,de.animate=_r.animate,de.animObject=_r.animObject,de.chart=ga.chart,de.color=ui.parse,de.dateFormat=wn.dateFormat,de.defaultOptions=Vn.defaultOptions,de.distribute=ku.distribute,de.format=wn.format,de.getDeferredAnimation=_r.getDeferredAnimation,de.getOptions=Vn.getOptions,de.numberFormat=wn.numberFormat,de.seriesType=ai.seriesType,de.setAnimation=_r.setAnimation,de.setOptions=Vn.setOptions,de.stop=_r.stop,de.time=Vn.defaultTime,de.timers=$r.timers,{compose:function(F,l,h){let f=F.types.pie;if(!l.symbolCustomAttribs.includes("borderRadius")){let v=h.prototype.symbols;$w(F,"afterColumnTranslate",F2,{order:9}),$w(f,"afterTranslate",Kw),l.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),u0=v.arc,Gw=v.roundedRect,v.arc=qw,v.roundedRect=z2}},optionsToObject:Em}.compose(de.Series,de.SVGElement,de.SVGRenderer),nh.compose(de.Series.types.column),Ua.compose(de.Series),$p.compose(de.Axis),Nn.compose(de.SVGRenderer),sw.compose(de.Chart),Sb.compose(de.Axis),l0.compose(de.Chart),P2.compose(de.Series.types.pie),Gp.compose(de.Chart,de.Axis),Ax.compose(de.Chart),H2.compose(de.Chart),Yu.compose(de.Axis,de.Chart,de.Series),nc.compose(de.Axis,de.Chart,de.Series),Db.compose(de.Pointer),ft.extend(de,ft);let V2=de;return _e.default})())})(Eq);var Vxe=Eq.exports;const NT=dv(Vxe);function $xe(){const{user:e}=sn(),[t,i]=V.useState(!1),[r,a]=V.useState("list"),{data:o,isLoading:u,refetch:m}=yt({queryKey:["/api/portfolios/summary",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:x,isLoading:w,refetch:A}=yt({queryKey:["/api/portfolios/positions",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),E=async()=>{i(!0),await Promise.all([m(),A()]),setTimeout(()=>i(!1),500)},O=u||w,G={chart:{type:"areaspline",backgroundColor:"transparent",height:280},title:{text:""},credits:{enabled:!1},legend:{enabled:!1},xAxis:{type:"datetime",gridLineColor:"#333",lineColor:"#666",tickColor:"#666",labels:{style:{color:"#999",fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"11px"}}},yAxis:{title:{text:""},gridLineColor:"#222",labels:{style:{color:"#999",fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"11px"},formatter:function(){return"$"+this.value.toLocaleString()}}},plotOptions:{areaspline:{fillOpacity:.2,lineWidth:2,marker:{enabled:!1,states:{hover:{enabled:!0,radius:4}}}}},series:[{type:"areaspline",name:"Portfolio Value",data:Array.from({length:30},(H,W)=>{const Z=Date.now()-(29-W)*24*60*60*1e3,pe=((o==null?void 0:o.totalValue)||1e5)*(.95+Math.random()*.1);return[Z,pe]}),color:o!=null&&o.dayChange&&o.dayChange>=0?"#22c55e":"#ef4444"}],tooltip:{backgroundColor:"#000",borderColor:"#333",style:{color:"#fff",fontFamily:"Hind, sans-serif",fontWeight:"300"},formatter:function(){return"<b>$"+this.y.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+"</b>"}}},te={chart:{type:"pie",backgroundColor:"transparent",height:280},title:{text:""},credits:{enabled:!1},plotOptions:{pie:{innerSize:"60%",dataLabels:{enabled:!0,format:"{point.name}: {point.percentage:.1f}%",style:{color:"#999",fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"11px",textOutline:"none"}}}},series:[{type:"pie",name:"Allocation",data:(x==null?void 0:x.slice(0,5).map((H,W)=>({name:H.symbol,y:H.totalValue,color:["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#10b981"][W]})))||[]}],tooltip:{backgroundColor:"#000",borderColor:"#333",style:{color:"#fff",fontFamily:"Hind, sans-serif",fontWeight:"300"},formatter:function(){return"<b>"+this.point.name+"</b>: $"+this.y.toLocaleString()}}};if(O)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 border-2 border-primary rounded-full animate-spin border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Loading portfolio..."})]})});const Q=x&&x.length>0,J=(x==null?void 0:x.sort((H,W)=>W.totalValue-H.totalValue))||[];return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl  text-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Portfolio Command"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Real-time position monitoring and analytics"})]}),s.jsxs(rt,{variant:"outline",size:"sm",onClick:E,disabled:t,"data-testid":"button-refresh-portfolio",children:[s.jsx(UP,{className:Ot("h-4 w-4 mr-2",t&&"animate-spin")}),s.jsx("span",{style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Refresh"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Se,{"data-testid":"card-total-value",children:[s.jsxs(Be,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[s.jsx(Ze,{className:"text-sm ",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Total Value"}),s.jsx(oo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Pe,{children:[s.jsxs("div",{className:"text-2xl ",style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":"text-total-value",children:["$",o==null?void 0:o.totalValue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),o&&s.jsxs("p",{className:Ot("text-xs mt-1",o.dayChange>=0?"text-green-500":"text-red-500"),style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:[o.dayChange>=0?"+":"","$",o.dayChange.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," ","(",o.dayChangePercent>=0?"+":"",o.dayChangePercent.toFixed(2),"%)"]})]})]}),s.jsxs(Se,{"data-testid":"card-total-pl",children:[s.jsxs(Be,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[s.jsx(Ze,{className:"text-sm ",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Total P/L"}),o&&o.totalPL>=0?s.jsx(ns,{className:"h-4 w-4 text-green-500"}):s.jsx(vi,{className:"h-4 w-4 text-red-500"})]}),s.jsxs(Pe,{children:[s.jsxs("div",{className:Ot("text-2xl ",o&&o.totalPL>=0?"text-green-500":"text-red-500"),style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":"text-total-pl",children:[o&&o.totalPL>=0?"+":"","$",o==null?void 0:o.totalPL.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),o&&s.jsxs("p",{className:Ot("text-xs mt-1",o.totalPL>=0?"text-green-500":"text-red-500"),style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:[o.totalPLPercent>=0?"+":"",o.totalPLPercent.toFixed(2),"% All-Time"]})]})]}),s.jsxs(Se,{"data-testid":"card-positions",children:[s.jsxs(Be,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[s.jsx(Ze,{className:"text-sm ",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Positions"}),s.jsx(xu,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Pe,{children:[s.jsx("div",{className:"text-2xl ",style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":"text-position-count",children:(o==null?void 0:o.positionCount)||0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Active holdings"})]})]}),s.jsxs(Se,{"data-testid":"card-cash",children:[s.jsxs(Be,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[s.jsx(Ze,{className:"text-sm ",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Buying Power"}),s.jsx(Ta,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Pe,{children:[s.jsxs("div",{className:"text-2xl ",style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":"text-cash",children:["$",o==null?void 0:o.cash.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Available cash"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs(Se,{"data-testid":"card-performance-chart",children:[s.jsx(Be,{children:s.jsx(Ze,{className:"text-base",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Portfolio Performance (30D)"})}),s.jsx(Pe,{children:s.jsx(bN,{highcharts:NT,options:G})})]}),s.jsxs(Se,{"data-testid":"card-allocation-chart",children:[s.jsx(Be,{children:s.jsx(Ze,{className:"text-base",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Position Allocation"})}),s.jsx(Pe,{children:Q?s.jsx(bN,{highcharts:NT,options:te}):s.jsx("div",{className:"flex items-center justify-center h-[280px] text-muted-foreground",children:s.jsxs("div",{className:"text-center",children:[s.jsx(dW,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"No positions yet"})]})})})]})]}),s.jsxs(Se,{"data-testid":"card-positions-table",children:[s.jsxs(Be,{className:"flex flex-row items-center justify-between gap-2",children:[s.jsx(Ze,{className:"text-base",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Current Positions"}),s.jsx(Ma,{value:r,onValueChange:H=>a(H),children:s.jsxs(Ea,{children:[s.jsx(Ls,{value:"list",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"List"}),s.jsx(Ls,{value:"grid",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Grid"})]})})]}),s.jsx(Pe,{children:Q?r==="list"?s.jsx(Lo,{className:"h-[500px]",children:s.jsx("div",{className:"space-y-2",children:J.map(H=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover-elevate","data-testid":`position-row-${H.symbol}`,children:[s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{children:[s.jsx(gt,{href:`/asset/${H.symbol}`,children:s.jsx("a",{className:" hover:underline","data-testid":`link-asset-${H.symbol}`,children:s.jsx("span",{style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:H.symbol})})}),s.jsx("p",{className:"text-sm text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:H.assetName})]})})}),s.jsxs("div",{className:"flex items-center gap-8",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Quantity"}),s.jsx("p",{className:"",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:H.quantity.toLocaleString()})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Avg Price"}),s.jsxs("p",{className:"",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",H.averagePrice.toFixed(2)]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Current Price"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",H.currentPrice.toFixed(2)]}),s.jsx(st,{variant:H.dayChange>=0?"default":"destructive",className:"text-xs",children:s.jsxs("span",{style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:[H.dayChange>=0?"+":"",H.dayChangePercent.toFixed(2),"%"]})})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Market Value"}),s.jsxs("p",{className:"",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",H.totalValue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("div",{className:"text-right min-w-[120px]",children:[s.jsx("p",{className:"text-sm text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Unrealized P/L"}),s.jsxs("p",{className:Ot("",H.unrealizedPL>=0?"text-green-500":"text-red-500"),style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":`text-pl-${H.symbol}`,children:[H.unrealizedPL>=0?"+":"","$",H.unrealizedPL.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),s.jsxs("span",{className:"text-xs ml-1",children:["(",H.unrealizedPLPercent>=0?"+":"",H.unrealizedPLPercent.toFixed(2),"%)"]})]})]}),s.jsx(gt,{href:`/asset/${H.symbol}`,children:s.jsx(rt,{variant:"ghost",size:"icon","data-testid":`button-view-${H.symbol}`,children:s.jsx(qJ,{className:"h-4 w-4"})})})]})]},H.id))})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:J.map(H=>s.jsxs(Se,{className:"hover-elevate","data-testid":`position-card-${H.symbol}`,children:[s.jsx(Be,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(Ze,{className:"text-base",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:H.symbol}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:H.assetName})]}),s.jsx(st,{variant:H.unrealizedPL>=0?"default":"destructive",className:"text-xs",children:s.jsxs("span",{style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:[H.unrealizedPL>=0?"+":"",H.unrealizedPLPercent.toFixed(2),"%"]})})]})}),s.jsxs(Pe,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Quantity:"}),s.jsx("span",{className:"",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:H.quantity.toLocaleString()})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Avg Price:"}),s.jsxs("span",{className:"",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",H.averagePrice.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Current:"}),s.jsxs("span",{className:"",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",H.currentPrice.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsx("span",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Market Value:"}),s.jsxs("span",{className:"",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",H.totalValue.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Unrealized P/L:"}),s.jsxs("span",{className:Ot("",H.unrealizedPL>=0?"text-green-500":"text-red-500"),style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:[H.unrealizedPL>=0?"+":"","$",H.unrealizedPL.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),s.jsx(gt,{href:`/asset/${H.symbol}`,children:s.jsx(rt,{variant:"outline",size:"sm",className:"w-full mt-2","data-testid":`button-view-grid-${H.symbol}`,children:s.jsx("span",{style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"View Details"})})})]})]},H.id))}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(Sg,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg  mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"No Positions Yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Start trading to build your portfolio"}),s.jsx(gt,{href:"/trading",children:s.jsx(rt,{"data-testid":"button-start-trading",children:s.jsx("span",{style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Start Trading"})})})]})})]})]})}function Uxe(){return s.jsxs("div",{className:"space-y-6","data-testid":"page-watchlist",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-3xl ",children:"Watchlist"})}),s.jsx("div",{className:"grid gap-6",children:s.jsxs("div",{className:"bg-card rounded-lg p-6 border",children:[s.jsx("h2",{className:"text-xl  mb-4",children:"Market Watchlist"}),s.jsx("p",{className:"text-muted-foreground",children:"Track your favorite comic book assets with real-time price alerts, technical indicators, and market sentiment analysis."})]})})]})}const Iq=V.forwardRef(({className:e,...t},i)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:i,className:Ot("w-full caption-bottom text-sm",e),...t})}));Iq.displayName="Table";const Lq=V.forwardRef(({className:e,...t},i)=>s.jsx("thead",{ref:i,className:Ot("[&_tr]:border-b",e),...t}));Lq.displayName="TableHeader";const Oq=V.forwardRef(({className:e,...t},i)=>s.jsx("tbody",{ref:i,className:Ot("[&_tr:last-child]:border-0",e),...t}));Oq.displayName="TableBody";const Gxe=V.forwardRef(({className:e,...t},i)=>s.jsx("tfoot",{ref:i,className:Ot("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Gxe.displayName="TableFooter";const jT=V.forwardRef(({className:e,...t},i)=>s.jsx("tr",{ref:i,className:Ot("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));jT.displayName="TableRow";const m_=V.forwardRef(({className:e,...t},i)=>s.jsx("th",{ref:i,className:Ot("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));m_.displayName="TableHead";const xl=V.forwardRef(({className:e,...t},i)=>s.jsx("td",{ref:i,className:Ot("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));xl.displayName="TableCell";const qxe=V.forwardRef(({className:e,...t},i)=>s.jsx("caption",{ref:i,className:Ot("mt-4 text-sm text-muted-foreground",e),...t}));qxe.displayName="TableCaption";function kT({rank:e,change:t,size:i="md",showChange:r=!0}){const a=()=>e===1?s.jsx(Oc,{className:"h-4 w-4"}):e===2?s.jsx(iee,{className:"h-4 w-4"}):e===3?s.jsx(On,{className:"h-4 w-4"}):e<=10?s.jsx(io,{className:"h-3 w-3"}):null,o=()=>e===1?"bg-gradient-to-r from-yellow-500 to-amber-600 text-white border-yellow-400":e===2?"bg-gradient-to-r from-gray-400 to-gray-500 text-white border-gray-300":e===3?"bg-gradient-to-r from-amber-600 to-orange-700 text-white border-amber-500":e<=10?"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white border-emerald-400":"bg-slate-700 text-slate-300 border-slate-600",u=()=>{switch(i){case"sm":return"px-2 py-1 text-xs min-w-[2rem]";case"lg":return"px-4 py-2 text-lg min-w-[3rem]";default:return"px-3 py-1.5 text-sm min-w-[2.5rem]"}},m=()=>!r||t===void 0||t===0?null:t>0?s.jsxs("span",{className:"ml-1 text-green-400 text-xs","data-testid":"rank-change-up",children:["↑",t]}):s.jsxs("span",{className:"ml-1 text-red-400 text-xs","data-testid":"rank-change-down",children:["↓",Math.abs(t)]});return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(st,{className:Ot("flex items-center gap-1 font-bold border-2 shadow-lg",o(),u()),"data-testid":`ranking-badge-${e}`,children:[a(),"#",e]}),m()]})}var[kj,Hye]=Bn("Tooltip",[Mg]),Sj=Mg(),Kxe="TooltipProvider",ST="tooltip.open",[Vye,IE]=kj(Kxe),Aj="Tooltip",[Yxe,Cj]=kj(Aj),Dq=e=>{const{__scopeTooltip:t,children:i,open:r,defaultOpen:a=!1,onOpenChange:o,disableHoverableContent:u,delayDuration:m}=e,x=IE(Aj,e.__scopeTooltip),w=Sj(t),[A,E]=V.useState(null),O=Ro(),G=V.useRef(0),te=u??x.disableHoverableContent,Q=m??x.delayDuration,J=V.useRef(!1),[H=!1,W]=Lc({prop:r,defaultProp:a,onChange:_e=>{_e?(x.onOpen(),document.dispatchEvent(new CustomEvent(ST))):x.onClose(),o==null||o(_e)}}),Z=V.useMemo(()=>H?J.current?"delayed-open":"instant-open":"closed",[H]),pe=V.useCallback(()=>{window.clearTimeout(G.current),G.current=0,J.current=!1,W(!0)},[W]),me=V.useCallback(()=>{window.clearTimeout(G.current),G.current=0,W(!1)},[W]),we=V.useCallback(()=>{window.clearTimeout(G.current),G.current=window.setTimeout(()=>{J.current=!0,W(!0),G.current=0},Q)},[Q,W]);return V.useEffect(()=>()=>{G.current&&(window.clearTimeout(G.current),G.current=0)},[]),s.jsx(nM,{...w,children:s.jsx(Yxe,{scope:t,contentId:O,open:H,stateAttribute:Z,trigger:A,onTriggerChange:E,onTriggerEnter:V.useCallback(()=>{x.isOpenDelayedRef.current?we():pe()},[x.isOpenDelayedRef,we,pe]),onTriggerLeave:V.useCallback(()=>{te?me():(window.clearTimeout(G.current),G.current=0)},[me,te]),onOpen:pe,onClose:me,disableHoverableContent:te,children:i})})};Dq.displayName=Aj;var AT="TooltipTrigger",Rq=V.forwardRef((e,t)=>{const{__scopeTooltip:i,...r}=e,a=Cj(AT,i),o=IE(AT,i),u=Sj(i),m=V.useRef(null),x=Os(t,m,a.onTriggerChange),w=V.useRef(!1),A=V.useRef(!1),E=V.useCallback(()=>w.current=!1,[]);return V.useEffect(()=>()=>document.removeEventListener("pointerup",E),[E]),s.jsx(aM,{asChild:!0,...u,children:s.jsx(as.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:x,onPointerMove:Mt(e.onPointerMove,O=>{O.pointerType!=="touch"&&!A.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),A.current=!0)}),onPointerLeave:Mt(e.onPointerLeave,()=>{a.onTriggerLeave(),A.current=!1}),onPointerDown:Mt(e.onPointerDown,()=>{a.open&&a.onClose(),w.current=!0,document.addEventListener("pointerup",E,{once:!0})}),onFocus:Mt(e.onFocus,()=>{w.current||a.onOpen()}),onBlur:Mt(e.onBlur,a.onClose),onClick:Mt(e.onClick,a.onClose)})})});Rq.displayName=AT;var Xxe="TooltipPortal",[$ye,Zxe]=kj(Xxe,{forceMount:void 0}),yg="TooltipContent",Fq=V.forwardRef((e,t)=>{const i=Zxe(yg,e.__scopeTooltip),{forceMount:r=i.forceMount,side:a="top",...o}=e,u=Cj(yg,e.__scopeTooltip);return s.jsx(vn,{present:r||u.open,children:u.disableHoverableContent?s.jsx(zq,{side:a,...o,ref:t}):s.jsx(Qxe,{side:a,...o,ref:t})})}),Qxe=V.forwardRef((e,t)=>{const i=Cj(yg,e.__scopeTooltip),r=IE(yg,e.__scopeTooltip),a=V.useRef(null),o=Os(t,a),[u,m]=V.useState(null),{trigger:x,onClose:w}=i,A=a.current,{onPointerInTransitChange:E}=r,O=V.useCallback(()=>{m(null),E(!1)},[E]),G=V.useCallback((te,Q)=>{const J=te.currentTarget,H={x:te.clientX,y:te.clientY},W=i0e(H,J.getBoundingClientRect()),Z=r0e(H,W),pe=n0e(Q.getBoundingClientRect()),me=o0e([...Z,...pe]);m(me),E(!0)},[E]);return V.useEffect(()=>()=>O(),[O]),V.useEffect(()=>{if(x&&A){const te=J=>G(J,A),Q=J=>G(J,x);return x.addEventListener("pointerleave",te),A.addEventListener("pointerleave",Q),()=>{x.removeEventListener("pointerleave",te),A.removeEventListener("pointerleave",Q)}}},[x,A,G,O]),V.useEffect(()=>{if(u){const te=Q=>{const J=Q.target,H={x:Q.clientX,y:Q.clientY},W=(x==null?void 0:x.contains(J))||(A==null?void 0:A.contains(J)),Z=!a0e(H,u);W?O():Z&&(O(),w())};return document.addEventListener("pointermove",te),()=>document.removeEventListener("pointermove",te)}},[x,A,u,w,O]),s.jsx(zq,{...e,ref:o})}),[Jxe,e0e]=kj(Aj,{isInside:!1}),t0e=YQ("TooltipContent"),zq=V.forwardRef((e,t)=>{const{__scopeTooltip:i,children:r,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:u,...m}=e,x=Cj(yg,i),w=Sj(i),{onClose:A}=x;return V.useEffect(()=>(document.addEventListener(ST,A),()=>document.removeEventListener(ST,A)),[A]),V.useEffect(()=>{if(x.trigger){const E=O=>{const G=O.target;G!=null&&G.contains(x.trigger)&&A()};return window.addEventListener("scroll",E,{capture:!0}),()=>window.removeEventListener("scroll",E,{capture:!0})}},[x.trigger,A]),s.jsx(kg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:E=>E.preventDefault(),onDismiss:A,children:s.jsxs(oM,{"data-state":x.stateAttribute,...w,...m,ref:t,style:{...m.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(t0e,{children:r}),s.jsx(Jxe,{scope:i,isInside:!0,children:s.jsx(fJ,{id:x.contentId,role:"tooltip",children:a||r})})]})})});Fq.displayName=yg;var Bq="TooltipArrow",s0e=V.forwardRef((e,t)=>{const{__scopeTooltip:i,...r}=e,a=Sj(i);return e0e(Bq,i).isInside?null:s.jsx(lM,{...a,...r,ref:t})});s0e.displayName=Bq;function i0e(e,t){const i=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(i,r,a,o)){case o:return"left";case a:return"right";case i:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function r0e(e,t,i=5){const r=[];switch(t){case"top":r.push({x:e.x-i,y:e.y+i},{x:e.x+i,y:e.y+i});break;case"bottom":r.push({x:e.x-i,y:e.y-i},{x:e.x+i,y:e.y-i});break;case"left":r.push({x:e.x+i,y:e.y-i},{x:e.x+i,y:e.y+i});break;case"right":r.push({x:e.x-i,y:e.y-i},{x:e.x-i,y:e.y+i});break}return r}function n0e(e){const{top:t,right:i,bottom:r,left:a}=e;return[{x:a,y:t},{x:i,y:t},{x:i,y:r},{x:a,y:r}]}function a0e(e,t){const{x:i,y:r}=e;let a=!1;for(let o=0,u=t.length-1;o<t.length;u=o++){const m=t[o].x,x=t[o].y,w=t[u].x,A=t[u].y;x>r!=A>r&&i<(w-m)*(r-x)/(A-x)+m&&(a=!a)}return a}function o0e(e){const t=e.slice();return t.sort((i,r)=>i.x<r.x?-1:i.x>r.x?1:i.y<r.y?-1:i.y>r.y?1:0),l0e(t)}function l0e(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const o=t[t.length-1],u=t[t.length-2];if((o.x-u.x)*(a.y-u.y)>=(o.y-u.y)*(a.x-u.x))t.pop();else break}t.push(a)}t.pop();const i=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;i.length>=2;){const o=i[i.length-1],u=i[i.length-2];if((o.x-u.x)*(a.y-u.y)>=(o.y-u.y)*(a.x-u.x))i.pop();else break}i.push(a)}return i.pop(),t.length===1&&i.length===1&&t[0].x===i[0].x&&t[0].y===i[0].y?t:t.concat(i)}var c0e=Dq,d0e=Rq,Wq=Fq;const u0e=c0e,h0e=d0e,Hq=V.forwardRef(({className:e,sideOffset:t=4,...i},r)=>s.jsx(Wq,{ref:r,sideOffset:t,className:Ot("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...i}));Hq.displayName=Wq.displayName;function CT({achievements:e,maxDisplay:t=3,showTooltips:i=!0}){const r=x=>{switch(x){case"first_trade":return s.jsx(Us,{className:"h-3 w-3"});case"profitable_streak":return s.jsx(YJ,{className:"h-3 w-3"});case"volume_milestone":return s.jsx(ns,{className:"h-3 w-3"});case"win_rate_achievement":return s.jsx(Dn,{className:"h-3 w-3"});case"portfolio_milestone":return s.jsx(zr,{className:"h-3 w-3"});case"trading_frequency":return s.jsx(Er,{className:"h-3 w-3"});default:return s.jsx(Us,{className:"h-3 w-3"})}},a=x=>{switch(x){case"first_trade":return"bg-blue-600 text-white border-blue-400";case"profitable_streak":return"bg-red-600 text-white border-red-400";case"volume_milestone":return"bg-green-600 text-white border-green-400";case"win_rate_achievement":return"bg-purple-600 text-white border-purple-400";case"portfolio_milestone":return"bg-amber-600 text-white border-amber-400";case"trading_frequency":return"bg-cyan-600 text-white border-cyan-400";default:return"bg-gray-600 text-white border-gray-400"}};if(!e||e.length===0)return null;const o=e.slice(0,t),u=e.length-t,m=({achievement:x})=>s.jsxs(st,{className:`flex items-center gap-1 text-xs font-medium border px-2 py-1 ${a(x.achievementId)}`,"data-testid":`achievement-badge-${x.achievementId}`,children:[r(x.achievementId),x.title]});return s.jsxs("div",{className:"flex items-center gap-1 flex-wrap","data-testid":"achievement-badges-container",children:[o.map(x=>i?s.jsxs(u0e,{children:[s.jsx(h0e,{children:s.jsx(m,{achievement:x})}),s.jsx(Hq,{side:"top",className:"max-w-xs",children:s.jsxs("div",{className:"p-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:x.title}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:x.description}),x.unlockedAt&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Unlocked: ",new Date(x.unlockedAt).toLocaleDateString()]})]})})]},x.id):s.jsx(m,{achievement:x},x.id)),u>0&&s.jsxs(st,{variant:"outline",className:"text-xs",children:["+",u," more"]})]})}function p0e({entries:e,loading:t=!1,sortable:i=!0}){const[r,a]=V.useState("rank"),[o,u]=V.useState("asc"),m=J=>{const H=typeof J=="string"?parseFloat(J):J;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:H>=1e6?"compact":"standard",maximumFractionDigits:0}).format(H)},x=J=>{const H=typeof J=="string"?parseFloat(J):J;return`${H>=0?"+":""}${H.toFixed(2)}%`},w=J=>{const H=typeof J=="string"?parseFloat(J):J;return new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1}).format(H)},A=J=>(typeof J=="string"?parseFloat(J):J)>=0?"text-green-400":"text-red-400",E=J=>{i&&(r===J?u(o==="asc"?"desc":"asc"):(a(J),u("asc")))},O=()=>i?[...e].sort((J,H)=>{let W,Z;switch(r){case"rank":W=J.rank,Z=H.rank;break;case"portfolioValue":W=parseFloat(J.stats.totalPortfolioValue||"0"),Z=parseFloat(H.stats.totalPortfolioValue||"0");break;case"pnl":W=parseFloat(J.stats.totalPnL||"0"),Z=parseFloat(H.stats.totalPnL||"0");break;case"winRate":W=parseFloat(J.stats.winRate||"0"),Z=parseFloat(H.stats.winRate||"0");break;case"trades":W=J.stats.totalTrades||0,Z=H.stats.totalTrades||0;break;case"volume":W=parseFloat(J.stats.totalTradingVolume||"0"),Z=parseFloat(H.stats.totalTradingVolume||"0");break;case"roi":W=parseFloat(J.stats.roiPercentage||"0"),Z=parseFloat(H.stats.roiPercentage||"0");break;default:return 0}return o==="asc"?W-Z:Z-W}):e,G=J=>!i||r!==J?s.jsx(zJ,{className:"h-4 w-4 text-muted-foreground"}):o==="asc"?s.jsx(BJ,{className:"h-4 w-4 text-primary"}):s.jsx(RJ,{className:"h-4 w-4 text-primary"}),te=({field:J,children:H})=>s.jsx(m_,{className:"text-center",children:i?s.jsx(rt,{variant:"ghost",onClick:()=>E(J),className:"h-auto p-0 hover:bg-transparent font-semibold text-xs uppercase tracking-wide","data-testid":`sort-header-${J}`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[H,G(J)]})}):s.jsx("div",{className:"font-semibold text-xs uppercase tracking-wide",children:H})});if(t)return s.jsx("div",{className:"space-y-2","data-testid":"leaderboard-table-loading",children:[...Array(10)].map((J,H)=>s.jsx("div",{className:"h-16 bg-slate-800/50 rounded-lg animate-pulse"},H))});const Q=O();return s.jsxs("div",{className:"overflow-x-auto","data-testid":"leaderboard-table",children:[s.jsxs(Iq,{children:[s.jsx(Lq,{children:s.jsxs(jT,{className:"border-slate-700",children:[s.jsx(te,{field:"rank",children:"Rank"}),s.jsx(m_,{className:"text-left",children:s.jsx("div",{className:"font-semibold text-xs uppercase tracking-wide",children:"Trader"})}),s.jsx(te,{field:"portfolioValue",children:"Portfolio Value"}),s.jsx(te,{field:"pnl",children:"Total P&L"}),s.jsx(te,{field:"winRate",children:"Win Rate"}),s.jsx(te,{field:"trades",children:"Total Trades"}),s.jsx(te,{field:"roi",children:"ROI"}),s.jsx(te,{field:"volume",children:"Volume"}),s.jsx(m_,{className:"text-center",children:s.jsx("div",{className:"font-semibold text-xs uppercase tracking-wide",children:"Achievements"})})]})}),s.jsx(Oq,{children:Q.map(J=>{var W,Z,pe;const H=J.user.firstName&&J.user.lastName?`${J.user.firstName[0]}${J.user.lastName[0]}`:((Z=(W=J.user.email)==null?void 0:W[0])==null?void 0:Z.toUpperCase())||"U";return s.jsxs(jT,{className:"border-slate-700 hover:bg-slate-800/50 transition-colors","data-testid":`leaderboard-row-${J.userId}`,children:[s.jsx(xl,{className:"text-center",children:s.jsx(kT,{rank:J.rank,change:J.change,size:"sm"})}),s.jsx(xl,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sv,{className:"h-8 w-8",children:[s.jsx(xN,{src:J.user.profileImageUrl||void 0}),s.jsx(iv,{className:"bg-primary/10 text-primary font-semibold text-xs",children:H})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:J.user.firstName&&J.user.lastName?`${J.user.firstName} ${J.user.lastName}`:((pe=J.user.email)==null?void 0:pe.split("@")[0])||"Anonymous"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[J.user.subscriptionTier||"Free"," Trader"]})]})]})}),s.jsx(xl,{className:"text-center font-semibold",children:m(J.stats.totalPortfolioValue||0)}),s.jsx(xl,{className:`text-center font-semibold ${A(J.stats.totalPnL||0)}`,children:m(J.stats.totalPnL||0)}),s.jsx(xl,{className:"text-center",children:s.jsx("span",{className:"font-semibold text-green-400",children:x(J.stats.winRate||0)})}),s.jsx(xl,{className:"text-center font-semibold",children:w(J.stats.totalTrades||0)}),s.jsx(xl,{className:`text-center font-semibold ${A(J.stats.roiPercentage||0)}`,children:x(J.stats.roiPercentage||0)}),s.jsx(xl,{className:"text-center font-semibold",children:m(J.stats.totalTradingVolume||0)}),s.jsx(xl,{className:"text-center",children:J.achievements&&J.achievements.length>0?s.jsx(CT,{achievements:J.achievements,maxDisplay:2,showTooltips:!1}):s.jsx("span",{className:"text-muted-foreground text-xs",children:"None"})})]},J.userId)})})]}),Q.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("div",{className:"text-lg mb-2",children:"No traders found"}),s.jsx("div",{className:"text-sm",children:"Be the first to start trading and appear on the leaderboard!"})]})]})}function m0e({categories:e,activeCategory:t,onCategoryChange:i,loading:r=!1}){const a=(w,A)=>w==="volume"?s.jsx(xu,{className:"h-4 w-4"}):w==="win_rate"?s.jsx(Dn,{className:"h-4 w-4"}):w==="consistency"?s.jsx(ns,{className:"h-4 w-4"}):A==="all_time"?s.jsx(Oc,{className:"h-4 w-4"}):A==="monthly"?s.jsx(ia,{className:"h-4 w-4"}):A==="weekly"||A==="daily"?s.jsx(pn,{className:"h-4 w-4"}):s.jsx(Oc,{className:"h-4 w-4"}),o=(w,A)=>w==="volume"?"text-blue-400":w==="win_rate"?"text-green-400":w==="consistency"?"text-purple-400":A==="all_time"?"text-yellow-400":A==="monthly"?"text-emerald-400":A==="weekly"?"text-cyan-400":A==="daily"?"text-orange-400":"text-gray-400",u=w=>{switch(w){case"all_time":return"All-Time";case"monthly":return"Month";case"weekly":return"Week";case"daily":return"Today";default:return w}},m=w=>{switch(w){case"all_time":return"default";case"monthly":return"secondary";case"weekly":return"outline";case"daily":return"destructive";default:return"outline"}};if(r)return s.jsx("div",{className:"flex gap-2 mb-6",children:[...Array(6)].map((w,A)=>s.jsx("div",{className:"h-10 w-32 bg-slate-800/50 rounded-lg animate-pulse"},A))});const x=[...e].sort((w,A)=>(w.displayOrder||0)-(A.displayOrder||0));return s.jsxs("div",{className:"mb-6","data-testid":"leaderboard-tabs",children:[s.jsx(Ma,{value:t,onValueChange:i,className:"w-full",children:s.jsx(Ea,{className:"grid w-full grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-1 h-auto bg-slate-800/50 p-1",children:x.map(w=>{const A=t===w.id,E=o(w.categoryType,w.timeframe);return s.jsxs(Ls,{value:w.id,className:`flex flex-col items-center gap-1 p-3 text-xs font-medium transition-all duration-200 ${A?"bg-slate-700 text-white shadow-lg":"text-muted-foreground hover:text-foreground hover:bg-slate-700/50"}`,"data-testid":`category-tab-${w.categoryType}-${w.timeframe}`,children:[s.jsxs("div",{className:`flex items-center gap-1 ${A?"text-white":E}`,children:[a(w.categoryType,w.timeframe),s.jsx("span",{className:"font-semibold text-xs lg:text-sm whitespace-nowrap",children:w.name.replace(" Leaders","").replace(" Champions","")})]}),s.jsx(st,{variant:m(w.timeframe),className:"text-xs px-1.5 py-0.5 h-auto",children:u(w.timeframe)})]},w.id)})})}),t&&s.jsx("div",{className:"mt-3 text-center",children:(()=>{const w=e.find(A=>A.id===t);return w?s.jsx("p",{className:"text-sm text-muted-foreground",children:w.description}):null})()})]})}function f0e({entry:e,showDetailedStats:t=!1,variant:i="compact"}){var G,te,Q,J;const{rank:r,user:a,stats:o,change:u,achievements:m}=e,x=H=>{const W=typeof H=="string"?parseFloat(H):H;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:W>=1e6?"compact":"standard",maximumFractionDigits:0}).format(W)},w=H=>{const W=typeof H=="string"?parseFloat(H):H;return`${W>=0?"+":""}${W.toFixed(2)}%`},A=H=>{const W=typeof H=="string"?parseFloat(H):H;return new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1}).format(W)},E=H=>(typeof H=="string"?parseFloat(H):H)>=0?"text-green-400":"text-red-400",O=a.firstName&&a.lastName?`${a.firstName[0]}${a.lastName[0]}`:((te=(G=a.email)==null?void 0:G[0])==null?void 0:te.toUpperCase())||"U";return i==="compact"?s.jsx(Se,{className:"hover-elevate transition-all duration-200","data-testid":`trader-card-${a.id}`,children:s.jsxs(Pe,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(kT,{rank:r,change:u,size:"sm"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sv,{className:"h-10 w-10",children:[s.jsx(xN,{src:a.profileImageUrl||void 0}),s.jsx(iv,{className:"bg-primary/10 text-primary font-semibold",children:O})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-sm",children:a.firstName&&a.lastName?`${a.firstName} ${a.lastName}`:((Q=a.email)==null?void 0:Q.split("@")[0])||"Anonymous Trader"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.totalTrades," trades • ",w(o.winRate||0)," win rate"]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-bold text-lg",children:x(o.totalPortfolioValue||0)}),s.jsxs("div",{className:`text-sm font-medium ${E(o.totalPnL||0)}`,children:[w(o.roiPercentage||0)," ROI"]})]})]}),m&&m.length>0&&s.jsx("div",{className:"mt-3",children:s.jsx(CT,{achievements:m,maxDisplay:2})})]})}):s.jsxs(Se,{className:"hover-elevate transition-all duration-200","data-testid":`trader-card-detailed-${a.id}`,children:[s.jsxs(Be,{className:"pb-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(kT,{rank:r,change:u}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(sv,{className:"h-12 w-12",children:[s.jsx(xN,{src:a.profileImageUrl||void 0}),s.jsx(iv,{className:"bg-primary/10 text-primary font-semibold",children:O})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:a.firstName&&a.lastName?`${a.firstName} ${a.lastName}`:((J=a.email)==null?void 0:J.split("@")[0])||"Anonymous Trader"}),s.jsxs(st,{variant:"outline",className:"text-xs",children:[a.subscriptionTier||"Free"," Trader"]})]})]})]})}),m&&m.length>0&&s.jsx(CT,{achievements:m,maxDisplay:4})]}),s.jsxs(Pe,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-slate-800/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 text-muted-foreground text-xs mb-1",children:[s.jsx(oo,{className:"h-3 w-3"}),"Portfolio Value"]}),s.jsx("div",{className:"font-bold text-lg",children:x(o.totalPortfolioValue||0)})]}),s.jsxs("div",{className:"text-center p-3 bg-slate-800/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 text-muted-foreground text-xs mb-1",children:[parseFloat(o.totalPnL||"0")>=0?s.jsx(ns,{className:"h-3 w-3"}):s.jsx(vi,{className:"h-3 w-3"}),"Total P&L"]}),s.jsx("div",{className:`font-bold text-lg ${E(o.totalPnL||0)}`,children:x(o.totalPnL||0)})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 text-muted-foreground text-xs mb-1",children:[s.jsx(Dn,{className:"h-3 w-3"}),"Win Rate"]}),s.jsx("div",{className:"font-semibold text-green-400",children:w(o.winRate||0)})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 text-muted-foreground text-xs mb-1",children:[s.jsx(Ta,{className:"h-3 w-3"}),"Trades"]}),s.jsx("div",{className:"font-semibold",children:A(o.totalTrades||0)})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 text-muted-foreground text-xs mb-1",children:[s.jsx(xu,{className:"h-3 w-3"}),"Volume"]}),s.jsx("div",{className:"font-semibold",children:x(o.totalTradingVolume||0)})]})]}),t&&s.jsxs("div",{className:"pt-3 border-t border-slate-700 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"ROI:"}),s.jsx("span",{className:E(o.roiPercentage||0),children:w(o.roiPercentage||0)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Current Streak:"}),s.jsx("span",{className:(o.currentWinningStreak||0)>0?"text-green-400":(o.currentLosingStreak||0)>0?"text-red-400":"text-muted-foreground",children:(o.currentWinningStreak||0)>0?`${o.currentWinningStreak} wins`:(o.currentLosingStreak||0)>0?`${o.currentLosingStreak} losses`:"No streak"})]}),o.tradingDaysActive&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Trading Days:"}),s.jsxs("span",{children:[o.tradingDaysActive," days"]})]})]})]})]})}function g0e(){var me,we,_e;const{user:e}=sn(),{toast:t}=bn(),[i,r]=V.useState(""),[a,o]=V.useState(!1),{data:u,isLoading:m}=yt({queryKey:["/api/leaderboards/categories"],refetchInterval:6e4}),{data:x,isLoading:w}=yt({queryKey:["/api/leaderboards/overview"],refetchInterval:3e4}),{data:A,isLoading:E,refetch:O}=yt({queryKey:["/api/leaderboards",i],enabled:!!i,refetchInterval:3e4}),{data:G,isLoading:te}=yt({queryKey:["/api/leaderboards/my-rankings"],enabled:!!e,refetchInterval:6e4});V.useEffect(()=>{if(u&&u.length>0&&!i){const de=u.find(Ae=>Ae.timeframe==="all_time")||u[0];r(de.id)}},[u,i]);const Q=de=>{r(de)},J=async()=>{o(!0);try{await O(),t({title:"Leaderboard Refreshed",description:"Rankings updated with latest data"})}catch{t({title:"Refresh Failed",description:"Unable to update rankings. Please try again.",variant:"destructive"})}finally{o(!1)}},H=de=>{const Ae=typeof de=="string"?parseFloat(de):de;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:Ae>=1e6?"compact":"standard",maximumFractionDigits:0}).format(Ae)},W=de=>{const Ae=typeof de=="string"?parseFloat(de):de;return new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1}).format(Ae)},Z=()=>!G||!i?null:G.find(Ae=>Ae.category.id===i),pe=m||w||E;return s.jsxs("div",{className:"min-h-screen p-6 space-y-6","data-testid":"leaderboard-page",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-r from-yellow-500/20 to-amber-600/20 rounded-lg",children:s.jsx(io,{className:"h-8 w-8 text-yellow-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl ",children:"Trading Leaderboards"}),s.jsx("p",{className:"text-muted-foreground",children:"Compete with the best traders on Panel Profits"})]})]}),s.jsxs(rt,{onClick:J,disabled:a,className:"flex items-center gap-2","data-testid":"button-refresh-leaderboard",children:[s.jsx(UP,{className:`h-4 w-4 ${a?"animate-spin":""}`}),"Refresh"]})]}),x&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Se,{"data-testid":"stat-active-traders",children:s.jsx(Pe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Zs,{className:"h-5 w-5 text-blue-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Traders"}),s.jsx("div",{className:"text-xl ",children:W(x.totalActiveTraders)})]})]})})}),s.jsx(Se,{"data-testid":"stat-total-trades",children:s.jsx(Pe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ns,{className:"h-5 w-5 text-green-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trades"}),s.jsx("div",{className:"text-xl ",children:W(x.totalTrades)})]})]})})}),s.jsx(Se,{"data-testid":"stat-total-volume",children:s.jsx(Pe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Dn,{className:"h-5 w-5 text-purple-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Trading Volume"}),s.jsx("div",{className:"text-xl ",children:H(x.totalVolume)})]})]})})}),s.jsx(Se,{"data-testid":"stat-top-performer",children:s.jsx(Pe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Oc,{className:"h-5 w-5 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Top Performer"}),s.jsx("div",{className:"text-sm  truncate",children:(me=x.topPerformer)!=null&&me.user?x.topPerformer.user.firstName&&x.topPerformer.user.lastName?`${x.topPerformer.user.firstName} ${x.topPerformer.user.lastName}`:((we=x.topPerformer.user.email)==null?void 0:we.split("@")[0])||"Anonymous":"No data"}),s.jsx("div",{className:"text-xs text-green-400",children:x.topPerformer?H(x.topPerformer.totalPortfolioValue||0):"-"})]})]})})})]}),e&&G&&G.length>0&&s.jsxs(Se,{"data-testid":"user-rankings-card",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Dn,{className:"h-5 w-5"}),"Your Rankings"]})}),s.jsxs(Pe,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:G.slice(0,6).map(de=>s.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg flex justify-between items-center","data-testid":`user-rank-${de.category.categoryType}`,children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm ",children:de.category.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:de.category.timeframe.replace("_"," ")})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"",children:["#",de.rank]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["of ",W(de.totalUsers)]})]})]},de.category.id))}),G.length>6&&s.jsx("div",{className:"mt-3 text-center",children:s.jsxs(st,{variant:"outline",children:["+",G.length-6," more categories"]})})]})]}),u&&u.length>0&&s.jsxs(Ma,{value:i,onValueChange:Q,className:"space-y-6",children:[s.jsx(m0e,{categories:u,activeCategory:i,onCategoryChange:Q,loading:m}),s.jsxs(qi,{value:i,className:"space-y-4",children:[A&&s.jsxs(s.Fragment,{children:[s.jsx(Se,{children:s.jsx(Pe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:" text-lg",children:A.category.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[W(A.totalParticipants)," participants • Last updated: ",new Date(A.lastUpdated).toLocaleTimeString()]})]}),Z()&&s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Your Rank"}),s.jsxs("div",{className:"text-2xl  text-primary",children:["#",(_e=Z())==null?void 0:_e.rank]})]})]})})}),A.entries.length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:A.entries.slice(0,3).map((de,Ae)=>s.jsx(f0e,{entry:de,variant:Ae===0?"detailed":"compact",showDetailedStats:Ae===0},de.userId))}),s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Full Rankings"}),s.jsxs(st,{variant:"outline",children:[A.entries.length," traders"]})]})}),s.jsx(Pe,{children:s.jsx(p0e,{entries:A.entries,loading:E,sortable:!0})})]})]}),pe&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-32 bg-slate-800/50 rounded-lg animate-pulse"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[...Array(3)].map((de,Ae)=>s.jsx("div",{className:"h-48 bg-slate-800/50 rounded-lg animate-pulse"},Ae))}),s.jsx("div",{className:"h-96 bg-slate-800/50 rounded-lg animate-pulse"})]}),!pe&&(!A||A.entries.length===0)&&s.jsx(Se,{children:s.jsxs(Pe,{className:"p-8 text-center",children:[s.jsx(io,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg  mb-2",children:"No Rankings Available"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Be the first to start trading and appear on this leaderboard!"}),s.jsxs(rt,{className:"flex items-center gap-2",children:["Start Trading",s.jsx(Wo,{className:"h-4 w-4"})]})]})})]})]}),(x==null?void 0:x.recentAchievements)&&x.recentAchievements.length>0&&s.jsxs(Se,{"data-testid":"recent-achievements",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Er,{className:"h-5 w-5"}),"Recent Achievements"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-3",children:x.recentAchievements.slice(0,5).map(de=>{var Ae;return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg","data-testid":`recent-achievement-${de.id}`,children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"",children:de.user.firstName&&de.user.lastName?`${de.user.firstName} ${de.user.lastName}`:((Ae=de.user.email)==null?void 0:Ae.split("@")[0])||"Anonymous"}),s.jsx("span",{className:"text-muted-foreground",children:" earned "}),s.jsx("span",{className:" text-primary",children:de.title})]})}),s.jsx("div",{className:"text-xs text-muted-foreground",children:de.unlockedAt?new Date(de.unlockedAt).toLocaleDateString():"Recently"})]},de.id)})})})]})]})}function x0e(){const{data:e,isLoading:t}=yt({queryKey:["/api/portfolio"]}),i=(e==null?void 0:e.totalValue)||0;return s.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(rt,{variant:"ghost",size:"icon",asChild:!0,"data-testid":"button-back",children:s.jsx(gt,{href:"/",children:s.jsx(_s,{className:"w-5 h-5"})})}),s.jsx("h1",{className:"text-3xl font-bold",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Portfolio Value"})]}),s.jsxs(Se,{className:"bg-gradient-to-br from-gray-900 to-black border border-border",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(oo,{className:"w-10 h-10 text-indigo-400"}),s.jsx(Ze,{className:"text-2xl",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Current Portfolio Value"})]})}),s.jsx(Pe,{className:"space-y-6",children:t?s.jsx("div",{className:"text-gray-400",children:"Loading..."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-5xl font-bold text-white",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",i.toLocaleString()]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4",children:[s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Cash Holdings"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl font-bold text-emerald-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",((e==null?void 0:e.cashBalance)||0).toLocaleString()]})})]}),s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Asset Value"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl font-bold text-blue-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",(((e==null?void 0:e.totalValue)||0)-((e==null?void 0:e.cashBalance)||0)).toLocaleString()]})})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"What is Portfolio Value?"}),s.jsx("p",{className:"text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Portfolio Value represents the total current market value of all your holdings, including both cash balance and the market value of all comic book assets you own. This is calculated in real-time based on current market prices."})]})]})})]})]})}function y0e(){const{data:e,isLoading:t}=yt({queryKey:["/api/portfolio"]}),i=(e==null?void 0:e.cashBalance)||0;return s.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(rt,{variant:"ghost",size:"icon",asChild:!0,"data-testid":"button-back",children:s.jsx(gt,{href:"/",children:s.jsx(_s,{className:"w-5 h-5"})})}),s.jsx("h1",{className:"text-3xl font-bold",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Available Cash"})]}),s.jsxs(Se,{className:"bg-gradient-to-br from-gray-900 to-black border border-border",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(UJ,{className:"w-10 h-10 text-emerald-400"}),s.jsx(Ze,{className:"text-2xl",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Cash Balance"})]})}),s.jsx(Pe,{className:"space-y-6",children:t?s.jsx("div",{className:"text-gray-400",children:"Loading..."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-5xl font-bold text-white",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",i.toLocaleString()]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4",children:[s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Available for Trading"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl font-bold text-emerald-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",i.toLocaleString()]})})]}),s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Percentage of Portfolio"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl font-bold text-blue-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:[(i/((e==null?void 0:e.totalValue)||1)*100).toFixed(1),"%"]})})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"What is Available Cash?"}),s.jsx("p",{className:"text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Available Cash represents the liquid funds in your account that can be used immediately for purchasing comic book assets. This amount is not tied up in any positions and is ready for deployment."})]})]})})]})]})}function v0e(){const{data:e}=yt({queryKey:["/api/market-stats"]}),t=(e==null?void 0:e.totalAssets)||0;return s.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(rt,{variant:"ghost",size:"icon",asChild:!0,"data-testid":"button-back",children:s.jsx(gt,{href:"/",children:s.jsx(_s,{className:"w-5 h-5"})})}),s.jsx("h1",{className:"text-3xl font-bold",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Market Assets"})]}),s.jsxs(Se,{className:"bg-gradient-to-br from-gray-900 to-black border border-border",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(xu,{className:"w-10 h-10 text-blue-400"}),s.jsx(Ze,{className:"text-2xl",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Total Tradeable Assets"})]})}),s.jsxs(Pe,{className:"space-y-6",children:[s.jsx("div",{className:"text-5xl font-bold text-white",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:t.toLocaleString()}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4",children:[s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Active Trading"})}),s.jsx(Pe,{children:s.jsx("div",{className:"text-2xl font-bold text-emerald-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:((e==null?void 0:e.activeAssets)||0).toLocaleString()})})]}),s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Market Cap"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl font-bold text-blue-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",((e==null?void 0:e.totalMarketCap)||0).toLocaleString(),"B"]})})]}),s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"24h Volume"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl font-bold text-purple-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",((e==null?void 0:e.volume24h)||0).toLocaleString(),"M"]})})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"What are Market Assets?"}),s.jsx("p",{className:"text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Market Assets represents the total number of unique comic book issues, characters, and creators available for trading on the Panel Profits platform. This includes assets from multiple sources including Comic Vine, Marvel, Pinecone, and Kaggle datasets."})]})]})]})]})}function b0e(){const{data:e}=yt({queryKey:["/api/portfolio"]}),t=(e==null?void 0:e.dayPL)||0,i=(e==null?void 0:e.dayPLPercent)||0;return s.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(rt,{variant:"ghost",size:"icon",asChild:!0,"data-testid":"button-back",children:s.jsx(gt,{href:"/",children:s.jsx(_s,{className:"w-5 h-5"})})}),s.jsx("h1",{className:"text-3xl font-bold",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Day Profit & Loss"})]}),s.jsxs(Se,{className:"bg-gradient-to-br from-gray-900 to-black border border-border",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dW,{className:"w-10 h-10 text-purple-400"}),s.jsx(Ze,{className:"text-2xl",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Today's P&L"})]})}),s.jsxs(Pe,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:`text-5xl font-bold ${t>=0?"text-green-500":"text-red-500"}`,style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:[t>=0?"+":"","$",t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),t>=0?s.jsx(FP,{className:"w-12 h-12 text-green-500"}):s.jsx(RP,{className:"w-12 h-12 text-red-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4",children:[s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Percentage Change"})}),s.jsx(Pe,{children:s.jsxs("div",{className:`text-2xl font-bold ${i>=0?"text-green-400":"text-red-400"}`,style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:[i>=0?"+":"",i.toFixed(2),"%"]})})]}),s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Status"})}),s.jsx(Pe,{children:s.jsx("div",{className:`text-2xl font-bold ${t>=0?"text-green-400":"text-red-400"}`,style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:t>=0?"Profitable":"Loss"})})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"What is Day P&L?"}),s.jsx("p",{className:"text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Day P&L (Profit & Loss) shows your account's performance for the current trading day. It reflects the change in value of your portfolio from market open to the current moment, including both realized and unrealized gains/losses."})]})]})]})]})}function w0e(){const{data:e}=yt({queryKey:["/api/portfolio"]}),t=(e==null?void 0:e.totalReturnPercent)||0,i=(e==null?void 0:e.totalReturn)||0;return s.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(rt,{variant:"ghost",size:"icon",asChild:!0,"data-testid":"button-back",children:s.jsx(gt,{href:"/",children:s.jsx(_s,{className:"w-5 h-5"})})}),s.jsx("h1",{className:"text-3xl font-bold",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Total Return"})]}),s.jsxs(Se,{className:"bg-gradient-to-br from-gray-900 to-black border border-border",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ns,{className:"w-10 h-10 text-cyan-400"}),s.jsx(Ze,{className:"text-2xl",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"All-Time Return"})]})}),s.jsxs(Pe,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:`text-5xl font-bold ${t>=0?"text-green-500":"text-red-500"}`,style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:[t>=0?"+":"",t.toFixed(2),"%"]}),t>=0?s.jsx(FP,{className:"w-12 h-12 text-green-500"}):s.jsx(RP,{className:"w-12 h-12 text-red-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4",children:[s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Dollar Return"})}),s.jsx(Pe,{children:s.jsxs("div",{className:`text-2xl font-bold ${i>=0?"text-green-400":"text-red-400"}`,style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:[i>=0?"+":"","$",i.toLocaleString()]})})]}),s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Performance"})}),s.jsx(Pe,{children:s.jsx("div",{className:`text-2xl font-bold ${t>=0?"text-green-400":"text-red-400"}`,style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:t>=0?"Positive":"Negative"})})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"What is Total Return?"}),s.jsx("p",{className:"text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Total Return measures the overall performance of your portfolio from inception to the present day. It includes all realized gains from closed positions as well as unrealized gains from current holdings, expressed as a percentage of your initial investment."})]})]})]})]})}function _0e(){const{data:e}=yt({queryKey:["/api/portfolio"]}),t=(e==null?void 0:e.buyingPower)||0,i=(e==null?void 0:e.cashBalance)||0;return s.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(rt,{variant:"ghost",size:"icon",asChild:!0,"data-testid":"button-back",children:s.jsx(gt,{href:"/",children:s.jsx(_s,{className:"w-5 h-5"})})}),s.jsx("h1",{className:"text-3xl font-bold",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Buying Power"})]}),s.jsxs(Se,{className:"bg-gradient-to-br from-gray-900 to-black border border-border",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(GJ,{className:"w-10 h-10 text-amber-400"}),s.jsx(Ze,{className:"text-2xl",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Available Buying Power"})]})}),s.jsxs(Pe,{className:"space-y-6",children:[s.jsxs("div",{className:"text-5xl font-bold text-white",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",t.toLocaleString(void 0,{maximumFractionDigits:0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4",children:[s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Cash Component"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl font-bold text-emerald-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",i.toLocaleString()]})})]}),s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Margin Available"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl font-bold text-blue-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",(t-i).toLocaleString()]})})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"What is Buying Power?"}),s.jsx("p",{className:"text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Buying Power represents the total amount of capital you can deploy for new trades. This includes your available cash balance plus any margin or leverage available to you based on your certification level and account status."})]})]})]})]})}function N0e(){var i,r,a,o;const{data:e}=yt({queryKey:["/api/orders"]}),t=((i=e==null?void 0:e.filter(u=>u.status==="pending"))==null?void 0:i.length)||0;return s.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(rt,{variant:"ghost",size:"icon",asChild:!0,"data-testid":"button-back",children:s.jsx(gt,{href:"/",children:s.jsx(_s,{className:"w-5 h-5"})})}),s.jsx("h1",{className:"text-3xl font-bold",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Open Orders"})]}),s.jsxs(Se,{className:"bg-gradient-to-br from-gray-900 to-black border border-border",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(W_,{className:"w-10 h-10 text-rose-400"}),s.jsx(Ze,{className:"text-2xl",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Pending Orders"})]})}),s.jsxs(Pe,{className:"space-y-6",children:[s.jsx("div",{className:"text-5xl font-bold text-white",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:t}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4",children:[s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Buy Orders"})}),s.jsx(Pe,{children:s.jsx("div",{className:"text-2xl font-bold text-green-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:((r=e==null?void 0:e.filter(u=>u.status==="pending"&&u.type==="buy"))==null?void 0:r.length)||0})})]}),s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Sell Orders"})}),s.jsx(Pe,{children:s.jsx("div",{className:"text-2xl font-bold text-red-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:((a=e==null?void 0:e.filter(u=>u.status==="pending"&&u.type==="sell"))==null?void 0:a.length)||0})})]}),s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Total Value"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl font-bold text-blue-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",(((o=e==null?void 0:e.filter(u=>u.status==="pending"))==null?void 0:o.reduce((u,m)=>u+m.price*m.quantity,0))||0).toLocaleString()]})})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"What are Open Orders?"}),s.jsx("p",{className:"text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Open Orders are pending buy or sell orders that have been placed but not yet executed. These orders are waiting for market conditions to meet your specified price and quantity requirements before they fill. You can cancel open orders at any time."})]})]})]})]})}function j0e(){const{data:e}=yt({queryKey:["/api/portfolio/holdings"]}),t=(e==null?void 0:e.length)||0;return s.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(rt,{variant:"ghost",size:"icon",asChild:!0,"data-testid":"button-back",children:s.jsx(gt,{href:"/",children:s.jsx(_s,{className:"w-5 h-5"})})}),s.jsx("h1",{className:"text-3xl font-bold",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Active Positions"})]}),s.jsxs(Se,{className:"bg-gradient-to-br from-gray-900 to-black border border-border",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Dn,{className:"w-10 h-10 text-teal-400"}),s.jsx(Ze,{className:"text-2xl",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Open Positions"})]})}),s.jsxs(Pe,{className:"space-y-6",children:[s.jsx("div",{className:"text-5xl font-bold text-white",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:t}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4",children:[s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Total Shares"})}),s.jsx(Pe,{children:s.jsx("div",{className:"text-2xl font-bold text-blue-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:((e==null?void 0:e.reduce((i,r)=>i+r.quantity,0))||0).toLocaleString()})})]}),s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Total Value"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl font-bold text-emerald-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",((e==null?void 0:e.reduce((i,r)=>i+r.currentPrice*r.quantity,0))||0).toLocaleString()]})})]}),s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Avg P&L"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl font-bold text-purple-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:[t>0?((e==null?void 0:e.reduce((i,r)=>i+(r.currentPrice-r.avgCost)*r.quantity,0))/t||0).toFixed(2):"0.00","%"]})})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"What are Active Positions?"}),s.jsx("p",{className:"text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Active Positions represent the unique comic book assets you currently hold in your portfolio. Each position shows the number of shares owned, current market value, and unrealized profit/loss. Managing positions effectively is key to portfolio success."})]})]})]})]})}function k0e(){const{data:e}=yt({queryKey:["/api/portfolio/performance"]}),t=(e==null?void 0:e.winRate)||0,i=(e==null?void 0:e.totalTrades)||0,r=Math.round(i*t/100);return s.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(rt,{variant:"ghost",size:"icon",asChild:!0,"data-testid":"button-back",children:s.jsx(gt,{href:"/",children:s.jsx(_s,{className:"w-5 h-5"})})}),s.jsx("h1",{className:"text-3xl font-bold",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Win Rate"})]}),s.jsxs(Se,{className:"bg-gradient-to-br from-gray-900 to-black border border-border",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(On,{className:"w-10 h-10 text-lime-400"}),s.jsx(Ze,{className:"text-2xl",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Trading Success Rate"})]})}),s.jsxs(Pe,{className:"space-y-6",children:[s.jsxs("div",{className:"text-5xl font-bold text-white",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:[t.toFixed(1),"%"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4",children:[s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Total Trades"})}),s.jsx(Pe,{children:s.jsx("div",{className:"text-2xl font-bold text-blue-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:i.toLocaleString()})})]}),s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Winning Trades"})}),s.jsx(Pe,{children:s.jsx("div",{className:"text-2xl font-bold text-green-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:r.toLocaleString()})})]}),s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Losing Trades"})}),s.jsx(Pe,{children:s.jsx("div",{className:"text-2xl font-bold text-red-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:(i-r).toLocaleString()})})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"What is Win Rate?"}),s.jsx("p",{className:"text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Win Rate measures the percentage of your closed trades that resulted in a profit. A higher win rate indicates better trade selection and timing. Professional traders typically aim for a win rate above 50%, though profitability also depends on the size of wins versus losses."})]})]})]})]})}function S0e(){var i;const{data:e}=yt({queryKey:["/api/portfolio/holdings"]}),t=e==null?void 0:e.reduce((r,a)=>{const o=(a.currentPrice-a.avgCost)/a.avgCost*100,u=r?(r.currentPrice-r.avgCost)/r.avgCost*100:-1/0;return o>u?a:r},null);return s.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(rt,{variant:"ghost",size:"icon",asChild:!0,"data-testid":"button-back",children:s.jsx(gt,{href:"/",children:s.jsx(_s,{className:"w-5 h-5"})})}),s.jsx("h1",{className:"text-3xl font-bold",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Best Performer"})]}),s.jsxs(Se,{className:"bg-gradient-to-br from-gray-900 to-black border border-border",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(io,{className:"w-10 h-10 text-yellow-400"}),s.jsx(Ze,{className:"text-2xl",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Top Performing Asset"})]})}),s.jsx(Pe,{className:"space-y-6",children:t?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-5xl font-bold text-white",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:t.symbol}),s.jsx(FP,{className:"w-12 h-12 text-green-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4",children:[s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Gain"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl font-bold text-green-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["+",((t.currentPrice-t.avgCost)/t.avgCost*100).toFixed(2),"%"]})})]}),s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Current Price"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl font-bold text-blue-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",(i=t.currentPrice)==null?void 0:i.toFixed(2)]})})]}),s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Total Profit"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl font-bold text-emerald-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",((t.currentPrice-t.avgCost)*t.quantity).toFixed(2)]})})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"What is Best Performer?"}),s.jsx("p",{className:"text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Best Performer identifies the asset in your portfolio with the highest percentage gain from your average cost basis. This metric helps you understand which of your investment decisions has been most successful and can inform future trading strategies."})]})]}):s.jsx("div",{className:"text-gray-400",children:"No positions currently held"})})]})]})}function A0e(){var i;const{data:e}=yt({queryKey:["/api/portfolio/holdings"]}),t=e==null?void 0:e.reduce((r,a)=>{const o=(a.currentPrice-a.avgCost)/a.avgCost*100,u=r?(r.currentPrice-r.avgCost)/r.avgCost*100:1/0;return o<u?a:r},null);return s.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(rt,{variant:"ghost",size:"icon",asChild:!0,"data-testid":"button-back",children:s.jsx(gt,{href:"/",children:s.jsx(_s,{className:"w-5 h-5"})})}),s.jsx("h1",{className:"text-3xl font-bold",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Worst Performer"})]}),s.jsxs(Se,{className:"bg-gradient-to-br from-gray-900 to-black border border-border",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(vi,{className:"w-10 h-10 text-orange-400"}),s.jsx(Ze,{className:"text-2xl",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Lowest Performing Asset"})]})}),s.jsx(Pe,{className:"space-y-6",children:t?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-5xl font-bold text-white",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:t.symbol}),s.jsx(RP,{className:"w-12 h-12 text-red-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4",children:[s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Loss"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl font-bold text-red-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:[((t.currentPrice-t.avgCost)/t.avgCost*100).toFixed(2),"%"]})})]}),s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Current Price"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl font-bold text-blue-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",(i=t.currentPrice)==null?void 0:i.toFixed(2)]})})]}),s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Total Loss"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl font-bold text-red-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",((t.currentPrice-t.avgCost)*t.quantity).toFixed(2)]})})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"What is Worst Performer?"}),s.jsx("p",{className:"text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Worst Performer highlights the asset in your portfolio with the largest percentage loss from your average cost basis. Monitoring underperforming assets helps you make informed decisions about cutting losses, averaging down, or holding for potential recovery."})]})]}):s.jsx("div",{className:"text-gray-400",children:"No positions currently held"})})]})]})}function C0e(){const{data:e}=yt({queryKey:["/api/portfolio"]}),{data:t}=yt({queryKey:["/api/market-stats"]}),i=(t==null?void 0:t.totalMarketCap)||0;return s.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(rt,{variant:"ghost",size:"icon",asChild:!0,"data-testid":"button-back",children:s.jsx(gt,{href:"/",children:s.jsx(_s,{className:"w-5 h-5"})})}),s.jsx("h1",{className:"text-3xl font-bold",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Total Account Value"})]}),s.jsxs(Se,{className:"bg-gradient-to-br from-gray-900 to-black border border-border",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(WJ,{className:"w-10 h-10 text-green-400"}),s.jsx(Ze,{className:"text-2xl",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Complete Account Valuation"})]})}),s.jsxs(Pe,{className:"space-y-6",children:[s.jsxs("div",{className:"text-5xl font-bold text-white",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",i.toLocaleString(void 0,{maximumFractionDigits:0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4",children:[s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Portfolio Value"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl font-bold text-indigo-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",((e==null?void 0:e.totalValue)||0).toLocaleString()]})})]}),s.jsxs(Se,{className:"bg-gray-800/50",children:[s.jsx(Be,{className:"pb-3",children:s.jsx(Ze,{className:"text-sm text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Market Capitalization"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl font-bold text-blue-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:["$",i.toLocaleString()]})})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"What is Total Account Value?"}),s.jsx("p",{className:"text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Total Account Value represents the complete market capitalization of all assets available on the Panel Profits platform. This includes your personal portfolio value as well as the aggregate value of all tradeable comic book assets in the marketplace."})]})]})]})]})}function T0e(){return s.jsxs("div",{className:"space-y-6","data-testid":"page-settings",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-3xl ",children:"Settings"})}),s.jsx("div",{className:"grid gap-6",children:s.jsxs("div",{className:"bg-card rounded-lg p-6 border",children:[s.jsx("h2",{className:"text-xl  mb-4",children:"Platform Configuration"}),s.jsx("p",{className:"text-muted-foreground",children:"Customize your trading platform experience with preferences for alerts, display options, and account settings."})]})})]})}const P0e={family_office:vv,hedge_fund:VJ,agency:Zs},M0e={family_office:"text-blue-500",hedge_fund:"text-purple-500",agency:"text-green-500"};function E0e(){const[,e]=Uc(),{data:t,isLoading:i}=yt({queryKey:["/api/certifications/pathways"]}),{data:r}=yt({queryKey:["/api/certifications/progress"]}),a=x=>r==null?void 0:r.find(w=>w.pathway===x),o=({pathway:x})=>{var Q;const w=a(x.pathway),A=P0e[x.pathway]||On,E=M0e[x.pathway],O=x.displayOrder>0&&!w,G=(w==null?void 0:w.coursesPassed)||0,te=G/5*100;return s.jsxs(Se,{className:"hover-elevate","data-testid":`card-pathway-${x.pathway}`,children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`${E}`,children:s.jsx(A,{className:"h-8 w-8"})}),s.jsxs("div",{children:[s.jsx(Ze,{className:"text-lg","data-testid":`text-pathway-name-${x.pathway}`,children:x.name}),s.jsx(lo,{children:x.description})]})]}),O&&s.jsx(og,{className:"h-5 w-5 text-muted-foreground","data-testid":`icon-locked-${x.pathway}`}),(w==null?void 0:w.isCertified)&&s.jsx(x5,{className:"h-5 w-5 text-green-500","data-testid":`icon-certified-${x.pathway}`})]})}),s.jsxs(Pe,{className:"space-y-4",children:[w&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{"data-testid":`text-courses-passed-${x.pathway}`,children:[G,"/5 courses passed"]}),s.jsxs("span",{children:[te,"%"]})]}),s.jsx(zc,{value:te,"data-testid":`progress-pathway-${x.pathway}`})]}),s.jsxs("div",{className:"flex gap-2",children:[(w==null?void 0:w.isCertified)&&s.jsxs(st,{variant:"default","data-testid":`badge-certified-${x.pathway}`,children:[s.jsx(x5,{className:"h-3 w-3 mr-1"}),"Certified (100% Bonus)"]}),(w==null?void 0:w.isMasterCertified)&&s.jsxs(st,{variant:"default",className:"bg-yellow-600","data-testid":`badge-master-${x.pathway}`,children:[s.jsx(On,{className:"h-3 w-3 mr-1"}),"Master (150% Bonus)"]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ns,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{"data-testid":`text-salary-max-${x.pathway}`,children:["Max Salary: $",parseFloat(x.baseSalaryMax).toLocaleString()]})]}),((Q=x.tradingFeatureUnlocks)==null?void 0:Q.features)&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[x.tradingFeatureUnlocks.features.slice(0,3).map(J=>s.jsx(st,{variant:"outline",className:"text-xs","data-testid":`badge-feature-${J}`,children:J.replace(/_/g," ")},J)),x.tradingFeatureUnlocks.features.length>3&&s.jsxs(st,{variant:"outline",className:"text-xs",children:["+",x.tradingFeatureUnlocks.features.length-3," more"]})]})]}),s.jsx(rt,{className:"w-full",onClick:()=>e(`/certifications/${x.pathway}`),disabled:O,"data-testid":`button-view-pathway-${x.pathway}`,children:O?"Locked":w?"Continue":"Start"})]})]},x.id)};if(i)return s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 border-2 border-primary rounded-full animate-spin border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading certifications..."})]})});const u=t==null?void 0:t.find(x=>x.pathway==="associate"),m=(t==null?void 0:t.filter(x=>x.pathway!=="associate"))||[];return s.jsxs("div",{className:"space-y-6","data-testid":"page-certifications",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl  mb-2","data-testid":"text-page-title",children:"Career Certifications"}),s.jsx("p",{className:"text-muted-foreground",children:"Advance your trading career through professional certification pathways. Pass 3/5 courses for certification (100% salary bonus), or master all 5/5 courses for elite status (150% salary bonus)."})]}),u&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl ","data-testid":"text-section-associate",children:"Associate Foundation (Required)"}),s.jsx(o,{pathway:u})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl ","data-testid":"text-section-pathways",children:"Career Pathways"}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:m.map(x=>s.jsx(o,{pathway:x},x.id))})]}),s.jsxs(Se,{className:"border-yellow-500/20 bg-yellow-500/5",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(On,{className:"h-5 w-5"}),"Certification Benefits"]})}),s.jsxs(Pe,{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:["• ",s.jsx("strong",{children:"3 Free Attempts:"})," Take each exam up to 3 times without penalty"]}),s.jsxs("p",{children:["• ",s.jsx("strong",{children:"4th Attempt Fee:"})," Subsequent retries deducted from subscription balance"]}),s.jsxs("p",{children:["• ",s.jsx("strong",{children:"Hidden Bonuses:"})," Salary bonuses revealed only after passing certification"]}),s.jsxs("p",{children:["• ",s.jsx("strong",{children:"Trading Unlocks:"})," Gain access to advanced features (options, bonds, derivatives)"]}),s.jsxs("p",{children:["• ",s.jsx("strong",{children:"Career Progression:"})," Climb from Associate to pathway mastery (Family Office Owner, Hedge Fund Owner, Agency Owner)"]})]})]})]})}function I0e(){const{user:e}=sn(),{toast:t}=bn(),[i,r]=V.useState("all"),[a,o]=V.useState(!1),u=(e==null?void 0:e.subscriptionTier)&&e.subscriptionTier!=="free",{data:m=[],isLoading:x}=yt({queryKey:["/api/easter-eggs"]}),{data:w=[],isLoading:A}=yt({queryKey:["/api/easter-eggs/progress"],enabled:!!e}),{data:E=[],isLoading:O}=yt({queryKey:["/api/easter-eggs/unlocked"],enabled:!!e}),G=Gc({mutationFn:async Ae=>{const We=await fetch(`/api/easter-eggs/claim/${Ae}`,{method:"POST",credentials:"include"});if(!We.ok){const tt=await We.json();throw new Error(tt.error||"Failed to claim reward")}return We.json()},onSuccess:Ae=>{t({title:"Reward Claimed!",description:`You've received: ${J(Ae.reward_type,Ae.reward_value)}`}),la.invalidateQueries({queryKey:["/api/easter-eggs/unlocked"]}),la.invalidateQueries({queryKey:["/api/easter-eggs/progress"]})},onError:Ae=>{t({title:"Claim Failed",description:Ae.message,variant:"destructive"})}}),te=Ae=>{switch(Ae){case"common":return"text-gray-400 border-gray-400";case"uncommon":return"text-green-400 border-green-400";case"rare":return"text-blue-400 border-blue-400";case"epic":return"text-purple-400 border-purple-400";case"legendary":return"text-yellow-400 border-yellow-400";default:return"text-gray-400 border-gray-400"}},Q=Ae=>{switch(Ae){case"common":return"from-gray-500/20 to-gray-600/20";case"uncommon":return"from-green-500/20 to-green-600/20";case"rare":return"from-blue-500/20 to-blue-600/20";case"epic":return"from-purple-500/20 to-purple-600/20";case"legendary":return"from-yellow-500/20 to-amber-600/20";default:return"from-gray-500/20 to-gray-600/20"}},J=(Ae,We)=>{switch(Ae){case"capital_bonus":return`$${We.toLocaleString()} Capital Bonus`;case"fee_waiver":return`${We}% Fee Waiver`;case"xp_boost":return`${We}x XP Multiplier`;case"secret_badge":return"Secret Badge";case"exclusive_asset":return"Exclusive Asset Access";case"special_title":return"Special Title";default:return"Mystery Reward"}},H=Ae=>w.find(We=>We.egg_id===Ae),W=Ae=>E.find(We=>We.egg_id===Ae),Z=(Ae,We)=>{var tt,Xe,lt,Qe,wt;if(!We)return 0;switch(Ae.trigger_type){case"consecutive_profitable_days":const ot=Ae.trigger_conditions.consecutive_days||1;return Math.min(100,(We.current_streak||0)/ot*100);case"portfolio_milestone":const Tt=((tt=We.progress_data)==null?void 0:tt.current_value)||0,ve=Ae.trigger_conditions.target_value||1;return Math.min(100,Tt/ve*100);case"achievement_chain":const Je=((Xe=We.progress_data)==null?void 0:Xe.completed_steps)||0,mt=((lt=Ae.trigger_conditions.required_achievements)==null?void 0:lt.length)||1;return Math.min(100,Je/mt*100);case"trading_pattern":const Rt=((Qe=We.progress_data)==null?void 0:Qe.pattern_count)||0,ts=Ae.trigger_conditions.required_count||1;return Math.min(100,Rt/ts*100);case"total_volume":const pt=((wt=We.progress_data)==null?void 0:wt.total_volume)||0,Lt=Ae.trigger_conditions.target_volume||1;return Math.min(100,pt/Lt*100);default:return 0}},pe=Ae=>{switch(i){case"unlocked":return Ae.filter(We=>E.some(tt=>tt.egg_id===We.id));case"locked":return Ae.filter(We=>!E.some(tt=>tt.egg_id===We.id));case"common":case"uncommon":case"rare":case"epic":case"legendary":return Ae.filter(We=>We.rarity===i);default:return Ae}};if(x||A||O)return s.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(FS,{className:"h-12 w-12 text-primary animate-pulse mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading Easter egg collection..."})]})});const we=pe(m),_e=E.length,de=m.length;return s.jsxs("div",{className:"min-h-screen p-6 space-y-6","data-testid":"easter-eggs-page",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-500/20 to-pink-600/20 rounded-lg",children:s.jsx(FS,{className:"h-8 w-8 text-purple-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl ",children:"Easter Egg Collection"}),s.jsx("p",{className:"text-muted-foreground",children:"Discover hidden achievements and unlock exclusive rewards"})]})]}),s.jsxs(rt,{onClick:()=>o(!a),variant:"outline",className:"flex items-center gap-2","data-testid":"button-toggle-secrets",children:[a?s.jsx(WP,{className:"h-4 w-4"}):s.jsx(y5,{className:"h-4 w-4"}),a?"Hide":"Show"," Secret Hints"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(Se,{children:[s.jsx(Be,{className:"pb-2",children:s.jsx(Ze,{className:"text-sm  text-muted-foreground",children:"Collection Progress"})}),s.jsxs(Pe,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-2xl ",children:[_e,"/",de]}),s.jsx(io,{className:"h-5 w-5 text-yellow-400"})]}),s.jsx(zc,{value:_e/de*100,className:"h-2"})]})]}),s.jsxs(Se,{children:[s.jsx(Be,{className:"pb-2",children:s.jsx(Ze,{className:"text-sm  text-muted-foreground",children:"Completion Rate"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"text-2xl ",children:[de>0?Math.round(_e/de*100):0,"%"]})})]}),s.jsxs(Se,{children:[s.jsx(Be,{className:"pb-2",children:s.jsx(Ze,{className:"text-sm  text-muted-foreground",children:"Unclaimed Rewards"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-2xl ",children:E.filter(Ae=>!Ae.reward_claimed).length}),s.jsx(b5,{className:"h-5 w-5 text-green-400"})]})})]}),s.jsxs(Se,{children:[s.jsx(Be,{className:"pb-2",children:s.jsx(Ze,{className:"text-sm  text-muted-foreground",children:"Rarest Unlocked"})}),s.jsx(Pe,{children:s.jsx("div",{className:"flex items-center gap-2",children:E.some(Ae=>{var We;return((We=m.find(tt=>tt.id===Ae.egg_id))==null?void 0:We.rarity)==="legendary"})?s.jsxs(s.Fragment,{children:[s.jsx(Oc,{className:"h-5 w-5 text-yellow-400"}),s.jsx("span",{className:"text-lg  text-yellow-400",children:"Legendary"})]}):E.some(Ae=>{var We;return((We=m.find(tt=>tt.id===Ae.egg_id))==null?void 0:We.rarity)==="epic"})?s.jsxs(s.Fragment,{children:[s.jsx(Us,{className:"h-5 w-5 text-purple-400"}),s.jsx("span",{className:"text-lg  text-purple-400",children:"Epic"})]}):s.jsx("span",{className:"text-muted-foreground",children:"None yet"})})})]})]}),s.jsxs(Ma,{value:i,onValueChange:r,children:[s.jsxs(Ea,{className:"w-full justify-start",children:[s.jsxs(Ls,{value:"all","data-testid":"tab-all",children:["All (",m.length,")"]}),s.jsxs(Ls,{value:"unlocked","data-testid":"tab-unlocked",children:["Unlocked (",_e,")"]}),s.jsxs(Ls,{value:"locked","data-testid":"tab-locked",children:["Locked (",de-_e,")"]}),s.jsx(Ls,{value:"common","data-testid":"tab-common",children:s.jsx("span",{className:"text-gray-400",children:"Common"})}),s.jsx(Ls,{value:"uncommon","data-testid":"tab-uncommon",children:s.jsx("span",{className:"text-green-400",children:"Uncommon"})}),s.jsx(Ls,{value:"rare","data-testid":"tab-rare",children:s.jsx("span",{className:"text-blue-400",children:"Rare"})}),s.jsx(Ls,{value:"epic","data-testid":"tab-epic",children:s.jsx("span",{className:"text-purple-400",children:"Epic"})}),s.jsx(Ls,{value:"legendary","data-testid":"tab-legendary",children:s.jsx("span",{className:"text-yellow-400",children:"Legendary"})})]}),s.jsx(qi,{value:i,className:"mt-6",children:we.length===0?s.jsxs(Se,{className:"p-12 text-center",children:[s.jsx(Dn,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-xl  mb-2",children:"No Easter Eggs Found"}),s.jsx("p",{className:"text-muted-foreground",children:i==="unlocked"?"You haven't unlocked any Easter eggs yet. Keep trading to discover hidden achievements!":`No ${i} Easter eggs available.`})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:we.map(Ae=>{const We=W(Ae.id),tt=H(Ae.id),Xe=!!We,lt=Z(Ae,tt),Qe=Ae.is_secret&&!Xe;return s.jsxs(Se,{className:`relative overflow-hidden ${Xe?"border-2":""} ${Xe?te(Ae.rarity).split(" ")[1]:""}`,"data-testid":`easter-egg-card-${Ae.id}`,children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${Q(Ae.rarity)} opacity-50`}),s.jsxs(Be,{className:"relative",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx(st,{variant:"outline",className:te(Ae.rarity),children:Ae.rarity.toUpperCase()}),Xe?s.jsx(xW,{className:"h-5 w-5 text-green-400"}):s.jsx(og,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsx(Ze,{className:"flex items-center gap-2",children:Qe?s.jsxs(s.Fragment,{children:[s.jsx(y5,{className:"h-5 w-5"}),s.jsx("span",{children:"???"})]}):s.jsxs(s.Fragment,{children:[s.jsx(FS,{className:"h-5 w-5"}),s.jsx("span",{children:Ae.name})]})}),s.jsx(lo,{children:Qe?"Secret Easter Egg - Unlock to reveal":Ae.description})]}),s.jsxs(Pe,{className:"relative space-y-4",children:[!Xe&&!Qe&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progress"}),s.jsxs("span",{className:"",children:[Math.round(lt),"%"]})]}),s.jsx(zc,{value:lt,className:"h-2"})]}),s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-background/50 rounded-lg",children:[s.jsx(b5,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm ",children:J(Ae.reward_type,Ae.reward_value)})]}),Ae.requires_subscription&&s.jsxs(st,{variant:"outline",className:"w-full justify-center",children:[s.jsx(Oc,{className:"h-3 w-3 mr-1"}),"Subscriber Only"]}),!Xe&&a&&Ae.hints&&Ae.hints.length>0&&s.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(wv,{className:"h-4 w-4"}),s.jsx("span",{children:"Hints:"})]}),Ae.hints.map((wt,ot)=>s.jsxs("p",{className:"text-xs text-muted-foreground italic",children:["• ",wt]},ot))]}),Xe&&!We.reward_claimed&&s.jsx(s.Fragment,{children:Ae.requires_subscription&&!u?s.jsxs("div",{className:"space-y-2",children:[s.jsxs(rt,{className:"w-full",variant:"outline",disabled:!0,"data-testid":`button-claim-${Ae.id}-locked`,children:[s.jsx(og,{className:"h-4 w-4 mr-2"}),"Subscriber Exclusive"]}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Upgrade to claim this reward"})]}):s.jsxs(rt,{className:"w-full",onClick:()=>G.mutate(We.id),disabled:G.isPending,"data-testid":`button-claim-${Ae.id}`,children:[s.jsx(Er,{className:"h-4 w-4 mr-2"}),"Claim Reward"]})}),Xe&&We.reward_claimed&&s.jsxs("div",{className:"text-center p-2 bg-green-500/10 rounded-lg",children:[s.jsx("p",{className:"text-sm text-green-400 ",children:"✓ Reward Claimed"}),We.reward_claimed_at&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(We.reward_claimed_at).toLocaleDateString()})]})]})]},Ae.id)})})})]})]})}function L0e(){const{user:e}=sn(),{toast:t}=bn(),i=V.useRef(new Set),r=V.useRef(!1),{data:a=[]}=yt({queryKey:["/api/easter-eggs/unlocked"],enabled:!!e,refetchInterval:3e4});return V.useEffect(()=>{if(!a||a.length===0)return;const o=new Set(a.map(m=>m.id));if(!r.current){i.current=o,r.current=!0;return}a.filter(m=>!i.current.has(m.id)).forEach(m=>{const x=O0e(m.egg_rarity||"common"),w=D0e(m.egg_rarity||"common");t({title:`${x} Easter Egg Discovered!`,description:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-bold",style:{color:w},children:m.egg_name||"Secret Achievement"}),m.egg_description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:m.egg_description}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Visit Easter Eggs page to claim your reward!"})]}),duration:8e3})}),i.current=o},[a,t]),{unlockedCount:a.length,hasNewUnlocks:a.some(o=>!o.reward_claimed)}}function O0e(e){switch(e.toLowerCase()){case"legendary":return"👑";case"epic":return"⭐";case"rare":return"💎";case"uncommon":return"✨";case"common":return"🎯";default:return"🏆"}}function D0e(e){switch(e.toLowerCase()){case"legendary":return"#fbbf24";case"epic":return"#a855f7";case"rare":return"#60a5fa";case"uncommon":return"#34d399";case"common":return"#9ca3af";default:return"#9ca3af"}}var LE="Dialog",[Vq,Uye]=Bn(LE),[R0e,Uo]=Vq(LE),$q=e=>{const{__scopeDialog:t,children:i,open:r,defaultOpen:a,onOpenChange:o,modal:u=!0}=e,m=V.useRef(null),x=V.useRef(null),[w=!1,A]=Lc({prop:r,defaultProp:a,onChange:o});return s.jsx(R0e,{scope:t,triggerRef:m,contentRef:x,contentId:Ro(),titleId:Ro(),descriptionId:Ro(),open:w,onOpenChange:A,onOpenToggle:V.useCallback(()=>A(E=>!E),[A]),modal:u,children:i})};$q.displayName=LE;var Uq="DialogTrigger",F0e=V.forwardRef((e,t)=>{const{__scopeDialog:i,...r}=e,a=Uo(Uq,i),o=Os(t,a.triggerRef);return s.jsx(as.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":RE(a.open),...r,ref:o,onClick:Mt(e.onClick,a.onOpenToggle)})});F0e.displayName=Uq;var OE="DialogPortal",[z0e,Gq]=Vq(OE,{forceMount:void 0}),qq=e=>{const{__scopeDialog:t,forceMount:i,children:r,container:a}=e,o=Uo(OE,t);return s.jsx(z0e,{scope:t,forceMount:i,children:V.Children.map(r,u=>s.jsx(vn,{present:i||o.open,children:s.jsx(gv,{asChild:!0,container:a,children:u})}))})};qq.displayName=OE;var SN="DialogOverlay",Kq=V.forwardRef((e,t)=>{const i=Gq(SN,e.__scopeDialog),{forceMount:r=i.forceMount,...a}=e,o=Uo(SN,e.__scopeDialog);return o.modal?s.jsx(vn,{present:r||o.open,children:s.jsx(W0e,{...a,ref:t})}):null});Kq.displayName=SN;var B0e=Qh("DialogOverlay.RemoveScroll"),W0e=V.forwardRef((e,t)=>{const{__scopeDialog:i,...r}=e,a=Uo(SN,i);return s.jsx(rj,{as:B0e,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(as.div,{"data-state":RE(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),np="DialogContent",Yq=V.forwardRef((e,t)=>{const i=Gq(np,e.__scopeDialog),{forceMount:r=i.forceMount,...a}=e,o=Uo(np,e.__scopeDialog);return s.jsx(vn,{present:r||o.open,children:o.modal?s.jsx(H0e,{...a,ref:t}):s.jsx(V0e,{...a,ref:t})})});Yq.displayName=np;var H0e=V.forwardRef((e,t)=>{const i=Uo(np,e.__scopeDialog),r=V.useRef(null),a=Os(t,i.contentRef,r);return V.useEffect(()=>{const o=r.current;if(o)return uM(o)},[]),s.jsx(Xq,{...e,ref:a,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Mt(e.onCloseAutoFocus,o=>{var u;o.preventDefault(),(u=i.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Mt(e.onPointerDownOutside,o=>{const u=o.detail.originalEvent,m=u.button===0&&u.ctrlKey===!0;(u.button===2||m)&&o.preventDefault()}),onFocusOutside:Mt(e.onFocusOutside,o=>o.preventDefault())})}),V0e=V.forwardRef((e,t)=>{const i=Uo(np,e.__scopeDialog),r=V.useRef(!1),a=V.useRef(!1);return s.jsx(Xq,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var u,m;(u=e.onCloseAutoFocus)==null||u.call(e,o),o.defaultPrevented||(r.current||(m=i.triggerRef.current)==null||m.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var x,w;(x=e.onInteractOutside)==null||x.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=o.target;((w=i.triggerRef.current)==null?void 0:w.contains(u))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),Xq=V.forwardRef((e,t)=>{const{__scopeDialog:i,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...u}=e,m=Uo(np,i),x=V.useRef(null),w=Os(t,x);return YP(),s.jsxs(s.Fragment,{children:[s.jsx(QN,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(kg,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":RE(m.open),...u,ref:w,onDismiss:()=>m.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx($0e,{titleId:m.titleId}),s.jsx(G0e,{contentRef:x,descriptionId:m.descriptionId})]})]})}),DE="DialogTitle",Zq=V.forwardRef((e,t)=>{const{__scopeDialog:i,...r}=e,a=Uo(DE,i);return s.jsx(as.h2,{id:a.titleId,...r,ref:t})});Zq.displayName=DE;var Qq="DialogDescription",Jq=V.forwardRef((e,t)=>{const{__scopeDialog:i,...r}=e,a=Uo(Qq,i);return s.jsx(as.p,{id:a.descriptionId,...r,ref:t})});Jq.displayName=Qq;var e7="DialogClose",t7=V.forwardRef((e,t)=>{const{__scopeDialog:i,...r}=e,a=Uo(e7,i);return s.jsx(as.button,{type:"button",...r,ref:t,onClick:Mt(e.onClick,()=>a.onOpenChange(!1))})});t7.displayName=e7;function RE(e){return e?"open":"closed"}var s7="DialogTitleWarning",[Gye,i7]=UQ(s7,{contentName:np,titleName:DE,docsSlug:"dialog"}),$0e=({titleId:e})=>{const t=i7(s7),i=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return V.useEffect(()=>{e&&(document.getElementById(e)||console.error(i))},[i,e]),null},U0e="DialogDescriptionWarning",G0e=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${i7(U0e).contentName}}.`;return V.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},q0e=$q,K0e=qq,r7=Kq,n7=Yq,a7=Zq,o7=Jq,Y0e=t7;const l7=q0e,X0e=K0e,c7=V.forwardRef(({className:e,...t},i)=>s.jsx(r7,{ref:i,className:Ot("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));c7.displayName=r7.displayName;const FE=V.forwardRef(({className:e,children:t,...i},r)=>s.jsxs(X0e,{children:[s.jsx(c7,{}),s.jsxs(n7,{ref:r,className:Ot("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...i,children:[t,s.jsxs(Y0e,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(GP,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));FE.displayName=n7.displayName;const zE=({className:e,...t})=>s.jsx("div",{className:Ot("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});zE.displayName="DialogHeader";const BE=V.forwardRef(({className:e,...t},i)=>s.jsx(a7,{ref:i,className:Ot("text-lg font-semibold leading-none tracking-tight",e),...t}));BE.displayName=a7.displayName;const WE=V.forwardRef(({className:e,...t},i)=>s.jsx(o7,{ref:i,className:Ot("text-sm text-muted-foreground",e),...t}));WE.displayName=o7.displayName;const HE=V.forwardRef(({className:e,...t},i)=>s.jsx("textarea",{className:Ot("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...t}));HE.displayName="Textarea";const Z0e=si.object({name:si.string().min(3,"Club name must be at least 3 characters"),description:si.string().min(10,"Description must be at least 10 characters")});function Q0e({open:e,onClose:t}){const{toast:i}=bn(),[,r]=Uc(),[a,o]=V.useState(""),[u,m]=V.useState([]),{data:x}=yt({queryKey:["/api/users/search",a],enabled:a.length>2}),{data:w}=yt({queryKey:["/api/user/subscription"]}),A=ME({resolver:EE(Z0e),defaultValues:{name:"",description:""}}),E=Gc({mutationFn:async H=>(await gu("POST","/api/investment-clubs",{...H,invitedUserIds:u.map(Z=>Z.id)})).json(),onSuccess:H=>{la.invalidateQueries({queryKey:["/api/investment-clubs"]}),i({title:"Club Created",description:`${H.name} has been created successfully`}),r(`/investment-clubs/${H.id}`),t()},onError:H=>{i({title:"Creation Failed",description:H.message,variant:"destructive"})}}),O=H=>{if(u.length<2){i({title:"Insufficient Members",description:"You need to invite at least 2 other members (3 total including yourself)",variant:"destructive"});return}E.mutate(H)},G=H=>{u.find(W=>W.id===H.id)||(m([...u,H]),o(""))},te=H=>{m(u.filter(W=>W.id!==H))},Q=(w==null?void 0:w.tier)==="pro"||(w==null?void 0:w.tier)==="elite",J=((w==null?void 0:w.subscriberCount)||0)>=3;return s.jsx(l7,{open:e,onOpenChange:t,children:s.jsxs(FE,{className:"sm:max-w-[600px]","data-testid":"create-club-modal",children:[s.jsxs(zE,{children:[s.jsx(BE,{className:"font-serif text-2xl",children:"Create Investment Club"}),s.jsx(WE,{children:"Establish a collaborative trading syndicate with trusted members"})]}),!Q&&s.jsx(Se,{className:"p-4 border-l-4 border-l-warning bg-warning/10","data-testid":"eligibility-warning",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Dc,{className:"h-5 w-5 text-warning flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-warning",children:"Office Manager Required"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"You need Office Manager (Pro) tier or higher to create investment clubs"})]})]})}),!J&&s.jsx(Se,{className:"p-4 border-l-4 border-l-destructive bg-destructive/10","data-testid":"subscriber-warning",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Zs,{className:"h-5 w-5 text-destructive flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-destructive",children:"Subscriber Requirement"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"You need at least 3 active subscribers to create an investment club"})]})]})}),s.jsxs("form",{onSubmit:A.handleSubmit(O),className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(li,{htmlFor:"name",children:"Club Name"}),s.jsx(ca,{id:"name",...A.register("name"),placeholder:"The Shadow Syndicate","data-testid":"input-club-name"}),A.formState.errors.name&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:A.formState.errors.name.message})]}),s.jsxs("div",{children:[s.jsx(li,{htmlFor:"description",children:"Description"}),s.jsx(HE,{id:"description",...A.register("description"),placeholder:"A collaborative trading group focused on high-value comic assets...",className:"min-h-[100px]","data-testid":"input-club-description"}),A.formState.errors.description&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:A.formState.errors.description.message})]}),s.jsxs("div",{children:[s.jsx(li,{children:"Minimum Members"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(st,{variant:"secondary","data-testid":"minimum-members",children:"3 members (including yourself)"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Required for club activation"})]})]}),s.jsxs("div",{children:[s.jsx(li,{htmlFor:"search",children:"Invite Members"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(bW,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ca,{id:"search",value:a,onChange:H=>o(H.target.value),placeholder:"Search users to invite...",className:"pl-9","data-testid":"input-search-users"})]}),a.length>2&&x&&x.length>0&&s.jsx(Se,{className:"mt-2 p-2 max-h-[200px] overflow-y-auto",children:x.map(H=>s.jsxs("button",{type:"button",onClick:()=>G(H),className:"w-full text-left p-2 hover-elevate rounded-md flex items-center justify-between","data-testid":`user-search-result-${H.id}`,children:[s.jsx("span",{className:"font-medium",children:H.username}),s.jsx(st,{variant:"outline",children:H.subscriptionTier})]},H.id))})]}),s.jsxs("div",{children:[s.jsxs(li,{children:["Invited Members (",u.length,")"]}),s.jsxs("div",{className:"mt-2 space-y-2",children:[u.map(H=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded-md","data-testid":`invited-user-${H.id}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:H.username}),s.jsx(st,{variant:"outline",className:"text-xs",children:H.subscriptionTier})]}),s.jsx(rt,{type:"button",size:"icon",variant:"ghost",onClick:()=>te(H.id),"data-testid":`button-remove-user-${H.id}`,children:s.jsx(GP,{className:"h-4 w-4"})})]},H.id)),u.length===0&&s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No members invited yet. Search and add at least 2 members."})]})]}),s.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:t,"data-testid":"button-cancel-create",children:"Cancel"}),s.jsx(rt,{type:"submit",disabled:!Q||!J||E.isPending,"data-testid":"button-submit-create",children:E.isPending?"Creating...":"Create Club"})]})]})]})})}function J0e(){sn();const{toast:e}=bn(),[t,i]=V.useState(!1),{data:r,isLoading:a}=yt({queryKey:["/api/investment-clubs"]}),{data:o}=yt({queryKey:["/api/user/subscription"]}),u=(o==null?void 0:o.tier)==="pro"||(o==null?void 0:o.tier)==="elite",m=()=>{if(!u){e({title:"Restricted Access",description:"Investment Clubs require Office Manager (Pro) tier or higher",variant:"destructive"});return}i(!0)},x=w=>!w||w.length===0?"0.00":w[w.length-1];return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center","data-testid":"loading-clubs",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 border-2 border-primary rounded-full animate-spin border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading investment clubs..."})]})}):s.jsxs("div",{className:"space-y-6","data-testid":"investment-clubs-page",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl  font-serif tracking-tight",children:"Investment Clubs"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Collaborative trading syndicate operations"})]}),s.jsxs(rt,{onClick:m,className:"gap-2","data-testid":"button-create-club",children:[s.jsx($P,{className:"h-4 w-4"}),"Create New Club"]})]}),!u&&s.jsx(Se,{className:"p-4 border-l-4 border-l-warning bg-warning/10","data-testid":"eligibility-warning",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Dc,{className:"h-5 w-5 text-warning flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:" text-warning",children:"Office Manager Access Required"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Investment Clubs are restricted to Office Manager (Pro) tier and above. Upgrade your subscription to create and manage collaborative trading syndicates."})]})]})}),r&&r.length===0?s.jsx(Se,{className:"p-12","data-testid":"empty-clubs",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Zs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg  mb-2",children:"No Investment Clubs"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"You are not a member of any investment clubs. Create one to start collaborative trading."}),s.jsx(rt,{onClick:m,"data-testid":"button-create-first-club",children:"Create Your First Club"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r==null?void 0:r.map(w=>{const A=parseFloat(x(w.monthlyReturns)),E=A>=0;return s.jsx(gt,{href:`/investment-clubs/${w.id}`,children:s.jsxs(Se,{className:"p-6 hover-elevate active-elevate-2 cursor-pointer transition-all","data-testid":`club-card-${w.id}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg  font-serif mb-1","data-testid":`club-name-${w.id}`,children:w.name}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:w.description})]}),s.jsx(st,{variant:w.status==="active"?"default":"secondary","data-testid":`club-status-${w.id}`,children:w.status})]}),s.jsxs("div",{className:"space-y-3 border-t border-border pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Zs,{className:"h-4 w-4"}),s.jsxs("span",{"data-testid":`club-members-${w.id}`,children:[w.memberCount," members"]})]}),s.jsxs("div",{className:"text-sm ","data-testid":`club-value-${w.id}`,children:["$",parseFloat(w.totalValue||"0").toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Monthly Return"}),s.jsxs("div",{className:`flex items-center gap-1  ${E?"text-green-500":"text-red-500"}`,children:[E?s.jsx(ns,{className:"h-4 w-4"}):s.jsx(vi,{className:"h-4 w-4"}),s.jsxs("span",{"data-testid":`club-return-${w.id}`,children:[E?"+":"",A.toFixed(2),"%"]})]})]})]})]})},w.id)})}),s.jsx(Q0e,{open:t,onClose:()=>i(!1)})]})}function eye({proposal:e,clubId:t}){sn();const{toast:i}=bn(),r=e.votesFor+e.votesAgainst,a=r>0?e.votesFor/r*100:0,o=!!e.userVote,u=e.expiresAt&&new Date(e.expiresAt)<new Date,m=e.status!=="pending"||u,x=Gc({mutationFn:async O=>(await gu("POST",`/api/investment-clubs/${t}/proposals/${e.id}/vote`,{vote:O})).json(),onSuccess:()=>{la.invalidateQueries({queryKey:["/api/investment-clubs",t]}),i({title:"Vote Recorded",description:"Your vote has been counted"})},onError:O=>{i({title:"Vote Failed",description:O.message,variant:"destructive"})}}),w=()=>{switch(e.status){case"pending":return s.jsx(st,{variant:"default",className:"bg-yellow-600",children:"Pending"});case"approved":return s.jsx(st,{variant:"default",className:"bg-green-600",children:"Approved"});case"rejected":return s.jsx(st,{variant:"destructive",children:"Rejected"});case"executed":return s.jsx(st,{variant:"default",className:"bg-blue-600",children:"Executed"});case"expired":return s.jsx(st,{variant:"secondary",children:"Expired"});default:return s.jsx(st,{variant:"secondary",children:e.status})}},A=()=>{switch(e.status){case"approved":return s.jsx(BP,{className:"h-5 w-5 text-green-500"});case"rejected":return s.jsx(pW,{className:"h-5 w-5 text-red-500"});case"expired":return s.jsx(pn,{className:"h-5 w-5 text-muted-foreground"});default:return s.jsx(pn,{className:"h-5 w-5 text-yellow-500"})}},E=()=>{if(!e.expiresAt)return null;const O=new Date,te=new Date(e.expiresAt).getTime()-O.getTime();if(te<=0)return"Expired";const Q=Math.floor(te/(1e3*60*60)),J=Math.floor(te%(1e3*60*60)/(1e3*60));return Q>24?`${Math.floor(Q/24)}d ${Q%24}h remaining`:`${Q}h ${J}m remaining`};return s.jsxs(Se,{className:"p-6","data-testid":`proposal-${e.id}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold font-serif capitalize",children:e.proposalType.replace(/_/g," ")}),w()]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Proposed by ",s.jsx("span",{className:"font-semibold",children:e.proposerUsername})]})]}),A()]}),(e.assetSymbol||e.assetName)&&s.jsx("div",{className:"mb-4 p-3 bg-muted rounded-md",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Asset"}),s.jsxs("p",{className:"font-semibold",children:[e.assetSymbol," - ",e.assetName]})]}),e.quantity&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Quantity"}),s.jsx("p",{className:"font-semibold",children:e.quantity})]}),e.targetPrice&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Target Price"}),s.jsxs("p",{className:"font-semibold",children:["$",parseFloat(e.targetPrice).toFixed(2)]})]})]})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Rationale"}),s.jsx("p",{className:"text-sm",children:e.rationale})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Votes"}),s.jsxs("span",{className:"text-sm font-medium","data-testid":`vote-count-${e.id}`,children:[e.votesFor," For / ",e.votesAgainst," Against"]})]}),s.jsx(zc,{value:a,className:"h-2","data-testid":`vote-progress-${e.id}`})]}),e.expiresAt&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(pn,{className:"h-4 w-4"}),s.jsx("span",{"data-testid":`time-remaining-${e.id}`,children:E()})]}),o&&s.jsxs("div",{className:"text-sm text-muted-foreground","data-testid":`user-vote-${e.id}`,children:["You voted: ",s.jsx("span",{className:"font-semibold capitalize",children:e.userVote})]}),!m&&!o&&s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs(rt,{onClick:()=>x.mutate("for"),disabled:x.isPending,className:"flex-1 gap-2",variant:"default","data-testid":`button-vote-for-${e.id}`,children:[s.jsx(gee,{className:"h-4 w-4"}),"For"]}),s.jsxs(rt,{onClick:()=>x.mutate("against"),disabled:x.isPending,className:"flex-1 gap-2",variant:"destructive","data-testid":`button-vote-against-${e.id}`,children:[s.jsx(fee,{className:"h-4 w-4"}),"Against"]}),s.jsxs(rt,{onClick:()=>x.mutate("abstain"),disabled:x.isPending,className:"flex-1 gap-2",variant:"outline","data-testid":`button-vote-abstain-${e.id}`,children:[s.jsx(XN,{className:"h-4 w-4"}),"Abstain"]})]})]})]})}const tye=si.object({proposalType:si.enum(["buy","sell","transfer_funds","change_rules"]),assetId:si.string().optional(),quantity:si.number().min(1).optional(),targetPrice:si.number().min(0).optional(),rationale:si.string().min(10,"Rationale must be at least 10 characters")});function sye({open:e,onClose:t,clubId:i}){const{toast:r}=bn(),{data:a}=yt({queryKey:["/api/assets"],enabled:e}),o=ME({resolver:EE(tye),defaultValues:{proposalType:"buy",rationale:""}}),u=o.watch("proposalType"),m=u==="buy"||u==="sell",x=Gc({mutationFn:async A=>(await gu("POST",`/api/investment-clubs/${i}/proposals`,A)).json(),onSuccess:()=>{la.invalidateQueries({queryKey:["/api/investment-clubs",i]}),r({title:"Proposal Created",description:"Your proposal has been submitted for member voting"}),o.reset(),t()},onError:A=>{r({title:"Creation Failed",description:A.message,variant:"destructive"})}}),w=A=>{if(m&&!A.assetId){r({title:"Asset Required",description:"Please select an asset for this proposal type",variant:"destructive"});return}x.mutate(A)};return s.jsx(l7,{open:e,onOpenChange:t,children:s.jsxs(FE,{className:"sm:max-w-[600px]","data-testid":"create-proposal-modal",children:[s.jsxs(zE,{children:[s.jsx(BE,{className:"font-serif text-2xl",children:"Create Proposal"}),s.jsx(WE,{children:"Submit a trading proposal for member voting"})]}),s.jsxs("form",{onSubmit:o.handleSubmit(w),className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(li,{htmlFor:"proposalType",children:"Proposal Type"}),s.jsxs(Hc,{value:o.watch("proposalType"),onValueChange:A=>o.setValue("proposalType",A),children:[s.jsx(Dl,{id:"proposalType","data-testid":"select-proposal-type",children:s.jsx(Vc,{})}),s.jsxs(Rl,{children:[s.jsx(Si,{value:"buy","data-testid":"type-buy",children:"Buy Asset"}),s.jsx(Si,{value:"sell","data-testid":"type-sell",children:"Sell Asset"}),s.jsx(Si,{value:"transfer_funds","data-testid":"type-transfer",children:"Transfer Funds"}),s.jsx(Si,{value:"change_rules","data-testid":"type-rules",children:"Change Rules"})]})]})]}),m&&s.jsxs("div",{children:[s.jsx(li,{htmlFor:"assetId",children:"Asset"}),s.jsxs(Hc,{value:o.watch("assetId")||"",onValueChange:A=>o.setValue("assetId",A),children:[s.jsx(Dl,{id:"assetId","data-testid":"select-asset",children:s.jsx(Vc,{placeholder:"Select an asset"})}),s.jsx(Rl,{children:a==null?void 0:a.map(A=>s.jsxs(Si,{value:A.id,"data-testid":`asset-${A.id}`,children:[A.symbol," - ",A.name]},A.id))})]})]}),m&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(li,{htmlFor:"quantity",children:"Quantity"}),s.jsx(ca,{id:"quantity",type:"number",min:"1",...o.register("quantity",{valueAsNumber:!0}),placeholder:"100","data-testid":"input-quantity"})]}),s.jsxs("div",{children:[s.jsx(li,{htmlFor:"targetPrice",children:"Target Price"}),s.jsx(ca,{id:"targetPrice",type:"number",step:"0.01",min:"0",...o.register("targetPrice",{valueAsNumber:!0}),placeholder:"50.00","data-testid":"input-target-price"})]})]}),s.jsxs("div",{children:[s.jsx(li,{htmlFor:"rationale",children:"Rationale"}),s.jsx(HE,{id:"rationale",...o.register("rationale"),placeholder:"Explain why this proposal benefits the club...",className:"min-h-[120px]","data-testid":"input-rationale"}),o.formState.errors.rationale&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:o.formState.errors.rationale.message})]}),s.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:t,"data-testid":"button-cancel-proposal",children:"Cancel"}),s.jsx(rt,{type:"submit",disabled:x.isPending,"data-testid":"button-submit-proposal",children:x.isPending?"Creating...":"Submit Proposal"})]})]})]})})}function iye(){var G,te,Q,J,H,W,Z,pe,me,we,_e;const[,e]=AP("/investment-clubs/:id"),{user:t}=sn();bn();const[i,r]=V.useState(!1),[a,o]=V.useState("overview"),{data:u,isLoading:m}=yt({queryKey:["/api/investment-clubs",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)});if(m)return s.jsx("div",{className:"min-h-screen flex items-center justify-center","data-testid":"loading-club-detail",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 border-2 border-primary rounded-full animate-spin border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading club details..."})]})});if(!u)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Club not found"})});u.ownerId,t==null||t.id;const x=((G=u.monthlyReturns)==null?void 0:G[u.monthlyReturns.length-1])||"0",w=parseFloat(x)>=0,A={chart:{type:"line",backgroundColor:"transparent"},title:{text:"Monthly Returns",style:{color:"#9CA3AF"}},xAxis:{categories:((te=u.monthlyReturns)==null?void 0:te.map((de,Ae)=>`Month ${Ae+1}`))||[],labels:{style:{color:"#9CA3AF"}}},yAxis:{title:{text:"Return %",style:{color:"#9CA3AF"}},labels:{style:{color:"#9CA3AF"}}},series:[{type:"line",name:"Returns",data:((Q=u.monthlyReturns)==null?void 0:Q.map(de=>parseFloat(de)))||[],color:"#10B981"}],credits:{enabled:!1},legend:{enabled:!1}},E=de=>{switch(de){case"owner":return s.jsx(Oc,{className:"h-4 w-4 text-yellow-500"});case"admin":return s.jsx(zr,{className:"h-4 w-4 text-blue-500"});default:return s.jsx(xn,{className:"h-4 w-4 text-muted-foreground"})}},O=de=>{switch(de){case"owner":return s.jsx(st,{variant:"default",className:"bg-yellow-600",children:"Owner"});case"admin":return s.jsx(st,{variant:"default",className:"bg-blue-600",children:"Admin"});default:return s.jsx(st,{variant:"secondary",children:"Member"})}};return s.jsxs("div",{className:"space-y-6","data-testid":"club-detail-page",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl  font-serif tracking-tight","data-testid":"club-detail-name",children:u.name}),s.jsx("p",{className:"text-muted-foreground mt-1",children:u.description})]}),s.jsx(st,{variant:u.status==="active"?"default":"secondary","data-testid":"club-detail-status",children:u.status})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),s.jsxs("p",{className:"text-2xl ","data-testid":"club-total-value",children:["$",parseFloat(u.totalValue||"0").toLocaleString()]})]}),s.jsx(oo,{className:"h-8 w-8 text-muted-foreground"})]})}),s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Members"}),s.jsx("p",{className:"text-2xl ","data-testid":"club-member-count",children:((J=u.members)==null?void 0:J.length)||0})]}),s.jsx(Zs,{className:"h-8 w-8 text-muted-foreground"})]})}),s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly Return"}),s.jsxs("p",{className:`text-2xl  ${w?"text-green-500":"text-red-500"}`,"data-testid":"club-monthly-return",children:[w?"+":"",x,"%"]})]}),w?s.jsx(ns,{className:"h-8 w-8 text-green-500"}):s.jsx(vi,{className:"h-8 w-8 text-red-500"})]})})]}),s.jsxs(Ma,{value:a,onValueChange:o,children:[s.jsxs(Ea,{className:"grid w-full grid-cols-5","data-testid":"club-tabs",children:[s.jsx(Ls,{value:"overview","data-testid":"tab-overview",children:"Overview"}),s.jsx(Ls,{value:"portfolio","data-testid":"tab-portfolio",children:"Portfolio"}),s.jsx(Ls,{value:"proposals","data-testid":"tab-proposals",children:"Proposals"}),s.jsx(Ls,{value:"members","data-testid":"tab-members",children:"Members"}),s.jsx(Ls,{value:"activity","data-testid":"tab-activity",children:"Activity"})]}),s.jsx(qi,{value:"overview",className:"space-y-4",children:s.jsx(Se,{className:"p-6",children:s.jsx(bN,{highcharts:NT,options:A})})}),s.jsxs(qi,{value:"portfolio",className:"space-y-4",children:[s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg ",children:"Cash Balance"}),s.jsxs("p",{className:"text-2xl ","data-testid":"club-cash-balance",children:["$",parseFloat(((H=u.portfolio)==null?void 0:H.cashBalance)||"0").toLocaleString()]})]})}),s.jsxs(Se,{className:"p-6",children:[s.jsx("h3",{className:"text-lg  mb-4",children:"Holdings"}),s.jsxs("div",{className:"space-y-2",children:[(Z=(W=u.portfolio)==null?void 0:W.holdings)==null?void 0:Z.map(de=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md bg-muted/50","data-testid":`holding-${de.assetId}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:"",children:de.symbol}),s.jsx("p",{className:"text-sm text-muted-foreground",children:de.assetName})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"",children:[de.quantity," shares"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",parseFloat(de.totalValue).toLocaleString()]})]})]},de.assetId)),(!((pe=u.portfolio)!=null&&pe.holdings)||u.portfolio.holdings.length===0)&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No holdings yet"})]})]})]}),s.jsxs(qi,{value:"proposals",className:"space-y-4",children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs(rt,{onClick:()=>r(!0),className:"gap-2","data-testid":"button-create-proposal",children:[s.jsx($P,{className:"h-4 w-4"}),"Create Proposal"]})}),s.jsxs("div",{className:"space-y-3",children:[(me=u.proposals)==null?void 0:me.map(de=>s.jsx(eye,{proposal:de,clubId:u.id},de.id)),(!u.proposals||u.proposals.length===0)&&s.jsx(Se,{className:"p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(fW,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No proposals yet"})]})})]})]}),s.jsx(qi,{value:"members",className:"space-y-4",children:s.jsxs(Se,{className:"p-6",children:[s.jsx("h3",{className:"text-lg  mb-4",children:"Club Members"}),s.jsx("div",{className:"space-y-2",children:(we=u.members)==null?void 0:we.map(de=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md bg-muted/50","data-testid":`member-${de.userId}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[E(de.role),s.jsxs("div",{children:[s.jsx("p",{className:"",children:de.username}),O(de.role)]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"","data-testid":`member-share-${de.userId}`,children:[parseFloat(de.sharePercentage).toFixed(1),"%"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",parseFloat(de.contributionAmount||"0").toLocaleString()]})]})]},de.id))})]})}),s.jsx(qi,{value:"activity",className:"space-y-4",children:s.jsxs(Se,{className:"p-6",children:[s.jsx("h3",{className:"text-lg  mb-4",children:"Activity Log"}),s.jsx(Lo,{className:"h-[400px]",children:s.jsxs("div",{className:"space-y-3",children:[(_e=u.activities)==null?void 0:_e.map(de=>s.jsxs("div",{className:"flex gap-3 pb-3 border-b border-border last:border-0","data-testid":`activity-${de.id}`,children:[s.jsx(Ta,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"",children:de.username})," ",de.actionType.replace(/_/g," ")]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(de.timestamp).toLocaleString()})]})]},de.id)),(!u.activities||u.activities.length===0)&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No activity yet"})]})})]})})]}),s.jsx(sye,{open:i,onClose:()=>r(!1),clubId:u.id})]})}function X4(){const{data:e,isLoading:t,error:i}=yt({queryKey:["/api/analytics/quantum-momentum"],refetchInterval:15e3}),r=o=>{switch(o){case"breakout":return"text-green-400";case"accumulation":return"text-blue-400";case"distribution":return"text-red-400";default:return"text-gray-400"}},a=o=>{switch(o){case"breakout":return s.jsx(Er,{className:"w-3 h-3"});case"accumulation":return s.jsx(ns,{className:"w-3 h-3"});default:return s.jsx(Ta,{className:"w-3 h-3"})}};return s.jsxs(Se,{className:"p-4 bg-black/40 border-indigo-900/30","data-testid":"widget-quantum-momentum",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-indigo-500/20 flex items-center justify-center",children:s.jsx(Er,{className:"w-4 h-4 text-indigo-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm  text-gray-100",children:"Quantum Momentum Detector"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Pre-trend phase shift analysis"})]})]})}),t?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(cp,{className:"w-6 h-6 animate-spin text-indigo-400"})}):i?s.jsx("div",{className:"flex items-center justify-center py-8 text-red-400 text-sm",children:"Failed to load quantum momentum signals"}):s.jsx("div",{className:"space-y-2",children:e==null?void 0:e.slice(0,8).map(o=>s.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-black/20 border border-gray-800/50 hover-elevate","data-testid":`momentum-signal-${o.assetId}`,children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-mono text-indigo-400",children:o.symbol}),s.jsx(st,{variant:"secondary",className:"text-xs h-5",children:o.quantumState.toUpperCase()})]}),s.jsx("p",{className:"text-xs text-gray-400 truncate",children:o.assetName})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-xs font-mono text-gray-100",children:["$",o.currentPrice.toFixed(2)]}),s.jsxs("div",{className:`text-xs font-mono ${o.projectedMove>=0?"text-green-400":"text-red-400"}`,children:[o.projectedMove>=0?"+":"",o.projectedMove.toFixed(2),"%"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:`${r(o.quantumState)}`,children:a(o.quantumState)}),s.jsx("div",{className:"w-12 h-1 rounded-full bg-gray-800 overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500",style:{width:`${Math.min(100,o.signalStrength*100)}%`}})})]})]})]},o.assetId))}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-800/50 flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Real-time momentum analysis"}),s.jsxs("span",{className:"text-indigo-400 font-mono",children:[(e==null?void 0:e.length)||0," signals"]})]})]})}function wA(){const{data:e,isLoading:t,error:i}=yt({queryKey:["/api/analytics/arbitrage-opportunities"],refetchInterval:2e4}),r=a=>a>=.8?"text-green-400":a>=.6?"text-yellow-400":"text-orange-400";return s.jsxs(Se,{className:"p-4 bg-black/40 border-indigo-900/30","data-testid":"widget-arbitrage-scanner",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-emerald-500/20 flex items-center justify-center",children:s.jsx(tee,{className:"w-4 h-4 text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm  text-gray-100",children:"Cross-Asset Arbitrage Scanner"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Correlated asset pricing inefficiencies"})]})]})}),t?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(cp,{className:"w-6 h-6 animate-spin text-emerald-400"})}):i?s.jsx("div",{className:"flex items-center justify-center py-8 text-red-400 text-sm",children:"Failed to load arbitrage opportunities"}):s.jsx("div",{className:"space-y-3",children:e==null?void 0:e.slice(0,6).map(a=>s.jsxs("div",{className:"p-3 rounded bg-black/20 border border-gray-800/50 hover-elevate","data-testid":`arbitrage-opp-${a.id}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs(st,{variant:"secondary",className:"text-xs h-5 bg-emerald-500/20 text-emerald-400",children:[a.profitPotential.toFixed(2),"% PROFIT"]}),s.jsxs("div",{className:`text-xs font-mono ${r(a.confidence)}`,children:[(a.confidence*100).toFixed(0),"% confidence"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-xs font-mono text-purple-400",children:a.asset1.symbol}),s.jsx("div",{className:"text-xs text-gray-500 truncate",children:a.asset1.name}),s.jsxs("div",{className:"text-xs font-mono text-gray-100",children:["$",a.asset1.price.toFixed(2)]})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(FJ,{className:"w-4 h-4 text-gray-600"}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[(a.correlation*100).toFixed(0),"% corr"]})]}),s.jsxs("div",{className:"flex-1 text-right",children:[s.jsx("div",{className:"text-xs font-mono text-purple-400",children:a.asset2.symbol}),s.jsx("div",{className:"text-xs text-gray-500 truncate",children:a.asset2.name}),s.jsxs("div",{className:"text-xs font-mono text-gray-100",children:["$",a.asset2.price.toFixed(2)]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t border-gray-800/50 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Spread"}),s.jsxs("div",{className:"font-mono text-emerald-400",children:[a.currentSpread.toFixed(2),"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Expected"}),s.jsxs("div",{className:"font-mono text-gray-400",children:[a.expectedSpread.toFixed(2),"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Window"}),s.jsxs("div",{className:"font-mono text-gray-400",children:[a.timeWindow,"h"]})]})]})]})]},a.id))}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-800/50 flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Statistical arbitrage detection"}),s.jsxs("span",{className:"text-emerald-400 font-mono",children:[(e==null?void 0:e.length)||0," opportunities"]})]})]})}function Z4(){const{data:e,isLoading:t,error:i}=yt({queryKey:["/api/analytics/anomalies"],refetchInterval:1e4}),r=o=>{switch(o){case"critical":return"bg-red-500/20 text-red-400 border-red-500/30";case"high":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"medium":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";default:return"bg-blue-500/20 text-blue-400 border-blue-500/30"}},a=o=>o.replace(/_/g," ").toUpperCase();return s.jsxs(Se,{className:"p-4 bg-black/40 border-indigo-900/30","data-testid":"widget-anomaly-detector",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-red-500/20 flex items-center justify-center",children:s.jsx(Dc,{className:"w-4 h-4 text-red-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm  text-gray-100",children:"Time-Series Anomaly Detector"}),s.jsx("p",{className:"text-xs text-gray-500",children:"ML-powered unusual pattern detection"})]})]})}),t?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(cp,{className:"w-6 h-6 animate-spin text-red-400"})}):i?s.jsx("div",{className:"flex items-center justify-center py-8 text-red-400 text-sm",children:"Failed to load anomaly detection data"}):s.jsx("div",{className:"space-y-2",children:e==null?void 0:e.slice(0,8).map(o=>s.jsxs("div",{className:"p-3 rounded bg-black/20 border border-gray-800/50 hover-elevate","data-testid":`anomaly-${o.id}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-mono text-red-400",children:o.symbol}),s.jsx(st,{variant:"secondary",className:`text-xs h-5 ${r(o.severity)}`,children:o.severity.toUpperCase()})]}),s.jsx("div",{className:"text-xs text-gray-500",children:SG(new Date(o.detectedAt),{addSuffix:!0})})]}),s.jsx("p",{className:"text-xs text-gray-400 mb-2 truncate",children:o.assetName}),s.jsxs("div",{className:"p-2 rounded bg-black/30 border border-red-900/30 mb-2",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:a(o.anomalyType)}),s.jsx("p",{className:"text-xs text-gray-300",children:o.description})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Deviation"}),s.jsxs("div",{className:"font-mono text-red-400",children:[o.deviationScore.toFixed(2),"σ"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Expected"}),s.jsx("div",{className:"font-mono text-gray-400",children:o.expectedValue.toFixed(2)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Actual"}),s.jsx("div",{className:"font-mono text-gray-100",children:o.actualValue.toFixed(2)})]})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Probability"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-16 h-1 rounded-full bg-gray-800 overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-red-500 to-orange-500",style:{width:`${Math.min(100,o.probability*100)}%`}})}),s.jsxs("span",{className:"text-xs font-mono text-red-400",children:[(o.probability*100).toFixed(0),"%"]})]})]})]},o.id))}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-800/50 flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Real-time ML detection"}),s.jsxs("span",{className:"text-red-400 font-mono",children:[(e==null?void 0:e.length)||0," anomalies"]})]})]})}function Q4(){const{data:e,isLoading:t,error:i}=yt({queryKey:["/api/analytics/fractal-patterns"],refetchInterval:3e4}),r=o=>o.split("_").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" "),a=o=>o>=.85?"text-green-400":o>=.7?"text-yellow-400":"text-orange-400";return s.jsxs(Se,{className:"p-4 bg-black/40 border-indigo-900/30","data-testid":"widget-fractal-pattern",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-violet-500/20 flex items-center justify-center",children:s.jsx(hee,{className:"w-4 h-4 text-violet-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm  text-gray-100",children:"Fractal Pattern Recognition"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Self-similar price structure detection"})]})]})}),t?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(cp,{className:"w-6 h-6 animate-spin text-violet-400"})}):i?s.jsx("div",{className:"flex items-center justify-center py-8 text-red-400 text-sm",children:"Failed to load fractal patterns"}):s.jsx("div",{className:"space-y-2",children:e==null?void 0:e.slice(0,7).map(o=>s.jsxs("div",{className:"p-3 rounded bg-black/20 border border-gray-800/50 hover-elevate","data-testid":`fractal-pattern-${o.id}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-mono text-violet-400",children:o.symbol}),s.jsx(st,{variant:"secondary",className:"text-xs h-5 bg-violet-500/20 text-violet-400",children:r(o.patternType)})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(wv,{className:"w-3 h-3 text-violet-400"}),s.jsxs("span",{className:`text-xs font-mono ${a(o.reliability)}`,children:[(o.reliability*100).toFixed(0),"%"]})]})]}),s.jsx("p",{className:"text-xs text-gray-400 mb-2 truncate",children:o.assetName}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Pattern Completion"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-20 h-1 rounded-full bg-gray-800 overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-violet-500 to-purple-500",style:{width:`${o.completionPercent}%`}})}),s.jsxs("span",{className:"font-mono text-violet-400",children:[o.completionPercent,"%"]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Current"}),s.jsxs("div",{className:"font-mono text-gray-100",children:["$",o.currentPrice.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Target"}),s.jsxs("div",{className:"font-mono text-gray-100",children:["$",o.projectedTarget.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Move"}),s.jsxs("div",{className:`font-mono ${o.projectedChange>=0?"text-green-400":"text-red-400"}`,children:[o.projectedChange>=0?"+":"",o.projectedChange.toFixed(1),"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Frame"}),s.jsx("div",{className:"font-mono text-gray-400",children:o.timeframe})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs pt-2 border-t border-gray-800/50",children:[s.jsxs("span",{className:"text-gray-500",children:["Fractal Dimension: ",o.fractalDimension.toFixed(3)]}),s.jsxs("span",{className:"text-violet-400",children:["Similarity: ",(o.selfSimilarity*100).toFixed(0),"%"]})]})]})]},o.id))}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-800/50 flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Geometric pattern analysis"}),s.jsxs("span",{className:"text-violet-400 font-mono",children:[(e==null?void 0:e.length)||0," patterns"]})]})]})}function J4(){const{data:e,isLoading:t,error:i}=yt({queryKey:["/api/analytics/microstructure"],refetchInterval:5e3}),r=o=>o>.3?"text-green-400":o<-.3?"text-red-400":"text-gray-400",a=o=>o>.5?"bg-green-500/20 text-green-400 border-green-500/30":o>0?"bg-blue-500/20 text-blue-400 border-blue-500/30":"bg-red-500/20 text-red-400 border-red-500/30";return s.jsxs(Se,{className:"p-4 bg-black/40 border-indigo-900/30","data-testid":"widget-microstructure",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-teal-500/20 flex items-center justify-center",children:s.jsx(nee,{className:"w-4 h-4 text-teal-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm  text-gray-100",children:"Market Microstructure Analyzer"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Deep order flow & mechanics analysis"})]})]})}),t?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(cp,{className:"w-6 h-6 animate-spin text-teal-400"})}):i?s.jsx("div",{className:"flex items-center justify-center py-8 text-red-400 text-sm",children:"Failed to load microstructure data"}):s.jsx("div",{className:"space-y-3",children:e==null?void 0:e.slice(0,6).map(o=>s.jsxs("div",{className:"p-3 rounded bg-black/20 border border-gray-800/50 hover-elevate","data-testid":`microstructure-${o.assetId}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-mono text-teal-400",children:o.symbol}),s.jsxs(st,{variant:"secondary",className:`text-xs h-5 ${a(o.microstructureAlpha)}`,children:["α ",o.microstructureAlpha>=0?"+":"",o.microstructureAlpha.toFixed(3)]})]}),s.jsxs("div",{className:"text-xs font-mono text-gray-100",children:["$",o.currentPrice.toFixed(2)]})]}),s.jsx("p",{className:"text-xs text-gray-400 mb-3 truncate",children:o.assetName}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Spread"}),s.jsxs("span",{className:"font-mono text-gray-100",children:[o.spreadBps.toFixed(1)," bps"]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Imbalance"}),s.jsxs("span",{className:`font-mono ${r(o.orderImbalance)}`,children:[(o.orderImbalance*100).toFixed(1),"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Toxic Flow"}),s.jsxs("div",{className:"flex items-center gap-1",children:[o.toxicFlow>.6&&s.jsx(Sg,{className:"w-3 h-3 text-red-400"}),s.jsxs("span",{className:`font-mono ${o.toxicFlow>.6?"text-red-400":"text-gray-400"}`,children:[(o.toxicFlow*100).toFixed(0),"%"]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Informed"}),s.jsxs("span",{className:"font-mono text-purple-400",children:[(o.informedTrading*100).toFixed(0),"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Depth"}),s.jsxs("span",{className:"font-mono text-gray-100",children:["$",(o.marketDepth/1e3).toFixed(1),"K"]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Efficiency"}),s.jsxs("span",{className:"font-mono text-teal-400",children:[(o.priceEfficiency*100).toFixed(0),"%"]})]})]})]}),s.jsx("div",{className:"mt-3 pt-2 border-t border-gray-800/50",children:s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Liquidity Score"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-16 h-1 rounded-full bg-gray-800 overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-teal-500 to-cyan-500",style:{width:`${o.liquidityScore*100}%`}})}),s.jsxs("span",{className:"font-mono text-teal-400",children:[(o.liquidityScore*100).toFixed(0),"%"]})]})]})})]},o.assetId))}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-800/50 flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Sub-tick precision analysis"}),s.jsxs("span",{className:"text-teal-400 font-mono",children:[(e==null?void 0:e.length)||0," assets"]})]})]})}function eO(){const{data:e,isLoading:t,error:i}=yt({queryKey:["/api/analytics/sentiment-velocity"],refetchInterval:15e3}),r=o=>{switch(o){case"bullish":return"bg-green-500/20 text-green-400 border-green-500/30";case"bearish":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},a=o=>o>0?s.jsx(ns,{className:"w-3 h-3"}):o<0?s.jsx(vi,{className:"w-3 h-3"}):s.jsx(v5,{className:"w-3 h-3"});return s.jsxs(Se,{className:"p-4 bg-black/40 border-indigo-900/30","data-testid":"widget-sentiment-velocity",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-orange-500/20 flex items-center justify-center",children:s.jsx(v5,{className:"w-4 h-4 text-orange-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm  text-gray-100",children:"Social Sentiment Velocity"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Rate of change in market sentiment"})]})]})}),t?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(cp,{className:"w-6 h-6 animate-spin text-orange-400"})}):i?s.jsx("div",{className:"flex items-center justify-center py-8 text-red-400 text-sm",children:"Failed to load sentiment velocity data"}):s.jsx("div",{className:"space-y-2",children:e==null?void 0:e.slice(0,8).map(o=>s.jsxs("div",{className:"p-3 rounded bg-black/20 border border-gray-800/50 hover-elevate","data-testid":`sentiment-velocity-${o.assetId}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-mono text-orange-400",children:o.symbol}),s.jsx(st,{variant:"secondary",className:`text-xs h-5 ${r(o.momentum)}`,children:o.momentum.toUpperCase()}),o.inflectionPoint&&s.jsx(st,{variant:"secondary",className:"text-xs h-5 bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:"INFLECTION"})]}),s.jsxs("div",{className:"text-xs font-mono text-gray-100",children:["$",o.currentPrice.toFixed(2)]})]}),s.jsx("p",{className:"text-xs text-gray-400 mb-2 truncate",children:o.assetName}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Sentiment"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-24 h-1 rounded-full bg-gray-800 overflow-hidden",children:s.jsx("div",{className:`h-full ${o.sentiment>=0?"bg-gradient-to-r from-gray-600 to-green-500":"bg-gradient-to-r from-red-500 to-gray-600"}`,style:{width:"100%",transform:`translateX(${o.sentiment*50}%)`}})}),s.jsxs("span",{className:`font-mono ${o.sentiment>=0?"text-green-400":"text-red-400"}`,children:[(o.sentiment*100).toFixed(0),"%"]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"1h Δ"}),s.jsxs("div",{className:`font-mono flex items-center gap-1 ${o.sentimentChange1h>=0?"text-green-400":"text-red-400"}`,children:[a(o.sentimentChange1h),o.sentimentChange1h>=0?"+":"",(o.sentimentChange1h*100).toFixed(1)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"24h Δ"}),s.jsxs("div",{className:`font-mono ${o.sentimentChange24h>=0?"text-green-400":"text-red-400"}`,children:[o.sentimentChange24h>=0?"+":"",(o.sentimentChange24h*100).toFixed(1)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Velocity"}),s.jsx("div",{className:"font-mono text-orange-400",children:o.velocity.toFixed(2)})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs pt-2 border-t border-gray-800/50",children:[s.jsxs("span",{className:"text-gray-500",children:["Social Volume: ",o.socialVolume.toLocaleString()]}),s.jsxs("span",{className:"text-orange-400",children:["News Impact: ",(o.newsImpact*100).toFixed(0),"%"]})]})]})]},o.assetId))}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-800/50 flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Real-time sentiment tracking"}),s.jsxs("span",{className:"text-orange-400 font-mono",children:[(e==null?void 0:e.length)||0," tracked"]})]})]})}function rye(){const[e,t]=V.useState("all");return s.jsx("div",{className:"h-full overflow-auto bg-gradient-to-br from-black via-gray-900 to-indigo-950",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg",children:s.jsx(Ta,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl  text-white",children:"Advanced Analytics"}),s.jsx("p",{className:"text-gray-400",children:"Bloomberg Terminal-grade market intelligence"})]})]}),s.jsxs(Ma,{value:e,onValueChange:t,className:"w-full",children:[s.jsxs(Ea,{className:"bg-black/40 border border-indigo-900/30 mb-6",children:[s.jsx(Ls,{value:"all","data-testid":"tab-all",children:"All Analytics"}),s.jsx(Ls,{value:"momentum","data-testid":"tab-momentum",children:"Momentum"}),s.jsx(Ls,{value:"intelligence","data-testid":"tab-intelligence",children:"Intelligence"}),s.jsx(Ls,{value:"microstructure","data-testid":"tab-microstructure",children:"Microstructure"})]}),s.jsx(qi,{value:"all",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(X4,{}),s.jsx(bT,{}),s.jsx(wA,{}),s.jsx(Z4,{}),s.jsx(Q4,{}),s.jsx(J4,{}),s.jsx(eO,{})]})}),s.jsx(qi,{value:"momentum",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(X4,{}),s.jsx(Q4,{}),s.jsx(eO,{})]})}),s.jsx(qi,{value:"intelligence",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(bT,{}),s.jsx(wA,{}),s.jsx(Z4,{})]})}),s.jsx(qi,{value:"microstructure",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(J4,{}),s.jsx(wA,{})]})})]})]})})}function nye(){const[e,t]=AP("/news/:id"),i=t==null?void 0:t.id,r={"marvel-phase-6":{id:"marvel-phase-6",title:"BREAKING: Marvel announces Phase 6 slate - collector interest surging",content:`Marvel Studios has officially unveiled its Phase 6 slate, sending shockwaves through the collector community. The announcement includes several highly anticipated titles that are expected to drive significant demand for related comic assets.

Industry analysts predict a 40% surge in trading volume for key Marvel properties, with particular focus on characters set to appear in upcoming films. Early trading data shows Spider-Man and Avengers assets already experiencing double-digit gains.

"This is the kind of event that reshapes the entire market," says noted collector Marcus Chen. "We're seeing institutional investors positioning themselves ahead of the release cycle."

The announcement has also sparked renewed interest in vintage issues featuring these characters, with some Golden Age books seeing their first major price movements in years.`,category:"Breaking News",publishedAt:new Date().toISOString(),author:"Sarah Martinez",tags:["Marvel","Phase 6","Market Impact","Investing"]},"superman-ath":{id:"superman-ath",title:"ALERT: Golden Age Superman #1 reaches new all-time high",content:`In a historic moment for comic book trading, Golden Age Superman #1 has reached an unprecedented all-time high, breaking through previous resistance levels that had held for over two decades.

The milestone came during heavy trading volume, with the asset gaining 15.3% in a single session. Market observers attribute the surge to a combination of factors including increased institutional interest and growing recognition of Golden Age books as alternative investments.

"This is a watershed moment," explains veteran trader Janet Reynolds. "When Superman breaks records, the entire market tends to follow. We're seeing ripple effects across DC properties and even competitive Marvel assets."

The rally has sparked debates about market sustainability, with some analysts warning of potential corrections while bulls argue this represents a fundamental revaluation of comic assets in the modern investment landscape.`,category:"Market Alert",publishedAt:new Date(Date.now()-36e5).toISOString(),author:"David Chen",tags:["Superman","Golden Age","Record High","DC Comics"]},"dc-restructuring":{id:"dc-restructuring",title:"UPDATE: DC Restructuring complete - institutional investors bullish",content:`DC Comics has completed its major corporate restructuring, and institutional investors are responding with enthusiasm. The reorganization promises streamlined operations and renewed focus on core franchises.

Major hedge funds specializing in comic assets have increased their positions in DC properties by an average of 23% over the past week. The move signals strong confidence in the publisher's new direction.

"The restructuring addresses many of the operational inefficiencies that had been weighing on asset values," notes investment analyst Robert Kim. "We're particularly optimistic about the Batman and Wonder Woman franchises moving forward."

Trading volumes for DC assets have tripled compared to the monthly average, with particular strength in Silver Age and Bronze Age issues. Market makers report tight spreads and strong liquidity across the board.`,category:"Market Update",publishedAt:new Date(Date.now()-72e5).toISOString(),author:"Emily Thompson",tags:["DC Comics","Corporate News","Institutional","Market Sentiment"]},"amazing-fantasy-variant":{id:"amazing-fantasy-variant",title:"EXCLUSIVE: Rare Amazing Fantasy #15 variant discovered - market impact expected",content:`A previously unknown variant of Amazing Fantasy #15, the first appearance of Spider-Man, has been discovered in a private collection. Authentication is underway, but early indications suggest this could be one of the most significant comic discoveries in decades.

"If confirmed, this changes everything we know about Amazing Fantasy print runs," explains comic historian Dr. Patricia Williams. "The rarity factor alone could push valuations into unprecedented territory."

The discovery has already impacted markets, with related Spider-Man assets gaining 8-12% on speculation. Options traders are particularly active, with call volume on Spider-Man derivatives up 200%.

Collectors and investors are closely monitoring the authentication process, scheduled to conclude within two weeks. Market analysts predict significant volatility in Spider-Man assets regardless of the outcome.`,category:"Exclusive",publishedAt:new Date(Date.now()-108e5).toISOString(),author:"Michael Torres",tags:["Spider-Man","Discovery","Rare Find","Market Impact"]},"alex-ross-auction":{id:"alex-ross-auction",title:"RECORD: Alex Ross original art auction breaks records",content:`Legendary artist Alex Ross's original painting for "Kingdom Come" #1 has shattered auction records, selling for an unprecedented sum that has sent shockwaves through the creator art market.

The sale establishes new benchmarks for comic art valuations and has sparked immediate price discovery across Ross's entire body of work. Secondary market trading of Ross-related assets surged 45% in the hours following the announcement.

"This validates what we've been saying for years - creator art is fundamentally undervalued," says art market specialist Linda Park. "We expect this to trigger a broad revaluation across the entire segment."

The auction house reports multiple bidders pushed the price well beyond presale estimates, suggesting deep institutional interest in creator-focused assets. Analysts predict similar strength for works by other legendary artists.`,category:"Market Record",publishedAt:new Date(Date.now()-144e5).toISOString(),author:"Jennifer Adams",tags:["Alex Ross","Original Art","Auction","Record Sale"]},"comic-con-attendance":{id:"comic-con-attendance",title:"DATA: Comic-Con attendance up 300% - signaling strong market demand",content:`San Diego Comic-Con has reported record attendance figures, with turnout up 300% compared to pre-pandemic levels. The surge is being interpreted by market analysts as a strong bullish signal for the entire comic asset class.

"Consumer engagement drives valuations," explains market strategist Thomas Wright. "When we see this level of grassroots enthusiasm, it typically precedes significant market movements."

Trading data confirms the correlation, with broad market indices for comic assets up 18% since the attendance figures were released. Volume has been particularly strong in modern issues and variant covers.

The convention also saw unprecedented participation from institutional investors, with dedicated panels addressing comic assets as alternative investments. Several major funds announced new comic-focused portfolios during the event.`,category:"Market Data",publishedAt:new Date(Date.now()-18e6).toISOString(),author:"Rachel Green",tags:["Comic-Con","Market Data","Attendance","Bullish Signal"]}};if(!e||!i)return s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl  text-white mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Comic Market News"}),s.jsx("p",{className:"text-gray-400",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Latest breaking news, market analysis, and industry updates"})]}),s.jsx("div",{className:"grid gap-4",children:Object.values(r).map(o=>s.jsxs(Se,{className:"hover-elevate","data-testid":`news-card-${o.id}`,children:[s.jsx(Be,{children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(st,{variant:"secondary",children:o.category}),s.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(ia,{className:"w-3 h-3"}),new Date(o.publishedAt).toLocaleString()]})]}),s.jsx(Ze,{className:"text-xl mb-2",children:s.jsx(gt,{href:`/news/${o.id}`,children:s.jsx("a",{className:"hover:text-primary transition-colors","data-testid":`link-news-${o.id}`,children:o.title})})}),s.jsxs("p",{className:"text-sm text-gray-400 line-clamp-2",children:[o.content.substring(0,200),"..."]})]})})}),s.jsx(Pe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:o.tags.slice(0,3).map(u=>s.jsxs(st,{variant:"outline",className:"text-xs",children:[s.jsx(OC,{className:"w-3 h-3 mr-1"}),u]},u))}),s.jsx(rt,{variant:"ghost",size:"sm",asChild:!0,children:s.jsx(gt,{href:`/news/${o.id}`,children:s.jsx("a",{"data-testid":`button-read-${o.id}`,children:"Read More"})})})]})})]},o.id))})]});const a=r[i];return a?s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx(rt,{variant:"ghost",className:"mb-6",asChild:!0,children:s.jsx(gt,{href:"/news",children:s.jsxs("a",{"data-testid":"button-back-to-news",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to News"]})})}),s.jsxs("article",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(st,{variant:"secondary",className:"mb-4",children:a.category}),s.jsx("h1",{className:"text-4xl  text-white mb-4",style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":"text-article-title",children:a.title}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[s.jsxs("span",{children:["By ",a.author]}),s.jsx("span",{children:"•"}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ia,{className:"w-4 h-4"}),new Date(a.publishedAt).toLocaleString()]})]})]}),s.jsx(Se,{children:s.jsxs(Pe,{className:"pt-6",children:[s.jsx("div",{className:"prose prose-invert max-w-none",style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":"text-article-content",children:a.content.split(`

`).map((o,u)=>s.jsx("p",{className:"mb-4 text-gray-300 leading-relaxed",children:o},u))}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-800",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Tags:"}),a.tags.map(o=>s.jsxs(st,{variant:"outline",children:[s.jsx(OC,{className:"w-3 h-3 mr-1"}),o]},o))]})})]})})]})]}):s.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[s.jsx("h1",{className:"text-2xl  text-white mb-4",children:"Article Not Found"}),s.jsx(rt,{asChild:!0,children:s.jsx(gt,{href:"/news",children:s.jsxs("a",{children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to News"]})})})]})}function aye(){const e=[{id:"comic-trading-101",title:"Comic Trading Fundamentals",description:"Master the basics of comic asset trading, from understanding market dynamics to executing your first trades.",category:"Trading Basics",level:"Beginner",duration:"4 hours",lessons:12,enrolled:!0,completed:!1,progress:65,certification:!0,locked:!1},{id:"technical-analysis",title:"Technical Analysis for Comics",description:"Learn to read charts, identify patterns, and use technical indicators to make informed trading decisions.",category:"Analysis",level:"Intermediate",duration:"6 hours",lessons:18,enrolled:!0,completed:!1,progress:30,certification:!0,locked:!1},{id:"portfolio-management",title:"Portfolio Management Strategies",description:"Build and manage a diversified comic asset portfolio with proven risk management techniques.",category:"Strategy",level:"Intermediate",duration:"5 hours",lessons:15,enrolled:!1,completed:!1,progress:0,certification:!0,locked:!1},{id:"options-derivatives",title:"Options & Derivatives Trading",description:"Advanced strategies using options, futures, and other derivative instruments in comic markets.",category:"Advanced Trading",level:"Advanced",duration:"8 hours",lessons:24,enrolled:!1,completed:!1,progress:0,certification:!0,locked:!0},{id:"market-psychology",title:"Market Psychology & Behavioral Finance",description:"Understand the psychological factors that drive market movements and how to avoid common trading biases.",category:"Psychology",level:"Intermediate",duration:"4 hours",lessons:10,enrolled:!1,completed:!1,progress:0,certification:!1,locked:!1},{id:"grading-authentication",title:"Comic Grading & Authentication",description:"Learn professional grading standards and authentication techniques for comic book assets.",category:"Fundamentals",level:"Beginner",duration:"3 hours",lessons:8,enrolled:!1,completed:!1,progress:0,certification:!1,locked:!1},{id:"hedge-fund-strategies",title:"Hedge Fund Trading Strategies",description:"Master institutional-grade strategies used by professional hedge funds in comic asset markets.",category:"Professional",level:"Advanced",duration:"10 hours",lessons:30,enrolled:!1,completed:!1,progress:0,certification:!0,locked:!0},{id:"risk-management",title:"Advanced Risk Management",description:"Implement sophisticated risk management frameworks to protect your portfolio.",category:"Risk Management",level:"Advanced",duration:"7 hours",lessons:20,enrolled:!1,completed:!1,progress:0,certification:!0,locked:!1}],t=i=>{switch(i){case"Beginner":return"bg-green-500/20 text-green-500";case"Intermediate":return"bg-yellow-500/20 text-yellow-500";case"Advanced":return"bg-red-500/20 text-red-500";default:return"bg-gray-500/20 text-gray-500"}};return s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(gW,{className:"w-10 h-10 text-primary"}),s.jsx("h1",{className:"text-4xl  text-white",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Learning Center"})]}),s.jsx("p",{className:"text-gray-400 text-lg",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Master comic asset trading with professional courses and earn certifications"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(Se,{children:s.jsx(Pe,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Enrolled Courses"}),s.jsx("p",{className:"text-2xl  text-white",children:"2"})]}),s.jsx(Ci,{className:"w-8 h-8 text-primary"})]})})}),s.jsx(Se,{children:s.jsx(Pe,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Completed"}),s.jsx("p",{className:"text-2xl  text-white",children:"0"})]}),s.jsx(BP,{className:"w-8 h-8 text-green-500"})]})})}),s.jsx(Se,{children:s.jsx(Pe,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Certifications"}),s.jsx("p",{className:"text-2xl  text-white",children:"0"})]}),s.jsx(io,{className:"w-8 h-8 text-yellow-500"})]})})}),s.jsx(Se,{children:s.jsx(Pe,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Study Time"}),s.jsx("p",{className:"text-2xl  text-white",children:"12h"})]}),s.jsx(pn,{className:"w-8 h-8 text-blue-500"})]})})})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(i=>s.jsxs(Se,{className:`hover-elevate ${i.locked?"opacity-60":""}`,"data-testid":`course-card-${i.id}`,children:[s.jsxs(Be,{children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx(st,{className:t(i.level),children:i.level}),i.locked&&s.jsx(og,{className:"w-4 h-4 text-gray-500"}),i.certification&&!i.locked&&s.jsx(io,{className:"w-4 h-4 text-yellow-500"})]}),s.jsx(Ze,{className:"text-xl",children:i.title}),s.jsx(lo,{children:i.description})]}),s.jsx(Pe,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(pn,{className:"w-4 h-4"}),i.duration]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ci,{className:"w-4 h-4"}),i.lessons," lessons"]}),s.jsx(st,{variant:"outline",className:"text-xs",children:i.category})]}),i.enrolled&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Progress"}),s.jsxs("span",{className:"text-white ",children:[i.progress,"%"]})]}),s.jsx(zc,{value:i.progress,className:"h-2"})]}),s.jsx("div",{className:"pt-2",children:i.locked?s.jsxs(rt,{variant:"outline",className:"w-full",disabled:!0,"data-testid":`button-locked-${i.id}`,children:[s.jsx(og,{className:"w-4 h-4 mr-2"}),"Requires Certification"]}):i.enrolled?s.jsx(rt,{className:"w-full",asChild:!0,"data-testid":`button-continue-${i.id}`,children:s.jsx(gt,{href:`/learn/${i.id}`,children:s.jsx("a",{children:"Continue Learning"})})}):s.jsx(rt,{variant:"outline",className:"w-full",asChild:!0,"data-testid":`button-enroll-${i.id}`,children:s.jsx(gt,{href:`/learn/${i.id}`,children:s.jsx("a",{children:"Enroll Now"})})})})]})})]},i.id))})]})}function oye(){var u,m,x,w,A,E;const[e,t]=AP("/asset/:symbol"),i=t==null?void 0:t.symbol,{data:r,isLoading:a}=yt({queryKey:["/api/assets/symbol",i],enabled:!!i});if(a)return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 border-2 border-primary rounded-full animate-spin border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Loading asset details..."})]})});if(!r)return s.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[s.jsx("h1",{className:"text-2xl  text-white mb-4",children:"Asset Not Found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"The asset you're looking for doesn't exist or has been delisted."}),s.jsx(rt,{asChild:!0,children:s.jsx(gt,{href:"/trading",children:s.jsxs("a",{children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Trading"]})})})]});const o=(r.change??0)>=0;return s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(rt,{variant:"ghost",className:"mb-6",asChild:!0,children:s.jsx(gt,{href:"/trading",children:s.jsxs("a",{"data-testid":"button-back-to-trading",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Trading"]})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[s.jsx(Se,{className:"lg:col-span-1",children:s.jsxs(Pe,{className:"pt-6",children:[r.coverUrl?s.jsx("div",{className:"aspect-[2/3] rounded-lg overflow-hidden mb-4 bg-gray-900",children:s.jsx("img",{src:r.coverUrl,alt:r.name,className:"w-full h-full object-cover","data-testid":"img-asset-cover"})}):s.jsx("div",{className:"aspect-[2/3] rounded-lg overflow-hidden mb-4 bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center",children:s.jsx("span",{className:"text-6xl  text-gray-700",children:r.symbol.slice(0,2)})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Symbol"}),s.jsx("p",{className:"text-2xl  text-white",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:r.symbol})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Category"}),s.jsx(st,{variant:"secondary","data-testid":"badge-category",children:r.category})]}),r.publisher&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-gray-500 mb-1 flex items-center gap-1",children:[s.jsx(vv,{className:"w-3 h-3"}),"Publisher"]}),s.jsx("p",{className:"text-sm text-white","data-testid":"text-publisher",children:r.publisher})]})]})]})}),s.jsxs(Se,{className:"lg:col-span-2",children:[s.jsx(Be,{children:s.jsx(Ze,{className:"text-3xl","data-testid":"text-asset-name",children:r.name})}),s.jsx(Pe,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-end gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Current Price"}),s.jsxs("p",{className:"text-5xl  text-white","data-testid":"text-current-price",children:["$",((u=r.currentPrice)==null?void 0:u.toFixed(2))??"0.00"]})]}),s.jsxs("div",{className:`flex items-center gap-2 pb-2 ${o?"text-green-500":"text-red-500"}`,children:[o?s.jsx(ns,{className:"w-6 h-6"}):s.jsx(vi,{className:"w-6 h-6"}),s.jsxs("span",{className:"text-2xl ","data-testid":"text-price-change",children:[o?"+":"",((m=r.change)==null?void 0:m.toFixed(2))??"0.00","(",o?"+":"",((x=r.changePercent)==null?void 0:x.toFixed(2))??"0.00","%)"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-gray-500 mb-1 flex items-center gap-1",children:[s.jsx(xu,{className:"w-3 h-3"}),"Volume"]}),s.jsx("p",{className:"text-lg  text-white","data-testid":"text-volume",children:((w=r.volume)==null?void 0:w.toLocaleString())??"N/A"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-gray-500 mb-1 flex items-center gap-1",children:[s.jsx(oo,{className:"w-3 h-3"}),"Market Cap"]}),s.jsxs("p",{className:"text-lg  text-white","data-testid":"text-market-cap",children:["$",r.marketCap?(r.marketCap/1e6).toFixed(1):"0","M"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"52W High"}),s.jsxs("p",{className:"text-lg  text-green-500","data-testid":"text-52w-high",children:["$",((A=r.high52Week)==null?void 0:A.toFixed(2))??"N/A"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"52W Low"}),s.jsxs("p",{className:"text-lg  text-red-500","data-testid":"text-52w-low",children:["$",((E=r.low52Week)==null?void 0:E.toFixed(2))??"N/A"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(rt,{className:"flex-1","data-testid":"button-buy",children:[s.jsx(ns,{className:"w-4 h-4 mr-2"}),"Buy"]}),s.jsxs(rt,{variant:"outline",className:"flex-1","data-testid":"button-sell",children:[s.jsx(vi,{className:"w-4 h-4 mr-2"}),"Sell"]}),s.jsx(rt,{variant:"outline","data-testid":"button-add-watchlist",children:s.jsx(Ci,{className:"w-4 h-4"})})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Ci,{className:"w-5 h-5"}),"About"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":"text-description",children:r.description})})]}),s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(OC,{className:"w-5 h-5"}),"Details"]})}),s.jsxs(Pe,{className:"space-y-4",children:[r.creators&&r.creators.length>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-gray-500 mb-2 flex items-center gap-1",children:[s.jsx(xn,{className:"w-3 h-3"}),"Creators"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.creators.map((O,G)=>{const te=O.split("(")[0].trim();return s.jsx(gt,{href:`/creator/${encodeURIComponent(te)}`,"data-testid":`link-creator-${G}`,children:s.jsx(st,{variant:"outline",className:"hover-elevate cursor-pointer transition-all duration-200",style:{fontFamily:"Hind, sans-serif",fontWeight:300,fontSize:"13pt"},"data-testid":`badge-creator-${G}`,children:O})},G)})})]}),r.firstAppearance&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"First Appearance"}),s.jsx("p",{className:"text-sm text-white",children:r.firstAppearance})]}),r.publishDate&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-gray-500 mb-1 flex items-center gap-1",children:[s.jsx(ia,{className:"w-3 h-3"}),"Publication Date"]}),s.jsx("p",{className:"text-sm text-white",children:r.publishDate})]}),r.keyIssues&&r.keyIssues.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Key Issues"}),s.jsx("ul",{className:"space-y-1",children:r.keyIssues.map((O,G)=>s.jsxs("li",{className:"text-sm text-gray-300 flex items-start gap-2",children:[s.jsx("span",{className:"text-primary mt-1",children:"•"}),s.jsx("span",{children:O})]},G))})]})]})]})]}),r.biography&&s.jsxs(Se,{className:"mb-6",children:[s.jsx(Be,{children:s.jsx(Ze,{style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Biography"})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap",style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":"text-biography",children:r.biography})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.keyWorks&&r.keyWorks.length>0&&s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsx(Ze,{style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Key Works"})}),s.jsx(Pe,{children:s.jsx("ul",{className:"space-y-2",children:r.keyWorks.map((O,G)=>s.jsxs("li",{className:"text-sm text-gray-300 flex items-start gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":`item-key-work-${G}`,children:[s.jsx("span",{className:"text-primary mt-1",children:"•"}),s.jsx("span",{children:O})]},G))})})]}),r.notableAppearances&&r.notableAppearances.length>0&&s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsx(Ze,{style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Notable Appearances"})}),s.jsx(Pe,{children:s.jsx("ul",{className:"space-y-2",children:r.notableAppearances.map((O,G)=>s.jsxs("li",{className:"text-sm text-gray-300 flex items-start gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:300},"data-testid":`item-notable-appearance-${G}`,children:[s.jsx("span",{className:"text-primary mt-1",children:"•"}),s.jsx("span",{children:O})]},G))})})]})]}),(r.franchiseTags&&r.franchiseTags.length>0||r.teamTags&&r.teamTags.length>0||r.publisherTags&&r.publisherTags.length>0)&&s.jsxs(Se,{className:"mb-6",children:[s.jsx(Be,{children:s.jsx(Ze,{style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Associations"})}),s.jsxs(Pe,{className:"space-y-4",children:[r.franchiseTags&&r.franchiseTags.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Franchises"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.franchiseTags.map((O,G)=>s.jsx(st,{variant:"outline","data-testid":`badge-franchise-${G}`,children:O},G))})]}),r.teamTags&&r.teamTags.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Teams"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.teamTags.map((O,G)=>s.jsx(st,{variant:"secondary","data-testid":`badge-team-${G}`,children:O},G))})]}),r.publisherTags&&r.publisherTags.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Publishers"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.publisherTags.map((O,G)=>s.jsx(st,{variant:"default","data-testid":`badge-publisher-${G}`,children:O},G))})]})]})]}),r.relatedAssetIds&&r.relatedAssetIds.length>0&&s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsx(Ze,{style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:"Related Assets"})}),s.jsx(Pe,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:r.relatedAssetIds.map((O,G)=>s.jsx(rt,{variant:"outline",size:"sm",className:"justify-start",asChild:!0,"data-testid":`button-related-asset-${G}`,children:s.jsx(gt,{href:`/asset/${O}`,children:s.jsx("a",{style:{fontFamily:"Hind, sans-serif",fontWeight:300},children:O})})},G))})})]})]})}function lye(){const e=da(),t=decodeURIComponent(e.series||""),{data:i,isLoading:r,error:a}=yt({queryKey:["/api/series/detail",t],enabled:!!t}),o=i==null?void 0:i.data;return r?s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"h-8 bg-muted rounded animate-pulse w-48 mb-8"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsx("div",{className:"h-8 bg-muted rounded animate-pulse w-3/4"})}),s.jsx(Pe,{className:"space-y-4",children:s.jsx("div",{className:"h-20 bg-muted rounded animate-pulse"})})]})}),s.jsx("div",{className:"space-y-6",children:s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsx("div",{className:"h-6 bg-muted rounded animate-pulse w-32"})}),s.jsx(Pe,{children:s.jsx("div",{className:"h-40 bg-muted rounded animate-pulse"})})]})})]})]})}):a||!o?s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(Se,{children:s.jsx(Pe,{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Series not found. Please try again later."})})})]})}):s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Se,{className:"!bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsx(Ze,{className:"text-3xl  mb-2",children:o.seriesName}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs(st,{variant:"outline",className:"text-base",children:[s.jsx(vv,{className:"w-4 h-4 mr-2"}),o.publisher]}),o.year&&s.jsx(st,{variant:"secondary",className:"text-base",children:o.year})]})]})})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:o.description||"A legendary comic book series that has captivated readers for generations."})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.heroes&&o.heroes.length>0&&s.jsxs(Se,{className:"!bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2 text-green-500",children:[s.jsx(zr,{className:"w-5 h-5"}),"Heroes"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-2",children:o.heroes.map((u,m)=>s.jsxs("div",{className:"text-sm text-foreground/80 flex items-center gap-2",children:[s.jsx(Us,{className:"w-3 h-3 text-green-500"}),u]},m))})})]}),o.villains&&o.villains.length>0&&s.jsxs(Se,{className:"!bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2 text-red-500",children:[s.jsx(su,{className:"w-5 h-5"}),"Villains"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-2",children:o.villains.map((u,m)=>s.jsxs("div",{className:"text-sm text-foreground/80 flex items-center gap-2",children:[s.jsx(Us,{className:"w-3 h-3 text-red-500"}),u]},m))})})]}),o.sidekicks&&o.sidekicks.length>0&&s.jsxs(Se,{className:"!bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2 text-blue-500",children:[s.jsx(Zs,{className:"w-5 h-5"}),"Sidekicks"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-2",children:o.sidekicks.map((u,m)=>s.jsxs("div",{className:"text-sm text-foreground/80 flex items-center gap-2",children:[s.jsx(Us,{className:"w-3 h-3 text-blue-500"}),u]},m))})})]}),o.henchmen&&o.henchmen.length>0&&s.jsxs(Se,{className:"!bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2 text-orange-500",children:[s.jsx(Zs,{className:"w-5 h-5"}),"Henchmen"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-2",children:o.henchmen.map((u,m)=>s.jsxs("div",{className:"text-sm text-foreground/80 flex items-center gap-2",children:[s.jsx(Us,{className:"w-3 h-3 text-orange-500"}),u]},m))})})]})]}),o.teams&&o.teams.length>0&&s.jsxs(Se,{className:"!bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Zs,{className:"w-5 h-5 text-purple-500"}),"Affiliated Teams"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:o.teams.map((u,m)=>s.jsx(st,{variant:"outline",className:"text-sm",children:u},m))})})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs(Se,{className:"!bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(see,{className:"w-5 h-5"}),"Connected Assets"]})}),s.jsx(Pe,{children:o.connectedAssets&&o.connectedAssets.length>0?s.jsx("div",{className:"space-y-3",children:o.connectedAssets.map(u=>s.jsx("div",{className:"border border-border rounded-lg p-3 hover-elevate cursor-pointer","data-testid":`asset-${u.id}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:" text-foreground text-sm",children:u.symbol}),s.jsx("p",{className:"text-xs text-muted-foreground",children:u.name})]}),s.jsxs("p",{className:"text-lg  text-green-500",children:["$",u.currentPrice.toFixed(2)]})]})},u.id))}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No connected assets available"})})]})})]})]})})}function cye(){const t=da().id,{data:i,isLoading:r,error:a}=yt({queryKey:["/api/comic-covers/historical-significance",t],enabled:!!t}),o=i==null?void 0:i.data;if(r)return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"h-8 bg-muted rounded animate-pulse w-48 mb-8"}),s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsx("div",{className:"h-10 bg-muted rounded animate-pulse w-3/4"})}),s.jsxs(Pe,{className:"space-y-6",children:[s.jsx("div",{className:"h-40 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"h-40 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"h-40 bg-muted rounded animate-pulse"})]})]})]})});if(a||!o)return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(Se,{children:s.jsx(Pe,{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Historical significance data not found. Please try again later."})})})]})});const u=(o.estimatedValue-o.printPrice)/o.printPrice*100;return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs(Se,{className:"!bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-start gap-6 mb-4",children:[o.coverUrl&&s.jsx("img",{src:o.coverUrl,alt:o.title,className:"w-32 aspect-[2/3] object-cover rounded-lg border-2 border-border","data-testid":"img-historical-significance-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(st,{className:"mb-3 bg-yellow-500 text-black",children:o.significance}),s.jsx(Ze,{className:"text-3xl  mb-3",children:o.title}),s.jsxs("p",{className:"text-lg text-muted-foreground mb-3",children:[o.series," #",o.issueNumber]}),s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[o.onsaleDate&&s.jsxs(st,{variant:"outline",children:[s.jsx(ia,{className:"w-3 h-3 mr-1"}),new Date(o.onsaleDate).getFullYear()]}),s.jsxs(st,{variant:"secondary",className:"text-green-500",children:[s.jsx(ns,{className:"w-3 h-3 mr-1"}),"+",u.toFixed(0),"% Value Growth"]}),s.jsxs(st,{variant:"outline",children:["$",o.estimatedValue.toLocaleString()," Current Value"]})]})]})]})}),s.jsxs(Pe,{className:"space-y-8",children:[s.jsxs("section",{children:[s.jsxs("h2",{className:"text-2xl  mb-4 flex items-center gap-2",children:[s.jsx(Ci,{className:"w-6 h-6 text-primary"}),"Historical Context"]}),s.jsx("p",{className:"text-foreground/80 leading-relaxed text-lg",children:o.historicalContext})]}),o.fullAnalysis&&s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl  mb-4",children:"In-Depth Analysis"}),s.jsx("div",{className:"prose prose-invert max-w-none",children:s.jsx("p",{className:"text-foreground/80 leading-relaxed text-lg whitespace-pre-line",children:o.fullAnalysis})})]}),o.culturalImpact&&s.jsxs("section",{className:"bg-primary/10 border border-primary/20 rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl  mb-4 text-primary",children:"Cultural Impact"}),s.jsx("p",{className:"text-foreground/80 leading-relaxed text-lg",children:o.culturalImpact})]}),o.marketImportance&&s.jsxs("section",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl  mb-4 text-green-500",children:"Market Importance"}),s.jsx("p",{className:"text-foreground/80 leading-relaxed text-lg",children:o.marketImportance})]}),o.keyPoints&&o.keyPoints.length>0&&s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl  mb-4",children:"Key Takeaways"}),s.jsx("ul",{className:"space-y-3",children:o.keyPoints.map((m,x)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(Us,{className:"w-5 h-5 text-yellow-500 shrink-0 mt-1"}),s.jsx("span",{className:"text-foreground/80 text-lg",children:m})]},x))})]}),o.recommendation&&s.jsxs("section",{className:"bg-indigo-500/10 border border-indigo-500/20 rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl  mb-4 text-indigo-400",children:"Why This Comic Matters"}),s.jsx("p",{className:"text-foreground/80 leading-relaxed text-lg",children:o.recommendation})]}),s.jsxs("section",{className:"border-t border-border pt-6",children:[s.jsx("h2",{className:"text-2xl  mb-4",children:"Investment Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Original Print Price"}),s.jsxs("p",{className:"text-2xl  text-foreground",children:["$",o.printPrice.toFixed(2)]})]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Current Market Value"}),s.jsxs("p",{className:"text-2xl  text-green-500",children:["$",o.estimatedValue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Value Appreciation"}),s.jsxs("p",{className:"text-2xl  text-yellow-500",children:["+",u.toFixed(0),"%"]})]})]})]})]})]})]})})}function dye(){const e=da(),t=decodeURIComponent(e.name||""),{data:i,isLoading:r,error:a}=yt({queryKey:["/api/creators/bio",t],enabled:!!t}),o=i==null?void 0:i.data;return r?s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsx("div",{className:"h-8 bg-muted rounded animate-pulse w-48 mb-8"}),s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsx("div",{className:"h-10 bg-muted rounded animate-pulse w-3/4"})}),s.jsxs(Pe,{className:"space-y-6",children:[s.jsx("div",{className:"h-40 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"h-40 bg-muted rounded animate-pulse"})]})]})]})}):a||!o?s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(Se,{children:s.jsx(Pe,{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Creator information not found. Please try again later."})})})]})}):s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs(Se,{className:"!bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-start gap-6 mb-4",children:[s.jsx("div",{className:"w-32 h-32 rounded-lg overflow-hidden border-2 border-border shrink-0",children:o.imageUrl?s.jsx("img",{src:o.imageUrl,alt:o.name,className:"w-full h-full object-cover","data-testid":"img-creator-photo"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900",children:s.jsx(xn,{className:"w-16 h-16 text-primary/50"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ze,{className:"text-3xl  mb-3",children:o.name}),s.jsx(st,{className:"mb-3 bg-primary text-primary-foreground text-base",children:o.role}),s.jsxs("div",{className:"flex items-center gap-4 flex-wrap text-sm text-muted-foreground",children:[o.activeYears&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ia,{className:"w-4 h-4"}),o.activeYears]}),o.nationality&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(cW,{className:"w-4 h-4"}),o.nationality]}),o.totalIssues>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Bh,{className:"w-4 h-4"}),o.totalIssues.toLocaleString()," Issues"]})]})]})]})}),s.jsxs(Pe,{className:"space-y-8",children:[s.jsxs("section",{children:[s.jsxs("h2",{className:"text-2xl  mb-4 flex items-center gap-2",children:[s.jsx(xn,{className:"w-6 h-6 text-primary"}),"Biography"]}),s.jsx("p",{className:"text-foreground/80 leading-relaxed text-lg",children:o.biography||`${o.name} is a renowned ${o.role} in the comic book industry, known for their distinctive style and significant contributions to the medium.`})]}),o.roleInThisIssue&&s.jsxs("section",{className:"bg-primary/10 border border-primary/20 rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl  mb-4 text-primary",children:"Role in This Issue"}),s.jsx("p",{className:"text-foreground/80 leading-relaxed text-lg",children:o.roleInThisIssue})]}),o.styleSignature&&s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl  mb-4",children:"Artistic Signature"}),s.jsx("p",{className:"text-foreground/80 leading-relaxed text-lg",children:o.styleSignature})]}),o.contributionToComicArt&&s.jsxs("section",{className:"bg-indigo-500/10 border border-indigo-500/20 rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl  mb-4 text-indigo-400",children:"Contribution to Comic Art History"}),s.jsx("p",{className:"text-foreground/80 leading-relaxed text-lg",children:o.contributionToComicArt})]}),o.notableWorks&&o.notableWorks.length>0&&s.jsxs("section",{children:[s.jsxs("h2",{className:"text-2xl  mb-4 flex items-center gap-2",children:[s.jsx(Bh,{className:"w-6 h-6 text-yellow-500"}),"Notable Works"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o.notableWorks.map((u,m)=>s.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 flex items-center gap-2",children:[s.jsx(Bh,{className:"w-4 h-4 text-yellow-500 shrink-0"}),s.jsx("span",{className:"text-foreground/80",children:u})]},m))})]}),o.awards&&o.awards.length>0&&s.jsxs("section",{children:[s.jsxs("h2",{className:"text-2xl  mb-4 flex items-center gap-2",children:[s.jsx(On,{className:"w-6 h-6 text-yellow-500"}),"Awards & Recognition"]}),s.jsx("div",{className:"grid grid-cols-1 gap-3",children:o.awards.map((u,m)=>s.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-3 flex items-center gap-2",children:[s.jsx(On,{className:"w-4 h-4 text-yellow-500 shrink-0"}),s.jsx("span",{className:"text-foreground/80",children:u})]},m))})]}),o.legacyStatement&&s.jsxs("section",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl  mb-4 text-green-500",children:"Legacy & Influence"}),s.jsx("p",{className:"text-foreground/80 leading-relaxed text-lg",children:o.legacyStatement})]}),o.marketInfluence>0&&s.jsxs("section",{className:"border-t border-border pt-6",children:[s.jsxs("h2",{className:"text-2xl  mb-4 flex items-center gap-2",children:[s.jsx(ns,{className:"w-6 h-6 text-green-500"}),"Market Influence"]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Influence Score"}),s.jsxs("span",{className:"text-3xl  text-green-500",children:[o.marketInfluence.toFixed(1),"/100"]})]}),s.jsx("div",{className:"w-full bg-border rounded-full h-3",children:s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-yellow-500 h-3 rounded-full transition-all",style:{width:`${o.marketInfluence}%`}})}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-3",children:[o.name,"'s work significantly influences market valuations and collector interest."]})]})]})]})]})]})})}function uye(){const t=da().id,{data:i,isLoading:r,error:a}=yt({queryKey:["/api/comic-covers/issue-detail",t],enabled:!!t}),o=i==null?void 0:i.data;return r?s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"h-8 bg-muted rounded animate-pulse w-48 mb-8"}),s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsx("div",{className:"h-10 bg-muted rounded animate-pulse w-3/4"})}),s.jsxs(Pe,{className:"space-y-6",children:[s.jsx("div",{className:"h-40 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"h-40 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"h-40 bg-muted rounded animate-pulse"})]})]})]})}):a||!o?s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(Se,{children:s.jsx(Pe,{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Issue details not found. Please try again later."})})})]})}):s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsx(Se,{className:"!bg-[#1A1F2E] sticky top-8",children:s.jsxs(Pe,{className:"pt-6",children:[o.coverUrl&&s.jsx("img",{src:o.coverUrl,alt:o.title,className:"w-full aspect-[2/3] object-cover rounded-lg border-2 border-border mb-4","data-testid":"img-issue-detail-cover"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Series"}),s.jsx("p",{className:"text-lg  text-foreground",children:o.series})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Issue Number"}),s.jsxs("p",{className:"text-lg  text-foreground",children:["#",o.issueNumber]})]}),o.format&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Format"}),s.jsx("p",{className:"text-base text-foreground",children:o.format})]}),o.pageCount>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Page Count"}),s.jsxs("p",{className:"text-base text-foreground",children:[o.pageCount," pages"]})]}),o.onsaleDate&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Release Date"}),s.jsx("p",{className:"text-base text-foreground",children:new Date(o.onsaleDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Value"}),s.jsxs("p",{className:"text-2xl  text-green-500",children:["$",o.estimatedValue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),o.creators&&o.creators.length>0&&s.jsxs("div",{className:"mt-6 pt-6 border-t border-border",children:[s.jsxs("h3",{className:" text-foreground mb-3 flex items-center gap-2",children:[s.jsx(Zs,{className:"w-4 h-4"}),"Creative Team"]}),s.jsx("div",{className:"space-y-2",children:o.creators.map((u,m)=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:u.role}),s.jsx("span",{className:"text-foreground ",children:u.name})]},m))})]})]})})}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Se,{className:"!bg-[#1A1F2E]",children:[s.jsxs(Be,{children:[s.jsx(Ze,{className:"text-3xl ",children:o.title}),o.storyTitle&&s.jsxs("p",{className:"text-lg text-primary mt-2",children:['"',o.storyTitle,'"']})]}),s.jsx(Pe,{children:s.jsx("p",{className:"text-foreground/80 leading-relaxed text-lg",children:o.description})})]}),o.plotSummary&&s.jsxs(Se,{className:"!bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Ci,{className:"w-6 h-6 text-primary"}),"Plot Summary"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-foreground/80 leading-relaxed text-lg whitespace-pre-line",children:o.plotSummary})})]}),o.characterAnalysis&&s.jsxs(Se,{className:"!bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Zs,{className:"w-6 h-6 text-indigo-400"}),"Character Development"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-foreground/80 leading-relaxed text-lg whitespace-pre-line",children:o.characterAnalysis})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.artStyle&&s.jsxs(Se,{className:"!bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2 text-lg",children:[s.jsx(On,{className:"w-5 h-5 text-yellow-500"}),"Art Style"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-foreground/80 leading-relaxed",children:o.artStyle})})]}),o.writingQuality&&s.jsxs(Se,{className:"!bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Er,{className:"w-5 h-5 text-purple-500"}),"Writing Quality"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-foreground/80 leading-relaxed",children:o.writingQuality})})]})]}),o.themesAndMotifs&&s.jsxs(Se,{className:"!bg-[#1A1F2E] bg-primary/5 border-primary/20",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Dn,{className:"w-6 h-6 text-primary"}),"Themes & Motifs"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-foreground/80 leading-relaxed text-lg whitespace-pre-line",children:o.themesAndMotifs})})]}),o.notableQuotes&&o.notableQuotes.length>0&&s.jsxs(Se,{className:"!bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsx(Ze,{children:"Memorable Quotes"})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-4",children:o.notableQuotes.map((u,m)=>s.jsxs("blockquote",{className:"border-l-4 border-primary pl-4 italic text-foreground/80 text-lg",children:['"',u,'"']},m))})})]}),o.collectorsNotes&&s.jsxs(Se,{className:"!bg-[#1A1F2E] bg-green-500/5 border-green-500/20",children:[s.jsx(Be,{children:s.jsx(Ze,{className:"text-green-500",children:"Collector's Notes"})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-foreground/80 leading-relaxed text-lg whitespace-pre-line",children:o.collectorsNotes})})]})]})]})]})})}function hye(){var J;const t=da().id,{data:i,isLoading:r,error:a}=yt({queryKey:["/api/comic-covers/comic",t],enabled:!!t}),o=i==null?void 0:i.data;if(r)return s.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"h-8 bg-muted rounded-lg animate-pulse w-48"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"aspect-[2/3] bg-muted rounded-lg animate-pulse"})}),s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsx("div",{className:"h-12 bg-muted rounded-lg animate-pulse"}),s.jsx("div",{className:"h-32 bg-muted rounded-lg animate-pulse"})]})]})]});if(a||!o)return s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsx(gt,{href:"/",children:s.jsxs(rt,{variant:"ghost",className:"mb-6",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(Se,{children:s.jsx(Pe,{className:"p-12 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Comic not found"})})})]});const u=o.symbol||"UNKNOWN",m=o.estimatedValue||199.99,w=(Math.random()-.5)*20/m*100,A=["Spider-Man","Mary Jane Watson","J. Jonah Jameson","Aunt May"],E=["Green Goblin","Doctor Octopus","Venom"],O=["Mary Jane Watson","Harry Osborn"],G=["Web-Shooters","Spider-Tracers","Spider-Signal"],te=["Daily Bugle","Queens Apartment","Avengers Tower"],Q=[{type:"ETF",symbol:"SPDR.HERO",name:"Spider-Man Universe ETF",exposure:8.5},{type:"Fund",symbol:"MRVL.ALL",name:"Marvel Legacy Fund",exposure:3.2},{type:"Bond",symbol:"SPDR.2028",name:"Spider-Man 2028 Bonds",exposure:5}];return s.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[s.jsx(gt,{href:"/",children:s.jsxs(rt,{variant:"ghost",className:"mb-4","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsx("div",{className:"aspect-[2/3] bg-muted rounded-lg overflow-hidden border-4 border-primary/20 shadow-2xl",children:o.coverUrl?s.jsx("img",{src:o.coverUrl,alt:o.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:"No Cover Available"})}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx(gt,{href:`/order-desk/${o.id}`,children:s.jsxs(rt,{className:"w-full","data-testid":"button-trade-now",children:[s.jsx(oo,{className:"w-4 h-4 mr-2"}),"Trade Now"]})}),s.jsxs(rt,{variant:"outline",className:"w-full","data-testid":"button-add-to-watchlist",children:[s.jsx(Us,{className:"w-4 h-4 mr-2"}),"Add to Watchlist"]})]})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl  text-foreground",children:o.title}),s.jsxs("p",{className:"text-lg text-muted-foreground",children:[o.series," #",o.issueNumber]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-3xl  text-foreground",children:["$",m.toFixed(2)]}),s.jsxs("div",{className:`text-sm ${w>=0?"text-green-500":"text-red-500"}`,children:[w>=0?"+":"",w.toFixed(2),"%"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(st,{variant:"outline",children:u}),o.onsaleDate&&s.jsxs(st,{variant:"outline",children:[s.jsx(ia,{className:"w-3 h-3 mr-1"}),new Date(o.onsaleDate).toLocaleDateString()]})]})]}),o.description&&s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Ci,{className:"w-5 h-5"}),"About This Issue"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-foreground leading-relaxed",children:o.description})})]}),o.creators&&o.creators.length>0&&s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(xn,{className:"w-5 h-5"}),"Creative Team"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.creators.map((H,W)=>s.jsx(gt,{href:`/creator/${encodeURIComponent(H.name)}`,children:s.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-primary/5 hover:bg-primary/10 cursor-pointer transition-colors",children:[s.jsx(xn,{className:"w-4 h-4 text-purple-500"}),s.jsxs("div",{children:[s.jsx("div",{className:" text-sm",children:H.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:H.role})]})]})},W))})})]}),s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(vv,{className:"w-5 h-5"}),"Publisher"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-foreground ",children:"Marvel Comics"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(zr,{className:"w-5 h-5 text-blue-500"}),"Character Appearances"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-2",children:A.map((H,W)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(zr,{className:"w-3 h-3 text-blue-500"}),s.jsx("span",{children:H})]},W))})})]}),s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(su,{className:"w-5 h-5 text-red-500"}),"Villains"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-2",children:E.map((H,W)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(su,{className:"w-3 h-3 text-red-500"}),s.jsx("span",{children:H})]},W))})})]}),s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Zs,{className:"w-5 h-5 text-green-500"}),"Sidekicks & Allies"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-2",children:O.map((H,W)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Zs,{className:"w-3 h-3 text-green-500"}),s.jsx("span",{children:H})]},W))})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(DC,{className:"w-5 h-5 text-amber-500"}),"Gadgets & Equipment"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-2",children:G.map((H,W)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Er,{className:"w-3 h-3 text-amber-500"}),s.jsx("span",{children:H})]},W))})})]}),s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(w5,{className:"w-5 h-5 text-indigo-500"}),"Hideouts & Locations"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-2",children:te.map((H,W)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(w5,{className:"w-3 h-3 text-indigo-500"}),s.jsx("span",{children:H})]},W))})})]})]}),s.jsxs(Se,{children:[s.jsxs(Be,{children:[s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Dn,{className:"w-5 h-5 text-purple-500"}),"Related Financial Products"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"ETFs, Bonds, and Funds that include this comic asset"})]}),s.jsx(Pe,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Q.map((H,W)=>s.jsxs("div",{className:"p-4 rounded-lg bg-primary/5 border border-primary/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(st,{variant:"outline",children:H.type}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[H.exposure,"% exposure"]})]}),s.jsx("div",{className:" text-sm mb-1",children:H.symbol}),s.jsx("div",{className:"text-xs text-muted-foreground",children:H.name})]},W))})})]}),s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(On,{className:"w-5 h-5 text-yellow-500"}),"Additional Information"]})}),s.jsx(Pe,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Format"}),s.jsx("div",{className:"",children:o.format||"Comic"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Page Count"}),s.jsxs("div",{className:"",children:[o.pageCount||"N/A"," pages"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Print Price"}),s.jsxs("div",{className:"",children:["$",((J=o.printPrice)==null?void 0:J.toFixed(2))||"N/A"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Age"}),s.jsxs("div",{className:"",children:[o.yearsOld||"N/A"," years"]})]})]})})]})]})}function pye(){const t=da().assetId,[i,r]=V.useState("market"),[a,o]=V.useState("buy"),[u,m]=V.useState("1"),[x,w]=V.useState(""),{data:A,isLoading:E,error:O}=yt({queryKey:["/api/comic-covers/order-desk",t],enabled:!!t}),G=A==null?void 0:A.data,te=()=>{if(!G)return 0;const W=parseInt(u)||0,Z=i==="limit"?parseFloat(x)||0:G.currentPrice;return W*Z},Q=()=>{console.log("Placing order:",{assetId:t,orderType:i,orderAction:a,quantity:parseInt(u),price:i==="limit"?parseFloat(x):G==null?void 0:G.currentPrice})};if(E)return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"h-8 bg-muted rounded animate-pulse w-48 mb-8"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(Se,{children:[s.jsx(Be,{children:s.jsx("div",{className:"h-8 bg-muted rounded animate-pulse w-64"})}),s.jsx(Pe,{children:s.jsx("div",{className:"h-64 bg-muted rounded animate-pulse"})})]})}),s.jsx("div",{children:s.jsx(Se,{children:s.jsx(Pe,{className:"pt-6",children:s.jsx("div",{className:"h-96 bg-muted rounded animate-pulse"})})})})]})]})});if(O||!G)return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(Se,{children:s.jsx(Pe,{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Asset not found. Please try again later."})})})]})});const J=G.currentPrice-G.printPrice,H=J/G.printPrice*100;return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx(Se,{className:"!bg-[#1A1F2E]",children:s.jsx(Be,{children:s.jsxs("div",{className:"flex items-start gap-6",children:[G.coverUrl&&s.jsx("img",{src:G.coverUrl,alt:G.title,className:"w-32 aspect-[2/3] object-cover rounded-lg border-2 border-border","data-testid":"img-order-desk-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(st,{className:"mb-2",children:G.symbol}),s.jsx(Ze,{className:"text-3xl  mb-2",children:G.title}),s.jsxs("p",{className:"text-lg text-muted-foreground mb-4",children:[G.series," #",G.issueNumber]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Price"}),s.jsxs("p",{className:"text-3xl  text-foreground",children:["$",G.currentPrice.toFixed(2)]})]}),s.jsxs("div",{className:J>=0?"text-green-500":"text-red-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ns,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm ",children:[J>=0?"+":"",H.toFixed(2),"%"]})]}),s.jsxs("p",{className:"text-sm",children:[J>=0?"+":"","$",J.toFixed(2)]})]})]})]})]})})}),s.jsxs(Se,{className:"!bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(VP,{className:"w-5 h-5 text-primary"}),"Trading Forms Available"]})}),s.jsx(Pe,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[s.jsx("h3",{className:" text-foreground mb-1",children:"Standard Shares"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Direct ownership of comic asset shares. Trade instantly at market price."})]}),s.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[s.jsx("h3",{className:" text-foreground mb-1",children:"Fractional Shares"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Own portions of high-value issues. Perfect for building diverse portfolios."})]}),s.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[s.jsx("h3",{className:" text-foreground mb-1",children:"Options Contracts"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Advanced trading with calls and puts. Leverage your position with limited risk."})]}),s.jsxs("div",{className:"border-l-4 border-yellow-500 pl-4",children:[s.jsx("h3",{className:" text-foreground mb-1",children:"Comic Bonds"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Fixed-income instruments backed by comic assets. Stable returns with predictable yields."})]})]})})]}),s.jsxs(Se,{className:"!bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsx(Ze,{children:"Market Statistics"})}),s.jsx(Pe,{children:s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-muted/30 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Print Price"}),s.jsxs("p",{className:"text-xl  text-foreground",children:["$",G.printPrice.toFixed(2)]})]}),s.jsxs("div",{className:"bg-muted/30 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Estimated Value"}),s.jsxs("p",{className:"text-xl  text-green-500",children:["$",G.estimatedValue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("div",{className:"bg-muted/30 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Daily Volume"}),s.jsx("p",{className:"text-xl  text-foreground",children:"1,247"})]})]})})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(Se,{className:"!bg-[#1A1F2E] sticky top-8",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(W_,{className:"w-5 h-5"}),"Place Order"]})}),s.jsxs(Pe,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(li,{className:"mb-3 block",children:"Action"}),s.jsx(Y_,{value:a,onValueChange:W=>o(W),children:s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xf,{value:"buy",id:"buy","data-testid":"radio-buy"}),s.jsx(li,{htmlFor:"buy",className:"cursor-pointer",children:"Buy"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xf,{value:"sell",id:"sell","data-testid":"radio-sell"}),s.jsx(li,{htmlFor:"sell",className:"cursor-pointer",children:"Sell"})]})]})})]}),s.jsxs("div",{children:[s.jsx(li,{className:"mb-3 block",children:"Order Type"}),s.jsx(Y_,{value:i,onValueChange:W=>r(W),children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xf,{value:"market",id:"market","data-testid":"radio-market"}),s.jsxs(li,{htmlFor:"market",className:"cursor-pointer",children:["Market Order ",s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Instant)"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xf,{value:"limit",id:"limit","data-testid":"radio-limit"}),s.jsxs(li,{htmlFor:"limit",className:"cursor-pointer",children:["Limit Order ",s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Set Price)"})]})]})]})})]}),s.jsxs("div",{children:[s.jsx(li,{htmlFor:"quantity",children:"Quantity"}),s.jsx(ca,{id:"quantity",type:"number",min:"1",value:u,onChange:W=>m(W.target.value),className:"mt-2","data-testid":"input-quantity"})]}),i==="limit"&&s.jsxs("div",{children:[s.jsx(li,{htmlFor:"limitPrice",children:"Limit Price ($)"}),s.jsx(ca,{id:"limitPrice",type:"number",step:"0.01",min:"0",value:x,onChange:W=>w(W.target.value),placeholder:G.currentPrice.toFixed(2),className:"mt-2","data-testid":"input-limit-price"})]}),s.jsxs("div",{className:"border-t border-border pt-4 space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shares"}),s.jsx("span",{className:"text-foreground ",children:u||0})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Price per Share"}),s.jsxs("span",{className:"text-foreground ",children:["$",i==="limit"?x||"0.00":G.currentPrice.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-lg  border-t border-border pt-3",children:[s.jsx("span",{className:"text-foreground",children:"Total"}),s.jsxs("span",{className:"text-primary",children:["$",te().toFixed(2)]})]})]}),s.jsxs(rt,{className:"w-full bg-green-600 hover:bg-green-700",size:"lg",onClick:Q,"data-testid":"button-place-order",children:[s.jsx(oo,{className:"w-4 h-4 mr-2"}),"Place ",a==="buy"?"Buy":"Sell"," Order"]})]})]})})]})]})})}function mye(){const t=da().id,{data:i,isLoading:r,error:a}=yt({queryKey:["/api/narrative/villain",t],enabled:!!t}),o=i==null?void 0:i.data,u=()=>{var A,E;return(o==null?void 0:o.primaryImageUrl)||((A=o==null?void 0:o.asset)==null?void 0:A.imageUrl)||((E=o==null?void 0:o.asset)==null?void 0:E.coverImageUrl)||""};if(r)return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"h-8 bg-muted rounded animate-pulse w-48 mb-8"}),s.jsx("div",{className:"h-[800px] bg-muted rounded-lg animate-pulse mb-8"}),s.jsx("div",{className:"h-64 bg-muted rounded-lg animate-pulse"})]})});if(a||!o)return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(Se,{className:"!bg-[#1A1F2E]",children:s.jsx(Pe,{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Villain information not found."})})})]})});const m=u(),x=o.subtype==="villain",w=x?"#8b0000":"#4a0080";return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"relative h-[800px] rounded-lg overflow-hidden mb-8",style:{backgroundImage:m?`url(${m})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:m?"transparent":"#1a1a1a"},"data-testid":"hero-image-section",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:[s.jsx(st,{className:"mb-4",style:{backgroundColor:w,color:"white"},children:x?"VILLAIN":"HENCHMAN"}),s.jsx("h1",{className:"text-white mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:o.canonicalName}),o.realName&&s.jsx("p",{className:"text-white/80",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:o.realName}),s.jsxs("p",{className:"text-white/60 mt-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:[o.universe.toUpperCase()," Universe"]})]}),!m&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(su,{className:"w-64 h-64 text-muted-foreground/20"})})]}),o.alternateImageUrls&&o.alternateImageUrls.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"mb-4",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:"Gallery"}),s.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:o.alternateImageUrls.map((A,E)=>s.jsx("div",{className:"w-64 h-96 rounded-lg overflow-hidden shrink-0 border-2 border-white/20",style:{backgroundImage:`url(${A})`,backgroundSize:"cover",backgroundPosition:"center"},"data-testid":`img-alternate-${E}`},E))})]}),s.jsxs(Se,{className:"!bg-[#1A1F2E] mb-8",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(su,{className:"w-6 h-6",style:{color:w}}),"Biography"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-foreground/90 leading-relaxed",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:o.biography||`${o.canonicalName} is a notorious ${x?"villain":"henchman"} in the ${o.universe} universe.`})})]}),o.powers.length>0&&s.jsxs(Se,{className:"!bg-[#1A1F2E] mb-8",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(Er,{className:"w-6 h-6",style:{color:w}}),"Powers & Abilities"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.powers.map(A=>s.jsxs("div",{className:"border-2 rounded-lg p-4",style:{borderColor:w+"40",backgroundColor:w+"10"},"data-testid":`power-card-${A.id}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt",color:w},children:A.traitName}),A.potencyLevel&&s.jsxs(st,{variant:"outline",style:{borderColor:w,color:w},children:["Level ",A.potencyLevel]})]}),s.jsx("p",{className:"text-foreground/80",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:A.description})]},A.id))})})]}),o.weaknesses.length>0&&s.jsxs(Se,{className:"!bg-[#1A1F2E] mb-8",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(ZN,{className:"w-6 h-6",style:{color:w}}),"Weaknesses"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-3",children:o.weaknesses.map(A=>s.jsxs("div",{className:"border-l-4 pl-4 py-2",style:{borderColor:w},"data-testid":`weakness-${A.id}`,children:[s.jsx("h3",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:A.traitName}),s.jsx("p",{className:"text-foreground/80",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:A.description})]},A.id))})})]}),o.enemies&&o.enemies.length>0&&s.jsxs(Se,{className:"!bg-[#1A1F2E] mb-8",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(_v,{className:"w-6 h-6",style:{color:w}}),"Enemies & Rivals"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"flex flex-wrap gap-3",children:o.enemies.map((A,E)=>s.jsx(st,{variant:"outline",className:"text-base px-4 py-2",style:{borderColor:w,color:w},"data-testid":`badge-enemy-${E}`,children:A},E))})})]}),o.teams&&o.teams.length>0&&s.jsxs(Se,{className:"!bg-[#1A1F2E] mb-8",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(Zs,{className:"w-6 h-6",style:{color:w}}),"Teams & Affiliations"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"flex flex-wrap gap-3",children:o.teams.map((A,E)=>s.jsx(st,{className:"text-base px-4 py-2",style:{backgroundColor:w,color:"white"},"data-testid":`badge-team-${E}`,children:A},E))})})]}),o.firstAppearance&&s.jsxs(Se,{className:"!bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsx("h2",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:"First Appearance"})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-foreground/90",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:o.firstAppearance})})]})]})})}function fye(){var A;const t=da().id,{data:i,isLoading:r,error:a}=yt({queryKey:["/api/narrative/villain",t],enabled:!!t}),o=i==null?void 0:i.data,u=()=>{var E,O;return(o==null?void 0:o.primaryImageUrl)||((E=o==null?void 0:o.asset)==null?void 0:E.imageUrl)||((O=o==null?void 0:o.asset)==null?void 0:O.coverImageUrl)||""},m=((A=o==null?void 0:o.teams)==null?void 0:A[0])||null;if(r)return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"h-8 bg-muted rounded animate-pulse w-48 mb-8"}),s.jsx("div",{className:"h-[800px] bg-muted rounded-lg animate-pulse mb-8"}),s.jsx("div",{className:"h-64 bg-muted rounded-lg animate-pulse"})]})});if(a||!o)return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(Se,{className:"!bg-[#1A1F2E]",children:s.jsx(Pe,{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Henchman information not found."})})})]})});const x=u(),w="#4a0080";return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"relative h-[800px] rounded-lg overflow-hidden mb-8",style:{backgroundImage:x?`url(${x})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:x?"transparent":"#1a1a1a"},"data-testid":"hero-image-section",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:[s.jsx(st,{className:"mb-4",style:{backgroundColor:w,color:"white"},children:"HENCHMAN"}),s.jsx("h1",{className:"text-white mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:o.canonicalName}),o.realName&&s.jsx("p",{className:"text-white/80",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:o.realName}),s.jsxs("p",{className:"text-white/60 mt-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:[o.universe.toUpperCase()," Universe"]})]}),!x&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(su,{className:"w-64 h-64 text-muted-foreground/20"})})]}),m&&s.jsxs(Se,{className:"!bg-[#1A1F2E] mb-8",style:{borderColor:w,borderWidth:"2px"},children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(Oc,{className:"w-6 h-6",style:{color:w}}),"Boss / Allegiance"]})}),s.jsx(Pe,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-purple-900 to-indigo-900 flex items-center justify-center","data-testid":"img-boss-portrait",children:s.jsx(Oc,{className:"w-12 h-12 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground mb-1",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:"Serves under:"}),s.jsx("h3",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt",color:w},children:m}),s.jsx("p",{className:"text-foreground/70 mt-1",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:"Loyal enforcer and trusted operative"})]})]})})]}),o.alternateImageUrls&&o.alternateImageUrls.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"mb-4",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:"Gallery"}),s.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:o.alternateImageUrls.map((E,O)=>s.jsx("div",{className:"w-64 h-96 rounded-lg overflow-hidden shrink-0 border-2 border-white/20",style:{backgroundImage:`url(${E})`,backgroundSize:"cover",backgroundPosition:"center"},"data-testid":`img-alternate-${O}`},O))})]}),s.jsxs(Se,{className:"!bg-[#1A1F2E] mb-8",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(su,{className:"w-6 h-6",style:{color:w}}),"Biography"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-foreground/90 leading-relaxed",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:o.biography||`${o.canonicalName} is a loyal henchman in the ${o.universe} universe.`})})]}),o.powers.length>0&&s.jsxs(Se,{className:"!bg-[#1A1F2E] mb-8",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(Er,{className:"w-6 h-6",style:{color:w}}),"Powers & Abilities"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.powers.map(E=>s.jsxs("div",{className:"border-2 rounded-lg p-4",style:{borderColor:w+"40",backgroundColor:w+"10"},"data-testid":`power-card-${E.id}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt",color:w},children:E.traitName}),E.potencyLevel&&s.jsxs(st,{variant:"outline",style:{borderColor:w,color:w},children:["Level ",E.potencyLevel]})]}),s.jsx("p",{className:"text-foreground/80",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:E.description})]},E.id))})})]}),o.weaknesses.length>0&&s.jsxs(Se,{className:"!bg-[#1A1F2E] mb-8",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(ZN,{className:"w-6 h-6",style:{color:w}}),"Weaknesses"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"space-y-3",children:o.weaknesses.map(E=>s.jsxs("div",{className:"border-l-4 pl-4 py-2",style:{borderColor:w},"data-testid":`weakness-${E.id}`,children:[s.jsx("h3",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:E.traitName}),s.jsx("p",{className:"text-foreground/80",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:E.description})]},E.id))})})]}),o.enemies&&o.enemies.length>0&&s.jsxs(Se,{className:"!bg-[#1A1F2E] mb-8",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(_v,{className:"w-6 h-6",style:{color:w}}),"Enemies & Rivals"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"flex flex-wrap gap-3",children:o.enemies.map((E,O)=>s.jsx(st,{variant:"outline",className:"text-base px-4 py-2",style:{borderColor:w,color:w},"data-testid":`badge-enemy-${O}`,children:E},O))})})]}),o.firstAppearance&&s.jsxs(Se,{className:"!bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsx("h2",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:"First Appearance"})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-foreground/90",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:o.firstAppearance})})]})]})})}function gye(){const t=da().id,{data:i,isLoading:r,error:a}=yt({queryKey:["/api/narrative/superhero",t],enabled:!!t}),o=i==null?void 0:i.data,u=()=>{var x,w;return(o==null?void 0:o.primaryImageUrl)||((x=o==null?void 0:o.asset)==null?void 0:x.imageUrl)||((w=o==null?void 0:o.asset)==null?void 0:w.coverImageUrl)||""};if(r)return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"h-8 bg-muted rounded animate-pulse w-48 mb-8"}),s.jsx("div",{className:"h-[800px] bg-muted rounded-lg animate-pulse mb-8"}),s.jsx("div",{className:"h-64 bg-muted rounded-lg animate-pulse"})]})});if(a||!o)return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(Se,{className:"!bg-[#1A1F2E]",children:s.jsx(Pe,{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Superhero information not found."})})})]})});const m=u();return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"relative h-[800px] rounded-lg overflow-hidden mb-8 superhero-rimlight-hover",style:{backgroundImage:m?`url(${m})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:m?"transparent":"#1a1a1a"},"data-testid":"hero-image-section",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:[s.jsx(st,{className:"mb-4",style:{backgroundColor:"#00CED1",color:"white"},children:"SUPERHERO"}),s.jsx("h1",{className:"text-white mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:o.canonicalName}),o.realName&&s.jsx("p",{className:"text-white/80",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:o.realName}),s.jsxs("p",{className:"text-white/60 mt-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:[o.universe.toUpperCase()," Universe"]})]}),!m&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(zr,{className:"w-64 h-64 text-muted-foreground/20"})})]}),o.alternateImageUrls&&o.alternateImageUrls.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"mb-4",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:"Gallery"}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:o.alternateImageUrls.map((x,w)=>s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden",style:{backgroundImage:`url(${x})`,backgroundSize:"cover",backgroundPosition:"center"},"data-testid":`gallery-image-${w}`},w))})]}),o.biography&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(Bh,{className:"w-6 h-6"}),"Biography"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:o.biography})})]}),o.powers&&o.powers.length>0&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(Er,{className:"w-6 h-6",style:{color:"#00CED1"}}),"Powers"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.powers.map(x=>s.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"#00CED1",backgroundColor:"#00CED1/10"},"data-testid":`power-${x.id}`,children:[s.jsx("h3",{className:"mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt",color:"#00CED1"},children:x.traitName}),x.description&&s.jsx("p",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:x.description}),x.potencyLevel!==null&&s.jsxs("p",{className:"mt-2 text-sm",style:{color:"#00CED1"},children:["Potency Level: ",x.potencyLevel,"/10"]})]},x.id))})})]}),o.weaknesses&&o.weaknesses.length>0&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(ZN,{className:"w-6 h-6",style:{color:"#DC2626"}}),"Weaknesses"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.weaknesses.map(x=>s.jsxs("div",{className:"p-4 rounded-lg border border-destructive/30 bg-destructive/5","data-testid":`weakness-${x.id}`,children:[s.jsx("h3",{className:"mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt",color:"#DC2626"},children:x.traitName}),x.description&&s.jsx("p",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:x.description})]},x.id))})})]}),o.allies&&o.allies.length>0&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(Zs,{className:"w-6 h-6"}),"Allies"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:o.allies.map((x,w)=>s.jsx(st,{variant:"outline",className:"text-base py-1 px-3","data-testid":`ally-${w}`,children:x},w))})})]}),o.teams&&o.teams.length>0&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(Zs,{className:"w-6 h-6"}),"Teams & Affiliations"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:o.teams.map((x,w)=>s.jsx(st,{style:{backgroundColor:"#00CED1",color:"white"},className:"text-base py-1 px-3","data-testid":`team-${w}`,children:x},w))})})]}),o.firstAppearance&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsx("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:"First Appearance"})}),s.jsx(Pe,{children:s.jsx("p",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:o.firstAppearance})})]})]})})}function xye(){const t=da().id,{data:i,isLoading:r,error:a}=yt({queryKey:["/api/narrative/sidekick",t],enabled:!!t}),o=i==null?void 0:i.data,u=()=>{var x,w;return(o==null?void 0:o.primaryImageUrl)||((x=o==null?void 0:o.asset)==null?void 0:x.imageUrl)||((w=o==null?void 0:o.asset)==null?void 0:w.coverImageUrl)||""};if(r)return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"h-8 bg-muted rounded animate-pulse w-48 mb-8"}),s.jsx("div",{className:"h-[800px] bg-muted rounded-lg animate-pulse mb-8"}),s.jsx("div",{className:"h-64 bg-muted rounded-lg animate-pulse"})]})});if(a||!o)return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(Se,{className:"!bg-[#1A1F2E]",children:s.jsx(Pe,{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Sidekick information not found."})})})]})});const m=u();return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"relative h-[800px] rounded-lg overflow-hidden mb-8",style:{backgroundImage:m?`url(${m})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:m?"transparent":"#1a1a1a"},"data-testid":"hero-image-section",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:[s.jsx(st,{className:"mb-4",style:{backgroundColor:"#001f3f",color:"white"},children:"SIDEKICK"}),s.jsx("h1",{className:"text-white mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:o.canonicalName}),o.realName&&s.jsx("p",{className:"text-white/80",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:o.realName}),s.jsxs("p",{className:"text-white/60 mt-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:[o.universe.toUpperCase()," Universe"]})]}),!m&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(zr,{className:"w-64 h-64 text-muted-foreground/20"})})]}),o.alternateImageUrls&&o.alternateImageUrls.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"mb-4",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:"Gallery"}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:o.alternateImageUrls.map((x,w)=>s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden",style:{backgroundImage:`url(${x})`,backgroundSize:"cover",backgroundPosition:"center"},"data-testid":`gallery-image-${w}`},w))})]}),o.biography&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(Bh,{className:"w-6 h-6"}),"Biography"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:o.biography})})]}),o.mentorName&&o.mentorId&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(yee,{className:"w-6 h-6",style:{color:"#001f3f"}}),"Mentor"]})}),s.jsx(Pe,{children:s.jsx(gt,{href:`/superhero/${o.mentorId}`,"data-testid":"link-mentor",children:s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border hover-elevate cursor-pointer",style:{borderColor:"#001f3f"},children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:s.jsx(zr,{className:"w-8 h-8",style:{color:"#001f3f"}})}),s.jsxs("div",{children:[s.jsx("p",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt",color:"#001f3f"},children:o.mentorName}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"View Superhero Profile"})]})]})})})]}),o.powers&&o.powers.length>0&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(Er,{className:"w-6 h-6",style:{color:"#001f3f"}}),"Powers"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.powers.map(x=>s.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"#001f3f",backgroundColor:"rgba(0, 31, 63, 0.1)"},"data-testid":`power-${x.id}`,children:[s.jsx("h3",{className:"mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt",color:"#001f3f"},children:x.traitName}),x.description&&s.jsx("p",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:x.description}),x.potencyLevel!==null&&s.jsxs("p",{className:"mt-2 text-sm",style:{color:"#001f3f"},children:["Potency Level: ",x.potencyLevel,"/10"]})]},x.id))})})]}),o.weaknesses&&o.weaknesses.length>0&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(ZN,{className:"w-6 h-6",style:{color:"#DC2626"}}),"Weaknesses"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.weaknesses.map(x=>s.jsxs("div",{className:"p-4 rounded-lg border border-destructive/30 bg-destructive/5","data-testid":`weakness-${x.id}`,children:[s.jsx("h3",{className:"mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt",color:"#DC2626"},children:x.traitName}),x.description&&s.jsx("p",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:x.description})]},x.id))})})]}),o.allies&&o.allies.length>0&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(Zs,{className:"w-6 h-6"}),"Allies"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:o.allies.map((x,w)=>s.jsx(st,{variant:"outline",className:"text-base py-1 px-3","data-testid":`ally-${w}`,children:x},w))})})]}),o.teams&&o.teams.length>0&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(Zs,{className:"w-6 h-6"}),"Teams & Affiliations"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:o.teams.map((x,w)=>s.jsx(st,{style:{backgroundColor:"#001f3f",color:"white"},className:"text-base py-1 px-3","data-testid":`team-${w}`,children:x},w))})})]}),o.firstAppearance&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsx("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:"First Appearance"})}),s.jsx(Pe,{children:s.jsx("p",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:o.firstAppearance})})]})]})})}function yye(){const t=da().id,{data:i,isLoading:r,error:a}=yt({queryKey:["/api/narrative/location",t],enabled:!!t}),o=i==null?void 0:i.data,u=()=>{var x,w;return(o==null?void 0:o.primaryImageUrl)||((x=o==null?void 0:o.asset)==null?void 0:x.imageUrl)||((w=o==null?void 0:o.asset)==null?void 0:w.coverImageUrl)||""};if(r)return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"h-8 bg-muted rounded animate-pulse w-48 mb-8"}),s.jsx("div",{className:"h-[800px] bg-muted rounded-lg animate-pulse mb-8"}),s.jsx("div",{className:"h-64 bg-muted rounded-lg animate-pulse"})]})});if(a||!o)return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(Se,{className:"!bg-[#1A1F2E]",children:s.jsx(Pe,{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Location information not found."})})})]})});const m=u();return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"relative h-[800px] rounded-lg overflow-hidden mb-8 location-rimlight-hover",style:{backgroundImage:m?`url(${m})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:m?"transparent":"#1a1a1a"},"data-testid":"location-image-section",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:[s.jsx(st,{className:"mb-4",style:{backgroundColor:"#8B4513",color:"white"},children:"LOCATION"}),s.jsx("h1",{className:"text-white mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:o.canonicalName}),o.subtype&&s.jsx("p",{className:"text-white/80",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:o.subtype}),s.jsxs("p",{className:"text-white/60 mt-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:[o.universe.toUpperCase()," Universe"]})]}),!m&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(IC,{className:"w-64 h-64 text-muted-foreground/20"})})]}),o.alternateImageUrls&&o.alternateImageUrls.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"mb-4",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:"Gallery"}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:o.alternateImageUrls.map((x,w)=>s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden",style:{backgroundImage:`url(${x})`,backgroundSize:"cover",backgroundPosition:"center"},"data-testid":`gallery-image-${w}`},w))})]}),o.description&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(Ci,{className:"w-6 h-6"}),"Description"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:o.description})})]}),o.notableEvents&&o.notableEvents.length>0&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(ia,{className:"w-6 h-6",style:{color:"#8B4513"}}),"Notable Events"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.notableEvents.map(x=>s.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"#8B4513",backgroundColor:"rgba(139, 69, 19, 0.1)"},"data-testid":`event-${x.id}`,children:[s.jsx("h3",{className:"mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt",color:"#8B4513"},children:x.traitName}),x.description&&s.jsx("p",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:x.description})]},x.id))})})]}),o.associatedCharacters&&o.associatedCharacters.length>0&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(Zs,{className:"w-6 h-6"}),"Associated Heroes & Villains"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:o.associatedCharacters.map((x,w)=>s.jsx(st,{variant:"outline",className:"text-base py-1 px-3","data-testid":`character-${w}`,children:x.traitName},w))})})]}),o.firstAppearance&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsx("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:"First Appearance"})}),s.jsx(Pe,{children:s.jsx("p",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:o.firstAppearance})})]})]})})}function vye(){const t=da().id,{data:i,isLoading:r,error:a}=yt({queryKey:["/api/narrative/gadget",t],enabled:!!t}),o=i==null?void 0:i.data,u=()=>{var x,w;return(o==null?void 0:o.primaryImageUrl)||((x=o==null?void 0:o.asset)==null?void 0:x.imageUrl)||((w=o==null?void 0:o.asset)==null?void 0:w.coverImageUrl)||""};if(r)return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"h-8 bg-muted rounded animate-pulse w-48 mb-8"}),s.jsx("div",{className:"h-[800px] bg-muted rounded-lg animate-pulse mb-8"}),s.jsx("div",{className:"h-64 bg-muted rounded-lg animate-pulse"})]})});if(a||!o)return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(Se,{className:"!bg-[#1A1F2E]",children:s.jsx(Pe,{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Gadget information not found."})})})]})});const m=u();return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"relative h-[800px] rounded-lg overflow-hidden mb-8 gadget-rimlight-hover",style:{backgroundImage:m?`url(${m})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:m?"transparent":"#1a1a1a"},"data-testid":"gadget-image-section",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:[s.jsx(st,{className:"mb-4",style:{backgroundColor:"#DAA520",color:"white"},children:"GADGET"}),s.jsx("h1",{className:"text-white mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:o.canonicalName}),o.subtype&&s.jsx("p",{className:"text-white/80",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:o.subtype}),s.jsxs("p",{className:"text-white/60 mt-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:[o.universe.toUpperCase()," Universe"]})]}),!m&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(DC,{className:"w-64 h-64 text-muted-foreground/20"})})]}),o.alternateImageUrls&&o.alternateImageUrls.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"mb-4",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:"Gallery"}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:o.alternateImageUrls.map((x,w)=>s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden",style:{backgroundImage:`url(${x})`,backgroundSize:"cover",backgroundPosition:"center"},"data-testid":`gallery-image-${w}`},w))})]}),o.description&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(Ci,{className:"w-6 h-6"}),"Description"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:o.description})})]}),o.capabilities&&o.capabilities.length>0&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(Er,{className:"w-6 h-6",style:{color:"#DAA520"}}),"Capabilities"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.capabilities.map(x=>s.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"#DAA520",backgroundColor:"rgba(218, 165, 32, 0.1)"},"data-testid":`capability-${x.id}`,children:[s.jsx("h3",{className:"mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt",color:"#DAA520"},children:x.traitName}),x.description&&s.jsx("p",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:x.description})]},x.id))})})]}),o.features&&o.features.length>0&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(DC,{className:"w-6 h-6"}),"Features"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.features.map(x=>s.jsxs("div",{className:"p-4 rounded-lg border border-muted","data-testid":`feature-${x.id}`,children:[s.jsx("h3",{className:"mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:x.traitName}),x.description&&s.jsx("p",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:x.description})]},x.id))})})]}),o.owner&&o.owner.length>0&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsxs("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(xn,{className:"w-6 h-6"}),"Creator / Owner"]})}),s.jsx(Pe,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:o.owner.map((x,w)=>s.jsx(st,{style:{backgroundColor:"#DAA520",color:"white"},className:"text-base py-1 px-3","data-testid":`owner-${w}`,children:x.traitName},w))})})]}),o.firstAppearance&&s.jsxs(Se,{className:"mb-8 !bg-[#1A1F2E]",children:[s.jsx(Be,{children:s.jsx("h2",{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:"First Appearance"})}),s.jsx(Pe,{children:s.jsx("p",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:o.firstAppearance})})]})]})})}function bye(){const e=da(),t=e.name?decodeURIComponent(e.name):"",{data:i,isLoading:r,error:a}=yt({queryKey:["/api/narrative/franchise",t],enabled:!!t}),o=i==null?void 0:i.data;if(r)return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"h-8 bg-muted rounded animate-pulse w-48 mb-8"}),s.jsx("div",{className:"h-[400px] bg-muted rounded-lg animate-pulse mb-8"}),s.jsx("div",{className:"h-64 bg-muted rounded-lg animate-pulse"})]})});if(a||!o)return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(Se,{className:"!bg-[#1A1F2E]",children:s.jsx(Pe,{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Franchise information not found."})})})]})});const u=o.entities.filter(w=>w.entityType==="character"),m=o.entities.filter(w=>w.entityType==="creator"),x=o.entities.filter(w=>w.entityType==="location");return s.jsx("div",{className:"min-h-screen !bg-[#1A1F2E] p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(gt,{href:"/","data-testid":"link-back-home",children:s.jsxs(rt,{variant:"ghost",className:"mb-6","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(Se,{className:"!bg-[#252B3C] mb-8","data-testid":"franchise-header",children:s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-4 rounded-lg bg-[#1A1F2E]",children:s.jsx(vv,{className:"w-16 h-16 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"32pt",color:"#ffffff"},children:o.name}),s.jsx("p",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt",color:"#89CFF0"},children:"Comic Book Universe"})]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(Se,{className:"!bg-[#252B3C]","data-testid":"stat-total-entities",children:s.jsx(Pe,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"32pt",color:"#ffffff"},children:o.totalEntities}),s.jsx("p",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt",color:"#89CFF0"},children:"Total Entities"})]})})}),s.jsx(Se,{className:"!bg-[#252B3C]","data-testid":"stat-characters",children:s.jsx(Pe,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"32pt",color:"#ffffff"},children:o.characterCount}),s.jsx("p",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt",color:"#89CFF0"},children:"Characters"})]})})}),s.jsx(Se,{className:"!bg-[#252B3C]","data-testid":"stat-creators",children:s.jsx(Pe,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"32pt",color:"#ffffff"},children:o.creatorCount}),s.jsx("p",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt",color:"#89CFF0"},children:"Creators"})]})})}),s.jsx(Se,{className:"!bg-[#252B3C]","data-testid":"stat-locations",children:s.jsx(Pe,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"32pt",color:"#ffffff"},children:o.locationCount}),s.jsx("p",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt",color:"#89CFF0"},children:"Locations"})]})})})]}),u.length>0&&s.jsxs(Se,{className:"!bg-[#252B3C] mb-8","data-testid":"section-characters",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zs,{className:"w-8 h-8 text-white"}),s.jsx("h2",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt",color:"#ffffff"},children:"Characters"})]})}),s.jsx(Pe,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:u.slice(0,12).map(w=>{let A="villain";return w.subtype==="villain"||w.subtype==="henchman"?A=w.subtype==="villain"?"villain":"henchman":(w.subtype==="superhero"||w.subtype==="sidekick")&&(A=w.subtype==="superhero"?"superhero":"sidekick"),s.jsx(gt,{href:`/${A}/${w.id}`,children:s.jsx(Se,{className:"!bg-[#1A1F2E] hover-elevate active-elevate-2 cursor-pointer",children:s.jsxs(Pe,{className:"p-4",children:[s.jsx("div",{className:"aspect-square bg-[#0a0a0a] rounded-lg mb-2 flex items-center justify-center overflow-hidden",children:w.primaryImageUrl?s.jsx("img",{src:w.primaryImageUrl,alt:w.canonicalName,className:"w-full h-full object-contain"}):s.jsx(Zs,{className:"w-12 h-12 text-muted-foreground/30"})}),s.jsx("p",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt",color:"#ffffff"},className:"text-center truncate",children:w.canonicalName}),w.subtype&&s.jsx(st,{variant:"outline",className:"w-full mt-1",children:s.jsx("span",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"10pt"},children:w.subtype})})]})})},w.id)})})})]}),m.length>0&&s.jsxs(Se,{className:"!bg-[#252B3C] mb-8","data-testid":"section-creators",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wc,{className:"w-8 h-8 text-white"}),s.jsx("h2",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt",color:"#ffffff"},children:"Creators"})]})}),s.jsx(Pe,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:m.slice(0,12).map(w=>s.jsx(gt,{href:`/creator/${encodeURIComponent(w.canonicalName)}`,children:s.jsx(st,{variant:"outline",className:"w-full hover-elevate active-elevate-2 cursor-pointer py-2",children:s.jsx("span",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"11pt"},className:"truncate",children:w.canonicalName})})},w.id))})})]}),x.length>0&&s.jsxs(Se,{className:"!bg-[#252B3C]","data-testid":"section-locations",children:[s.jsx(Be,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(IC,{className:"w-8 h-8 text-white"}),s.jsx("h2",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt",color:"#ffffff"},children:"Locations"})]})}),s.jsx(Pe,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:x.slice(0,8).map(w=>s.jsx(Se,{className:"!bg-[#1A1F2E] hover-elevate active-elevate-2",children:s.jsxs(Pe,{className:"p-4",children:[s.jsx("div",{className:"aspect-square bg-[#0a0a0a] rounded-lg mb-2 flex items-center justify-center overflow-hidden",children:w.primaryImageUrl?s.jsx("img",{src:w.primaryImageUrl,alt:w.canonicalName,className:"w-full h-full object-contain"}):s.jsx(IC,{className:"w-12 h-12 text-muted-foreground/30"})}),s.jsx("p",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt",color:"#ffffff"},className:"text-center truncate",children:w.canonicalName})]})},w.id))})})]})]})})}function wye(){const{data:e,isLoading:t}=yt({queryKey:["/api/comic-covers/comic-of-the-day"]}),i=e==null?void 0:e.data;if(t)return s.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"h-8 bg-muted rounded-lg animate-pulse w-64"}),s.jsx("div",{className:"h-96 bg-muted rounded-lg animate-pulse"})]});if(!i)return s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Comic of the Day not available"})});const r=i.estimatedValue||199.99,a=i.printPrice||3.99,u=(r-a)/a*100;return s.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[s.jsx(gt,{href:"/dashboard",children:s.jsxs(rt,{variant:"ghost",className:"mb-4","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl  text-foreground mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Historical Significance"}),s.jsxs("p",{className:"text-xl text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:[i.title," - ",i.series," #",i.issueNumber]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsx("div",{className:"aspect-[2/3] bg-muted rounded-lg overflow-hidden border-4 border-orange-500/30 shadow-2xl orange-rimlight-hover",children:i.coverUrl?s.jsx("img",{src:i.coverUrl,alt:i.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:"No Cover Available"})}),s.jsxs(Se,{className:"mt-4 bg-[#1A1F2E] orange-rimlight-hover",children:[s.jsx(Be,{children:s.jsx(Ze,{className:"text-sm",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Quick Facts"})}),s.jsxs(Pe,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Release Date:"}),s.jsx("span",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:i.onsaleDate?new Date(i.onsaleDate).toLocaleDateString():"Unknown"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Current Value:"}),s.jsxs("span",{className:"text-green-500",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:["$",r.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Print Price:"}),s.jsxs("span",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:["$",a.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Appreciation:"}),s.jsxs("span",{className:"text-green-500",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:["+",u.toFixed(0),"%"]})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Se,{className:"bg-[#1A1F2E] orange-rimlight-hover",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(Ci,{className:"w-5 h-5 text-orange-500"}),"Why This Comic Matters"]})}),s.jsx(Pe,{className:"space-y-4",children:s.jsx("p",{className:"text-foreground leading-relaxed",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:i.significance||i.historicalContext||`This groundbreaking issue represents a pivotal moment in comic book history. ${i.title} has become a cornerstone of the medium, influencing countless creators and stories that followed.`})})]}),s.jsxs(Se,{className:"bg-[#1A1F2E] orange-rimlight-hover",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(ia,{className:"w-5 h-5 text-blue-500"}),"Historical Context"]})}),s.jsxs(Pe,{className:"space-y-4",children:[s.jsx("p",{className:"text-foreground leading-relaxed",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:i.historicalContext||"Published during a transformative era in comics, this issue pushed the boundaries of sequential storytelling. The creative team's innovative approach set new standards for character development, visual narrative, and thematic depth that continue to resonate with readers today."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"p-4 bg-blue-500/10 border-2 border-blue-500/30 rounded-lg",children:[s.jsx(On,{className:"w-6 h-6 text-blue-500 mb-2"}),s.jsx("h4",{className:"text-sm mb-1",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Critical Acclaim"}),s.jsx("p",{className:"text-xs text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Widely praised upon release, cementing its legendary status"})]}),s.jsxs("div",{className:"p-4 bg-purple-500/10 border-2 border-purple-500/30 rounded-lg",children:[s.jsx(Us,{className:"w-6 h-6 text-purple-500 mb-2"}),s.jsx("h4",{className:"text-sm mb-1",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Cultural Impact"}),s.jsx("p",{className:"text-xs text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Influenced popular culture far beyond comic books"})]})]})]})]}),s.jsxs(Se,{className:"bg-[#1A1F2E] green-rimlight-hover",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(ns,{className:"w-5 h-5 text-green-500"}),"Investment & Collectibility"]})}),s.jsxs(Pe,{className:"space-y-4",children:[s.jsx("p",{className:"text-foreground leading-relaxed",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:"From a collector and investor perspective, this issue has demonstrated exceptional value appreciation over time. Its historical significance, combined with limited availability, makes it a cornerstone piece for serious collections."}),s.jsxs("div",{className:"space-y-2 mt-4",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Us,{className:"w-4 h-4 text-green-500 shrink-0 mt-1"}),s.jsxs("p",{className:"text-sm text-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:["Exceptional value appreciation: ",u.toFixed(0),"% increase from original print price"]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Us,{className:"w-4 h-4 text-green-500 shrink-0 mt-1"}),s.jsx("p",{className:"text-sm text-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Limited availability in high-grade condition"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Us,{className:"w-4 h-4 text-green-500 shrink-0 mt-1"}),s.jsx("p",{className:"text-sm text-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Recognized by industry experts as essential to serious collections"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Us,{className:"w-4 h-4 text-green-500 shrink-0 mt-1"}),s.jsx("p",{className:"text-sm text-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Strong market demand and historical price stability"})]})]})]})]}),s.jsxs(Se,{className:"bg-[#1A1F2E] purple-rimlight-hover",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(VP,{className:"w-5 h-5 text-purple-500"}),"Expert Recommendation"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-foreground leading-relaxed",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:"This comic is essential reading for anyone interested in understanding the evolution of sequential art and storytelling. Whether you're a collector, investor, or enthusiast, this issue deserves a place in your collection as both a cultural artifact and a sound investment in comic book history."})})]})]})]})]})}function _ye(){const{data:e,isLoading:t}=yt({queryKey:["/api/comic-covers/comic-of-the-day"]}),i=e==null?void 0:e.data;if(t)return s.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"h-8 bg-muted rounded-lg animate-pulse w-64"}),s.jsx("div",{className:"h-96 bg-muted rounded-lg animate-pulse"})]});if(!i)return s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Comic of the Day not available"})});const r=i.creators||[],a=o=>{const u=o.toLowerCase();return u.includes("writer")?ef:u.includes("artist")||u.includes("penciler")?wc:u.includes("cover")?Ci:xn};return s.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[s.jsx(gt,{href:"/dashboard",children:s.jsxs(rt,{variant:"ghost",className:"mb-4","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl  text-foreground mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Creative Team Biographies"}),s.jsxs("p",{className:"text-xl text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:[i.title," - ",i.series," #",i.issueNumber]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsx("div",{className:"aspect-[2/3] bg-muted rounded-lg overflow-hidden border-4 border-green-500/30 shadow-2xl green-rimlight-hover",children:i.coverUrl?s.jsx("img",{src:i.coverUrl,alt:i.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:"No Cover Available"})}),s.jsxs(Se,{className:"mt-4 bg-[#1A1F2E] green-rimlight-hover",children:[s.jsx(Be,{children:s.jsx(Ze,{className:"text-sm",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Creative Team"})}),s.jsxs(Pe,{className:"space-y-2",children:[r.map((o,u)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(xn,{className:"w-3 h-3 text-green-500"}),s.jsx("span",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:o.name}),s.jsx(st,{variant:"outline",className:"ml-auto text-xs",children:o.role})]},u)),r.length===0&&s.jsx("p",{className:"text-sm text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"No creator information available"})]})]})]}),s.jsx("div",{className:"lg:col-span-2 space-y-6",children:r.length>0?r.map((o,u)=>{const m=a(o.role);return s.jsxs(Se,{className:"bg-[#1A1F2E] green-rimlight-hover","data-testid":`card-creator-${u}`,children:[s.jsx(Be,{children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/20 border-2 border-green-500 flex items-center justify-center",children:s.jsx(m,{className:"w-6 h-6 text-green-500"})}),s.jsxs("div",{children:[s.jsx(Ze,{className:"text-xl",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:o.name}),s.jsx(st,{variant:"outline",className:"mt-1",children:o.role})]})]})})}),s.jsxs(Pe,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm mb-2 flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:[s.jsx(On,{className:"w-4 h-4 text-yellow-500"}),"Biography"]}),s.jsxs("p",{className:"text-foreground leading-relaxed",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:[o.name," is a renowned ",o.role.toLowerCase()," in the comic book industry, known for their exceptional work on ",i.series," and numerous other acclaimed titles. Their contribution to this issue showcases their masterful storytelling abilities and technical expertise that have made them a legend in the field."]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm mb-2 flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:[s.jsx(Ci,{className:"w-4 h-4 text-blue-500"}),"Notable Works"]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(st,{variant:"outline",children:i.series}),s.jsx(st,{variant:"outline",children:"Classic Tales"}),s.jsx(st,{variant:"outline",children:"Legendary Series"})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm mb-2 flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:[s.jsx(On,{className:"w-4 h-4 text-purple-500"}),"Awards & Recognition"]}),s.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsx("li",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"• Multiple industry awards for excellence in sequential art"}),s.jsx("li",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"• Recognized as a pioneer in modern comic storytelling"}),s.jsx("li",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"• Inducted into comic book hall of fame"})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm mb-2 flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:[s.jsx(wc,{className:"w-4 h-4 text-pink-500"}),"Artistic Style & Approach"]}),s.jsxs("p",{className:"text-sm text-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:["Known for their distinctive visual style and narrative innovation, ",o.name," brings a unique perspective to every project. Their work on this issue exemplifies their ability to blend classic techniques with modern sensibilities, creating timeless storytelling that resonates across generations."]})]})]})]},u)}):s.jsx(Se,{className:"bg-[#1A1F2E]",children:s.jsx(Pe,{className:"p-12 text-center",children:s.jsx("p",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"No creator information available for this comic"})})})})]})]})}function Nye(){const{data:e,isLoading:t}=yt({queryKey:["/api/comic-covers/comic-of-the-day"]}),i=e==null?void 0:e.data;return t?s.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"h-8 bg-muted rounded-lg animate-pulse w-64"}),s.jsx("div",{className:"h-96 bg-muted rounded-lg animate-pulse"})]}):i?s.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[s.jsx(gt,{href:"/dashboard",children:s.jsxs(rt,{variant:"ghost",className:"mb-4","data-testid":"button-back-to-dashboard",children:[s.jsx(_s,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl  text-foreground mb-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"About This Issue"}),s.jsxs("p",{className:"text-xl text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:[i.title," - ",i.series," #",i.issueNumber]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsx("div",{className:"aspect-[2/3] bg-muted rounded-lg overflow-hidden border-4 border-blue-500/30 shadow-2xl blue-rimlight-hover",children:i.coverUrl?s.jsx("img",{src:i.coverUrl,alt:i.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:"No Cover Available"})}),s.jsxs(Se,{className:"mt-4 bg-[#1A1F2E] blue-rimlight-hover",children:[s.jsx(Be,{children:s.jsx(Ze,{className:"text-sm",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Publication Details"})}),s.jsxs(Pe,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Format:"}),s.jsx("span",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:i.format||"Comic"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Page Count:"}),s.jsxs("span",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:[i.pageCount||32," pages"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Print Price:"}),s.jsxs("span",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:["$",(i.printPrice||3.99).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"Age:"}),s.jsxs("span",{style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:[i.yearsOld||0," years"]})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Se,{className:"bg-[#1A1F2E] blue-rimlight-hover",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(Ci,{className:"w-5 h-5 text-blue-500"}),"Story Synopsis"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-foreground leading-relaxed",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:i.description||"This compelling issue weaves together action, drama, and character development in a masterful display of sequential storytelling. The narrative pushes the boundaries of what readers expect, delivering both thrilling moments and thoughtful exploration of deeper themes."})})]}),s.jsxs(Se,{className:"bg-[#1A1F2E] purple-rimlight-hover",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(N5,{className:"w-5 h-5 text-purple-500"}),"Plot Details"]})}),s.jsxs(Pe,{className:"space-y-3",children:[s.jsx("p",{className:"text-foreground leading-relaxed",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:"This issue explores deeper themes of heroism, sacrifice, and the human condition. The narrative weaves together multiple character arcs, creating a rich tapestry of storytelling that rewards both casual readers and dedicated fans alike."}),s.jsx("p",{className:"text-foreground leading-relaxed",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:"The character development is exceptional. Each hero faces personal challenges that test not just their powers, but their principles. The protagonist's journey from doubt to determination forms the emotional core of the story, while supporting characters provide depth and nuance to the overall narrative."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(Se,{className:"bg-[#1A1F2E] pink-rimlight-hover",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:[s.jsx(wc,{className:"w-5 h-5 text-pink-500"}),"Art Style"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-sm text-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"The visual presentation is stunning, with dynamic panel layouts and expressive character work. The artist's use of color and shadow creates atmosphere while maintaining clarity in the action sequences."})})]}),s.jsxs(Se,{className:"bg-[#1A1F2E] orange-rimlight-hover",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"15pt"},children:[s.jsx(N5,{className:"w-5 h-5 text-orange-500"}),"Writing Quality"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-sm text-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300"},children:"The dialogue feels natural and character-driven, with each voice distinctly their own. The pacing balances action with quieter character moments, creating a satisfying rhythm throughout."})})]})]}),s.jsxs(Se,{className:"bg-[#1A1F2E] green-rimlight-hover",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(eee,{className:"w-5 h-5 text-yellow-500"}),"Themes & Motifs"]})}),s.jsxs(Pe,{className:"space-y-3",children:[s.jsx("p",{className:"text-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:"Central themes include the weight of responsibility, the cost of heroism, and the importance of hope in dark times. Recurring visual motifs of light and shadow reinforce the story's exploration of moral complexity."}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-4",children:[s.jsx(st,{variant:"outline",className:"justify-center",children:"Responsibility"}),s.jsx(st,{variant:"outline",className:"justify-center",children:"Heroism"}),s.jsx(st,{variant:"outline",className:"justify-center",children:"Hope"}),s.jsx(st,{variant:"outline",className:"justify-center",children:"Sacrifice"})]})]})]}),s.jsxs(Se,{className:"bg-[#1A1F2E] yellow-rimlight-hover",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(uee,{className:"w-5 h-5 text-yellow-500"}),"Notable Quotes"]})}),s.jsxs(Pe,{className:"space-y-4",children:[s.jsx("div",{className:"border-l-4 border-yellow-500 pl-4 py-2",children:s.jsx("p",{className:"italic text-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:'"With great power comes great responsibility"'})}),s.jsx("div",{className:"border-l-4 border-yellow-500 pl-4 py-2",children:s.jsx("p",{className:"italic text-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:`"It's not about being perfect. It's about doing what's right."`})}),s.jsx("div",{className:"border-l-4 border-yellow-500 pl-4 py-2",children:s.jsx("p",{className:"italic text-foreground",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:`"Heroes aren't born. They're made in moments of crisis."`})})]})]}),s.jsxs(Se,{className:"bg-[#1A1F2E] purple-rimlight-hover",children:[s.jsx(Be,{children:s.jsxs(Ze,{className:"flex items-center gap-2",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"20pt"},children:[s.jsx(Us,{className:"w-5 h-5 text-purple-500"}),"Collector's Notes"]})}),s.jsx(Pe,{children:s.jsx("p",{className:"text-foreground leading-relaxed",style:{fontFamily:"Hind, sans-serif",fontWeight:"300",fontSize:"12pt"},children:"This issue is highly sought after by collectors for its pivotal story developments and iconic cover art. First printings in mint condition command premium prices in the market. Key factors affecting value include issue number significance, creator lineup, and historical importance to the overall series."})})]})]})]})]}):s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Comic of the Day not available"})})}function tO(){const{isAuthenticated:e}=sn();return e?s.jsxs(mC,{children:[s.jsx(cs,{path:"/",component:j4}),s.jsx(cs,{path:"/dashboard",component:j4}),s.jsx(cs,{path:"/entry-test",component:fne}),s.jsx(cs,{path:"/knowledge-test",component:s$}),s.jsx(cs,{path:"/trading",component:vge}),s.jsx(cs,{path:"/terminal",component:Hxe}),s.jsx(cs,{path:"/portfolio/value",component:x0e}),s.jsx(cs,{path:"/portfolio/cash",component:y0e}),s.jsx(cs,{path:"/portfolio/assets",component:v0e}),s.jsx(cs,{path:"/portfolio/pnl",component:b0e}),s.jsx(cs,{path:"/portfolio/returns",component:w0e}),s.jsx(cs,{path:"/portfolio/buying-power",component:_0e}),s.jsx(cs,{path:"/portfolio/orders",component:N0e}),s.jsx(cs,{path:"/portfolio/positions",component:j0e}),s.jsx(cs,{path:"/portfolio/win-rate",component:k0e}),s.jsx(cs,{path:"/portfolio/best-performer",component:S0e}),s.jsx(cs,{path:"/portfolio/worst-performer",component:A0e}),s.jsx(cs,{path:"/portfolio/account-value",component:C0e}),s.jsx(cs,{path:"/portfolio",component:$xe}),s.jsx(cs,{path:"/watchlist",component:Uxe}),s.jsx(cs,{path:"/leaderboard",component:g0e}),s.jsx(cs,{path:"/certifications",component:E0e}),s.jsx(cs,{path:"/easter-eggs",component:I0e}),s.jsx(cs,{path:"/investment-clubs",component:J0e}),s.jsx(cs,{path:"/investment-clubs/:id",component:iye}),s.jsx(cs,{path:"/analytics",component:rye}),s.jsx(cs,{path:"/news/:id?",component:nye}),s.jsx(cs,{path:"/learn/:id?",component:aye}),s.jsx(cs,{path:"/asset/:symbol",component:oye}),s.jsx(cs,{path:"/series/:series",component:lye}),s.jsx(cs,{path:"/historical-significance/:id",component:cye}),s.jsx(cs,{path:"/creator/:name",component:dye}),s.jsx(cs,{path:"/issue/:id",component:uye}),s.jsx(cs,{path:"/comic-bio/:id",component:hye}),s.jsx(cs,{path:"/order-desk/:assetId",component:pye}),s.jsx(cs,{path:"/comic-of-day/historical",component:wye}),s.jsx(cs,{path:"/comic-of-day/creators",component:_ye}),s.jsx(cs,{path:"/comic-of-day/about",component:Nye}),s.jsx(cs,{path:"/villain/:id",component:mye}),s.jsx(cs,{path:"/henchman/:id",component:fye}),s.jsx(cs,{path:"/superhero/:id",component:gye}),s.jsx(cs,{path:"/sidekick/:id",component:xye}),s.jsx(cs,{path:"/location/:id",component:yye}),s.jsx(cs,{path:"/gadget/:id",component:vye}),s.jsx(cs,{path:"/franchise/:name",component:bye}),s.jsx(cs,{path:"/settings",component:T0e}),s.jsx(cs,{component:Gre})]}):s.jsxs(mC,{children:[s.jsx(cs,{path:"/",component:C5}),s.jsx(cs,{path:"/intro",component:Kre}),s.jsx(cs,{path:"/auth",component:qre}),s.jsx(cs,{component:C5})]})}function jye(){return s.jsx(IQ,{client:la,children:s.jsxs(AW,{children:[s.jsx(ote,{children:s.jsx(cte,{defaultHouse:"heroes",children:s.jsx(Sye,{})})}),s.jsx(ite,{})]})})}function kye(){return L0e(),null}function Sye(){const{isAuthenticated:e,isLoading:t}=sn();return t?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 border-2 border-primary rounded-full animate-spin border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?s.jsx(Vre,{children:s.jsxs(mC,{children:[s.jsx(cs,{path:"/knowledge-test",component:s$}),s.jsx(cs,{children:s.jsxs($re,{children:[s.jsx(kye,{}),s.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[s.jsxs("div",{className:"sticky top-0 z-50",children:[s.jsx(ute,{}),s.jsx(zre,{}),s.jsx(Wre,{})]}),s.jsxs("main",{children:[s.jsx("div",{className:"max-w-[1920px] mx-auto px-6 py-6",children:s.jsx(tO,{})}),s.jsx(Hre,{})]})]})]})})]})}):s.jsx("div",{className:"min-h-screen bg-background text-foreground",children:s.jsx(tO,{})})}u6(document.getElementById("root")).render(s.jsx(jye,{}));
