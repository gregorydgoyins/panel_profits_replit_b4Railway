/* NOIR BRUTALIST TYPOGRAPHY - FRANK MILLER/ALAN MOORE VISUAL LANGUAGE */
@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700;800;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Hind:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600;700;800;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700;800;900&display=swap');

/* Performance optimizations - GPU acceleration & mobile optimizations */
@import './performance-optimizations.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ═══════════════════════════════════════════════════════════════════════════════════════ */
/* FRANK MILLER/ALAN MOORE NOIR SYSTEM - BRUTAL BLACK & WHITE WITH BLOOD */
/* ═══════════════════════════════════════════════════════════════════════════════════════ */

:root {
  /* NOIR CORE PALETTE - NO MERCY, NO COMPROMISE */
  --background: 0 0% 0%; /* #000000 - Pure void black */
  --foreground: 0 0% 100%; /* #FFFFFF - Harsh stark white */
  
  --border: 0 0% 100%; /* Pure white borders - stark contrast */
  
  --card: 0 0% 2%; /* #050505 - Slightly elevated black */
  --card-foreground: 0 0% 95%; /* Off-white for readability */
  --card-border: 0 0% 100%; /* Stark white borders */
  
  --sidebar: 0 0% 0%; /* Absolute black */
  --sidebar-foreground: 0 0% 90%; /* Slightly dimmed white */
  --sidebar-border: 0 0% 100%; /* White boundary */
  --sidebar-primary: 0 100% 27%; /* #8B0000 - Dried blood */
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 0 0% 10%; /* Dark gray accent */
  --sidebar-accent-foreground: 0 0% 100%;
  --sidebar-ring: 45 100% 50%; /* #FFD700 - Sickly yellow */
  
  --popover: 0 0% 0%; /* Pure black popover */
  --popover-foreground: 0 0% 100%;
  --popover-border: 0 0% 100%;
  
  --primary: 0 100% 27%; /* #8B0000 - Dark blood red */
  --primary-foreground: 0 0% 100%;
  
  --secondary: 0 0% 10%; /* Near black gray */
  --secondary-foreground: 0 0% 100%;
  
  --muted: 0 0% 5%; /* Very dark gray */
  --muted-foreground: 0 0% 70%; /* Gray text */
  
  --accent: 45 100% 50%; /* #FFD700 - Watchmen yellow */
  --accent-foreground: 0 0% 0%;
  
  --destructive: 0 72% 51%; /* #DC143C - Crimson blood */
  --destructive-foreground: 0 0% 100%;
  
  --input: 0 0% 0%;
  --ring: 0 100% 27%;
  
  /* Chart colors - only black, white, red */
  --chart-1: 0 0% 100%; /* White */
  --chart-2: 0 100% 27%; /* Blood red */
  --chart-3: 0 0% 20%; /* Dark gray */
  --chart-4: 45 100% 50%; /* Sickly yellow */
  --chart-5: 0 0% 40%; /* Medium gray */
  
  /* BRUTAL SHADOW SYSTEM - ANGULAR NOIR SHADOWS */
  --shadow-noir-sm: 5px 5px 0px rgba(0, 0, 0, 1);
  --shadow-noir-md: 10px 10px 0px rgba(0, 0, 0, 1);
  --shadow-noir-lg: 15px 15px 0px rgba(0, 0, 0, 1), 20px 20px 20px rgba(0, 0, 0, 0.8);
  --shadow-noir-xl: 20px 20px 0px rgba(0, 0, 0, 1), 30px 30px 30px rgba(0, 0, 0, 0.7);
  --shadow-noir-2xl: 30px 30px 0px rgba(0, 0, 0, 1), 40px 40px 40px rgba(0, 0, 0, 0.6);
  
  /* DRAMATIC LAYERED SHADOWS */
  --shadow-brutal: 10px 10px 20px rgba(0, 0, 0, 0.9), 20px 20px 40px rgba(0, 0, 0, 0.7);
  --shadow-blood: 10px 10px 20px rgba(139, 0, 0, 0.9), 20px 20px 40px rgba(139, 0, 0, 0.5);
  --shadow-void: 0px 0px 30px rgba(0, 0, 0, 1) inset;
  
  /* Typography scales */
  --font-weight-heavy: 900;
  --font-weight-brutal: 800;
  --font-weight-stark: 700;
  --font-weight-bold: 600;
  
  --letter-spacing-brutal: 0.15em;
  --letter-spacing-stark: 0.1em;
  --letter-spacing-tight: 0.05em;
  
  /* Border widths for brutal panels */
  --border-brutal: 4px;
  --border-stark: 3px;
  --border-heavy: 2px;
  
  /* Texture and grit variables */
  --ink-splatter: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='turbulence' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.1'/%3E%3C/svg%3E");
  --grain-texture: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='grain'%3E%3CfeTurbulence baseFrequency='0.9' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23grain)' opacity='0.05'/%3E%3C/svg%3E");
  
  /* Enhanced texture patterns */
  --paper-texture: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cfilter id='paperTexture'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.04' numOctaves='5' result='noise' seed='2'/%3E%3CfeDiffuseLighting in='noise' lighting-color='white' surfaceScale='1'%3E%3CfeDistantLight azimuth='45' elevation='60'/%3E%3C/feDiffuseLighting%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23paperTexture)' opacity='0.2'/%3E%3C/svg%3E");
  
  /* Terminal colors */
  --terminal-green: 0 255 0;
  --terminal-red: 255 0 0;
  --halftone-dots: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Ccircle cx='2' cy='2' r='1' fill='white' opacity='0.1'/%3E%3Ccircle cx='6' cy='6' r='1' fill='white' opacity='0.1'/%3E%3C/svg%3E");
  --scratches: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cpath d='M10,10 L290,290 M50,20 L250,220 M80,5 L200,125' stroke='rgba(255,255,255,0.05)' stroke-width='0.5' fill='none'/%3E%3C/svg%3E");
  
  /* Remove ALL border radius - BRUTAL RECTANGLES ONLY */
  --radius: 0;
  
  /* House colors - all converted to noir palette */
  --house-heroes-primary: 0 100% 27%; /* Blood red */
  --house-heroes-primary-foreground: 0 0% 100%;
  --house-heroes-secondary: 0 0% 10%;
  --house-heroes-accent: 45 100% 50%;
  --house-heroes-background: 0 0% 0%;
  --house-heroes-card: 0 0% 5%;
  --house-heroes-border: 0 0% 100%;
  
  --house-wisdom-primary: 0 0% 20%; /* Dark gray */
  --house-wisdom-primary-foreground: 0 0% 100%;
  --house-wisdom-secondary: 0 0% 0%;
  --house-wisdom-accent: 0 0% 30%;
  --house-wisdom-background: 0 0% 0%;
  --house-wisdom-card: 0 0% 5%;
  --house-wisdom-border: 0 0% 100%;
  
  --house-power-primary: 0 0% 15%; /* Near black */
  --house-power-primary-foreground: 0 0% 100%;
  --house-power-secondary: 0 0% 5%;
  --house-power-accent: 45 100% 50%;
  --house-power-background: 0 0% 0%;
  --house-power-card: 0 0% 3%;
  --house-power-border: 0 0% 100%;
  
  --house-mystery-primary: 0 0% 10%;
  --house-mystery-primary-foreground: 0 0% 90%;
  --house-mystery-secondary: 0 0% 0%;
  --house-mystery-accent: 0 100% 27%;
  --house-mystery-background: 0 0% 0%;
  --house-mystery-card: 0 0% 2%;
  --house-mystery-border: 0 0% 80%;
  
  --house-elements-primary: 0 100% 27%; /* Blood */
  --house-elements-primary-foreground: 0 0% 100%;
  --house-elements-secondary: 0 0% 5%;
  --house-elements-accent: 45 100% 50%;
  --house-elements-background: 0 0% 0%;
  --house-elements-card: 0 0% 3%;
  --house-elements-border: 0 0% 100%;
  
  --house-time-primary: 0 0% 0%; /* Void black */
  --house-time-primary-foreground: 0 0% 100%;
  --house-time-secondary: 0 0% 5%;
  --house-time-accent: 0 100% 27%;
  --house-time-background: 0 0% 0%;
  --house-time-card: 0 0% 2%;
  --house-time-border: 0 0% 100%;
  
  --house-spirit-primary: 0 0% 20%;
  --house-spirit-primary-foreground: 0 0% 100%;
  --house-spirit-secondary: 0 0% 10%;
  --house-spirit-accent: 45 100% 50%;
  --house-spirit-background: 0 0% 0%;
  --house-spirit-card: 0 0% 3%;
  --house-spirit-border: 0 0% 90%;
  
  /* All border radius removed */
  --house-heroes-panel-radius: 0px;
  --house-wisdom-panel-radius: 0px;
  --house-power-panel-radius: 0px;
  --house-mystery-panel-radius: 0px;
  --house-elements-panel-radius: 0px;
  --house-time-panel-radius: 0px;
  --house-spirit-panel-radius: 0px;
  
  /* Brutal borders */
  --house-heroes-panel-border: 4px;
  --house-wisdom-panel-border: 3px;
  --house-power-panel-border: 4px;
  --house-mystery-panel-border: 2px;
  --house-elements-panel-border: 4px;
  --house-time-panel-border: 3px;
  --house-spirit-panel-border: 3px;
  
  /* Dramatic shadows */
  --house-heroes-shadow: var(--shadow-blood);
  --house-wisdom-shadow: var(--shadow-brutal);
  --house-power-shadow: var(--shadow-noir-xl);
  --house-mystery-shadow: var(--shadow-void);
  --house-elements-shadow: var(--shadow-blood);
  --house-time-shadow: var(--shadow-brutal);
  --house-spirit-shadow: var(--shadow-noir-lg);
  
  /* Typography - heavy weights only */
  --font-sans: 'Hind', system-ui, sans-serif;
  --font-display: 'Space Grotesk', system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', ui-monospace, monospace;
  
  /* Remove all elevation effects */
  --elevate-1: rgba(255, 255, 255, 0);
  --elevate-2: rgba(255, 255, 255, 0);
  
  --button-outline: rgba(255, 255, 255, 1);
  --badge-outline: rgba(255, 255, 255, 1);
  --opaque-button-border-intensity: 0;
  
  /* Computed borders */
  --primary-border: hsl(var(--primary));
  --secondary-border: hsl(var(--secondary));
  --muted-border: hsl(var(--muted));
  --accent-border: hsl(var(--accent));
  --destructive-border: hsl(var(--destructive));
  --sidebar-primary-border: hsl(var(--sidebar-primary));
  --sidebar-accent-border: hsl(var(--sidebar-accent));
  
  --font-comic-display: 'Space Grotesk', sans-serif;
  --font-comic-speech: 'JetBrains Mono', monospace;
  --font-comic-thought: 'JetBrains Mono', monospace;
  --font-comic-action: 'Space Grotesk', sans-serif;
  --font-comic-narrative: 'Hind', monospace;
  --font-comic-horror: 'Space Grotesk', sans-serif;
  
  --comic-panel-gutter: 12px;
  --comic-panel-border: 4px;
  
  --tracking-normal: 0.05em;
  --spacing: 0.5rem;
}

/* Terminal Interface Styles */
@keyframes scanline {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(100vh); }
}

@keyframes pulse-green {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes glow-green {
  0%, 100% { 
    box-shadow: 0 0 10px rgba(0, 255, 0, 0.5),
                0 0 20px rgba(0, 255, 0, 0.3),
                0 0 30px rgba(0, 255, 0, 0.2);
  }
  50% { 
    box-shadow: 0 0 20px rgba(0, 255, 0, 0.7),
                0 0 40px rgba(0, 255, 0, 0.5),
                0 0 60px rgba(0, 255, 0, 0.3);
  }
}

@keyframes glow-red {
  0%, 100% { 
    box-shadow: 0 0 10px rgba(255, 0, 0, 0.5),
                0 0 20px rgba(255, 0, 0, 0.3),
                0 0 30px rgba(255, 0, 0, 0.2);
  }
  50% { 
    box-shadow: 0 0 20px rgba(255, 0, 0, 0.7),
                0 0 40px rgba(255, 0, 0, 0.5),
                0 0 60px rgba(255, 0, 0, 0.3);
  }
}

@keyframes blood-drip {
  0% { transform: translateY(-100%); opacity: 0; }
  10% { opacity: 0.5; }
  90% { opacity: 0.5; }
  100% { transform: translateY(100vh); opacity: 0; }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}

@keyframes fade-in-shake {
  0% { 
    opacity: 0;
    transform: scale(0.9) translateY(10px);
  }
  50% {
    transform: scale(1.05) translateY(-5px);
  }
  100% { 
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.terminal-interface {
  font-family: 'JetBrains Mono', 'Courier New', monospace;
}

.scanline {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(to bottom, transparent, rgba(0, 255, 0, 0.4), transparent);
  animation: scanline 8s linear infinite;
}

.scanline::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 100px;
  background: linear-gradient(to bottom, rgba(0, 255, 0, 0.03), transparent);
}

.animate-pulse-green {
  animation: pulse-green 2s ease-in-out infinite;
}

.animate-glow-green {
  animation: glow-green 2s ease-in-out infinite;
}

.animate-pulse-red {
  animation: pulse-red 2s ease-in-out infinite;
}

.animate-glow-red {
  animation: glow-red 2s ease-in-out infinite;
}

.animate-blood-drip {
  animation: blood-drip 3s ease-in-out;
}

.animate-shake {
  animation: shake 0.5s ease-in-out;
}

.animate-fade-in-shake {
  animation: fade-in-shake 0.5s ease-out;
}

.animate-pulse-slow {
  animation: pulse 4s ease-in-out infinite;
}

/* Terminal glow text */
.text-glow-green {
  text-shadow: 0 0 10px rgba(0, 255, 0, 0.8),
               0 0 20px rgba(0, 255, 0, 0.6),
               0 0 30px rgba(0, 255, 0, 0.4);
}

.text-glow-red {
  text-shadow: 0 0 10px rgba(255, 0, 0, 0.8),
               0 0 20px rgba(255, 0, 0, 0.6),
               0 0 30px rgba(255, 0, 0, 0.4);
}

/* Blood drip effect */
.blood-drip {
  position: absolute;
  top: 0;
  left: 50%;
  width: 4px;
  height: 100px;
  background: linear-gradient(to bottom, 
    transparent,
    rgba(139, 0, 0, 0.8) 20%,
    rgba(139, 0, 0, 1) 50%,
    rgba(139, 0, 0, 0.8) 80%,
    transparent
  );
  animation: blood-drip 2s ease-in-out;
  filter: blur(2px);
}

/* Crack effect for high corruption */
.crack-effect {
  position: relative;
}

.crack-effect::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cpath d='M10,50 L30,20 L50,40 L70,10 L90,50' stroke='%23ff0000' stroke-width='0.5' fill='none' opacity='0.3'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover;
  pointer-events: none;
  opacity: 0.5;
}

/* Dark mode - even darker */
.dark {
  --background: 0 0% 0%; /* Absolute black */
  --foreground: 0 0% 95%; /* Slightly off-white */
  
  --card: 0 0% 1%; /* Near black */
  --card-foreground: 0 0% 90%;
  
  --primary: 0 72% 51%; /* Brighter blood in dark */
  --destructive: 0 100% 40%; /* Darker blood */
  
  /* Everything else stays brutal */
}

@layer base {
  * {
    @apply border-border;
    /* Remove ALL border radius */
    border-radius: 0 !important;
  }
  
  body {
    @apply font-sans antialiased bg-background text-foreground;
    font-family: var(--font-sans);
    font-weight: 300;
    letter-spacing: 0.02em;
    position: relative;
    /* Add grain texture to body */
    &::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: var(--grain-texture);
      opacity: 0.05;
      pointer-events: none;
      z-index: 1;
      mix-blend-mode: multiply;
    }
  }
  
  /* Heavy typography */
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
    font-weight: var(--font-weight-heavy);
    letter-spacing: var(--letter-spacing-stark);
    text-transform: uppercase;
  }
  
  h1 {
    font-weight: 900;
    letter-spacing: var(--letter-spacing-brutal);
  }
  
  h2 {
    font-weight: 800;
    letter-spacing: var(--letter-spacing-stark);
  }
  
  h3, h4 {
    font-weight: 700;
    letter-spacing: var(--letter-spacing-tight);
  }
  
  .font-display {
    font-family: var(--font-display);
    font-weight: 800;
    letter-spacing: 0.1em;
  }
  
  .font-trading {
    font-family: var(--font-mono);
    font-weight: 600;
    font-variant-numeric: tabular-nums;
  }
}

/* BRUTAL ELEVATION SYSTEM - NO SOFT TRANSITIONS */
@layer utilities {
  /* Remove all soft hover effects */
  .hover-elevate {
    transition: none !important;
    &:hover {
      background-color: rgba(255, 255, 255, 0.1) !important;
      transform: none !important;
    }
  }
  
  .active-elevate-2 {
    transition: none !important;
    &:active {
      background-color: rgba(255, 255, 255, 0.2) !important;
      transform: none !important;
    }
  }
  
  .toggle-elevate {
    transition: none !important;
  }
  
  .toggle-elevated {
    background-color: rgba(255, 255, 255, 0.1) !important;
  }
  
  /* NOIR SHADOWS */
  .shadow-noir-sm {
    box-shadow: var(--shadow-noir-sm) !important;
  }
  
  .shadow-noir-md {
    box-shadow: var(--shadow-noir-md) !important;
  }
  
  .shadow-noir-lg {
    box-shadow: var(--shadow-noir-lg) !important;
  }
  
  .shadow-noir-xl {
    box-shadow: var(--shadow-noir-xl) !important;
  }
  
  .shadow-noir-2xl {
    box-shadow: var(--shadow-noir-2xl) !important;
  }
  
  .shadow-brutal {
    box-shadow: var(--shadow-brutal) !important;
  }
  
  .shadow-blood {
    box-shadow: var(--shadow-blood) !important;
  }
  
  .shadow-void {
    box-shadow: var(--shadow-void) !important;
  }
  
  /* TEXTURE EFFECTS */
  .texture-grain {
    position: relative;
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: var(--grain-texture);
      opacity: 0.1;
      pointer-events: none;
      mix-blend-mode: multiply;
    }
  }
  
  .texture-ink {
    position: relative;
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: var(--ink-splatter);
      opacity: 0.15;
      pointer-events: none;
      mix-blend-mode: multiply;
    }
  }
  
  /* CROSSHATCH PATTERN OVERLAY */
  .crosshatch {
    position: relative;
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        repeating-linear-gradient(45deg, transparent, transparent 2px, rgba(255,255,255,0.03) 2px, rgba(255,255,255,0.03) 3px),
        repeating-linear-gradient(-45deg, transparent, transparent 2px, rgba(255,255,255,0.03) 2px, rgba(255,255,255,0.03) 3px);
      pointer-events: none;
      z-index: 1;
    }
  }
  
  .crosshatch-dark {
    position: relative;
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(0,0,0,0.1) 3px, rgba(0,0,0,0.1) 4px),
        repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(0,0,0,0.1) 3px, rgba(0,0,0,0.1) 4px);
      pointer-events: none;
      z-index: 1;
      mix-blend-mode: multiply;
    }
  }
  
  /* INK SPLATTER EFFECTS */
  .ink-splatter-1 {
    position: relative;
    &::before {
      content: '';
      position: absolute;
      top: 10%;
      right: 5%;
      width: 60px;
      height: 60px;
      background: radial-gradient(circle at 30% 30%, rgba(139,0,0,0.7) 0%, transparent 50%);
      border-radius: 50%;
      transform: rotate(45deg) scale(1.2, 0.8);
      pointer-events: none;
    }
  }
  
  .ink-splatter-2 {
    position: relative;
    &::after {
      content: '';
      position: absolute;
      bottom: 8%;
      left: 3%;
      width: 80px;
      height: 80px;
      background: 
        radial-gradient(circle at 40% 40%, rgba(0,0,0,0.8) 0%, transparent 40%),
        radial-gradient(circle at 60% 30%, rgba(0,0,0,0.6) 0%, transparent 30%);
      clip-path: polygon(30% 0%, 70% 10%, 100% 30%, 90% 70%, 70% 100%, 30% 90%, 0% 70%, 10% 30%);
      pointer-events: none;
    }
  }
  
  .ink-splatter-3 {
    position: relative;
    &::before {
      content: '';
      position: absolute;
      top: 5%;
      left: 10%;
      width: 40px;
      height: 50px;
      background: radial-gradient(ellipse at center, rgba(139,0,0,0.6) 0%, transparent 60%);
      transform: rotate(-30deg) scaleX(0.7);
      pointer-events: none;
    }
  }
  
  /* PAPER TEXTURE */
  .paper-texture {
    position: relative;
    background-image: var(--paper-texture);
    background-blend-mode: multiply;
    filter: contrast(110%) brightness(98%);
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        repeating-linear-gradient(0deg, transparent, transparent 3px, rgba(255,255,255,0.01) 3px, rgba(255,255,255,0.01) 6px),
        repeating-linear-gradient(90deg, transparent, transparent 3px, rgba(255,255,255,0.01) 3px, rgba(255,255,255,0.01) 6px);
      pointer-events: none;
    }
  }
  
  .canvas-texture {
    position: relative;
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        repeating-linear-gradient(90deg, transparent, transparent 1px, rgba(255,255,255,0.02) 1px, rgba(255,255,255,0.02) 2px),
        repeating-linear-gradient(0deg, transparent, transparent 1px, rgba(255,255,255,0.02) 1px, rgba(255,255,255,0.02) 2px);
      pointer-events: none;
      filter: contrast(150%);
    }
  }
  
  /* HALFTONE DOT PATTERN */
  .halftone {
    position: relative;
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: var(--halftone-dots);
      background-size: 8px 8px;
      opacity: 0.4;
      pointer-events: none;
      mix-blend-mode: multiply;
    }
  }
  
  .halftone-gradient {
    position: relative;
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle, transparent 20%, rgba(0,0,0,0.05) 20.5%, rgba(0,0,0,0.05) 30%, transparent 30.5%),
        radial-gradient(circle, transparent 20%, rgba(0,0,0,0.05) 20.5%, rgba(0,0,0,0.05) 30%, transparent 30.5%);
      background-size: 10px 10px;
      background-position: 0 0, 5px 5px;
      pointer-events: none;
    }
  }
  
  /* INK BLEED EFFECTS */
  .ink-bleed {
    text-shadow: 
      1px 1px 2px rgba(0,0,0,0.9),
      2px 2px 3px rgba(0,0,0,0.6),
      3px 3px 4px rgba(0,0,0,0.3),
      0 0 8px rgba(0,0,0,0.5);
  }
  
  .ink-bleed-heavy {
    text-shadow: 
      1px 1px 3px rgba(0,0,0,1),
      2px 2px 4px rgba(0,0,0,0.8),
      3px 3px 6px rgba(0,0,0,0.6),
      4px 4px 8px rgba(0,0,0,0.4),
      0 0 12px rgba(0,0,0,0.7);
  }
  
  .ink-bleed-red {
    text-shadow: 
      1px 1px 2px rgba(139,0,0,0.9),
      2px 2px 4px rgba(139,0,0,0.6),
      3px 3px 6px rgba(139,0,0,0.3),
      0 0 10px rgba(139,0,0,0.5);
  }
  
  /* SCRATCHES AND WEAR */
  .scratched {
    position: relative;
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: var(--scratches);
      background-size: cover;
      opacity: 0.6;
      pointer-events: none;
      mix-blend-mode: screen;
    }
  }
  
  .wear-heavy {
    position: relative;
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        linear-gradient(105deg, transparent 40%, rgba(255,255,255,0.03) 45%, transparent 50%),
        linear-gradient(175deg, transparent 60%, rgba(255,255,255,0.02) 65%, transparent 70%),
        linear-gradient(-45deg, transparent 30%, rgba(0,0,0,0.05) 35%, transparent 40%);
      pointer-events: none;
    }
  }
  
  .wear-edges {
    position: relative;
    box-shadow: 
      inset 0 0 20px rgba(0,0,0,0.3),
      inset 0 0 40px rgba(0,0,0,0.1);
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 0% 0%, rgba(0,0,0,0.2) 0%, transparent 30%),
        radial-gradient(circle at 100% 0%, rgba(0,0,0,0.2) 0%, transparent 30%),
        radial-gradient(circle at 100% 100%, rgba(0,0,0,0.2) 0%, transparent 30%),
        radial-gradient(circle at 0% 100%, rgba(0,0,0,0.2) 0%, transparent 30%);
      pointer-events: none;
    }
  }
  
  /* TORN EDGES */
  .torn-edge-top {
    clip-path: polygon(0 0, 100% 0, 100% 95%, 95% 100%, 90% 95%, 85% 100%, 80% 95%, 75% 100%, 70% 95%, 65% 100%, 60% 95%, 55% 100%, 50% 95%, 45% 100%, 40% 95%, 35% 100%, 30% 95%, 25% 100%, 20% 95%, 15% 100%, 10% 95%, 5% 100%, 0 95%);
  }
  
  .torn-edge-bottom {
    clip-path: polygon(0 5%, 5% 0, 10% 5%, 15% 0, 20% 5%, 25% 0, 30% 5%, 35% 0, 40% 5%, 45% 0, 50% 5%, 55% 0, 60% 5%, 65% 0, 70% 5%, 75% 0, 80% 5%, 85% 0, 90% 5%, 95% 0, 100% 5%, 100% 100%, 0 100%);
  }
  
  .torn-edge-left {
    clip-path: polygon(5% 0, 100% 0, 100% 100%, 5% 100%, 0% 95%, 5% 90%, 0% 85%, 5% 80%, 0% 75%, 5% 70%, 0% 65%, 5% 60%, 0% 55%, 5% 50%, 0% 45%, 5% 40%, 0% 35%, 5% 30%, 0% 25%, 5% 20%, 0% 15%, 5% 10%, 0% 5%);
  }
  
  .torn-edge-right {
    clip-path: polygon(0 0, 95% 0, 100% 5%, 95% 10%, 100% 15%, 95% 20%, 100% 25%, 95% 30%, 100% 35%, 95% 40%, 100% 45%, 95% 50%, 100% 55%, 95% 60%, 100% 65%, 95% 70%, 100% 75%, 95% 80%, 100% 85%, 95% 90%, 100% 95%, 95% 100%, 0 100%);
  }
  
  .torn-edge-all {
    clip-path: polygon(
      3% 2%, 8% 0%, 15% 3%, 22% 1%, 30% 2%, 38% 0%, 45% 3%, 52% 1%, 60% 2%, 68% 0%, 75% 3%, 82% 1%, 90% 2%, 95% 0%, 98% 3%,
      100% 8%, 97% 15%, 100% 22%, 98% 30%, 100% 38%, 97% 45%, 100% 52%, 98% 60%, 100% 68%, 97% 75%, 100% 82%, 98% 90%, 100% 95%,
      97% 98%, 92% 100%, 85% 97%, 78% 100%, 70% 98%, 62% 100%, 55% 97%, 48% 100%, 40% 98%, 32% 100%, 25% 97%, 18% 100%, 10% 98%, 5% 100%, 2% 97%,
      0% 92%, 3% 85%, 0% 78%, 2% 70%, 0% 62%, 3% 55%, 0% 48%, 2% 40%, 0% 32%, 3% 25%, 0% 18%, 2% 10%, 0% 5%
    );
  }
  
  /* BRUTAL BORDERS */
  .border-brutal {
    border-width: var(--border-brutal) !important;
  }
  
  .border-stark {
    border-width: var(--border-stark) !important;
  }
  
  .border-heavy {
    border-width: var(--border-heavy) !important;
  }
  
  /* OPPRESSIVE SPACING */
  .space-void {
    margin: 4rem 0;
  }
  
  .space-dread {
    margin: 6rem 0;
  }
  
  .space-abyss {
    margin: 8rem 0;
  }
}

/* Override all component styles to be brutal */
@layer components {
  /* Cards as brutal comic panels with texture */
  [class*="card"] {
    border-radius: 0 !important;
    border: var(--border-brutal) solid white !important;
    box-shadow: var(--shadow-brutal) !important;
    transition: none !important;
    position: relative;
    /* Auto-apply crosshatch to cards */
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.02) 3px, rgba(255,255,255,0.02) 4px),
        repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255,255,255,0.02) 3px, rgba(255,255,255,0.02) 4px);
      pointer-events: none;
      z-index: 1;
    }
  }
  
  /* Buttons - brutal rectangles */
  button, [role="button"], [class*="button"] {
    border-radius: 0 !important;
    transition: none !important;
    font-weight: 700 !important;
    letter-spacing: 0.05em !important;
    text-transform: uppercase !important;
    border: 2px solid currentColor !important;
    &:hover {
      background-color: white !important;
      color: black !important;
    }
  }
  
  /* Forms - interrogation documents */
  input, textarea, select {
    border-radius: 0 !important;
    border: 2px solid white !important;
    background: black !important;
    color: white !important;
    font-weight: 600 !important;
    &:focus {
      outline: 3px solid var(--accent) !important;
      outline-offset: 0 !important;
    }
  }
  
  /* Dialogs and modals with wear */
  [role="dialog"], [class*="modal"], [class*="dialog"] {
    border-radius: 0 !important;
    border: 4px solid white !important;
    box-shadow: var(--shadow-noir-2xl) !important;
    position: relative;
    /* Auto-apply wear edges to modals */
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 0% 0%, rgba(0,0,0,0.1) 0%, transparent 20%),
        radial-gradient(circle at 100% 0%, rgba(0,0,0,0.1) 0%, transparent 20%),
        radial-gradient(circle at 100% 100%, rgba(0,0,0,0.1) 0%, transparent 20%),
        radial-gradient(circle at 0% 100%, rgba(0,0,0,0.1) 0%, transparent 20%);
      pointer-events: none;
    }
  }
  
  /* Remove all smooth animations */
  *, *::before, *::after {
    animation-timing-function: linear !important;
    transition: none !important;
  }
  
  /* Apply texture to headers automatically */
  h1, h2, h3, h4, h5, h6 {
    position: relative;
    /* Auto-apply ink bleed to headers */
    text-shadow: 
      1px 1px 2px rgba(0,0,0,0.8),
      2px 2px 3px rgba(0,0,0,0.4),
      0 0 6px rgba(0,0,0,0.3);
  }
  
  /* Apply halftone to main sections */
  main {
    position: relative;
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: var(--halftone-dots);
      background-size: 8px 8px;
      opacity: 0.15;
      pointer-events: none;
      mix-blend-mode: multiply;
      z-index: 0;
    }
  }
}

/* Chart overrides - only black, white, red */
@layer utilities {
  [class*="recharts"] {
    & [class*="line"] {
      stroke: white !important;
      stroke-width: 2 !important;
    }
    & [class*="area"] {
      fill: var(--primary) !important;
      stroke: var(--primary) !important;
    }
    & [class*="bar"] {
      fill: white !important;
    }
    & [class*="pie"] {
      stroke: black !important;
      stroke-width: 2 !important;
    }
  }
}

/* EPIC CINEMATIC KEYFRAME ANIMATIONS */
@keyframes glitch {
  0%, 100% {
    text-shadow: 
      0.05em 0 0 rgba(255, 0, 0, 0.75),
      -0.025em -0.05em 0 rgba(0, 255, 0, 0.75),
      0.025em 0.05em 0 rgba(0, 100, 255, 0.75);
  }
  14% {
    text-shadow: 
      0.05em 0 0 rgba(255, 0, 0, 0.75),
      -0.05em -0.025em 0 rgba(0, 255, 0, 0.75),
      0.025em 0.05em 0 rgba(0, 100, 255, 0.75);
  }
  15% {
    text-shadow: 
      -0.05em -0.025em 0 rgba(255, 0, 0, 0.75),
      0.025em 0.025em 0 rgba(0, 255, 0, 0.75),
      -0.05em -0.05em 0 rgba(0, 100, 255, 0.75);
  }
  49% {
    text-shadow: 
      -0.05em -0.025em 0 rgba(255, 0, 0, 0.75),
      0.025em 0.025em 0 rgba(0, 255, 0, 0.75),
      -0.05em -0.05em 0 rgba(0, 100, 255, 0.75);
  }
  50% {
    text-shadow: 
      0.025em 0.05em 0 rgba(255, 0, 0, 0.75),
      0.05em 0 0 rgba(0, 255, 0, 0.75),
      0 -0.05em 0 rgba(0, 100, 255, 0.75);
  }
  99% {
    text-shadow: 
      0.025em 0.05em 0 rgba(255, 0, 0, 0.75),
      0.05em 0 0 rgba(0, 255, 0, 0.75),
      0 -0.05em 0 rgba(0, 100, 255, 0.75);
  }
}

@keyframes glitch-anim {
  0% {
    clip: rect(42px, 9999px, 44px, 0);
    transform: skew(0.7deg);
  }
  5% {
    clip: rect(12px, 9999px, 59px, 0);
    transform: skew(0.9deg);
  }
  10% {
    clip: rect(48px, 9999px, 29px, 0);
    transform: skew(0.3deg);
  }
  15% {
    clip: rect(42px, 9999px, 73px, 0);
    transform: skew(0.2deg);
  }
  20% {
    clip: rect(67px, 9999px, 13px, 0);
    transform: skew(0.5deg);
  }
  25% {
    clip: rect(53px, 9999px, 58px, 0);
    transform: skew(0.7deg);
  }
  30% {
    clip: rect(84px, 9999px, 23px, 0);
    transform: skew(0.1deg);
  }
  35% {
    clip: rect(13px, 9999px, 91px, 0);
    transform: skew(0.6deg);
  }
  40% {
    clip: rect(44px, 9999px, 56px, 0);
    transform: skew(0.9deg);
  }
  45% {
    clip: rect(78px, 9999px, 72px, 0);
    transform: skew(0.4deg);
  }
  50% {
    clip: rect(23px, 9999px, 28px, 0);
    transform: skew(0.2deg);
  }
  55% {
    clip: rect(67px, 9999px, 31px, 0);
    transform: skew(0.8deg);
  }
  60% {
    clip: rect(94px, 9999px, 75px, 0);
    transform: skew(0.1deg);
  }
  65% {
    clip: rect(82px, 9999px, 39px, 0);
    transform: skew(0.5deg);
  }
  70% {
    clip: rect(12px, 9999px, 83px, 0);
    transform: skew(0.7deg);
  }
  75% {
    clip: rect(23px, 9999px, 51px, 0);
    transform: skew(0.3deg);
  }
  80% {
    clip: rect(91px, 9999px, 29px, 0);
    transform: skew(0.9deg);
  }
  85% {
    clip: rect(44px, 9999px, 79px, 0);
    transform: skew(0.2deg);
  }
  90% {
    clip: rect(33px, 9999px, 66px, 0);
    transform: skew(0.4deg);
  }
  95% {
    clip: rect(54px, 9999px, 41px, 0);
    transform: skew(0.6deg);
  }
  100% {
    clip: rect(42px, 9999px, 44px, 0);
    transform: skew(0.7deg);
  }
}

@keyframes energy-pulse {
  0%, 100% {
    box-shadow: 
      0 0 5px rgba(220, 20, 60, 0.5),
      0 0 10px rgba(220, 20, 60, 0.3),
      0 0 15px rgba(220, 20, 60, 0.1),
      inset 0 0 5px rgba(220, 20, 60, 0.2);
  }
  50% {
    box-shadow: 
      0 0 20px rgba(220, 20, 60, 1),
      0 0 30px rgba(220, 20, 60, 0.7),
      0 0 40px rgba(220, 20, 60, 0.4),
      inset 0 0 10px rgba(220, 20, 60, 0.4);
  }
}

@keyframes electric-arc {
  0%, 100% {
    text-shadow: 
      0 0 2px rgba(255, 255, 255, 0.8),
      0 0 4px rgba(0, 217, 255, 0.8),
      0 0 8px rgba(0, 217, 255, 0.8),
      0 0 16px rgba(0, 217, 255, 0.6);
    filter: brightness(1) contrast(1);
  }
  20%, 80% {
    text-shadow: 
      0 0 2px rgba(255, 255, 255, 1),
      0 0 8px rgba(0, 217, 255, 1),
      0 0 16px rgba(0, 217, 255, 1),
      0 0 32px rgba(0, 217, 255, 0.8);
    filter: brightness(1.2) contrast(1.1);
  }
  50% {
    text-shadow: 
      0 0 4px rgba(255, 255, 255, 1),
      0 0 16px rgba(0, 217, 255, 1),
      0 0 32px rgba(0, 217, 255, 1),
      0 0 48px rgba(0, 217, 255, 1);
    filter: brightness(1.5) contrast(1.2);
  }
}

@keyframes lightning-flash {
  0%, 100% {
    opacity: 0;
  }
  5%, 7%, 9% {
    opacity: 1;
    filter: brightness(10);
  }
  6%, 8% {
    opacity: 0.3;
    filter: brightness(1);
  }
}

@keyframes typewriter {
  from {
    width: 0;
  }
  to {
    width: 100%;
  }
}

@keyframes blink {
  50% {
    border-color: transparent;
  }
}

@keyframes lens-flare {
  0%, 100% {
    opacity: 0;
    transform: scale(0.5) rotate(0deg);
  }
  25% {
    opacity: 0.5;
    transform: scale(1) rotate(90deg);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.5) rotate(180deg);
  }
  75% {
    opacity: 0.3;
    transform: scale(1.2) rotate(270deg);
  }
}

@keyframes power-surge {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(220, 20, 60, 0.7);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 0 0 20px rgba(220, 20, 60, 0);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(220, 20, 60, 0);
  }
}

/* GLITCH TEXT EFFECT */
.glitch-text {
  position: relative;
  animation: glitch 2.5s infinite;
}

.glitch-text::before,
.glitch-text::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.glitch-text::before {
  animation: glitch-anim 0.3s infinite linear alternate-reverse;
  color: #00FF00;
  z-index: -1;
  opacity: 0.8;
}

.glitch-text::after {
  animation: glitch-anim 0.4s infinite linear alternate-reverse;
  color: #FF00FF;
  z-index: -2;
  opacity: 0.8;
}

/* ELECTRIC TEXT */
.electric-text {
  animation: electric-arc 3s ease-in-out infinite;
  position: relative;
  display: inline-block;
}

/* ENERGY GLOW */
.energy-glow {
  animation: energy-pulse 2s ease-in-out infinite;
}

/* GLOWING TEXT */
.glowing-text {
  animation: glow 2s ease-in-out infinite alternate;
}

@keyframes glow {
  from {
    text-shadow: 
      0 0 10px rgba(220, 20, 60, 0.5),
      0 0 20px rgba(220, 20, 60, 0.5),
      0 0 30px rgba(220, 20, 60, 0.5),
      0 0 40px rgba(220, 20, 60, 0.5);
  }
  to {
    text-shadow: 
      0 0 20px rgba(220, 20, 60, 1),
      0 0 30px rgba(220, 20, 60, 1),
      0 0 40px rgba(220, 20, 60, 1),
      0 0 50px rgba(220, 20, 60, 1);
  }
}

/* TYPEWRITER EFFECT */
.typewriter-text {
  overflow: hidden;
  border-right: .15em solid var(--destructive);
  white-space: nowrap;
  animation: 
    typewriter 3s steps(40, end),
    blink .75s step-end infinite;
}

/* LIGHTNING CONTAINER */
.lightning-container {
  overflow: hidden;
}

.lightning-container::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  right: -50%;
  bottom: -50%;
  background: linear-gradient(
    45deg,
    transparent 30%,
    rgba(255, 255, 255, 0.1) 50%,
    transparent 70%
  );
  animation: lightning-flash 6s infinite;
  pointer-events: none;
  transform: translateX(-100%);
}

/* LENS FLARE EFFECT */
.lens-flare {
  position: absolute;
  width: 400px;
  height: 400px;
  background: radial-gradient(
    circle,
    rgba(255, 255, 255, 0.8) 0%,
    rgba(0, 217, 255, 0.4) 20%,
    rgba(138, 43, 226, 0.2) 40%,
    transparent 60%
  );
  filter: blur(20px);
  animation: lens-flare 8s infinite;
  pointer-events: none;
  mix-blend-mode: screen;
}

/* POWER BUTTON ANIMATIONS */
.power-button {
  position: relative;
  overflow: visible;
  transform-style: preserve-3d;
  transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55) !important;
}

.power-button:hover {
  transform: translateY(-2px) scale(1.05);
  animation: power-surge 0.5s ease-out;
}

.power-button:active {
  transform: translateY(1px) scale(0.98);
}

.power-button-final {
  position: relative;
  overflow: visible;
  transform-style: preserve-3d;
}

.power-button-final::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);
  background-size: 400%;
  filter: blur(5px);
  opacity: 0;
  transition: opacity 0.3s;
  animation: gradient-rotate 3s linear infinite;
}

.power-button-final:hover::before {
  opacity: 1;
}

@keyframes gradient-rotate {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* 3D CARD EFFECTS */
.card-3d {
  transform-style: preserve-3d;
  transform: perspective(1000px) rotateX(0deg) rotateY(0deg);
  transition: transform 0.6s cubic-bezier(0.23, 1, 0.320, 1) !important;
}

.card-3d:hover {
  transform: perspective(1000px) rotateX(2deg) rotateY(-5deg) translateZ(50px);
}

/* PERSPECTIVE CONTAINER */
.perspective-1000 {
  perspective: 1000px;
  transform-style: preserve-3d;
}

/* TRANSFORM GPU OPTIMIZATION */
.transform-gpu {
  will-change: transform;
  transform: translateZ(0);
}

/* VOID CONSUMING DARKNESS */
.void-top {
  background: linear-gradient(to bottom, black 0%, transparent 100%);
  height: 200px;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  pointer-events: none;
  z-index: 10;
}

.void-bottom {
  background: linear-gradient(to top, black 0%, transparent 100%);
  height: 200px;
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  pointer-events: none;
  z-index: 10;
}

/* BLOOD SPLATTER ACCENT */
.blood-splatter {
  position: relative;
  &::before {
    content: '';
    position: absolute;
    top: -20px;
    right: -20px;
    width: 100px;
    height: 100px;
    background: radial-gradient(circle at 30% 30%, var(--primary) 0%, transparent 70%);
    transform: rotate(45deg);
    opacity: 0.8;
  }
}

/* Remove focus rings - use stark outlines instead */
*:focus {
  outline: 2px solid white !important;
  outline-offset: 2px !important;
  border-radius: 0 !important;
}

/* Scrollbar styling - brutal and stark */
::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

::-webkit-scrollbar-track {
  background: black;
  border: 1px solid white;
}

::-webkit-scrollbar-thumb {
  background: white;
  border: 1px solid black;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--accent);
}

/* Selection colors */
::selection {
  background: var(--primary);
  color: white;
}

::-moz-selection {
  background: var(--primary);
  color: white;
}

/* COMPOSITE TEXTURE CLASSES FOR EASY APPLICATION */
@layer utilities {
  /* Full noir comic treatment */
  .noir-panel {
    position: relative;
    border: var(--border-brutal) solid white !important;
    background-color: rgba(0,0,0,0.95);
    box-shadow: var(--shadow-noir-lg) !important;
  }
  
  /* Aged comic book page */
  .aged-comic {
    filter: sepia(10%) contrast(105%) brightness(98%);
    position: relative;
  }
  
  /* Blood and violence */
  .blood-scene {
    background: linear-gradient(180deg, rgba(0,0,0,1) 0%, rgba(139,0,0,0.1) 100%);
    box-shadow: var(--shadow-blood) !important;
    position: relative;
  }
  
  /* Gritty title treatment */
  .grit-title {
    font-family: var(--font-display);
    font-weight: 900;
    letter-spacing: var(--letter-spacing-brutal);
    text-transform: uppercase;
    position: relative;
    text-shadow: 
      1px 1px 3px rgba(0,0,0,1),
      2px 2px 4px rgba(0,0,0,0.8),
      3px 3px 6px rgba(0,0,0,0.6),
      4px 4px 8px rgba(0,0,0,0.4),
      0 0 12px rgba(0,0,0,0.7);
    &::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 100%;
      height: 2px;
      background: white;
      clip-path: polygon(0 0, 15% 100%, 30% 0, 45% 100%, 60% 0, 75% 100%, 90% 0, 100% 100%);
    }
  }
  
  /* Rorschach ink blot overlay */
  .rorschach {
    position: relative;
    &::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 200px;
      height: 200px;
      background: radial-gradient(ellipse at center, rgba(0,0,0,0.8) 0%, transparent 40%);
      clip-path: polygon(
        50% 0%, 60% 15%, 70% 10%, 80% 20%, 75% 35%, 85% 45%, 80% 60%, 90% 70%, 85% 85%, 70% 90%, 50% 100%,
        30% 90%, 15% 85%, 10% 70%, 20% 60%, 15% 45%, 25% 35%, 20% 20%, 30% 10%, 40% 15%
      );
      opacity: 0.1;
      pointer-events: none;
    }
  }
  
  /* Comic book action burst */
  .action-burst {
    position: relative;
    &::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 150%;
      height: 150%;
      background: conic-gradient(
        from 0deg,
        transparent 0deg, rgba(255,255,255,0.05) 15deg, transparent 30deg,
        transparent 45deg, rgba(255,255,255,0.05) 60deg, transparent 75deg,
        transparent 90deg, rgba(255,255,255,0.05) 105deg, transparent 120deg,
        transparent 135deg, rgba(255,255,255,0.05) 150deg, transparent 165deg,
        transparent 180deg, rgba(255,255,255,0.05) 195deg, transparent 210deg,
        transparent 225deg, rgba(255,255,255,0.05) 240deg, transparent 255deg,
        transparent 270deg, rgba(255,255,255,0.05) 285deg, transparent 300deg,
        transparent 315deg, rgba(255,255,255,0.05) 330deg, transparent 345deg
      );
      pointer-events: none;
      z-index: 0;
    }
  }
  
  /* Apply grit to sidebar automatically */
  [class*="sidebar"] {
    background-blend-mode: multiply;
    position: relative;
    /* Apply crosshatch pattern manually */
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        repeating-linear-gradient(45deg, transparent, transparent 2px, rgba(255,255,255,0.03) 2px, rgba(255,255,255,0.03) 3px),
        repeating-linear-gradient(-45deg, transparent, transparent 2px, rgba(255,255,255,0.03) 2px, rgba(255,255,255,0.03) 3px);
      pointer-events: none;
      z-index: 1;
    }
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: var(--paper-texture);
      opacity: 0.03;
      pointer-events: none;
      mix-blend-mode: screen;
      z-index: 2;
    }
  }
  
  /* Apply texture to all panels */
  .panel {
    box-shadow: var(--shadow-noir-md);
    position: relative;
    /* Apply paper texture and torn edges manually */
    background-image: var(--paper-texture);
    background-blend-mode: multiply;
    filter: contrast(110%) brightness(98%);
    clip-path: polygon(
      3% 2%, 8% 0%, 15% 3%, 22% 1%, 30% 2%, 38% 0%, 45% 3%, 52% 1%, 60% 2%, 68% 0%, 75% 3%, 82% 1%, 90% 2%, 95% 0%, 98% 3%,
      100% 8%, 97% 15%, 100% 22%, 98% 30%, 100% 38%, 97% 45%, 100% 52%, 98% 60%, 100% 68%, 97% 75%, 100% 82%, 98% 90%, 100% 95%,
      97% 98%, 92% 100%, 85% 97%, 78% 100%, 70% 98%, 62% 100%, 55% 97%, 48% 100%, 40% 98%, 32% 100%, 25% 97%, 18% 100%, 10% 98%, 5% 100%, 2% 97%,
      0% 92%, 3% 85%, 0% 78%, 2% 70%, 0% 62%, 3% 55%, 0% 48%, 2% 40%, 0% 32%, 3% 25%, 0% 18%, 2% 10%, 0% 5%
    );
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════════════ */
/* MORAL CORRUPTION VISUAL DECAY SYSTEM */
/* ═══════════════════════════════════════════════════════════════════════════════════════ */

/* Corruption Level 1: Subtle red vignette (20-40) */
.corruption-low::before {
  content: '';
  position: fixed;
  inset: 0;
  z-index: 9998;
  pointer-events: none;
  background: radial-gradient(ellipse at center, transparent 50%, rgba(139, 0, 0, 0.15) 100%);
  animation: pulse-vignette 10s ease-in-out infinite;
}

/* Corruption Level 2: Cracks and occasional glitch (40-60) */
.corruption-medium::before {
  content: '';
  position: fixed;
  inset: 0;
  z-index: 9998;
  pointer-events: none;
  background: 
    radial-gradient(ellipse at center, transparent 40%, rgba(139, 0, 0, 0.25) 100%),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25'%3E%3Cdefs%3E%3Cfilter id='crack'%3E%3CfeTurbulence baseFrequency='0.02' numOctaves='1' /%3E%3CfeColorMatrix values='0 0 0 0 0.5 0 0 0 0 0 0 0 0 0 0 0 0 0 20 -10'/%3E%3C/filter%3E%3C/defs%3E%3Crect width='100%25' height='100%25' filter='url(%23crack)' opacity='0.1'/%3E%3C/svg%3E");
  animation: pulse-vignette 6s ease-in-out infinite;
}

.corruption-medium {
  animation: occasional-glitch 8s infinite;
}

/* Corruption Level 3: Heavy distortion and blood (60-80) */
.corruption-high::before {
  content: '';
  position: fixed;
  inset: 0;
  z-index: 9998;
  pointer-events: none;
  background: 
    radial-gradient(ellipse at center, transparent 30%, rgba(139, 0, 0, 0.4) 100%),
    repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(139, 0, 0, 0.03) 2px, rgba(139, 0, 0, 0.03) 4px);
  animation: heavy-corruption 3s ease-in-out infinite;
}

.corruption-high {
  animation: frequent-glitch 4s infinite;
}

/* Corruption Level 4: Full corruption (80-100) */
.corruption-extreme::before {
  content: '';
  position: fixed;
  inset: 0;
  z-index: 9998;
  pointer-events: none;
  background: 
    radial-gradient(ellipse at center, transparent 20%, rgba(139, 0, 0, 0.6) 100%),
    repeating-linear-gradient(90deg, rgba(139, 0, 0, 0) 0, rgba(0, 0, 0, 0.5) 50%, rgba(139, 0, 0, 0) 100%);
  animation: extreme-corruption 1s ease-in-out infinite;
}

.corruption-extreme::after {
  content: '';
  position: fixed;
  inset: 0;
  z-index: 9997;
  pointer-events: none;
  background: linear-gradient(180deg, 
    transparent 0%, 
    rgba(139, 0, 0, 0.1) 20%,
    rgba(139, 0, 0, 0.2) 80%,
    rgba(139, 0, 0, 0.4) 100%);
  animation: blood-drip-overlay 5s ease-in-out infinite;
}

.corruption-extreme {
  animation: constant-glitch 0.5s infinite;
}

/* Glitch effect when active */
.glitch-active {
  animation: glitch-effect 0.3s linear;
}

/* Blood money text effect */
.blood-money {
  color: #DC143C;
  text-shadow: 
    0 0 10px rgba(220, 20, 60, 0.8),
    0 2px 4px rgba(139, 0, 0, 0.9);
  animation: blood-pulse 2s ease-in-out infinite;
  position: relative;
}

.blood-money.dripping::after {
  content: '';
  position: absolute;
  bottom: -5px;
  left: 50%;
  transform: translateX(-50%);
  width: 2px;
  height: 10px;
  background: linear-gradient(180deg, #DC143C, transparent);
  animation: text-drip 2s ease-in-out;
}

/* Corruption animations */
@keyframes pulse-vignette {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

@keyframes occasional-glitch {
  0%, 94%, 100% { transform: translate(0); filter: none; }
  95% { transform: translate(-2px, 1px); filter: hue-rotate(90deg) saturate(2); }
  96% { transform: translate(2px, -1px); filter: invert(1); }
  97% { transform: translate(0); filter: hue-rotate(180deg); }
}

@keyframes frequent-glitch {
  0%, 89%, 100% { transform: translate(0); filter: none; opacity: 1; }
  90% { transform: translate(-3px, 2px) skew(0.5deg); filter: hue-rotate(90deg) saturate(3); opacity: 0.9; }
  92% { transform: translate(3px, -2px) skew(-0.5deg); filter: invert(1); opacity: 0.95; }
  94% { transform: translate(-1px, 1px); filter: hue-rotate(180deg) brightness(1.5); }
  96% { transform: translate(1px, -1px); filter: brightness(2) contrast(2); }
}

@keyframes constant-glitch {
  0% { transform: translate(0); filter: none; }
  10% { transform: translate(-1px, 1px) skew(0.2deg); filter: hue-rotate(15deg); }
  20% { transform: translate(1px, -1px) skew(-0.2deg); filter: brightness(1.2); }
  30% { transform: translate(-2px, 0) skew(0.3deg); filter: hue-rotate(-15deg) saturate(1.5); }
  40% { transform: translate(0, 1px); filter: invert(0.1); }
  50% { transform: translate(2px, -1px) skew(-0.3deg); filter: hue-rotate(5deg) brightness(0.9); }
  60% { transform: translate(-1px, 2px); filter: saturate(2) contrast(1.2); }
  70% { transform: translate(0, -1px) skew(0.1deg); filter: hue-rotate(-5deg); }
  80% { transform: translate(1px, 0); filter: brightness(1.1) contrast(0.9); }
  90% { transform: translate(-1px, 1px) skew(-0.1deg); filter: saturate(1.2); }
  100% { transform: translate(0); filter: none; }
}

@keyframes heavy-corruption {
  0%, 100% { filter: contrast(1) brightness(1); }
  25% { filter: contrast(1.1) brightness(0.95) hue-rotate(2deg); }
  50% { filter: contrast(0.9) brightness(1.05) hue-rotate(-2deg); }
  75% { filter: contrast(1.05) brightness(0.98) saturate(1.2); }
}

@keyframes extreme-corruption {
  0% { filter: contrast(1) brightness(1) saturate(1); }
  33% { filter: contrast(1.5) brightness(0.8) saturate(2) hue-rotate(5deg); }
  66% { filter: contrast(0.7) brightness(1.2) saturate(0.5) hue-rotate(-5deg); }
  100% { filter: contrast(1) brightness(1) saturate(1); }
}

@keyframes blood-drip-overlay {
  0%, 90%, 100% { opacity: 0; }
  95% { opacity: 0.3; }
}

@keyframes glitch-effect {
  0%, 100% { transform: translate(0); filter: none; }
  20% { transform: translate(-2px, 2px); filter: hue-rotate(90deg); }
  40% { transform: translate(-2px, -2px); filter: hue-rotate(180deg); }
  60% { transform: translate(2px, 2px); filter: hue-rotate(270deg); }
  80% { transform: translate(2px, -2px); filter: hue-rotate(360deg); }
}

@keyframes text-drip {
  0% { height: 0; opacity: 1; }
  100% { height: 30px; opacity: 0; transform: translateX(-50%) translateY(20px); }
}

@keyframes blood-pulse {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.3) saturate(1.5); }
}

/* Shake animation for victim notifications */
.animate-shake-once {
  animation: shake-once 0.8s ease-out;
}

@keyframes shake-once {
  0%, 100% { transform: translateX(0); }
  10% { transform: translateX(-10px); }
  20% { transform: translateX(10px); }
  30% { transform: translateX(-10px); }
  40% { transform: translateX(10px); }
  50% { transform: translateX(-5px); }
  60% { transform: translateX(5px); }
  70% { transform: translateX(-2px); }
  80% { transform: translateX(2px); }
}

