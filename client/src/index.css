/* NOIR BRUTALIST TYPOGRAPHY - FRANK MILLER/ALAN MOORE VISUAL LANGUAGE */
@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700;800;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600;700;800;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700;800;900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ═══════════════════════════════════════════════════════════════════════════════════════ */
/* FRANK MILLER/ALAN MOORE NOIR SYSTEM - BRUTAL BLACK & WHITE WITH BLOOD */
/* ═══════════════════════════════════════════════════════════════════════════════════════ */

:root {
  /* NOIR CORE PALETTE - NO MERCY, NO COMPROMISE */
  --background: 0 0% 0%; /* #000000 - Pure void black */
  --foreground: 0 0% 100%; /* #FFFFFF - Harsh stark white */
  
  --border: 0 0% 100%; /* Pure white borders - stark contrast */
  
  --card: 0 0% 2%; /* #050505 - Slightly elevated black */
  --card-foreground: 0 0% 95%; /* Off-white for readability */
  --card-border: 0 0% 100%; /* Stark white borders */
  
  --sidebar: 0 0% 0%; /* Absolute black */
  --sidebar-foreground: 0 0% 90%; /* Slightly dimmed white */
  --sidebar-border: 0 0% 100%; /* White boundary */
  --sidebar-primary: 0 100% 27%; /* #8B0000 - Dried blood */
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 0 0% 10%; /* Dark gray accent */
  --sidebar-accent-foreground: 0 0% 100%;
  --sidebar-ring: 45 100% 50%; /* #FFD700 - Sickly yellow */
  
  --popover: 0 0% 0%; /* Pure black popover */
  --popover-foreground: 0 0% 100%;
  --popover-border: 0 0% 100%;
  
  --primary: 0 100% 27%; /* #8B0000 - Dark blood red */
  --primary-foreground: 0 0% 100%;
  
  --secondary: 0 0% 10%; /* Near black gray */
  --secondary-foreground: 0 0% 100%;
  
  --muted: 0 0% 5%; /* Very dark gray */
  --muted-foreground: 0 0% 70%; /* Gray text */
  
  --accent: 45 100% 50%; /* #FFD700 - Watchmen yellow */
  --accent-foreground: 0 0% 0%;
  
  --destructive: 0 72% 51%; /* #DC143C - Crimson blood */
  --destructive-foreground: 0 0% 100%;
  
  --input: 0 0% 0%;
  --ring: 0 100% 27%;
  
  /* Chart colors - only black, white, red */
  --chart-1: 0 0% 100%; /* White */
  --chart-2: 0 100% 27%; /* Blood red */
  --chart-3: 0 0% 20%; /* Dark gray */
  --chart-4: 45 100% 50%; /* Sickly yellow */
  --chart-5: 0 0% 40%; /* Medium gray */
  
  /* BRUTAL SHADOW SYSTEM - ANGULAR NOIR SHADOWS */
  --shadow-noir-sm: 5px 5px 0px rgba(0, 0, 0, 1);
  --shadow-noir-md: 10px 10px 0px rgba(0, 0, 0, 1);
  --shadow-noir-lg: 15px 15px 0px rgba(0, 0, 0, 1), 20px 20px 20px rgba(0, 0, 0, 0.8);
  --shadow-noir-xl: 20px 20px 0px rgba(0, 0, 0, 1), 30px 30px 30px rgba(0, 0, 0, 0.7);
  --shadow-noir-2xl: 30px 30px 0px rgba(0, 0, 0, 1), 40px 40px 40px rgba(0, 0, 0, 0.6);
  
  /* DRAMATIC LAYERED SHADOWS */
  --shadow-brutal: 10px 10px 20px rgba(0, 0, 0, 0.9), 20px 20px 40px rgba(0, 0, 0, 0.7);
  --shadow-blood: 10px 10px 20px rgba(139, 0, 0, 0.9), 20px 20px 40px rgba(139, 0, 0, 0.5);
  --shadow-void: 0px 0px 30px rgba(0, 0, 0, 1) inset;
  
  /* Typography scales */
  --font-weight-heavy: 900;
  --font-weight-brutal: 800;
  --font-weight-stark: 700;
  --font-weight-bold: 600;
  
  --letter-spacing-brutal: 0.15em;
  --letter-spacing-stark: 0.1em;
  --letter-spacing-tight: 0.05em;
  
  /* Border widths for brutal panels */
  --border-brutal: 4px;
  --border-stark: 3px;
  --border-heavy: 2px;
  
  /* Texture and grit variables */
  --ink-splatter: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='turbulence' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.1'/%3E%3C/svg%3E");
  --grain-texture: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='grain'%3E%3CfeTurbulence baseFrequency='0.9' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23grain)' opacity='0.05'/%3E%3C/svg%3E");
  
  /* Remove ALL border radius - BRUTAL RECTANGLES ONLY */
  --radius: 0;
  
  /* House colors - all converted to noir palette */
  --house-heroes-primary: 0 100% 27%; /* Blood red */
  --house-heroes-primary-foreground: 0 0% 100%;
  --house-heroes-secondary: 0 0% 10%;
  --house-heroes-accent: 45 100% 50%;
  --house-heroes-background: 0 0% 0%;
  --house-heroes-card: 0 0% 5%;
  --house-heroes-border: 0 0% 100%;
  
  --house-wisdom-primary: 0 0% 20%; /* Dark gray */
  --house-wisdom-primary-foreground: 0 0% 100%;
  --house-wisdom-secondary: 0 0% 0%;
  --house-wisdom-accent: 0 0% 30%;
  --house-wisdom-background: 0 0% 0%;
  --house-wisdom-card: 0 0% 5%;
  --house-wisdom-border: 0 0% 100%;
  
  --house-power-primary: 0 0% 15%; /* Near black */
  --house-power-primary-foreground: 0 0% 100%;
  --house-power-secondary: 0 0% 5%;
  --house-power-accent: 45 100% 50%;
  --house-power-background: 0 0% 0%;
  --house-power-card: 0 0% 3%;
  --house-power-border: 0 0% 100%;
  
  --house-mystery-primary: 0 0% 10%;
  --house-mystery-primary-foreground: 0 0% 90%;
  --house-mystery-secondary: 0 0% 0%;
  --house-mystery-accent: 0 100% 27%;
  --house-mystery-background: 0 0% 0%;
  --house-mystery-card: 0 0% 2%;
  --house-mystery-border: 0 0% 80%;
  
  --house-elements-primary: 0 100% 27%; /* Blood */
  --house-elements-primary-foreground: 0 0% 100%;
  --house-elements-secondary: 0 0% 5%;
  --house-elements-accent: 45 100% 50%;
  --house-elements-background: 0 0% 0%;
  --house-elements-card: 0 0% 3%;
  --house-elements-border: 0 0% 100%;
  
  --house-time-primary: 0 0% 0%; /* Void black */
  --house-time-primary-foreground: 0 0% 100%;
  --house-time-secondary: 0 0% 5%;
  --house-time-accent: 0 100% 27%;
  --house-time-background: 0 0% 0%;
  --house-time-card: 0 0% 2%;
  --house-time-border: 0 0% 100%;
  
  --house-spirit-primary: 0 0% 20%;
  --house-spirit-primary-foreground: 0 0% 100%;
  --house-spirit-secondary: 0 0% 10%;
  --house-spirit-accent: 45 100% 50%;
  --house-spirit-background: 0 0% 0%;
  --house-spirit-card: 0 0% 3%;
  --house-spirit-border: 0 0% 90%;
  
  /* All border radius removed */
  --house-heroes-panel-radius: 0px;
  --house-wisdom-panel-radius: 0px;
  --house-power-panel-radius: 0px;
  --house-mystery-panel-radius: 0px;
  --house-elements-panel-radius: 0px;
  --house-time-panel-radius: 0px;
  --house-spirit-panel-radius: 0px;
  
  /* Brutal borders */
  --house-heroes-panel-border: 4px;
  --house-wisdom-panel-border: 3px;
  --house-power-panel-border: 4px;
  --house-mystery-panel-border: 2px;
  --house-elements-panel-border: 4px;
  --house-time-panel-border: 3px;
  --house-spirit-panel-border: 3px;
  
  /* Dramatic shadows */
  --house-heroes-shadow: var(--shadow-blood);
  --house-wisdom-shadow: var(--shadow-brutal);
  --house-power-shadow: var(--shadow-noir-xl);
  --house-mystery-shadow: var(--shadow-void);
  --house-elements-shadow: var(--shadow-blood);
  --house-time-shadow: var(--shadow-brutal);
  --house-spirit-shadow: var(--shadow-noir-lg);
  
  /* Typography - heavy weights only */
  --font-sans: 'Space Grotesk', system-ui, sans-serif;
  --font-display: 'Oswald', system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', ui-monospace, monospace;
  
  /* Remove all elevation effects */
  --elevate-1: rgba(255, 255, 255, 0);
  --elevate-2: rgba(255, 255, 255, 0);
  
  --button-outline: rgba(255, 255, 255, 1);
  --badge-outline: rgba(255, 255, 255, 1);
  --opaque-button-border-intensity: 0;
  
  /* Computed borders */
  --primary-border: hsl(var(--primary));
  --secondary-border: hsl(var(--secondary));
  --muted-border: hsl(var(--muted));
  --accent-border: hsl(var(--accent));
  --destructive-border: hsl(var(--destructive));
  --sidebar-primary-border: hsl(var(--sidebar-primary));
  --sidebar-accent-border: hsl(var(--sidebar-accent));
  
  --font-comic-display: 'Oswald', sans-serif;
  --font-comic-speech: 'JetBrains Mono', monospace;
  --font-comic-thought: 'JetBrains Mono', monospace;
  --font-comic-action: 'Oswald', sans-serif;
  --font-comic-narrative: 'Space Grotesk', monospace;
  --font-comic-horror: 'Oswald', sans-serif;
  
  --comic-panel-gutter: 12px;
  --comic-panel-border: 4px;
  
  --tracking-normal: 0.05em;
  --spacing: 0.5rem;
}

/* Dark mode - even darker */
.dark {
  --background: 0 0% 0%; /* Absolute black */
  --foreground: 0 0% 95%; /* Slightly off-white */
  
  --card: 0 0% 1%; /* Near black */
  --card-foreground: 0 0% 90%;
  
  --primary: 0 72% 51%; /* Brighter blood in dark */
  --destructive: 0 100% 40%; /* Darker blood */
  
  /* Everything else stays brutal */
}

@layer base {
  * {
    @apply border-border;
    /* Remove ALL border radius */
    border-radius: 0 !important;
  }
  
  body {
    @apply font-sans antialiased bg-background text-foreground;
    font-family: var(--font-sans);
    font-weight: 400;
    letter-spacing: 0.02em;
    position: relative;
    /* Add grain texture to body */
    &::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: var(--grain-texture);
      opacity: 0.05;
      pointer-events: none;
      z-index: 1;
      mix-blend-mode: multiply;
    }
  }
  
  /* Heavy typography */
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
    font-weight: var(--font-weight-heavy);
    letter-spacing: var(--letter-spacing-stark);
    text-transform: uppercase;
  }
  
  h1 {
    font-weight: 900;
    letter-spacing: var(--letter-spacing-brutal);
  }
  
  h2 {
    font-weight: 800;
    letter-spacing: var(--letter-spacing-stark);
  }
  
  h3, h4 {
    font-weight: 700;
    letter-spacing: var(--letter-spacing-tight);
  }
  
  .font-display {
    font-family: var(--font-display);
    font-weight: 800;
    letter-spacing: 0.1em;
  }
  
  .font-trading {
    font-family: var(--font-mono);
    font-weight: 600;
    font-variant-numeric: tabular-nums;
  }
}

/* BRUTAL ELEVATION SYSTEM - NO SOFT TRANSITIONS */
@layer utilities {
  /* Remove all soft hover effects */
  .hover-elevate {
    transition: none !important;
    &:hover {
      background-color: rgba(255, 255, 255, 0.1) !important;
      transform: none !important;
    }
  }
  
  .active-elevate-2 {
    transition: none !important;
    &:active {
      background-color: rgba(255, 255, 255, 0.2) !important;
      transform: none !important;
    }
  }
  
  .toggle-elevate {
    transition: none !important;
  }
  
  .toggle-elevated {
    background-color: rgba(255, 255, 255, 0.1) !important;
  }
  
  /* NOIR SHADOWS */
  .shadow-noir-sm {
    box-shadow: var(--shadow-noir-sm) !important;
  }
  
  .shadow-noir-md {
    box-shadow: var(--shadow-noir-md) !important;
  }
  
  .shadow-noir-lg {
    box-shadow: var(--shadow-noir-lg) !important;
  }
  
  .shadow-noir-xl {
    box-shadow: var(--shadow-noir-xl) !important;
  }
  
  .shadow-noir-2xl {
    box-shadow: var(--shadow-noir-2xl) !important;
  }
  
  .shadow-brutal {
    box-shadow: var(--shadow-brutal) !important;
  }
  
  .shadow-blood {
    box-shadow: var(--shadow-blood) !important;
  }
  
  .shadow-void {
    box-shadow: var(--shadow-void) !important;
  }
  
  /* TEXTURE EFFECTS */
  .texture-grain {
    position: relative;
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: var(--grain-texture);
      opacity: 0.1;
      pointer-events: none;
      mix-blend-mode: multiply;
    }
  }
  
  .texture-ink {
    position: relative;
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: var(--ink-splatter);
      opacity: 0.15;
      pointer-events: none;
      mix-blend-mode: multiply;
    }
  }
  
  /* TORN EDGES */
  .torn-edge-top {
    clip-path: polygon(0 0, 100% 0, 100% 95%, 95% 100%, 90% 95%, 85% 100%, 80% 95%, 75% 100%, 70% 95%, 65% 100%, 60% 95%, 55% 100%, 50% 95%, 45% 100%, 40% 95%, 35% 100%, 30% 95%, 25% 100%, 20% 95%, 15% 100%, 10% 95%, 5% 100%, 0 95%);
  }
  
  .torn-edge-bottom {
    clip-path: polygon(0 5%, 5% 0, 10% 5%, 15% 0, 20% 5%, 25% 0, 30% 5%, 35% 0, 40% 5%, 45% 0, 50% 5%, 55% 0, 60% 5%, 65% 0, 70% 5%, 75% 0, 80% 5%, 85% 0, 90% 5%, 95% 0, 100% 5%, 100% 100%, 0 100%);
  }
  
  /* BRUTAL BORDERS */
  .border-brutal {
    border-width: var(--border-brutal) !important;
  }
  
  .border-stark {
    border-width: var(--border-stark) !important;
  }
  
  .border-heavy {
    border-width: var(--border-heavy) !important;
  }
  
  /* OPPRESSIVE SPACING */
  .space-void {
    margin: 4rem 0;
  }
  
  .space-dread {
    margin: 6rem 0;
  }
  
  .space-abyss {
    margin: 8rem 0;
  }
}

/* Override all component styles to be brutal */
@layer components {
  /* Cards as brutal comic panels */
  [class*="card"] {
    border-radius: 0 !important;
    border: var(--border-brutal) solid white !important;
    box-shadow: var(--shadow-brutal) !important;
    transition: none !important;
  }
  
  /* Buttons - brutal rectangles */
  button, [role="button"], [class*="button"] {
    border-radius: 0 !important;
    transition: none !important;
    font-weight: 700 !important;
    letter-spacing: 0.05em !important;
    text-transform: uppercase !important;
    border: 2px solid currentColor !important;
    &:hover {
      background-color: white !important;
      color: black !important;
    }
  }
  
  /* Forms - interrogation documents */
  input, textarea, select {
    border-radius: 0 !important;
    border: 2px solid white !important;
    background: black !important;
    color: white !important;
    font-weight: 600 !important;
    &:focus {
      outline: 3px solid var(--accent) !important;
      outline-offset: 0 !important;
    }
  }
  
  /* Dialogs and modals */
  [role="dialog"], [class*="modal"], [class*="dialog"] {
    border-radius: 0 !important;
    border: 4px solid white !important;
    box-shadow: var(--shadow-noir-2xl) !important;
  }
  
  /* Remove all smooth animations */
  *, *::before, *::after {
    animation-timing-function: linear !important;
    transition: none !important;
  }
}

/* Chart overrides - only black, white, red */
@layer utilities {
  [class*="recharts"] {
    & [class*="line"] {
      stroke: white !important;
      stroke-width: 2 !important;
    }
    & [class*="area"] {
      fill: var(--primary) !important;
      stroke: var(--primary) !important;
    }
    & [class*="bar"] {
      fill: white !important;
    }
    & [class*="pie"] {
      stroke: black !important;
      stroke-width: 2 !important;
    }
  }
}

/* VOID CONSUMING DARKNESS */
.void-top {
  background: linear-gradient(to bottom, black 0%, transparent 100%);
  height: 200px;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  pointer-events: none;
  z-index: 10;
}

.void-bottom {
  background: linear-gradient(to top, black 0%, transparent 100%);
  height: 200px;
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  pointer-events: none;
  z-index: 10;
}

/* BLOOD SPLATTER ACCENT */
.blood-splatter {
  position: relative;
  &::before {
    content: '';
    position: absolute;
    top: -20px;
    right: -20px;
    width: 100px;
    height: 100px;
    background: radial-gradient(circle at 30% 30%, var(--primary) 0%, transparent 70%);
    transform: rotate(45deg);
    opacity: 0.8;
  }
}

/* Remove focus rings - use stark outlines instead */
*:focus {
  outline: 2px solid white !important;
  outline-offset: 2px !important;
  border-radius: 0 !important;
}

/* Scrollbar styling - brutal and stark */
::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

::-webkit-scrollbar-track {
  background: black;
  border: 1px solid white;
}

::-webkit-scrollbar-thumb {
  background: white;
  border: 1px solid black;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--accent);
}

/* Selection colors */
::selection {
  background: var(--primary);
  color: white;
}

::-moz-selection {
  background: var(--primary);
  color: white;
}