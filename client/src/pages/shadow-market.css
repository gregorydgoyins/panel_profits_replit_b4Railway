/* Shadow Market Dark Theme & Glitch Effects */

:root {
  --glitch-intensity: 0;
  --blood-red: #8b0000;
  --corruption-purple: #4a0080;
  --shadow-black: #0a0a0a;
  --soul-blue: #001f3f;
}

.shadow-market-container {
  background: linear-gradient(
    135deg,
    var(--shadow-black) 0%,
    #1a0000 25%,
    var(--shadow-black) 50%,
    #0a000f 75%,
    var(--shadow-black) 100%
  );
  animation: darkPulse 10s ease-in-out infinite;
}

/* Corruption level backgrounds */
.corruption-20 { filter: hue-rotate(10deg) saturate(1.1); }
.corruption-40 { filter: hue-rotate(20deg) saturate(1.3) contrast(1.1); }
.corruption-60 { filter: hue-rotate(40deg) saturate(1.5) contrast(1.2) brightness(0.9); }
.corruption-80 { filter: hue-rotate(60deg) saturate(2) contrast(1.4) brightness(0.8); }

/* Glitch text effect */
.glitch-text {
  position: relative;
  text-shadow: 
    0.05em 0 0 rgba(255, 0, 0, 0.75),
    -0.025em -0.05em 0 rgba(0, 255, 0, 0.75),
    0.025em 0.05em 0 rgba(0, 0, 255, 0.75);
  animation: glitch 2s infinite;
}

.glitch-text::before,
.glitch-text::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.glitch-text::before {
  animation: glitch-1 0.5s infinite;
  color: #ff0000;
  z-index: -1;
}

.glitch-text::after {
  animation: glitch-2 0.5s infinite;
  color: #00ff00;
  z-index: -2;
}

@keyframes glitch {
  0%, 100% { text-shadow: 
    0.05em 0 0 rgba(255, 0, 0, 0.75),
    -0.05em -0.025em 0 rgba(0, 255, 0, 0.75),
    0.025em 0.05em 0 rgba(0, 0, 255, 0.75);
  }
  14% { text-shadow: 
    0.05em 0 0 rgba(255, 0, 0, 0.75),
    -0.05em -0.025em 0 rgba(0, 255, 0, 0.75),
    0.025em 0.05em 0 rgba(0, 0, 255, 0.75);
  }
  15% { text-shadow: 
    -0.05em -0.025em 0 rgba(255, 0, 0, 0.75),
    0.025em 0.025em 0 rgba(0, 255, 0, 0.75),
    -0.05em -0.05em 0 rgba(0, 0, 255, 0.75);
  }
  49% { text-shadow: 
    -0.05em -0.025em 0 rgba(255, 0, 0, 0.75),
    0.025em 0.025em 0 rgba(0, 255, 0, 0.75),
    -0.05em -0.05em 0 rgba(0, 0, 255, 0.75);
  }
  50% { text-shadow: 
    0.025em 0.05em 0 rgba(255, 0, 0, 0.75),
    0.05em 0 0 rgba(0, 255, 0, 0.75),
    0 -0.05em 0 rgba(0, 0, 255, 0.75);
  }
  99% { text-shadow: 
    0.025em 0.05em 0 rgba(255, 0, 0, 0.75),
    0.05em 0 0 rgba(0, 255, 0, 0.75),
    0 -0.05em 0 rgba(0, 0, 255, 0.75);
  }
}

@keyframes glitch-1 {
  0%, 100% { clip: rect(42px, 9999px, 44px, 0); transform: skew(0.5deg); }
  5% { clip: rect(12px, 9999px, 59px, 0); transform: skew(0.5deg); }
  10% { clip: rect(48px, 9999px, 29px, 0); transform: skew(0.5deg); }
  15% { clip: rect(42px, 9999px, 73px, 0); transform: skew(0.5deg); }
  20% { clip: rect(63px, 9999px, 27px, 0); transform: skew(0.5deg); }
  25% { clip: rect(34px, 9999px, 55px, 0); transform: skew(0.5deg); }
  30% { clip: rect(86px, 9999px, 73px, 0); transform: skew(0.5deg); }
  35% { clip: rect(20px, 9999px, 20px, 0); transform: skew(0.5deg); }
  40% { clip: rect(26px, 9999px, 60px, 0); transform: skew(0.5deg); }
  45% { clip: rect(25px, 9999px, 66px, 0); transform: skew(0.5deg); }
  50% { clip: rect(57px, 9999px, 98px, 0); transform: skew(0.5deg); }
}

@keyframes glitch-2 {
  0%, 100% { clip: rect(65px, 9999px, 119px, 0); transform: skew(-0.5deg); }
  5% { clip: rect(80px, 9999px, 9px, 0); transform: skew(-0.5deg); }
  10% { clip: rect(71px, 9999px, 86px, 0); transform: skew(-0.5deg); }
  15% { clip: rect(26px, 9999px, 78px, 0); transform: skew(-0.5deg); }
  20% { clip: rect(33px, 9999px, 20px, 0); transform: skew(-0.5deg); }
  25% { clip: rect(46px, 9999px, 56px, 0); transform: skew(-0.5deg); }
  30% { clip: rect(32px, 9999px, 7px, 0); transform: skew(-0.5deg); }
  35% { clip: rect(59px, 9999px, 66px, 0); transform: skew(-0.5deg); }
  40% { clip: rect(31px, 9999px, 61px, 0); transform: skew(-0.5deg); }
  45% { clip: rect(23px, 9999px, 98px, 0); transform: skew(-0.5deg); }
  50% { clip: rect(11px, 9999px, 100px, 0); transform: skew(-0.5deg); }
}

/* Glitch overlay */
.glitch-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0) 0px,
    rgba(255, 0, 0, 0.03) 1px,
    rgba(0, 0, 0, 0) 2px,
    rgba(0, 0, 0, 0) 3px
  );
  pointer-events: none;
  animation: scanlines 8s linear infinite;
  opacity: calc(var(--glitch-intensity) * 0.5);
}

@keyframes scanlines {
  0% { transform: translateY(0); }
  100% { transform: translateY(10px); }
}

/* Glitching numbers */
.glitch-number {
  animation: numberGlitch 3s infinite;
  display: inline-block;
}

@keyframes numberGlitch {
  0%, 90%, 100% { transform: none; filter: none; }
  91% { transform: translateX(-2px) scaleX(1.1); filter: hue-rotate(90deg); }
  92% { transform: translateX(2px) scaleY(0.9); filter: hue-rotate(-90deg); }
  93% { transform: translateY(-2px); filter: invert(1); }
  94% { transform: translateY(2px) translateX(-2px); filter: none; }
}

/* Blood particle effect */
.blood-particle {
  position: absolute;
  width: 4px;
  height: 4px;
  background: radial-gradient(circle, var(--blood-red) 0%, transparent 70%);
  border-radius: 50%;
  pointer-events: none;
  z-index: 100;
}

@keyframes bloodDrip {
  0% {
    transform: translateY(0) scale(1);
    opacity: 0.8;
  }
  50% {
    transform: translateY(100px) scale(1.5);
    opacity: 0.6;
  }
  100% {
    transform: translateY(300px) scale(0.5);
    opacity: 0;
  }
}

/* Digital whispers */
.digital-whispers {
  position: fixed;
  bottom: 20px;
  left: 20px;
  max-width: 300px;
  pointer-events: none;
  z-index: 50;
}

.whisper-text {
  color: rgba(255, 255, 255, 0.1);
  font-family: monospace;
  font-size: 12px;
  margin-bottom: 5px;
  animation: whisperFade 5s ease-out forwards;
  text-shadow: 0 0 5px rgba(255, 0, 0, 0.3);
}

@keyframes whisperFade {
  0% { opacity: 0; transform: translateX(-10px); }
  10% { opacity: 0.3; transform: translateX(0); }
  90% { opacity: 0.3; }
  100% { opacity: 0; }
}

/* Shadow corrupt cards */
.shadow-corrupt {
  background: linear-gradient(
    135deg,
    rgba(139, 0, 0, 0.1) 0%,
    rgba(0, 0, 0, 0.8) 50%,
    rgba(74, 0, 128, 0.1) 100%
  );
  box-shadow: 
    0 0 20px rgba(139, 0, 0, 0.3),
    inset 0 0 20px rgba(0, 0, 0, 0.5);
  border: 1px solid rgba(139, 0, 0, 0.3);
  animation: corruptPulse 4s ease-in-out infinite;
}

@keyframes corruptPulse {
  0%, 100% { 
    box-shadow: 
      0 0 20px rgba(139, 0, 0, 0.3),
      inset 0 0 20px rgba(0, 0, 0, 0.5);
  }
  50% { 
    box-shadow: 
      0 0 40px rgba(139, 0, 0, 0.5),
      inset 0 0 30px rgba(74, 0, 128, 0.3);
  }
}

/* Dark pulse background animation */
@keyframes darkPulse {
  0%, 100% { 
    background-size: 100% 100%;
    filter: brightness(1);
  }
  25% { 
    background-size: 110% 110%;
    filter: brightness(0.9) hue-rotate(10deg);
  }
  50% { 
    background-size: 105% 105%;
    filter: brightness(1.1);
  }
  75% { 
    background-size: 115% 115%;
    filter: brightness(0.8) hue-rotate(-10deg);
  }
}

/* Glitch badge */
.glitch-badge {
  animation: badgeGlitch 5s infinite;
  background: linear-gradient(45deg, var(--blood-red), var(--corruption-purple));
  border: none;
}

@keyframes badgeGlitch {
  0%, 95%, 100% { transform: none; }
  96% { transform: skewX(5deg); }
  97% { transform: skewX(-5deg) scaleY(0.9); }
  98% { transform: translateX(3px); }
  99% { transform: translateX(-3px) scaleX(1.1); }
}

/* Shadow slider custom styling */
.shadow-slider {
  --slider-track: rgba(139, 0, 0, 0.3);
  --slider-range: linear-gradient(90deg, var(--blood-red), var(--corruption-purple));
  --slider-thumb: var(--blood-red);
}

/* Chromatic aberration effect */
.shadow-market-container > * {
  animation: chromaticAberration 10s infinite;
}

@keyframes chromaticAberration {
  0%, 90%, 100% { 
    text-shadow: none;
    filter: none;
  }
  91% {
    text-shadow: 
      -2px 0 #ff0000,
      2px 0 #00ffff;
  }
  92% {
    text-shadow: 
      2px 0 #ff0000,
      -2px 0 #00ffff;
  }
  93% {
    text-shadow: 
      -2px 0 #00ff00,
      2px 0 #ff00ff;
  }
}

/* Hover effects for shadow elements */
.shadow-corrupt:hover {
  animation-duration: 0.5s;
  border-color: rgba(255, 0, 0, 0.6);
  transform: scale(1.02);
  transition: all 0.3s ease;
}

/* Loading animation for shadow data */
@keyframes shadowLoad {
  0% { opacity: 0.2; transform: translateY(5px); }
  50% { opacity: 0.5; transform: translateY(-5px); }
  100% { opacity: 0.2; transform: translateY(5px); }
}

.shadow-loading {
  animation: shadowLoad 2s ease-in-out infinite;
}